(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8010],{8010:function(ct,S,d){"use strict";d.d(S,{sg:function(){return S0},yi:function(){return A0},aC:function(){return I0},x1:function(){return N0},Kj:function(){return Y0},Ex:function(){return U0},Fk:function(){return K0},TZ:function(){return q0},m:function(){return um},cQ:function(){return hm},kB:function(){return pm}});var m={};d.r(m),d.d(m,{Base:function(){return Sa},Circle:function(){return jb},Ellipse:function(){return Zb},Image:function(){return $b},Line:function(){return Jb},Marker:function(){return ew},Path:function(){return nf},Polygon:function(){return cw},Polyline:function(){return dw},Rect:function(){return mw},Text:function(){return bw}});var I={};d.r(I),d.d(I,{Canvas:function(){return tv},Event:function(){return br.Event},Group:function(){return tf},Shape:function(){return m},__esModule:function(){return ww.X},version:function(){return Aw}});var k={};d.r(k),d.d(k,{Base:function(){return ya},Circle:function(){return kw},Dom:function(){return Bw},Ellipse:function(){return Fw},Image:function(){return Nw},Line:function(){return Yw},Marker:function(){return Xw},Path:function(){return Hw},Polygon:function(){return jw},Polyline:function(){return Zw},Rect:function(){return qw},Text:function(){return aS}});var L={};d.r(L),d.d(L,{Canvas:function(){return uv},Event:function(){return br.Event},Group:function(){return of},Shape:function(){return k},version:function(){return TS}});var P={};d.r(P),d.d(P,{Chart:function(){return Z1},ComponentController:function(){return Xo},DIRECTION:function(){return St},Event:function(){return en},Facet:function(){return jr},Geometry:function(){return Za},GeometryLabel:function(){return Qs},Interaction:function(){return Wa},InteractionAction:function(){return ye},LAYER:function(){return yt},Types:function(){return Cb},Util:function(){return $v},VERSION:function(){return Mb},View:function(){return Xu},getActionClass:function(){return Gr},getAnimation:function(){return Hu},getEngine:function(){return at},getFacet:function(){return jt},getGeometryLabel:function(){return Mc},getGeometryLabelLayout:function(){return Ec},getInteraction:function(){return _a},getShapeFactory:function(){return ju},getTheme:function(){return gt},registerAction:function(){return Ne},registerAnimation:function(){return wi},registerComponentController:function(){return An},registerEngine:function(){return Q},registerFacet:function(){return Zt},registerGeometry:function(){return wa},registerGeometryLabel:function(){return ds},registerGeometryLabelLayout:function(){return Mo},registerInteraction:function(){return Wn},registerShape:function(){return _n},registerShapeFactory:function(){return so},registerTheme:function(){return kt}});var T={};d.r(T),d.d(T,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var O={};d.r(O),d.d(O,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var D={};d.r(D),d.d(D,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var N={};d.r(N),d.d(N,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var z={};d.r(z),d.d(z,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var W={};d.r(W),d.d(W,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var X={};d.r(X),d.d(X,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var j={};d.r(j),d.d(j,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var tt={};d.r(tt),d.d(tt,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var K={};d.r(K),d.d(K,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var wt={};d.r(wt),d.d(wt,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var ot={};d.r(ot),d.d(ot,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var vt={};d.r(vt),d.d(vt,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var et={};d.r(et),d.d(et,{calculationItemsBBox:function(){return ym},cloneEvent:function(){return $l},formatPadding:function(){return Th},isNaN:function(){return eo},isViewportChanged:function(){return gm},processParallelEdges:function(){return fR}});var lt={};d.r(lt),d.d(lt,{getColorsWithSubjectColor:function(){return Em},mixColor:function(){return Da}});var dt={};d.r(dt),d.d(dt,{Line:function(){return Do},applyMatrix:function(){return ks},distance:function(){return _s},floydWarshall:function(){return kh},fractionToLine:function(){return Fh},getAdjMatrix:function(){return _h},getBBoxBoundLine:function(){return Dh},getCircleCenterByPoints:function(){return Oh},getCircleIntersectByPoint:function(){return Gm},getDegree:function(){return eu},getEllipseIntersectByPoint:function(){return Ym},getLineIntersect:function(){return Os},getPointsCenter:function(){return Um},getRectIntersectByPoint:function(){return Nm},intersectBBox:function(){return Wm},invertMatrix:function(){return zm},isPointInPolygon:function(){return Bs},isPointsOverlap:function(){return Rh},isPolygonsIntersect:function(){return Bh},itemIntersectByLine:function(){return jm},move:function(){return Hm},pointLineSquareDist:function(){return Zm},pointRectSquareDist:function(){return Km},rotate:function(){return HR},scale:function(){return VR},scaleMatrix:function(){return Xm},squareDist:function(){return ru},translate:function(){return Vm}});var it={};d.r(it),d.d(it,{getClosedSpline:function(){return Nh},getControlPoint:function(){return nu},getSpline:function(){return $m},paddedHull:function(){return rx},pathToPoints:function(){return iu},pointsToPolygon:function(){return Qm},roundedHull:function(){return ex}});var At={};d.r(At),d.d(At,{getBBox:function(){return ou},getChartRegion:function(){return p3},getComboBBox:function(){return Vh},getLabelPosition:function(){return su},getLetterWidth:function(){return px},getLoopCfgs:function(){return cx},getTextSize:function(){return gx},plainCombosToTrees:function(){return zh},radialLayout:function(){return dx},reconstructTree:function(){return Xh},traverseTree:function(){return Ji},traverseTreeUp:function(){return xa}});var mt={};d.r(mt),d.d(mt,{adjMatrix:function(){return Cu},breadthFirstSearch:function(){return i9},degree:function(){return $x},depthFirstSearch:function(){return I1},detectAllCycles:function(){return s9},detectAllDirectedCycle:function(){return B1},detectAllUndirectedCycle:function(){return _1},detectDirectedCycle:function(){return l9},findAllPath:function(){return v9},findShortestPath:function(){return c9},floydWarshall:function(){return t1},getConnectedComponents:function(){return k1},getPageRank:function(){return S9},minimumSpanningTree:function(){return b9}});var U=d(67294),V=d(45687),B=d(70655),f=d(49242),yt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(yt||(yt={}));var St;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(St||(St={}));var Rt;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(Rt||(Rt={}));var Qt={FORE:3,MID:2,BG:1},zt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(zt||(zt={}));var $t;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})($t||($t={}));var ne;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(ne||(ne={}));var ae=["color","shape","size"],Wt="_origin",It=1,Ct=1,ht=.25,Et={};function at(i){var r=Et[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function Q(i,r){Et[i]=r}var bt=d(6056),Ot=d(45442);function Vt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function ue(i){return typeof i=="number"&&!isNaN(i)}function Se(i,r,t,e){var n=t,a=e;if(r){var o=Vt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(ue(n)?n:It,It),height:Math.max(ue(a)?a:Ct,Ct)}}function Re(i){var r=i.parentNode;r&&r.removeChild(i)}var We=d(90494),mr=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(We.default),wr=mr,br=d(39014),zr=d(28014),pr=d(24796),an=d(21392),Tn=d(13541),rn=d(51082),Mn=d(51441),Si=Mn.Axis.Line,Ti=Mn.Axis.Circle,Di=Mn.Grid.Line,Vi=Mn.Grid.Circle,Xt=Mn.Legend.Category,Kt=Mn.Legend.Continuous,oe=Mn.Tooltip.Html,he=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function be(i){var r="linear";return he.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function Ee(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,rn.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",be(a[0])),s=(0,rn.getScale)(o);return new s((0,B.__assign)({field:i,values:a},t))}function Pe(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Oe(i){return i.alias||i.field}var me=d(31437);function rr(i){var r,t;switch(i){case St.TOP:r={x:0,y:1},t={x:1,y:1};break;case St.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case St.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case St.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Xe(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function fr(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=rr(r):i.isPolar&&(t=Xe(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function Pr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function vr(i){var r=i.start,t=i.end;return r.x===t.x}function Er(i,r){var t=i.start,e=i.end,n=vr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function xr(i,r){return(0,f.get)(i,["components","axis",r],{})}function Br(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?me.angle(o,s):me.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function ur(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function Yr(i,r){return(0,f.get)(i,"position",r)}function Jr(i,r){return(0,f.get)(r,["title","text"],Oe(i))}var jr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(yt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=ur(s,u),v=ur(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),Qr={},jt=function(i){return Qr[(0,f.lowerCase)(i)]},Zt=function(i,r){Qr[(0,f.lowerCase)(i)]=r},ee=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),ye=ee,Ce=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(ye),Le=Ce,tr={};function sr(i,r){var t=tr[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Gr(i){var r=tr[i];return(0,f.get)(r,"ActionClass")}function Ne(i,r,t){tr[i]={ActionClass:r,cfg:t}}function Lr(i){delete tr[i]}function bn(i,r){var t=new Le(r);return t.callback=i,t.name="callback",t}function On(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function vn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function wn(i,r,t,e,n,a){a===void 0&&(a=0);var o=vn(i,r,t,e),s=vn(i,r,t,n),l=vn(i,r,a,e),u=vn(i,r,a,n);if(n-e==Math.PI*2){var h=vn(i,r,t,e+Math.PI),c=vn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=n-e<=Math.PI?0:1,C=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&C.push(["A",a,a,0,g,0,l.x,l.y]),C.push(["L",o.x,o.y]),C.push(["Z"]),C}function fi(i,r,t,e,n){var a=vn(i,r,t,e),o=vn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=vn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function si(i,r){var t=i.points,e=On(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function bi(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Gn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Hi(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function Wi(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Pt(i,r){return r.forEach(function(t){delete i[t]}),i}function xt(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function nt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function ft(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Bt(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Ut(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Hi(r.x,e.x,n.x)&&Hi(r.y,e.y,n.y)}else{var a=i.invert(r);t=Hi(a.x,0,1)&&Hi(a.y,0,1)}return t}function ce(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function de(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:wn(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,g=wn(l.x,l.y,u+r,o,v);return{path:g}},attrs:{path:wn(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function pe(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function ze(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Qe(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),C=Bt(t,g);if(C>=.5)if(h===Math.PI*2){var _={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convert(_);l.push(["A",C,C,0,v,c,F.x,F.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function Ue(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Sr=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=me.min([0,0],l,v),u=me.max([0,0],u,v)}l=me.min([0,0],l,e[0]),u=me.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=me.sub(C,o,a),C=me.scale(C,C,r);var _=me.distance(v,a),F=me.distance(v,o),Y=_+F;Y!==0&&(_/=Y,F/=Y);var G=me.scale([0,0],C,-_),$=me.scale([0,0],C,F),J=me.add([0,0],v,G),pt=me.add([0,0],v,$);s&&(J=me.max([0,0],J,l),J=me.min([0,0],J,u),pt=me.max([0,0],pt,l),pt=me.min([0,0],pt,u)),n.push(J),n.push(pt)}return t&&n.push(n.shift()),n};function dr(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Sr(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function Ve(i,r){return pe(i,r)}function Dr(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return Ve(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=dr(e,r,u);return h.unshift(["M",n.x,n.y]),h}function qr(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(ze(e,i));break;case"z":default:t.push(e);break}}),t}function hn(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(ze(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Qe(e,n,i)):t.push(ze(s,i));break;case"z":default:t.push(s);break}}),Ue(t),t}var ln=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case St.TOP:case St.TOP_LEFT:case St.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case St.RIGHT:case St.RIGHT_TOP:case St.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case St.BOTTOM:case St.BOTTOM_LEFT:case St.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case St.LEFT:case St.LEFT_TOP:case St.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Or=function(i,r){var t=r.start,e=r.end;return new ln(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function hr(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var un=d(70146);function Yn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function $n(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function hi(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function Mt(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function st(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Z(i){return i&&i.component&&i.component.isList()}function rt(i){return i&&i.component&&i.component.isSlider()}function Tt(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Nt(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=$n(i,r);return e?He(i.view,e):void 0}var n=Yn(i,r);return n?ar(i.view,n):null}function ie(i,r,t){var e=Yn(i,t);if(!e)return null;var n=i.view,a=nn(n,r,{x:e.x,y:e.y}),o=nn(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return ar(r,s)}function re(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(re(e))}),t}function le(i,r,t){var e=re(i);return e.filter(function(n){return Ie(n,r)===t})}function _e(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Ie(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function Fe(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function ar(i,r){var t=re(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();Fe(r,o)&&e.push(n)}),e}function lr(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function He(i,r){var t=re(i),e=lr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=lr(o.attr("path"));else{var l=o.getCanvasBBox();s=hr(l)}return(0,un.default)(e,s)});return n}function Fr(i){return i.getComponents().map(function(r){return r.component})}function Rr(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function tn(i,r){if(i.length<=2)return Ve(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=dr(e,r,null);return n.unshift(["M",t.x,t.y]),n}function on(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function gr(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function cr(i,r){var t=i.getCoordinate();return t.invert(r)}function nn(i,r,t){var e=cr(i,t);return r.getCoordinate().convert(e)}function zn(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function Qn(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=Qn(e,r),t)return!1}),t}var oa=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Fr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&on(a,e):on(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),Oa=oa,zo=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),Wa=zo;function ao(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||sr(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function ka(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Pi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},So=function(i){(0,B.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new Oa(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:bn(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=ao(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(ao(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Pi.SHOW_ENABLE)return!0;if(t===Pi.PROCESSING)return e===Pi.START;if(t===Pi.START)return e!==Pi.PROCESSING;if(t===Pi.END)return e===Pi.PROCESSING||e===Pi.START;if(t===Pi.ROLLBACK){if(n[Pi.END])return e===Pi.END;if(e===Pi.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Pi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,ka(c)}):(a.event=h,ka(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(Wa),Co=So,ja={};function _a(i){return ja[(0,f.lowerCase)(i)]}function Wn(i,r){ja[(0,f.lowerCase)(i)]=r}function oo(i,r,t){var e=_a(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new Co(r,n)}else{var a=e;return new a(r,t)}}var di=d(7755),Xn=d(31506);function Ua(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=si(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,g=v*Math.cos(c),C=v*Math.sin(c);return{matrix:Xn.transform(null,[["t",g,C]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,B.__assign)((0,B.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,B.__assign)((0,B.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,B.__assign)((0,B.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,B.__assign)((0,B.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,B.__assign)((0,B.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,B.__assign)((0,B.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,B.__assign)((0,B.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,B.__assign)((0,B.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+di.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+di.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+di.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+di.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+di.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+di.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var Bn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Fi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Gt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ut=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],R={backgroundColor:"transparent",brandColor:Gt[0],paletteQualitative10:Gt,paletteQualitative20:ut,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Bn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Bn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Bn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Bn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Bn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Bn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Bn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Gt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Bn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Bn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Bn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Bn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Bn[25],annotationArcBorderColor:Bn[15],annotationArcBorder:.5,annotationLineBorderColor:Bn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Bn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Fi[95],annotationTextBorder:1.5,annotationRegionFillColor:Bn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Bn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Bn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Bn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Fi[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Bn[25],pointFillColor:Gt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Fi[100],pointBorderOpacity:1,pointActiveBorderColor:Bn[100],pointSelectedBorder:2,pointSelectedBorderColor:Bn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Gt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Fi[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Bn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Bn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Gt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Gt[0],areaFillOpacity:.25,areaActiveFillColor:Gt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Gt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Gt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Bn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Bn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Gt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Bn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Bn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Gt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Fi[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Bn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Bn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},H=Ua(R),q={default:H};function gt(i){return(0,f.get)(q,(0,f.lowerCase)(i),q.default)}function kt(i,r){q[(0,f.lowerCase)(i)]=(0,f.deepMix)({},q.default,r)}function Yt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function te(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function se(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[Wt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var xe=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Ae(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function je(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(ae,t.type)})}function qe(i){for(var r=je(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function Ar(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Kr(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=qe(r);return Oe(a)}function Vr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),g=Infinity,C=0;C<r.length;C++){var _=r[C],F=_[Wt],Y=Math.pow(F[o]-c,2)+Math.pow(F[s]-v,2);Y<g&&(g=Y,l=_)}return l}var G=r[0],$=r[r.length-1],J=te(i,t),pt=G[Wt][o],_t=G[Wt][s],Ft=$[Wt][o],Ht=a.isLinear&&(0,f.isArray)(_t);if((0,f.isArray)(pt)){for(var C=0;C<r.length;C++){var Dt=r[C],F=Dt[Wt];if(n.translate(F[o][0])<=J&&n.translate(F[o][1])>=J)if(Ht)(0,f.isArray)(l)||(l=[]),l.push(Dt);else{l=Dt;break}}(0,f.isArray)(l)&&(l=se(l,i,t))}else{var qt=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var C=0;C<r.length;C++){var Dt=r[C],F=Dt[Wt];if(Yt(F[o],J,n))if(Ht)(0,f.isArray)(l)||(l=[]),l.push(Dt);else{l=Dt;break}else n.translate(F[o])<=J&&($=Dt,qt=r[C+1])}(0,f.isArray)(l)&&(l=se(l,i,t))}else{if((J>n.translate(Ft)||J<n.translate(pt))&&(J>n.max||J<n.min))return null;for(var ve=0,fe=r.length-1,Te=void 0;ve<=fe;){Te=Math.floor((ve+fe)/2);var De=r[Te][Wt][o];if(Yt(De,J,n))return r[Te];n.translate(De)<=n.translate(J)?(ve=Te+1,$=r[Te],qt=r[Te+1]):(fe===0&&($=r[0]),fe=Te-1)}}$&&qt&&Math.abs(n.translate($[Wt][o])-J)>Math.abs(n.translate(qt[Wt][o])-J)&&($=qt)}var ke=xe(t.getXScale());return!l&&Math.abs(n.translate($[Wt][o])-J)<=ke/2&&(l=$),l}function En(i,r,t){t===void 0&&(t="");var e=i[Wt],n=Ae(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(_t,Ft){if(!(0,f.isNil)(Ft)&&Ft!==""){var Ht={title:n,data:e,mappingData:i,name:_t,value:Ft,color:i.color||o,marker:!0};s.push(Ht)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var g=c.map(function(_t){return i[Wt][_t]}),C=v.apply(void 0,g),_=(0,B.__assign)({data:i[Wt],mappingData:i,title:n,color:i.color||o,marker:!0},C);s.push(_)}else for(var F=r.scales,Y=0,G=c;Y<G.length;Y++){var $=G[Y];if(!(0,f.isNil)(e[$])){var J=F[$];l=Oe(J),u=J.getText(e[$]),h(l,u)}}}else{var pt=qe(r);(0,f.isNil)(e[pt.field])||(u=Ar(e,pt),l=Kr(e,r),h(l,u))}return s}var Pn={};function An(i,r){Pn[i]=r}function Lt(i){delete Pn[i]}function Jt(){return Object.keys(Pn)}function ge(i){return Pn[i]}var we=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,B.__assign)({start:r,end:t},a),l=(0,Tn.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,B.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Ye=we,yr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),en=yr;function Vn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function Li(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,B.__spreadArrays)(r,r);break;case 3:r=(0,B.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var sa=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case St.TOP:case St.TOP_LEFT:case St.TOP_RIGHT:this.top+=n;break;case St.RIGHT:case St.RIGHT_TOP:case St.RIGHT_BOTTOM:this.right+=e;break;case St.BOTTOM:case St.BOTTOM_LEFT:case St.BOTTOM_RIGHT:this.bottom+=n;break;case St.LEFT:case St.LEFT_TOP:case St.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ha(i){var r=i.padding;if(!Vn(r))return Li(r);var t=i.viewBBox,e=i.autoPadding,n=new sa;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===Rt.GRID||u===Rt.TOOLTIP)){var h=l.getLayoutBBox(),c=new ln(h.x,h.y,h.width,h.height);if(u===Rt.AXIS){var v=c.exceed(t);n.shrink(v)}else{var g=s.direction;n.inc(c,g)}}});var a=n.getPadding();if(e){var o=Li(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function vs(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ha(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(Li(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var j1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=Ee(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Pe(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),dc=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=Jt(),e.scalePool=new j1,e.layoutFunc=vs,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(F){var Y=F.name;if(!Y.includes(":")){var G=e.createViewEvent(F);e.doPlotEvent(G),e.emit(Y,G)}},e.onDelegateEvents=function(F){var Y=F.name;if(!!Y.includes(":")){var G=e.createViewEvent(F);e.emit(Y,G)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,g=t.theme,C=t.options,_=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,B.__assign)((0,B.__assign)({},e.options),C),e.limitInPlot=_,e.themeObject=(0,f.isObject)(g)?(0,f.deepMix)({},gt("default"),g):gt(g),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Ye(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(zt.BEFORE_RENDER),this.paint(t),this.emit(zt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(zt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(zt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(zt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=jt(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,B.__assign)((0,B.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):gt(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=oo(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(zt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(zt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,B.__assign)((0,B.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Qt.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Qt.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Qt.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,B.__assign)((0,B.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===yt.BG?this.backgroundGroup:t===yt.MID?this.middleGroup:t===yt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return Ut(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return xt((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=Vr(t,v,s),u&&n.push(u)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var C=g[a],_=C.getSnapRecords(t);n=n.concat(_)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(zt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(zt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;Vn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=de(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,B.__assign)((0,B.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new ln(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new ln(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=ge(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new en(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=$t.MOUSE_LEAVE,this.emit($t.MOUSE_LEAVE,t)),t.type=$t.LEAVE,this.emit($t.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=$t.MOUSE_ENTER,this.emit($t.MOUSE_ENTER,t)),t.type=$t.ENTER,this.emit($t.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=$t.MOUSE_LEAVE,this.emit($t.MOUSE_LEAVE,t)),t.type=$t.LEAVE,this.emit($t.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],g=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();xt(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();xt(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,B.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var g=1,C=0;ft(n)?n.isTransposed?(g=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),C=1/c*g,v=[C/2,1-C/2]):v=[0,1-1/c]:(C=1/c/2,v=[C,1-C])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var g=0;g<o.length;g++){var C=o[g],_=C.type,F=C.cfg;this.interaction(_,F)}for(var Y=0;Y<l.length;Y++){var G=l[Y];this.createView(G)}for(var $=this.getController("annotation"),J=0;J<h.length;J++){var pt=h[J];$.annotation(pt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(wr);function wa(i,r){dc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,B.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Xu=dc,U1=function(i){(0,B.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,g=t.pixelRatio,C=t.localRefresh,_=C===void 0?!0:C,F=t.visible,Y=F===void 0?!0:F,G=t.defaultInteractions,$=G===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:G,J=t.options,pt=t.limitInPlot,_t=t.theme,Ft=(0,f.isString)(n)?document.getElementById(n):n,Ht=(0,bt.Z)('<div style="position:relative;"></div>');Ft.appendChild(Ht);var Dt=Se(Ft,l,a,o),qt=at(v),ve=new qt.Canvas((0,B.__assign)({container:Ht,pixelRatio:g,localRefresh:_},Dt));return e=i.call(this,{parent:null,canvas:ve,backgroundGroup:ve.addGroup({zIndex:Qt.BG}),middleGroup:ve.addGroup({zIndex:Qt.MID}),foregroundGroup:ve.addGroup({zIndex:Qt.FORE}),padding:u,appendPadding:h,visible:Y,options:J,limitInPlot:pt,theme:_t})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Ft,e.canvas=ve,e.width=Dt.width,e.height=Dt.height,e.autoFit=l,e.localRefresh=_,e.renderer=v,e.wrapperElement=Ht,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions($),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Re(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Se(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Xu),Z1=U1,Xo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),pc=0,K1=1/2,$1=1/2,Q1=.05,J1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=pc)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[pc,1]}return a},i}(),Us=J1,gc={},yc=function(i){return gc[i.toLowerCase()]},Zs=function(i,r){if(yc(i))throw new Error("Adjust type '"+i+"' existed.");gc[i.toLowerCase()]=r},da=d(99350),q1=function(i){(0,da.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?K1:n,o=t.dodgeRatio,s=o===void 0?$1:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,C=t.maxColumnWidth,_=t.minColumnWidth,F=t.columnWidthRatio,Y=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=C,e.minColumnWidth=_,e.columnWidthRatio=F,e.customOffset=Y,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),f.each(h,function(g){var C=g[t],_=l[C],F=_.indexOf(a);if(f.isNil(s))g[t]=o.getDodgeOffset(v,F,_.length);else{var Y=v.pre,G=v.next;g[t]=f.isFunction(s)?s(g,v):(Y+G)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,g;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var C=this.getIntervalOnlyOffset(n,e);g=h+C}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var C=this.getDodgeOnlyOffset(n,e);g=h+C}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var C=this.getIntervalAndDodgeOffset(n,e);g=h+C}else{var _=v*o/n,F=s*_,C=1/2*(v-n*_-(n-1)*F)+((e+1)*_+e*F)-1/2*_-1/2*v;g=(h+c)/2+C}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=(1-(l-1)*g)/l*u/(t-1),_=((1-g*(l-1))/l-C*(t-1))/t;if(_=f.isNil(v)?_:1/l/t*v,!f.isNil(h)){var F=h/s;_=Math.min(_,F)}if(!f.isNil(c)){var Y=c/s;_=Math.max(_,Y)}_=a?a/s:_,C=((1-(l-1)*g)/l-t*_)/(t-1);var G=((1/2+e)*_+e*C+1/2*g)*l-g/2;return G},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=1*u/(l-1),_=((1-C*(l-1))/l-g*(t-1))/t;if(_=v?1/l/t*v:_,!f.isNil(h)){var F=h/s;_=Math.min(_,F)}if(!f.isNil(c)){var Y=c/s;_=Math.max(_,Y)}_=a?a/s:_,C=(1-(_*t+g*(t-1))*l)/(l-1);var G=((1/2+e)*_+e*g+1/2*C)*l-C/2;return G},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(Us),tb=q1;function eb(i,r){return(r-i)*Math.random()+i}var rb=function(i){(0,da.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*Q1;return eb(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Us),nb=rb,Vu=f.Cache,ib=function(i){(0,da.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Vu,u=new Vu;return s.map(function(h){return h.map(function(c){var v,g=f.get(c,n,0),C=f.get(c,[a]),_=g.toString();if(C=f.isArray(C)?C[1]:C,!f.isNil(C)){var F=C>=0?l:u;F.has(_)||F.set(_,0);var Y=F.get(_),G=C+Y;return F.set(_,G),(0,da.__assign)((0,da.__assign)({},c),(v={},v[a]=[Y,G],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new Vu;return u.map(function(c){return c.map(function(v){var g,C=e.size,_=v[a],F=C*2/o;h.has(_)||h.set(_,F/2);var Y=h.get(_);return h.set(_,Y+F),(0,da.__assign)((0,da.__assign)({},v),(g={},g[l]=Y,g))})})},r}(Us),ab=ib,ob=function(i){(0,da.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,g=h[o],C=h[a];if(f.isArray(g)){var _=(l-s[C])/2;return(0,da.__assign)((0,da.__assign)({},h),(c={},c[o]=f.map(g,function(Y){return _+Y}),c))}var F=(l-g)/2;return(0,da.__assign)((0,da.__assign)({},h),(v={},v[o]=[F,g+F],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(Us),sb=ob;Zs("Dodge",tb),Zs("Jitter",nb),Zs("Stack",ab),Zs("Symmetric",sb);var mc={};function Hu(i){return mc[i.toLowerCase()]}function wi(i,r){mc[i.toLowerCase()]=r}var Vo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},lb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},xc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function ub(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function bc(i,r,t){var e=lb[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Vo,e),t)?e[t]:e}function Ho(i,r,t){var e=(0,f.get)(i.get("origin"),"data",Wt),n=r.animation,a=ub(r,e);if(n){var o=Hu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function fb(i,r,t,e,n){if(xc[t]){var a=xc[t](e),o=Hu((0,f.get)(a,"animation",""));if(o){var s=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},Vo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var hb=d(31207),cb=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Ho(n,a,{coordinate:e.coordinate,toAttrs:(0,B.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(C){n.syncShapeStyle(u,v,C,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,hb.propagationDelegate)(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&Ho(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,B.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Gn(t,e);this.animate?a?Ho(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(wr),wc=cb,Sc={},Cc={};function Mc(i){return Sc[i.toLowerCase()]}function ds(i,r){Sc[i.toLowerCase()]=r}function Ec(i){return Cc[i.toLowerCase()]}function Mo(i,r){Cc[i.toLowerCase()]=r}var Ks=d(57350),vb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},db={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,Ks.parsePathString)(i);return r.isPolar?t=hn(r,t):t=qr(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},Wu={};function so(i,r){var t=(0,f.upperFirst)(i),e=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},vb),r),{geometryType:i});return Wu[t]=e,e}function _n(i,r,t){var e=(0,f.upperFirst)(i),n=Wu[e],a=(0,B.__assign)((0,B.__assign)({},db),t);return n[r]=a,a}function ju(i){var r=(0,f.upperFirst)(i);return Wu[r]}function pb(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Ac(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function ps(i){return(0,f.isArray)(i)?i:i.split("*")}function gb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var yb=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,g=t.scales,C=g===void 0?{}:g,_=t.scaleDefs,F=_===void 0?{}:_;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=C,e.scaleDefs=F,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:ps(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=ps(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=ps(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=ps(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},bc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,g=this.type,C=this.coordinate,_=(0,f.get)(this.animateOption,"appear"),F=this.getYScale(),Y=C.convert({x:0,y:F.scale(this.getYMinValue())});fb(v,_,g,C,Y)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(G){G.animate=e.animateOption,G.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,B.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){ae.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[Wt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var g;o==="interval"||o==="schema"?g=v:o==="line"||o==="area"||o==="path"?g=o:g=v+"-"+c;for(var C=this.groupScales,a=0,_=C.length;a<_;a++){var F=C[a],Y=F.field;g=g+"-"+e[Y]}var G=this.getAdjust("dodge");if(G){var $=G.dodgeBy;$&&(g=g+"-"+e[$])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?xt(u.fields,t,e):u.values&&xt(u.values,t,e)}return o&&o.fields&&xt(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&xt(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=ae.length;n<a;n++){var o=ae[n],s=this.attributeOption[o];s&&s.fields&&xt(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Wt][n])-e.translate(l[Wt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!ju(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(ju(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new wc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Wt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var g=o[v];if(!g)g=this.createElement(c,n);else{var C=this.getDrawCfg(c),_=g.getModel();(this.isCoordinateChanged||Ac(C,_))&&(g.animate=this.animateOption,g.update(C)),delete o[v]}l.push(g),s[v]=g}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=ps(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var C=(0,B.__assign)({},g),_=C.callback,F=C.values,Y=C.fields,G=Y===void 0?[]:Y,$=G.map(function(pt){var _t=t.scales[pt];return _t.isCategory&&!l[pt]&&ae.includes(v)&&(t.groupScales.push(_t),l[pt]=!0),_t});C.scales=$,v!=="position"&&$.length===1&&$[0].type==="identity"?C.values=$[0].values:!_&&!F&&(v==="size"?C.values=o.sizes:v==="shape"?C.values=o.shapes[s]||[]:v==="color"&&($.length?C.values=$[0].values.length<=10?o.colors10:o.colors20:C.values=o.colors10));var J=(0,an.getAttribute)(v);n[v]=new J(C)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(pt){return pt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var g=u[c],C={};for(var _ in g)C[_]=g[_];C[Wt]=g;for(var F=0,Y=n;F<Y.length;F++){var G=Y[F],$=G.field;C[$]=G.translate(C[$])}h.push(C)}o.push(h)}var J=this.adjustData(o);return this.beforeMappingData=J,J},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,B.__assign)({xField:s,yField:l},c),g=c.type;if(g==="dodge"){var C=[];if(a.isCategory||a.type==="identity")C.push("x");else if(!o)C.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=C,v.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var _=this.coordinate;if(!o){v.height=_.getHeight();var F=this.getDefaultValue("size")||3;v.size=F}!_.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var Y=yc(g),G=new Y(v);n=G.process(n),this.adjusts[g]=G}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return pb(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,g={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Wt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var g=c[v],C=h[v];s[C]=(0,f.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var C=n[g];s=l.convert({x:e,y:C}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var _=e[g];s=l.convert({x:_,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var F=l.convert({x:e,y:n});a=F.x,o=F.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=Mc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=gb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],g=v.getChildren(),C=0;C<g.length;C++){var _=g[C];_.cfg.name=["element","label"],_.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(wr),Za=yb,$s=Xn.transform;function Uu(i,r,t){var e=$s(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Tc(i,r){var t=i.attr(),e=t.x,n=t.y,a=$s(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function sG(){return[1,0,0,0,1,0,0,0,1]}function mb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=$s(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var xb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,g){if(v.destroyed)delete c[g];else{if(h[g]){var C=v.get("data"),_=v.get("origin"),F=v.get("coordinate"),Y=h[g],G=v.get("animateCfg");Y.set("data",C),Y.set("origin",_),Y.set("animateCfg",G),Y.set("coordinate",F);var $=(0,f.get)(G,"update"),J=Y.getChildren();v.getChildren().map(function(_t,Ft){var Ht=J[Ft];Ht.set("data",C),Ht.set("origin",_),Ht.set("animateCfg",G),Ht.set("coordinate",F);var Dt=Gn(Ht,_t);$?Ho(Ht,$,{toAttrs:Dt,coordinate:F}):Ht.attr(Dt)}),n.shapesMap[g]=Y}else{a.add(v);var pt=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");pt&&Ho(v,pt,{toAttrs:(0,B.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,f.each)(h,function(v){var g=(0,f.get)(v.get("animateCfg"),"leave");g?Ho(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,B.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,C=v.height,_=(0,f.get)(r,"textAlign","left"),F=r.x,Y=r.y-C/2;_==="center"?F=F-g/2:(_==="right"||_==="end")&&(F=F-g),Uu(l,F,Y),c=l,h.add(l)}else c=h.addShape("text",(0,B.__assign)({attrs:(0,B.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Tc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=Ec((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=vn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,B.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),bb=xb;function wb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var Sb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,B.__assign)((0,B.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(_,F){var Y=_;return(0,f.isArray)(Y)&&(r.content.length===1?Y.length<=2?Y=Y[_.length-1]:Y=wb(Y):Y=Y[F]),Y}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=bi(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),g=n.convert(h[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),g=n.convert(c[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var C=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=C.x,s.y+=C.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Wt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new bb({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?bc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,g=h.cfg,C=c.map(function(F){return l[F]}),_=[];return(0,f.each)(r,function(F,Y){var G=F[Wt],$=t.getLabelText(G,C),J;if(v){var pt=c.map(function(Ht){return G[Ht]});if(J=v.apply(void 0,pt),(0,f.isNil)(J)){_.push(null);return}}var _t=(0,B.__assign)((0,B.__assign)({id:t.getLabelId(F),data:G,mappingData:F,coordinate:u},g),J),Ft=_t.content;(0,f.isFunction)(Ft)?_t.content=Ft(G,F,Y):(0,f.isUndefined)(Ft)&&(_t.content=$[0]),(0,f.isFunction)(_t.position)&&(_t.position=_t.position(G,F,Y)),a==="polygon"||_t.offset<0&&!["line","point","path"].includes(a)?_t=(0,f.deepMix)({},n,o.innerLabels,_t):_t=(0,f.deepMix)({},n,o.labels,_t),_.push(_t)}),_},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),Qs=Sb,Cb=d(66002),Mb="4.0.15",Eo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ni={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},pa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Eb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Ab={backgroundColor:"#141414",brandColor:pa[0],paletteQualitative10:pa,paletteQualitative20:Eb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:ni[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:ni[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:ni[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:ni[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:ni[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:ni[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:ni[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:pa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ni[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:ni[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ni[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Eo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Eo[25],annotationArcBorderColor:ni[15],annotationArcBorder:.5,annotationLineBorderColor:ni[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:ni[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Eo[95],annotationTextBorder:1.5,annotationRegionFillColor:ni[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ni[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:ni[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ni[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Eo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:ni[25],pointFillColor:pa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Eo[100],pointBorderOpacity:1,pointActiveBorderColor:ni[100],pointSelectedBorder:2,pointSelectedBorderColor:ni[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:pa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Eo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ni[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ni[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:pa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:pa[0],areaFillOpacity:.25,areaActiveFillColor:pa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:pa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:pa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ni[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ni[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:pa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ni[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ni[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:pa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Eo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ni[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ni[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Ri=d(73890),Nn=d(21830),Js=d(46812),Ni=d(66631),Zn=d(27154),Tb=d(9217),Pb=d(5253),lG=d(39984),Lb=d(98229),Ib=d(35755);function Ob(){return window?window.devicePixelRatio:1}function Pc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function Ao(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Zu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function kb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Lc(i,r){return i[0]===r[0]&&i[1]===r[1]}var uG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,fG=/[^\s\,]+/gi,_b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Bb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Db=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ic=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Oc(i,r){var t=i.match(Ic);(0,Zn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Fb(i,r,t){var e=_b.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,g=i.createLinearGradient(s.x,s.y,c,v);return Oc(a,g),g}function Rb(i,r,t){var e=Bb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ic);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,g=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return Oc(s,g),g}function Nb(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Db.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function Gb(i,r,t){if((0,Nn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Fb(i,r,t);if(t[0]==="r")return Rb(i,r,t);if(t[0]==="p")return Nb(i,r,t)}return t}}function Yb(i){var r=0,t=0,e=0,n=0;return(0,Ni.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function qs(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Ku(i,r){return qs(i)*qs(r)?(i[0]*r[0]+i[1]*r[1])/(qs(i)*qs(r)):1}function kc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(Ku(i,r))}function _c(i,r){var t=r[1],e=r[2],n=(0,Pb.default)((0,Tb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,g=c*c/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var C=t*t*(v*v)+e*e*(c*c),_=C?Math.sqrt((t*t*(e*e)-C)/C):1;a===o&&(_*=-1),isNaN(_)&&(_=0);var F=e?_*t*v/e:0,Y=t?_*-e*c/t:0,G=(s+u)/2+Math.cos(n)*F-Math.sin(n)*Y,$=(l+h)/2+Math.sin(n)*F+Math.cos(n)*Y,J=[(c-F)/t,(v-Y)/e],pt=[(-1*c-F)/t,(-1*v-Y)/e],_t=kc([1,0],J),Ft=kc(J,pt);return Ku(J,pt)<=-1&&(Ft=Math.PI),Ku(J,pt)>=1&&(Ft=0),o===0&&Ft>0&&(Ft=Ft-2*Math.PI),o===1&&Ft<0&&(Ft=Ft+2*Math.PI),{cx:G,cy:$,rx:Lc(i,[u,h])?0:t,ry:Lc(i,[u,h])?0:e,startAngle:_t,endAngle:_t+Ft,xRotation:n,arcFlag:a,sweepFlag:o}}var tl=Math.sin,el=Math.cos,$u=Math.atan2,rl=Math.PI;function Bc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=$u(h,u),v=new nf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*el(rl/6)+","+10*tl(rl/6)+" L0,0 L"+10*el(rl/6)+",-"+10*tl(rl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Dc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,g=c.fill,C=c.stroke,_=c.lineWidth,F=(0,B.__rest)(c,["d","fill","stroke","lineWidth"]),Y=t-n,G=e-a,$=$u(G,Y);v&&(n=n-el($)*v,a=a-tl($)*v);var J=new nf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,B.__assign)((0,B.__assign)({},F),{stroke:C||u,lineWidth:_||h,fill:g})});J.translate(n,a),J.rotateAtPoint(n,a,$),i.set(o?"startArrowShape":"endArrowShape",J)}function To(i,r,t,e,n){var a=$u(e-r,t-i);return{dx:el(a)*n,dy:tl(a)*n}}function Qu(i,r,t,e,n,a){typeof r.startArrow=="object"?Dc(i,r,t,e,n,a,!0):r.startArrow?Bc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Ju(i,r,t,e,n,a){typeof r.endArrow=="object"?Dc(i,r,t,e,n,a,!1):r.endArrow?Bc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Fc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Wo(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Fc[e]?Fc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Gb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function qu(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function Rc(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var g=i.getStartTangent();u=To(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var C=n[h+1];if(C[0]==="Z"){var g=i.getEndTangent();u=To(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=i.getEndTangent();u=To(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var _=u.dx,F=u.dy;switch(v){case"M":r.moveTo(c[1]-_,c[2]-F),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-_,c[2]-F);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-_,c[4]-F);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-_,c[6]-F);break;case"A":{var Y=void 0;e?(Y=e[h],Y||(Y=_c(s,c),e[h]=Y)):Y=_c(s,c);var G=Y.cx,$=Y.cy,J=Y.rx,pt=Y.ry,_t=Y.startAngle,Ft=Y.endAngle,Ht=Y.xRotation,Dt=Y.sweepFlag;if(r.ellipse)r.ellipse(G,$,J,pt,Ht,_t,Ft,1-Dt);else{var qt=J>pt?J:pt,ve=J>pt?1:J/pt,fe=J>pt?pt/J:1;r.translate(G,$),r.rotate(Ht),r.scale(ve,fe),r.arc(0,0,qt,_t,Ft,1-Dt),r.scale(1/ve,1/fe),r.rotate(-Ht),r.translate(-G,-$)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Te=c.length;s=[c[Te-2],c[Te-1]]}}}function Nc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function zb(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=kb(t,n):e?r=t:a&&(r=n)}return r}function Gc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=zb(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Xb(i,r){return!i||!r||!Zu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Yc=d(41056),Vb=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Nc(this,t)},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Wo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Wo(t,this),this._applyClip(t,this.getClip()),qu(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(br.AbstractGroup),tf=Vb,Hb=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return tf},r.prototype.onCanvasChange=function(t){Nc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Yc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Wo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Gc([this,n]):this.getCanvasBBox();if(!Zu(e,a)){this.set("hasChanged",!1);return}}t.save(),Wo(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Zu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Ri.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Ri.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(br.AbstractShape),Sa=Hb,Wb=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=Pc(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(Sa),jb=Wb;function nl(i,r,t,e){return i/(t*t)+r/(e*e)}var Ub=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,g=(t-u)*(t-u),C=(e-h)*(e-h);return a&&n?nl(g,C,c+l,v+l)<=1:a?nl(g,C,c,v)<=1:n?nl(g,C,c-l,v-l)>=1&&nl(g,C,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(Sa),Zb=Ub;function zc(i){return i instanceof HTMLElement&&(0,Nn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Kb=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,Nn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):zc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||zc(v))&&(!(0,Ri.default)(l)&&!(0,Ri.default)(u)&&!(0,Ri.default)(h)&&!(0,Ri.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(Sa),$b=Kb,Ka=d(68366);function lo(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?Ka.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var Qb=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Qu(this,t,a,o,e,n),l&&Ju(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return lo(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=To(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=To(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ka.default.pointAt(n,a,o,s,t)},r}(Sa),Jb=Qb,Xc=d(74479),qb={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},tw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,Js.default)(a)?(s=a,l=s(e,n,o),l=(0,Xc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Rc(this,t,{path:e},n)},r.Symbols=qb,r}(Sa),ew=tw,il=d(15730),rw=d(49274),nw=d(26632);function Vc(i,r,t){var e=(0,nw.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var iw=1e-6;function ef(i){return Math.abs(i)<iw?0:i<0?-1:1}function aw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Hc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(aw(o,s,[r,t]))return!0;ef(o[1]-t)>0!=ef(s[1]-t)>0&&ef(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var ow=d(2879);function gs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Pc(u.x,u.y,o,s)<=a/2}var rf=d(35600),Wc=d(77160);function sw(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function lw(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!Ao(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=lo(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=ow.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var g=il.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=g<=r/2;break;case"A":var C=s.arcParams,_=C.cx,F=C.cy,Y=C.rx,G=C.ry,$=C.startAngle,J=C.endAngle,pt=C.xRotation,_t=[t,e,1],Ft=[1,0,0,0,1,0,0,0,1],Ht=Y>G?Y:G,Dt=Y>G?1:Y/G,qt=Y>G?G/Y:1;rf.translate(Ft,Ft,[-_,-F]),rf.rotate(Ft,Ft,-pt),rf.scale(Ft,Ft,[1/Dt,1/qt]),Wc.transformMat3(_t,_t,Ft),n=gs(0,0,Ht,$,J,r,_t[0],_t[1]);break;default:break}if(n)break}}return n}function uw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var al=(0,B.__assign)({hasArc:sw,extractPolygons:uw,isPointInStroke:lw},br.PathUtil);function jc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Hc(a,r,t),e)break}return e}var fw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Xc.Z)(t);var e=al.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,rw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Qu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Ju(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=al.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=Vc(this,t,e);else{var h=this.attr("path"),c=al.extractPolygons(h);u=jc(c.polygons,t,e)||jc(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Rc(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return il.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",al.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=il.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=il.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(Sa),nf=fw;function Uc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(lo(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(lo(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var hw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Uc(s,o,t,e,!0)),!l&&a&&(l=Hc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Sa),cw=hw,Zc=d(65386),vw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Qu(this,t,n[1][0],n[1][1],l,u),o&&Ju(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Uc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=To(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=To(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var C=n[g];t.lineTo(C[0],C[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Zc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ka.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Sa),dw=vw;function pw(i,r,t,e,n,a,o){var s=n/2;return Ao(i-s,r-s,t,n,a,o)||Ao(i+t-s,r-s,n,e,a,o)||Ao(i+s,r+e-s,t,n,a,o)||Ao(i-s,r+s,n,e,a,o)}function gw(i,r,t,e,n,a,o,s){var l=a/2;return lo(i+n,r,i+t-n,r,a,o,s)||lo(i+t,r+n,i+t,r+e-n,a,o,s)||lo(i+t-n,r+e,i+n,r+e,a,o,s)||lo(i,r+e-n,i,r+n,a,o,s)||gs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||gs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||gs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||gs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var yw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var C=!1;return n&&(C=gw(l,u,h,c,v,o,t,e)),!C&&a&&(C=Vc(this,t,e)),C}else{var g=o/2;if(a&&n)return Ao(l-g,u-g,h+g,c+g,t,e);if(a)return Ao(l,u,h,c,t,e);if(n)return pw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=Yb(l),h=u[0],c=u[1],v=u[2],g=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(Sa),mw=yw,Kc=d(8914),xw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Kc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,Nn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,Kc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Zn.default)(e,function(g,C){v=l+C*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(g,s,v):t.strokeText(g,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Ri.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Ri.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Sa),bw=xw,ww=d(4555),hG=d(85424),Sw=d(22487),$c=d(6052);function Cw(i,r){if(r){var t=(0,$c.U_)(r);return(0,$c.rG)(t,i)}return i}function Qc(i,r,t){var e=i.getTotalMatrix();if(e){var n=Cw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Jc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Sw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=Qc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function qc(i,r,t){if(!Jc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=qc(s,r,t);else if(Jc(s,r,t)){var l=s,u=Qc(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var Mw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return tf},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Ob();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?qc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Gc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Xb(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Ib.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Wo(t,this),qu(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Wo(t,this),qu(t,n,a),t.restore()),(0,Zn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Lb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(br.AbstractCanvas),tv=Mw,Ew=d(71270),Aw=Ew.version,af={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Dn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},cG=null;function ga(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ev(i){var r=af[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=ga(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function rv(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Tw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Pw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ys(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ms(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){ev(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function nv(i,r){r.forEach(function(t){t.draw(i)})}function iv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Tw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&rv(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?ys(i):r==="clip"?ms(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Lw=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=ga("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){iv(this,t)},r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ms(this,t),this.createPath(t),e.length&&nv(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){Dn[s]&&a.setAttribute(Dn[s],o)}),ys(this)},r}(br.AbstractGroup),of=Lw,Iw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return of},r.prototype.onCanvasChange=function(t){iv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Yc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,g=a+s+h,C=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:g,maxY:C,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||ev(this),ms(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(Dn.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(Dn.strokeOpacity,h),c&&v.setAttribute(Dn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(Dn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(Dn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(Dn[e],"url(#"+o+")")}else a.setAttribute(Dn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&Pw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&ys(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(br.AbstractShape),ya=Iw,Ow=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Dn[s]&&a.setAttribute(Dn[s],o)})},r}(ya),kw=Ow,_w=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){Dn[s]&&a.setAttribute(Dn[s],o)}),a.innerHTML=n.html},r}(ya),Bw=_w,Dw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Dn[s]&&a.setAttribute(Dn[s],o)})},r}(ya),Fw=Dw,Rw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):Dn[l]&&o.setAttribute(Dn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ya),Nw=Rw,Gw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,Dn[s]):t.getDefaultArrow(n,Dn[s]);a.setAttribute(Dn[s],"url(#"+l+")")}else a.removeAttribute(Dn[s]);else Dn[s]&&a.setAttribute(Dn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ka.default.pointAt(n,a,o,s,t)},r}(ya),Yw=Gw,ol={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},av={get:function(i){return ol[i]},register:function(i,r){ol[i]=r},remove:function(i){delete ol[i]},getAll:function(){return ol}},zw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=av.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=av,r}(ya),Xw=zw,Vw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,Dn[l]):t.getDefaultArrow(a,Dn[l]);o.setAttribute(Dn[l],"url(#"+u+")")}else o.removeAttribute(Dn[l]);else Dn[l]&&o.setAttribute(Dn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ya),Hw=Vw,Ww=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Dn[s]&&a.setAttribute(Dn[s],o)})},r}(ya),jw=Ww,Uw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Dn[s]&&a.setAttribute(Dn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Zc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ka.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ya),Zw=Uw,Kw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,$w=/[^\s\,]+/gi;function Qw(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function vG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Kw),each(i,function(r,t){if(r=r.match($w),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var Jw=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&Dn[h]&&o.setAttribute(Dn[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Qw(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(ya),qw=Jw,tS=d(56463),ov=.3,eS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},rS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},nS={left:"left",start:"left",center:"middle",right:"end",end:"end"},iS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,B.__assign)((0,B.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ys(n):Dn[l]&&o.setAttribute(Dn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,tS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",rS[n]||"alphabetic"):t.setAttribute("alignment-baseline",eS[n]||"baseline"),t.setAttribute("text-anchor",nS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+ov)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-ov)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ya),aS=iS,oS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,sS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,lS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function sv(i){var r=i.match(lS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function uS(i,r){var t=oS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=sv(n)}function fS(i,r){var t=sS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=sv(o)}var hS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=ga("linearGradient"),uS(r,t)):(t=ga("radialGradient"),fS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),cS=hS,vS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},dS={x:"-40%",y:"-40%",width:"200%",height:"200%"},pS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=ga("filter");return(0,f.each)(dS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[vS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),gS=pS,yS=function(){function i(r,t){this.cfg={};var e=ga("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=ga("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),lv=yS,mS=function(){function i(r){this.type="clip",this.cfg={};var t=ga("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),xS=mS,bS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,wS=function(){function i(r){this.cfg={};var t=ga("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=ga("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=bS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),SS=wS,CS=function(){function i(r){var t=ga("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new lv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new cS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new lv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new gS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new SS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new xS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),MS=CS,ES=function(i){(0,B.__extends)(r,i);function r(t){return i.call(this,(0,B.__assign)((0,B.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return of},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!af[a.tagName]){for(var o=a.parentNode;o&&!af[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=ga("svg"),e=new MS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&rv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ys(this):t==="clip"?ms(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ms(this,t),e.length&&nv(t,e)},r}(br.AbstractCanvas),uv=ES,AS=d(23231),TS=AS.version;function sf(i){return i?!1:i==null||isNaN(i)}function fv(i){if((0,f.isArray)(i))return sf(i[1].y);var r=i.y;return(0,f.isArray)(r)?sf(r[0]):sf(r)}function lf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];fv(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];fv(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Ii(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,B.__assign)((0,B.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function uf(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var PS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function hv(i,r){var t=i.color;return{symbol:PS[r],style:{lineWidth:2,r:6,stroke:t}}}function LS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Ii(i,!0,!1,"lineWidth"),l=lf(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(OS(v,a,e,r,t,s))}return s.path=u,s}function ff(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Dr(i,!1,e)):(a=Ve(i,!1),r&&a.push(["Z"])),a}function IS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=uf(h);o.push(c[1]),s.push(c[0])});var l=ff(o,r,e,n,a),u=ff(s,r,e,n,a);return t?l:l.concat(u)}function OS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?IS(i,r,t,e,n,a):ff(i,r,e,n,a)}return[]}var dG=so("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){_n("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=LS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return hv(r,i)}})});var pG=null,kS=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var C=v.getModel();(this.isCoordinateChanged||Ac(C,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var g=this.getShapeFactory();v=new wc({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Wt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Za),hf=kS;function _S(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var g=[],C=e.parsePoints(c),_=C[0];o.length===1&&s.length===1?g=v===0?[["M",_.x-.5,_.y],["L",_.x+.5,_.y]]:[["L",_.x+.5,_.y],["L",_.x-.5,_.y]]:(r&&C.push({x:_.x,y:_.y}),t?g=Dr(C,!1,n):g=Ve(C,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function sl(i,r,t,e,n){for(var a=Ii(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=lf(l,o,u),c=[],v=0,g=h.length;v<g;v++){var C=h[v];c=c.concat(_S(C,s,t,e,n))}return a.path=c,a}function cv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var gG=so("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});_n("area","area",{draw:function(i,r){var t=sl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var yG=null,BS=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Wt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(hf),DS=BS,mG=so("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return uf(i)}});_n("edge","line",{draw:function(i,r){var t=Ii(i,!0,!1,"lineWidth"),e=Ve(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var xG=null,FS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Za),RS=FS,NS=d(55223),GS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Wt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(Ht){return Ht[Wt][v]<=e[1]&&Ht[Wt][v]>=e[0]}));for(var C=this.scales[v],_=0,F=t;_<F.length;_++){var Y=F[_],G=this.getDrawCfg(Y),$=G.x,J=G.y,pt=C.scale(Y[Wt][v]);this.drawGrayScaleBlurredCircle($-s.x,J-l.y,n+a,pt,g)}var _t=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(_t),g.putImageData(_t,0,0);var Ft=this.getImageShape();Ft.attr("x",s.x),Ft.attr("y",l.y),Ft.attr("width",u),Ft.attr("height",h),Ft.attr("img",g.canvas),Ft.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:NS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,B.__assign)((0,B.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Wt]})},r}(Za),YS=GS;function cf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function vf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function vv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var bG=so("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return cf(i)}});_n("interval","rect",{draw:function(i,r){var t=Ii(i,!1,!0),e=this.parsePath(vf(i.points)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var wG=null;function zS(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function XS(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function dv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=zS(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,g=XS(a,v);u=u/g}var C=r.maxColumnWidth,_=r.minColumnWidth,F=nt(i.coordinate);if(C){var Y=C/F;u>Y&&(u=Y)}if(_){var G=_/F;u<G&&(u=G)}return u}var VS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=nt(o);n=n/s}else this.defaultSize||(this.defaultSize=dv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Za),HS=VS,WS=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(hf),jS=WS,Po={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},pv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],US=["cross","tick","plus","hyphen","line"];function df(i,r,t,e,n){var a=Ii(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,B.__assign)((0,B.__assign)((0,B.__assign)({},a),{symbol:Po[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,B.__assign)((0,B.__assign)((0,B.__assign)({},a),{symbol:Po[e]||e}),s)})}var SG=so("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return uf(i)}});(0,f.each)(pv,function(i){_n("point","hollow-"+i,{draw:function(r,t){return df(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Po[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var CG=null,ZS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,B.__assign)((0,B.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Za),KS=ZS;function $S(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var MG=so("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});_n("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ii(i,!0,!0),e=this.parsePath($S(i.points));return r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var EG=null,QS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Za),JS=QS,AG=so("schema",{defaultShapeType:""}),TG=null,qS=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=nt(o);n=n/s}else this.defaultSize||(this.defaultSize=dv(this)),n=this.defaultSize;return e.size=n,e},r}(Za),t2=qS;_n("area","line",{draw:function(i,r){var t=sl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),_n("area","smooth",{draw:function(i,r){var t=this.coordinate,e=sl(i,!1,!0,this,cv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),_n("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=sl(i,!0,!0,this,cv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function pf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function gf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function e2(i,r,t){var e=gf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function r2(i,r){var t=gf(i[1],r),e=gf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}_n("edge","arc",{draw:function(i,r){var t=Ii(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=e2(e[0],e[1],o):(t.fill=t.stroke,a=r2(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=fi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:a})});var s=pf(e[1],e[3]),l=pf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function n2(i,r){var t=pf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}_n("edge","smooth",{draw:function(i,r){var t=Ii(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(n2(e[0],e[1]));return r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var ll=1/3;function i2(i,r){var t=[];t.push({x:i.x,y:i.y*(1-ll)+r.y*ll}),t.push({x:r.x,y:i.y*(1-ll)+r.y*ll}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}_n("edge","vhv",{draw:function(i,r){var t=Ii(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(i2(e[0],e[1]));return r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),_n("interval","funnel",{getPoints:function(i){return i.size=i.size*2,cf(i)},draw:function(i,r){var t=Ii(i,!1,!0),e=this.parsePath(vv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),_n("interval","hollow-rect",{draw:function(i,r){var t=Ii(i,!0,!1),e=this.parsePath(vf(i.points)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function a2(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}_n("interval","line",{getPoints:function(i){return a2(i)},draw:function(i,r){var t=Ii(i,!0,!1,"lineWidth"),e=this.parsePath(vf(i.points,!1)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),_n("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,cf(i,!0)},draw:function(i,r){var t=Ii(i,!1,!0),e=this.parsePath(vv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function o2(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function s2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}_n("interval","tick",{getPoints:function(i){return o2(i)},draw:function(i,r){var t=Ii(i,!0,!1),e=this.parsePath(s2(i.points)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var l2=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function u2(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=l2(e,a,r);t=t.concat(o)}}),t}function f2(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function h2(i,r){var t=lf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=u2(n,r);e=e.concat(f2(a))}),(0,B.__assign)((0,B.__assign)({},Ii(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){_n("line",i,{draw:function(r,t){var e=h2(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return hv(r,i)}})}),(0,f.each)(US,function(i){_n("point",i,{draw:function(r,t){return df(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Po[i],style:{r:4.5,stroke:t,fill:null}}}})}),_n("point","image",{draw:function(i,r){var t=Ii(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(pv,function(i){_n("point",i,{draw:function(r,t){return df(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:Po[i]||i,style:{r:4.5,fill:t}}}})});function gv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function yv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=gv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var g=gv(i),o=g.min,s=g.max,l=g.median,u=g.min1,h=g.max1,C=r-e,_=r+e;n=[[o,C],[o,_],[o,r],[u,r],[u,C],[u,_],[h,_],[h,C],[h,r],[s,r],[s,C],[s,_],[l,C],[l,_]]}return n.map(function(F){return{x:F[0],y:F[1]}})}function c2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}_n("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return yv(r,t,e)},draw:function(i,r){var t=Ii(i,!0,!1),e=this.parsePath(c2(i.points)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=yv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function v2(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return Wi(t,4,t[t.length-1])}function mv(i,r,t){var e=v2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function d2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}_n("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return mv(r,t,e)},draw:function(i,r){var t=Ii(i,!0,!0),e=this.parsePath(d2(i.points)),n=r.addShape("path",{attrs:(0,B.__assign)((0,B.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=mv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function p2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}_n("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ii(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,B.__assign)((0,B.__assign)({},t),p2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var g2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,g=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=g):t.y+=g*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=g,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(Qs),y2=g2,ul=Math.PI/2,m2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return ce(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Bt(o,n);if(l===0)return(0,B.__assign)((0,B.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+ul;return n&&(a-=ul),a&&(a>ul?a=a-Math.PI:a<-ul&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Qs),xv=m2,x2=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ce(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ce(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,B.__assign)((0,B.__assign)({},vn(o.x,o.y,s,t)),{angle:t,r:s})},r}(xv),b2=x2,bv=4;function w2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,g=Number.MIN_VALUE,C=r.map(function(pt){return pt.y>v&&(v=pt.y),pt.y<g&&(g=pt.y),{size:t,targets:[pt.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(C.forEach(function(pt){var _t=(Math.min.apply(g,pt.targets)+Math.max.apply(g,pt.targets))/2;pt.pos=Math.min(Math.max(g,_t-pt.size/2),h-pt.size)}),o=!1,c=C.length;c--;)if(c>0){var _=C[c-1],F=C[c];_.pos+_.size>F.pos&&(_.size+=F.size,_.targets=_.targets.concat(F.targets),_.pos+_.size>h&&(_.pos=h-_.size),C.splice(c,1),o=!0)}c=0,C.forEach(function(pt){var _t=u+t/2;pt.targets.forEach(function(){r[c].y=pt.pos+_t,_t+=t,c++})});for(var Y={},G=0,$=i;G<$.length;G++){var J=$[G];Y[J.get("id")]=J}r.forEach(function(pt){var _t=pt.r*pt.r,Ft=Math.pow(Math.abs(pt.y-n.y),2);if(_t<Ft)pt.x=n.x;else{var Ht=Math.sqrt(_t-Ft);a?pt.x=n.x+Ht:pt.x=n.x-Ht}var Dt=Y[pt.id];Dt.attr("x",pt.x),Dt.attr("y",pt.y);var qt=(0,f.find)(Dt.getChildren(),function(ve){return ve.get("type")==="text"});qt&&(qt.attr("y",pt.y),qt.attr("x",pt.x))})}function S2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.textAlign==="right"?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var _=h/l;g.length>_&&(g.sort(function(F,Y){return Y["..percent"]-F["..percent"]}),g.splice(_,g.length-_)),g.sort(function(F,Y){return F.y-Y.y}),w2(r,g,l,c,s,C)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.offset,_=g.angle,F=vn(s.x,s.y,o,_),Y=vn(s.x,s.y,o+C/2,_),G=g.x+(0,f.get)(g,"offsetX",0),$=g.y+(0,f.get)(g,"offsetY",0),J={x:G-Math.cos(_)*bv,y:$-Math.sin(_)*bv};(0,f.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+F.x,F.y+" Q"+Y.x,Y.y+" "+J.x,J.y].join(",")}})}var wv=4;function C2(i,r,t,e,n,a,o){r.sort(function(Dt,qt){return Dt.y-qt.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Dt){return{content:Dt.content,size:t,pos:Dt.y,targets:[Dt.y]}}),g=Math.max.apply(Math,v.map(function(Dt){return Dt.pos})),C=Math.min.apply(Math,v.map(function(Dt){return Dt.pos}));if(o){for(var _=Math.min(C,h-(v.length-1)*t),F=Math.max(_+v.length*t,g+t),Y=!0;Y;)for(Y=!1,c=v.length;c--;)if(c>0){var G=v[c-1],$=v[c];G.pos+G.size>$.pos&&($.pos+c*t<F?(G.size+=$.size,G.targets=G.targets.concat($.targets),v.splice(c,1)):G.pos=$.pos-G.size,Y=!0)}}else for(var F=Math.max(u+(v.length-1)*t,g),_=Math.min(C,F-(v.length-1)*t),Y=!0;Y;)for(Y=!1,c=v.length;c--;)if(c>0){var G=v[c-1],$=v[c];G.pos+G.size>$.pos&&(G.pos-_>c*t?G.pos-=G.size:(G.size+=$.size,G.targets=G.targets.concat($.targets),v.splice(c,1)),Y=!0)}c=0,v.forEach(function(Dt){var qt=Dt.pos;Dt.targets.forEach(function(){r[c].y=qt,qt+=t,c++})});for(var J={},pt=0,_t=i;pt<_t.length;pt++){var Ft=_t[pt];J[Ft.get("id")]=Ft}var Ht=(Math.max.apply(Math,r.map(function(Dt){return Dt.y}))-Math.min.apply(Math,r.map(function(Dt){return Dt.y})))/2;Ht=Math.max(Ht,a),r.forEach(function(Dt){var qt=J[Dt.id],ve=qt.find(function(ke){return ke.get("type")==="text"});if(ve&&ve.attr("y")!==Dt.y){var fe=Ht*Ht,Te=Math.pow(Math.abs(Dt.y-n.y),2);if(fe<Te)Dt.x=n.x;else{var De=Math.sqrt(fe-Te);o?Dt.x=n.x+De:Dt.x=n.x-De}}qt.attr("x",Dt.x),qt.attr("y",Dt.y),ve&&(ve.attr("y",Dt.y),ve.attr("x",Dt.x))})}function M2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.x<s.x?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var _=h/l;if(g.length>_){g.sort(function(Y,G){return G["data.percent"]-Y["data.percent"]});var F=g.splice(_,g.length-_+1);F.forEach(function(Y){var G=r.findIndex(function($){return $.get("id")===Y.id});r[G]&&(r[G].remove(!0),r.splice(G,1))})}C2(r,g,l,c,s,u,C===1)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.angle,_=vn(s.x,s.y,o,C),F=g.x+(0,f.get)(g,"offsetX",0)*(Math.cos(C)>0?1:-1),Y=g.y+(0,f.get)(g,"offsetY",0)*(Math.sin(C)>0?1:-1),G={x:F-Math.cos(C)*wv,y:Y-Math.sin(C)*wv},$=g.labelLine.smooth,J=[],pt=G.x-s.x,_t=G.y-s.y,Ft=Math.atan(_t/pt);if(pt<0&&(Ft+=Math.PI),$===!1){(0,f.isObject)(g.labelLine)||(g.labelLine={});var Ht=0;(C<0&&C>-Math.PI/2||C>Math.PI*1.5)&&G.y>_.y&&(Ht=1),C>=0&&C<Math.PI/2&&G.y>_.y&&(Ht=1),C>=Math.PI/2&&C<Math.PI&&_.y>G.y&&(Ht=1),(C<-Math.PI/2||C>=Math.PI&&C<Math.PI*1.5)&&_.y>G.y&&(Ht=1);var Dt=n/2>4?4:Math.max(n/2-1,0),qt=vn(s.x,s.y,o+Dt,C),ve=vn(s.x,s.y,o+n/2,Ft),fe=0;J.push("M "+_.x+" "+_.y),J.push("L "+qt.x+" "+qt.y),J.push("A "+s.x+" "+s.y+" 0 "+fe+" "+Ht+" "+ve.x+" "+ve.y),J.push("L "+G.x+" "+G.y)}else{var qt=vn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),C),Te=_.x<s.x?1:-1;J.push("M "+G.x+" "+G.y);var De=(_.y-s.y)/(_.x-s.x),ke=(G.y-s.y)/(G.x-s.x);Math.abs(De-ke)>Math.pow(Math.E,-16)&&J.push.apply(J,["C",G.x+Te*4,G.y,2*qt.x-_.x,2*qt.y-_.y,_.x,_.y]),J.push("L "+_.x+" "+_.y)}g.labelLine.path=J.join(" ")}})}function E2(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,g=u.maxY,C=u.x,_=u.y,F=u.width,Y=u.height,G=C,$=_;(h<a||v<a)&&(G=a),(c<o||g<o)&&($=o),h>s?G=s-F:v>s&&(G=G-(v-s)),c>l?$=l-Y:g>l&&($=$-(g-l)),(G!==C||$!==_)&&Uu(n,G-C,$-_)})}function A2(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var T2=100,Sv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function P2(i,r,t){t===void 0&&(t=T2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,g=function(Y){var G=Y*.1;return[G*Math.cos(G),G*Math.sin(G)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var C=!1,_=0,F={};Math.min(Math.abs(c),Math.abs(v))<l&&_<t;)if(u=g(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||F[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),_++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),C=!0,F[c+"-"+v]=!0;break}return C}function L2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function I2(i,r,t,e){var n=new Sv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});P2(o,n)||a.remove(!0)}),n.destroy()}function O2(i,r,t,e){var n=new Sv;(0,f.each)(r,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=L2(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function k2(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function _2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function B2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(Xn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=Xn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(Xn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=Xn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(Xn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=Xn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function yf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=B2(i,[u,h],n);i.animate({matrix:c},r)}function D2(i,r,t){var e=t.coordinate,n=t.minYPoint;yf(i,r,e,n,"x")}function F2(i,r,t){var e=t.coordinate,n=t.minYPoint;yf(i,r,e,n,"y")}function R2(i,r,t){var e=t.coordinate,n=t.minYPoint;yf(i,r,e,n,"xy")}function N2(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function G2(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function Y2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=Xn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:Xn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function z2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=Xn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:Xn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var X2=d(84909);function Cv(i,r){var t,e=(0,X2.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function Mv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function Ev(i){var r,t,e,n=i.filter(function($){return $[0]==="A"||$[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=Mv(i[s-1]),h=Mv(i[l-1]),c=Cv(u,a),v=c.startAngle,g=c.endAngle,C=Cv(h,o),_=C.startAngle,F=C.endAngle;(0,f.isNumberEqual)(v,_)&&(0,f.isNumberEqual)(g,F)?(t=v,e=g):(t=Math.min(v,_),e=Math.max(g,F));var Y=a[1],G=n[n.length-1][1];return Y<G?(r=[G,Y],Y=r[0],G=r[1]):Y===G&&(G=0),{startAngle:t,endAngle:e,radius:Y,innerRadius:G}}function V2(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(G){return G[0]}),s=Ev(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=Ev(i.attr("path")),g=v.startAngle,C=v.endAngle,_=n.getCenter(),F=l-g,Y=u-C;i.animate(function(G){var $=g+G*F,J=C+G*Y;return(0,B.__assign)((0,B.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?fi(_.x,_.y,h,$,J):wn(_.x,_.y,h,$,J,c)})},(0,B.__assign)((0,B.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function H2(i,r,t){var e=de(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,B.__assign)((0,B.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function mf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){mf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Xn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:Xn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:Xn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,B.__assign)((0,B.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function W2(i,r,t){mf(i,r,"zoomIn")}function j2(i,r,t){mf(i,r,"zoomOut")}function $a(i){return[St.TOP,St.BOTTOM].includes(i)?{offsetX:0,offsetY:i===St.TOP?-8:8,style:{textAlign:"center",textBaseline:i===St.TOP?"bottom":"top"}}:[St.LEFT,St.RIGHT].includes(i)?{offsetX:i===St.LEFT?-8:8,offsetY:0,style:{textAlign:i===St.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function xf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var U2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=xf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:xf(u,l,h),end:xf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var g=[{field:s,value:c,values:l}],C=(0,f.filter)(t,e.getFacetDataFilter(g)),_={type:o,data:C,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(_)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(St.TOP),t.cfg.title);a.annotation().text(s)})},r}(jr),Z2=U2,K2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var g=e.getRowCol(v,a),C=g.row,_=g.col,F=[{field:o,value:c,values:s}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(u,a,_,C),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:_,rowIndex:C,columnValuesLength:a,rowValuesLength:u,total:l};h.push(G)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,B.__assign)((0,B.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(St.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(jr),$2=K2,Q2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,B.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,B.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],g={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,B.__assign)((0,B.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},$a(St.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},$a(St.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r}(jr),J2=Q2,q2=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(C,_){var F=[{field:h,value:v,values:l},{field:c,value:C,values:u}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(s,o,g,_),columnValue:v,rowValue:C,columnField:h,rowField:c,columnIndex:g,rowIndex:_,columnValuesLength:o,rowValuesLength:s};a.push(G)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,B.__assign)((0,B.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},$a(St.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},$a(St.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(jr),tC=q2,eC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,B.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,B.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,g){c.forEach(function(C,_){var F=[{field:a,value:v,values:h},{field:o,value:C,values:c}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),G={type:e.cfg.type,data:Y,region:e.getRegion(u,l,g,_),columnValue:v,rowValue:C,columnField:a,rowField:o,columnIndex:g,rowIndex:_,columnValuesLength:l,rowValuesLength:u};s.push(G)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},$a(St.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},$a(St.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,B.__assign)((0,B.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,B.__assign)((0,B.__assign)({},n),{title:null}):n},r}(jr),rC=eC,nC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(zt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var g=[{field:u,value:c,values:h}],C=t.filter(a.getFacetDataFilter(g));if(C.length){var _={type:a.cfg.type,data:C,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(C,e+1,n)};l.push(_),n.push(_)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(St.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,B.__assign)((0,B.__assign)({},n),{title:null,label:null}):n},r}(jr),iC=nC,aC=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(yt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(yt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(zt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(zt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Pt(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(zt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=Mn.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?yt.FORE:yt.BG,direction:St.NONE,type:Rt.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,B.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,B.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,B.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,B.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,B.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,B.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,B.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,B.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],g=a[v];v===e.field&&(o=this.getNormalizedValue(g,e)),n[v]&&(s=this.getNormalizedValue(g,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],g;return(0,f.each)(u,function(C,_){if(C[l]===h&&(g=_),_>=g){var F=n.parsePosition([C[l],C[s.field]]);F&&v.push(F)}if(C[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=ce(a,h),g=ce(a,c);v>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:Bt(a,h),startAngle:v,endAngle:g}}else if(t==="image"){var C=e,l=C.start,u=C.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var _=e,l=_.start,u=_.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var F=e,l=F.start,u=F.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var Y=this.view.getData(),G=e,$=G.position,J=G.content,pt=(0,B.__rest)(G,["position","content"]),_t=J;(0,f.isFunction)(J)&&(_t=J(Y)),o=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},this.parsePosition($)),pt),{content:_t})}else if(t==="dataMarker"){var Ft=e,$=Ft.position,Ht=Ft.point,Dt=Ft.line,qt=Ft.text,ve=Ft.autoAdjust,fe=Ft.direction;o=(0,B.__assign)((0,B.__assign)({},this.parsePosition($)),{coordinateBBox:this.getCoordinateBBox(),point:Ht,line:Dt,text:qt,autoAdjust:ve,direction:fe})}else if(t==="dataRegion"){var Te=e,l=Te.start,u=Te.end,De=Te.region,qt=Te.text,ke=Te.lineLength;o={points:this.getRegionPoints(l,u),region:De,text:qt,lineLength:ke}}else if(t==="regionFilter"){var Je=e,l=Je.start,u=Je.end,er=Je.apply,nr=Je.color,Ke=this.view.geometries,$e=[],Mr=function(Tr){!Tr||(Tr.isGroup()?Tr.getChildren().forEach(function(Hr){return Mr(Hr)}):$e.push(Tr))};(0,f.each)(Ke,function(Tr){er?(0,f.contains)(er,Tr.type)&&(0,f.each)(Tr.elements,function(Hr){Mr(Hr.shape)}):(0,f.each)(Tr.elements,function(Hr){Mr(Hr.shape)})}),o={color:nr,shapes:$e,start:this.parsePosition(l),end:this.parsePosition(u)}}var Cr=(0,f.deepMix)({},n,(0,B.__assign)((0,B.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return Cr.container=this.getComponentContainer(Cr),Cr.animate=this.view.getOptions().animate&&Cr.animate&&(0,f.get)(e,"animate",Cr.animate),Cr.animateOption=(0,f.deepMix)({},Vo,Cr.animateOption,e.animateOption),Cr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Xo),oC=aC;function Av(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function fl(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function bf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(g,C){return i.convert({x:C/a,y:e?c:v})})}),u},s[0]),o}function Tv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var uo=["container"],Pv=(0,B.__assign)((0,B.__assign)({},Vo),{appear:null}),sC=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(yt.BG).addGroup(),e.axisContainer=e.view.getLayer(yt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===Rt.AXIS)e.isPolar?u==="x"?v=e.isTransposed?fr(e,o):Br(e):u==="y"&&(v=e.isTransposed?Br(e):fr(e,o)):v=fr(e,o);else if(s===Rt.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=u==="x"?bf(e,t.view.getYScales()[0],h,c,u):fl(e,h,u,c):g=u==="x"?fl(e,h,u,c):bf(e,t.view.getXScale(),h,c,u),v={items:g,center:t.view.getCoordinate().getCenter()}}else v={items:fl(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=ur(this.option,e.field);if(n!==!1){var a=Yr(n,St.BOTTOM),o=yt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);Pt(v,uo),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var g=this.cache.get(h);if(g){var v=this.getLineGridCfg(e,n,a,s);Pt(v,uo),g.component.update(v),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,St.RADIUS):this.getCircleAxisCfg(e,n,a);Pt(v,uo),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,St.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var g=this.cache.get(h);if(g){var v=l.isTransposed?this.getCircleGridCfg(e,n,St.RADIUS,s):this.getLineGridCfg(e,n,St.CIRCLE,s);Pt(v,uo),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,St.RADIUS,s)}else g=this.createLineGrid(e,n,o,St.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=ur(e.option,s);if(l!==!1){var u=yt.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var C=Yr(l,o===0?St.LEFT:St.RIGHT),_=e.cache.get(c);if(_){var F=e.getLineAxisCfg(a,l,C);Pt(F,uo),_.component.update(F),t.set(c,_)}else _=e.createLineAxis(a,l,u,C,h),e.cache.set(c,_),t.set(c,_);var Y=e.cache.get(v);if(Y){var F=e.getLineGridCfg(a,l,C,h);Pt(F,uo),Y.component.update(F),t.set(v,Y)}else Y=e.createLineGrid(a,l,u,C,h),Y&&(e.cache.set(v,Y),t.set(v,Y))}else if(g.isPolar){var _=e.cache.get(c);if(_){var F=g.isTransposed?e.getCircleAxisCfg(a,l,St.CIRCLE):e.getLineAxisCfg(a,l,St.RADIUS);Pt(F,uo),_.component.update(F),t.set(c,_)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;_=e.createCircleAxis(a,l,u,St.CIRCLE,h)}else _=e.createLineAxis(a,l,u,St.RADIUS,h);e.cache.set(c,_),t.set(c,_)}var Y=e.cache.get(v);if(Y){var F=g.isTransposed?e.getLineGridCfg(a,l,St.CIRCLE,h):e.getCircleGridCfg(a,l,St.RADIUS,h);Pt(F,uo),Y.component.update(F),t.set(v,Y)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;Y=e.createLineGrid(a,l,u,St.CIRCLE,h)}else Y=e.createCircleGrid(a,l,u,St.RADIUS,h);Y&&(e.cache.set(v,Y),t.set(v,Y))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Si(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===St.RADIUS?St.NONE:a,type:Rt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new Di(s),layer:n,direction:St.NONE,type:Rt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new Ti(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Rt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Vi(s),layer:n,direction:St.NONE,type:Rt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=fr(o,n),l=Jr(t,e),u=xr(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,B.__assign)((0,B.__assign)({container:a},s),{ticks:t.getTicks().map(function($){return{id:""+$.tickValue,name:$.text,value:$.value}}),verticalFactor:o.isPolar?Er(s,o.getCenter())*-1:Er(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;c.animateOption=C,c.animate=g;var _=vr(s),F=(0,f.get)(c,"verticalLimitLength",_?1/3:1/2);if(F<=1){var Y=this.view.getCanvas().get("width"),G=this.view.getCanvas().get("height");c.verticalLimitLength=F*(_?Y:G)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Tv(xr(this.view.getTheme(),n),e)){var o=Av(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=fl(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(_){return{id:""+_.tickValue,name:_.text,value:_.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Jr(t,e),u=xr(this.view.getTheme(),St.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,B.__assign)((0,B.__assign)({container:a},Br(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;return c.animate=g,c.animateOption=C,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Tv(xr(this.view.getTheme(),n),e)){var o=Av(this.view.getTheme(),St.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=bf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Pv,t.animateOption):Pv}},r}(Xo),lC=sC;function hl(i,r,t){return t===St.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===St.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===St.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===St.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===St.TOP_LEFT||t===St.LEFT_TOP?[i.tl.x,i.tl.y]:t===St.TOP_RIGHT||t===St.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===St.BOTTOM_LEFT||t===St.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===St.BOTTOM_RIGHT||t===St.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function uC(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Lv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Iv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function fC(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Lv(n)),e<0&&(n=Iv(n)),n}function hC(i,r){var t=i;return r.isReflect("x")&&(t=Lv(t)),r.isReflect("y")&&(t=Iv(t)),t}function PG(i,r){var t=i;return t=uC(t,r),t=fC(t,r),t=hC(t,r),t}function Ov(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,B.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function kv(i){var r=i.symbol;(0,f.isString)(r)&&Po[r]&&(i.symbol=Po[r])}function wf(i){return i.startsWith(St.LEFT)||i.startsWith(St.RIGHT)?"vertical":"horizontal"}function cC(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,g=c.text,C=c.value,_=g,F=a.invert(C),Y=i.filterFieldData(o,[(v={},v[o]=F,v)]).length===0,G=Ov(s,F,u),$=Ov(l,F,"point"),J=r.getShapeMarker($,{color:G,isInPolar:h});return J=(0,f.deepMix)({},e,J,n),kv(J),{id:F,name:_,value:F,marker:J,unchecked:Y}})}return[]}function vC(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return kv(n),e.marker=n,e})}function _v(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function xs(i){return(0,f.get)(i,"position",St.BOTTOM)}var dC=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(yt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=yt.FORE,o=xs(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:Rt.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=wf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new ln(c.x,c.y,c.width,c.height),g=hl(t.view.viewBBox,v,o),C=g[0],_=g[1],F=hl(t.layoutBBox,v,o),Y=F[0],G=F[1],$=0,J=0;o.startsWith("top")||o.startsWith("bottom")?($=C,J=G):($=Y,J=_),o.indexOf("left")>=0&&($+=e[3]),o.indexOf("right")>=0&&($-=e[1]),o.indexOf("top")>=0&&(J+=e[0]),o.indexOf("bottom")>=0&&(J-=e[2]),a.update({x:$,y:J}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,g,C){var _=t.getId(C.field),F=t.getComponentById(_);if(F){var Y=void 0,G=_v(t.option,C.field);G!==!1&&((0,f.get)(G,"custom")?Y=t.getCategoryCfg(v,g,C,G,!0):C.isLinear?Y=t.getContinuousCfg(v,g,C,G):C.isCategory&&(Y=t.getCategoryCfg(v,g,C,G))),Y&&(Pt(Y,["container"]),F.direction=xs(G),F.component.update(Y),e[_]=!0)}else{var $=t.createFieldLegend(v,g,C);$&&($.component.init(),t.components.push($),e[_]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Pt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=yt.FORE,h=xs(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Rt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=_v(this.option,n.field),s=yt.FORE,l=xs(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:Rt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Xt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Kt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Xt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(_){return _.value===0}),l=(0,f.find)(o,function(_){return _.value===1}),u=o.map(function(_){var F=_.value,Y=_.tickValue,G=e.mapping(n.invert(F)).join("");return{value:Y,attrValue:G,color:G,scaleValue:F}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(_,F){return _.value-F.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(_){return _.attrValue}));var c=this.container,v=xs(a),g=wf(v),C=(0,f.get)(a,"title");return C&&(C=(0,f.deepMix)({text:Oe(n)},C)),h.container=c,h.layout=g,h.title=C,h.animateOption=Vo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",St.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=wf(l),v=o?vC(u,h,a.items):cC(this.view,t,e,u,h),g=(0,f.get)(a,"title");g&&(g=(0,f.deepMix)({text:n?Oe(n):""},g));var C=this.getCategoryLegendSizeCfg(c);C.container=s,C.layout=c,C.items=v,C.title=g,C.animateOption=Vo;var _=this.mergeLegendCfg(C,a,l);_.reversed&&_.items.reverse();var F=(0,f.get)(_,"maxItemWidth");return F&&F<=1&&(_.maxItemWidth=this.view.viewBBox.width*F),_},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*ht,maxHeight:a}:{maxWidth:n,maxHeight:a*ht}},r}(Xo),pC=dC,gC=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(yt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new ln(e.x,e.y,Math.min(e.width,t),e.height),a=hl(this.view.viewBBox,n,St.BOTTOM),o=a[0],s=a[1],l=hl(this.view.coordinateBBox,n,St.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Mn.Slider((0,B.__assign)({container:this.container},t));return e.init(),{component:e,layer:yt.FORE,direction:St.BOTTOM,type:Rt.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Pt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,B.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,B.__assign)((0,B.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(_,F){return _.includes(F[s])||_.push(F[s]),_},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),g=(0,f.get)(l,[c]),C=this.getSliderCfg().formatter;C&&(v=C(v,n[h],h),g=C(g,n[c],c)),this.slider.component.update({minText:v,maxText:g,start:t,end:e}),this.view.filter(a.field,function(_,F){var Y=l.indexOf(_);return Y>-1?Hi(Y,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Xo),yC=gC;function mC(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var xC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,B.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,g=this.items,C=this.title;if(!(0,f.isEqual)(C,a)||!(0,f.isEqual)(g,n)?(e.emit("tooltip:change",(0,B.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var _=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(_?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var C=e[0],_=Math.abs(t.y-C[0].y),F=0,Y=e;F<Y.length;F++){var G=Y[F],$=Math.abs(t.y-G[0].y);$<=_&&(C=G,_=$)}e=[C]}return mC((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new oe((0,B.__assign)((0,B.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,B.__assign)((0,B.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Ut(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ce(n,t),l=n.getCenter(),u=n.getRadius();o=vn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new Mn.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Ut(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Bt(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new Mn.Crosshair[o](a),u.init()):u.update(a):(u=new Mn.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,g=void 0;if(o){var C=this.view.getCoordinate().invert(e);v=h.invert(C.x),g=c.invert(C.y)}else v=u.data[h.field],g=u.data[c.field];var _=t==="x"?v:g;return(0,f.isFunction)(a)?a=a(t,_,s,e):a.content=_,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=En(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=Vr(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var g=En(h,t,n);g.length&&a.push(g)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,g=void 0;["point","edge","polygon"].includes(v)?g=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?g=this.getTooltipItemsByFindData(c,e,l):s!==!1?g=this.getTooltipItemsByFindData(c,e,l):g=this.getTooltipItemsByHitShape(c,e,l),g.length&&n.push(g)}}for(var C=0,_=t.views;C<_.length;C++){var F=_[C];n=n.concat(this.findItemsFromView(F,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Xo),bC=xC,wC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Te){if(Te.type==="interval"||Te.type==="schema"){var De=Te.getElementsBy(function(ke){var Je=ke.getData();return Je[a]===o});s=s.concat(De)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Te){var De=Te.shape.getCanvasBBox();u.isTransposed?(De.minY<h.minY&&(h=De),De.maxY>c.maxY&&(c=De)):(De.minX<h.minX&&(h=De),De.maxX>c.maxX&&(c=De)),v.x=Math.min(De.minX,v.minX),v.y=Math.min(De.minY,v.minY),v.width=Math.max(De.maxX,v.maxX)-v.x,v.height=Math.max(De.maxY,v.maxY)-v.y});var g=t.backgroundGroup,C=t.coordinateBBox,_=void 0;if(u.isRect){var F=t.getXScale(),Y=F.isLinear?0:.25,G=void 0,$=void 0,J=void 0,pt=void 0;u.isTransposed?(G=C.minX,$=Math.min(c.minY,h.minY)-Y*c.height,J=C.width,pt=v.height+Y*2*c.height):(G=Math.min(h.minX,c.minX)-Y*h.width,$=Math.min(C.minY,h.minY),J=v.width+Y*2*h.width,pt=C.height),_=[["M",G,$],["L",G+J,$],["L",G+J,$+pt],["L",G,$+pt],["Z"]]}else{var _t=(0,f.head)(s),Ft=(0,f.last)(s),Ht=si(_t.getModel(),u).startAngle,Dt=si(Ft.getModel(),u).endAngle,qt=u.getCenter(),ve=u.getRadius(),fe=u.innerRadius*ve;_=wn(qt.x,qt.y,ve,Ht,Dt,fe)}this.regionPath?(this.regionPath.attr("path",_),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:_,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(ye),SC=wC,CC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(ye),Bv=CC,MC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=gr(t);(0,f.each)(n,function(a){var o=nn(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=gr(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(Bv),EC=MC,AC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,B.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new oe({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(ye),TC=AC,PC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=_e(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(ye),Sf=PC;function Dv(i){return(0,f.get)(i.get("delegateObject"),"item")}var LC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=re(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=Qn(a,e),s=Ie(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=hi(this.context);if(e)st(this.context)&&this.setStateByElement(e,t);else{var n=Mt(this.context);if(Z(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Dv(s.fromShape)===Dv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=hi(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Sf),Cf=LC,IC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Cf),OC=IC,kC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Ie(t,a.field);if(!this.cache[o]){var s=le(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var g=s[v+1];e.addLinkShape(u,c,g)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Ie(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=hi(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=hi(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(ye),_C=kC,BC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Tt(this.context))t=Nt(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=ar(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=re(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=gr(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=re(h),v=c.filter(function(g){var C=g.getModel().data;return zn(s,C,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=gr(n);Tt(this.context)&&(0,f.each)(a,function(o){var s=re(o),l=ie(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=gr(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(Sf),Mf=BC,DC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Mf),FC=DC,RC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=hi(this.context);if(e){if(!st(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=hi(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Sf),Ef=RC,NC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Ef),GC=NC,bs="inactive",ws="active";function Af(i){var r=re(i);(0,f.each)(r,function(t){t.hasState(ws)&&t.setState(ws,!1),t.hasState(bs)&&t.setState(bs,!1)})}function Fv(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(bs)&&e.setState(bs,!1),e.setState(ws,t)):(e.hasState(ws)&&e.setState(ws,!1),e.setState(bs,t))})}var Lo=ne.INACTIVE,Qa=ne.ACTIVE,YC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Qa,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(Qa,!0)):t.hasState(Qa)||t.setState(Lo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=_e(this.context.view,Qa),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(Qa)&&l.setState(Qa,!1),l.setState(Lo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=re(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Af(t)},r}(Cf),Tf=YC,zC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Ie(t,o.field),l=re(n),u=l.filter(function(h){return Ie(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Tf),XC=zC,VC=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(Qa,!0)):(t.setState(Lo,!0),t.hasState(Qa)&&t.setState(Qa,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Ie(t,a.field),s=re(n),l=s.filter(function(u){return Ie(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=hi(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Tf),HC=VC,WC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Af(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Fv(n,function(a){return t.indexOf(a)>=0},e)},r}(Mf),Rv=WC,jC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=re(n);Fv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Af(t)},r}(Ef),UC=jC,ZC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Mf),KC=ZC,$C=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Cf),QC=$C,JC=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Ef),qC=JC,tM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Mt(this.context),e=null;return Z(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Fr(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Qn(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=Qn(o,a),l=Ie(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=hi(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=Mt(this.context);if(Z(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(ye),cl=tM,eM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(cl),rM=eM,Nv="inactive",Gv="active";function nM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,Gv)&&i.setItemState(t,Gv,!1),i.hasState(t,Nv)&&i.setItemState(t,Nv,!1)})}var Ss="inactive",Io="active",iM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Io,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,Ss)&&t.setItemState(l,Ss,!1),t.setItemState(l,Io,!0)):t.hasState(l,Io)||t.setItemState(l,Ss,!0)});else{var o=t.getItemsByState(Io),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,Io)&&t.setItemState(l,Io,!1),t.setItemState(l,Ss,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)nM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(Io),n.clearItemsState(Ss)})}},r}(cl),Pf=iM,aM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(cl),oM=aM,sM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(cl),lM=sM,uM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,B.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(ye),Lf=uM,fM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Rr(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Lf),hM=fM,cM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Lf),Yv=cM;function zv(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var vM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(zv(s),zv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Yv),Xv=vM,dM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Lf),Vv=dM,pM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return tn(t,!0)},r}(Vv),gM=pM,yM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(ye),mM=yM,xM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=Mt(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Z(t)){if(a){var o=n.getItemsByState("unchecked"),s=Qn(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var g=s.getText(v);return!l.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(rt(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(ye),bM=xM;function Hv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),g=i.values.slice(c,v+1);return function(C){return g.includes(C)}}else return function(C){return C>=u&&C<=h}}var wM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Tt(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Hv(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Hv(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(ye),vl=wM,SM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=gr(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=gr(t);(0,f.each)(e,function(n){n.render(!0)})},r}(vl),If=SM,CM=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Mt(this.context),e=this.context.view,n=re(e);if(Tt(this.context)){var a=Nt(this.context,10);a&&(0,f.each)(n,function(C){a.includes(C)?C.show():C.hide()})}else if(t){var o=t.component,s=o.get("field");if(Z(t)){if(s){var l=o.getItemsByState("unchecked"),u=Qn(e,s),h=l.map(function(C){return C.name});(0,f.each)(n,function(C){var _=Ie(C,s),F=u.getText(_);h.indexOf(F)>=0?C.hide():C.show()})}}else if(rt(t)){var c=o.getValue(),v=c[0],g=c[1];(0,f.each)(n,function(C){var _=Ie(C,s);_>=v&&_<=g?C.show():C.hide()})}}},r.prototype.clear=function(){var t=re(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(ye),MM=CM,EM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Tt(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Nt(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=gr(t);(0,f.each)(s,function(l){var u=re(l);(0,f.each)(u,function(h){var c=h.getModel().data;zn(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=gr(e);(0,f.each)(n,function(a){var o=ie(t.context,a,10),s=re(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=gr(this.context.view);(0,f.each)(t,function(e){var n=re(e);(0,f.each)(n,function(a){a.show()})})},r}(ye),Wv=EM,AM=10,TM=5,PM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,B.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=Li(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,B.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Xn.transform(null,[["t",n.x-o.width-AM,n.y+o.height+TM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(ye),LM=PM,IM=4,OM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Rr(t,this.startPoint)>IM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(ye),kM=OM,_M=5,BM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Rr(t,e);if(n>_M&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Xn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(ye),DM=BM,jv="x",Uv="y",FM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[jv,Uv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(jv),this.resetDim(Uv);var t=this.context.view;t.render(!0)},r}(ye),Zv=FM,RM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Zv),NM=RM,GM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,g=v-c,C=g/s;v>c&&C<100&&C>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(Zv),YM=GM;kt("dark",Ua(Ab)),Q("canvas",I),Q("svg",L),wa("Polygon",JS),wa("Interval",HS),wa("Schema",t2),wa("Path",hf),wa("Point",KS),wa("Line",jS),wa("Area",DS),wa("Edge",RS),wa("Heatmap",YS),ds("base",Qs),ds("interval",y2),ds("pie",b2),ds("polar",xv),Mo("overlap",O2),Mo("distribute",S2),Mo("fixed-overlap",I2),Mo("limit-in-shape",A2),Mo("limit-in-canvas",E2),Mo("pie-outer",M2),wi("fade-in",k2),wi("fade-out",_2),wi("grow-in-x",D2),wi("grow-in-xy",R2),wi("grow-in-y",F2),wi("scale-in-x",Y2),wi("scale-in-y",z2),wi("wave-in",H2),wi("zoom-in",W2),wi("zoom-out",j2),wi("position-update",G2),wi("sector-path-update",V2),wi("path-in",N2),Zt("rect",rC),Zt("mirror",tC),Zt("list",$2),Zt("matrix",J2),Zt("circle",Z2),Zt("tree",iC),An("axis",lC),An("legend",pC),An("tooltip",bC),An("annotation",oC),An("slider",yC),Ne("tooltip",Bv),Ne("sibling-tooltip",EC),Ne("ellipsis-text",TC),Ne("element-active",OC),Ne("element-single-active",GC),Ne("element-range-active",FC),Ne("element-highlight",Tf),Ne("element-highlight-by-x",HC),Ne("element-highlight-by-color",XC),Ne("element-single-highlight",UC),Ne("element-range-highlight",Rv),Ne("element-sibling-highlight",Rv,{effectSiblings:!0,effectByRecord:!0}),Ne("element-selected",QC),Ne("element-single-selected",qC),Ne("element-range-selected",KC),Ne("element-link-by-color",_C),Ne("active-region",SC),Ne("list-active",rM),Ne("list-selected",oM),Ne("list-highlight",Pf),Ne("list-unchecked",lM),Ne("legend-item-highlight",Pf,{componentNames:["legend"]}),Ne("axis-label-highlight",Pf,{componentNames:["axis"]}),Ne("rect-mask",Yv),Ne("x-rect-mask",Xv,{dim:"x"}),Ne("y-rect-mask",Xv,{dim:"y"}),Ne("circle-mask",hM),Ne("path-mask",Vv),Ne("smooth-path-mask",gM),Ne("cursor",mM),Ne("data-filter",bM),Ne("brush",vl),Ne("brush-x",vl,{dims:["x"]}),Ne("brush-y",vl,{dims:["y"]}),Ne("sibling-filter",If),Ne("sibling-x-filter",If),Ne("sibling-y-filter",If),Ne("element-filter",MM),Ne("element-sibling-filter",Wv),Ne("element-sibling-filter-record",Wv,{byRecord:!0}),Ne("view-drag",kM),Ne("view-move",DM),Ne("scale-translate",NM),Ne("scale-zoom",YM),Ne("reset-button",LM,{name:"reset-button",text:"reset"});function fo(i){return i.isInPlot()}Wn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Wn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Wn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Wn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Wn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Wn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Wn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Wn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Wn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Wn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Wn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Wn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Wn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:fo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:fo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Wn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Wn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:fo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:fo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Wn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:"path-mask:start"},{trigger:"mousedown",isEnable:fo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Wn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Wn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Wn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Wn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Wn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Wn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Kv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}Wn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Kv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Kv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Wn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var $v={translate:Uu,rotate:Tc,zoom:mb,transform:$s,getAngle:si,polarToCartesian:vn},dl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),zM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(dl),ho=typeof performance=="object"&&performance.now?performance:Date,XM=300,Qv=10,VM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>Qv||n-this.touchStartY>Qv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=ho.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},XM)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(dl),HM=100,WM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(ho.now()-this.latestMoveTime<HM){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=ho.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=ho.now()},r}(dl),jM=300,Jv=2,UM=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Jv&&n-this.touchStartY<Jv&&ho.now()-this.touchStartTime<jM&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=ho.now(),this.touchStartX=e,this.touchStartY=n},r}(dl),ZM={Pan:zM,Press:VM,Swipe:WM,Tap:UM},KM=function(i){return ZM[i]},qv=function(i){(0,B.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=KM(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(We.default),$M=d(68716),QM=$M.yD,JM=800,qM="swipe",tE="pan",td="wheel",eE=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(td,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=ho.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new qv(t,{gestures:["Pan","Swipe"]}),e.gm.on(qM,e.onSwipe),e.gm.on(tE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=ho.now(),s=(o-e.ms)/JM;if(s<1){s=QM(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit(td,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,B.__assign)((0,B.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(We.default),Fn=d(29583),ed=d(64815),rE=d(6750),LG=d(61058),nE=d(31882),co=d(27978),IG=d(38700),iE=d(88373),Oo=d(55225);An("gesture",V.Z);var la="origin",Cs="_origin",rd=1e3,nd=60*rd,id=60*nd,pl=24*id,aE=pl*7,oE=pl*30,sE=pl*365,lE={second:{value:rd,format:"HH:mm:ss"},miniute:{value:nd,format:"HH:mm"},hour:{value:id,format:"HH"},day:{value:pl,format:"YYYY-MM-DD"},week:{value:aE,format:"YYYY-MM-DD"},month:{value:oE,format:"YYYY-MM"},year:{value:sE,format:"YYYY"}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Of=function(r,t){return Of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Of(r,t)};function Be(i,r){Of(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Me=function(){return Me=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Me.apply(this,arguments)};function ad(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function OG(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function kG(i,r){return function(t,e){r(t,e,i)}}function _G(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function BG(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{u(e.next(h))}catch(c){o(c)}}function l(h){try{u(e.throw(h))}catch(c){o(c)}}function u(h){h.done?a(h.value):n(h.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function DG(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(h){return l([u,h])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(h){u=[6,h],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function FG(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function RG(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function od(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function uE(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function NG(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(uE(arguments[r]));return i}function gl(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function yl(i){return this instanceof yl?(this.v=i,this):new yl(i)}function GG(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(g){return new Promise(function(C,_){a.push([v,g,C,_])>1||s(v,g)})})}function s(v,g){try{l(e[v](g))}catch(C){c(a[0][3],C)}}function l(v){v.value instanceof yl?Promise.resolve(v.value.v).then(u,h):c(a[0][2],v)}function u(v){s("next",v)}function h(v){s("throw",v)}function c(v,g){v(g),a.shift(),a.length&&s(a[0][0],a[0][1])}}function YG(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:yl(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function zG(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof od=="function"?od(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function XG(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function VG(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function HG(i){return i&&i.__esModule?i:{default:i}}function WG(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function jG(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var ml=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],fE=[],hE={axis:"axis-label",label:"label",legend:"legend-item"},cE={title:"title",description:"description",breadcrumb:"breadcrumb"},sd=(0,f.deepMix)(Oi(cE),kf("Plot",ml)),ld=kf("Layer",ml),Ln=(0,f.deepMix)({},Oi(hE),kf("View",ml),vE());function xi(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Oi(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(ml,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function kf(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function vE(){var i={},r="on";return(0,f.each)(fE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var dE=d(85800),pE=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(dE.BBox),dn=pE,gE=function(i){Be(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new dn(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(ld);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=ld[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new dn(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(We.default),xl=gE;function jo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function ud(i,r){var t=gl(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function yE(i){return i.getComponents().filter(function(r){return r.type===Fn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function mE(i){return i.getComponents().filter(function(r){return r.type===Fn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function UG(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function ZG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function xE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function fd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function KG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var bE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return dn.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new dn(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:Me({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var g=n.getBBox().width-1;if(g>r){if(c===0)break;h.push(c),l=""}}return ud(u,h)});return n.remove(),o.join(`
`)},i}(),bl=bE,wE=function(i){Be(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=Me(Me({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(We.default),Ms=wE,SE=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,co.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,co.doAnimate)(u,c,{toAttrs:Me({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,co.doAnimate)(u,v,{toAttrs:Me({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,co.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",Me({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,g={x:h.x+u.x,y:h.y+u.y},C=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,_=a.getLabelId(C);return a.drawLabelText(t,Me(Me({},h),g),(v={id:_,name:"label",offset:l,element:e},v[la]=C,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new dn(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Ms),_f=SE,hd={};function ta(i,r){hd[i]=r}function CE(i){return hd[i]}var Bf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Df=function(){return function(i){return i}},cd=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},vd=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function Ff(i,r,t){i[t]&&(r[t]=i[t])}var ME=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=Me({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Ff(this.localProps,this.config,"autoHideLabel"),Ff(this.localProps,this.config,"autoRotateLabel"),Ff(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var g=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),g)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=ad(r,["style"]),n=Me({},e);t&&(n.style=Me({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=Me({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Bf(Df(),cd(r.precision),vd(r.suffix));return r.formatter&&(t=Bf(t,r.formatter)),t},i}(),EE=ME;function wl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function Rf(i,r){return i.x*r.y+i.y*r.x}function $G(i,r){var t=wl(i),e=wl(r),n=Rf(i,r),a=Math.acos(n/t/e);return a}function QG(i,r){var t=wl(i),e=wl(r),n=Rf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function JG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function qG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function Sl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return Wc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function dd(i,r,t){return i>=r&&i<=t}var AE=.001;function tY(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>AE*u*h){var v=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;dd(v,0,1)&&dd(g,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function TE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function Cl(i){return i*i}function Ml(i,r){return Math.sqrt(Cl(i.x-r.x)+Cl(i.y-r.y))}function pd(i,r){return Math.sqrt(Cl(i.x-r.x)+Cl(i.y-r.y))}function gd(i,r,t){var e=Ml(r,t);if(e===0)return Ml(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Ml(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function yd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(Ml(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=gd(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function PE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=TE(n,r);if(a)return!0}return!1}function md(i,r){if(PE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=yd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=yd(n,i);e>a&&(e=a)}),Math.min(t,e)}function LE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=Sl({x:0,y:0},s);l.x+=t,l.y+=e;var u=Sl({x:n,y:0},s);u.x+=t,u.y+=e;var h=Sl({x:0,y:a},s);h.x+=t,h.y+=e;var c=Sl({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(Ht,Dt){return Ht.y-Dt.y});var g=v[0].y,C=v[v.length-1].y,_=[v[0],v[1]],F=[v[2],v[3]],Y=_[0].x<_[1].x?_[0]:_[1],G=_[0].x<_[1].x?_[1]:_[0],$=F[0].x<F[1].x?F[0]:F[1],J=F[0].x<F[1].x?F[1]:F[0];v.sort(function(Ht,Dt){return Ht.x-Dt.x});var pt=v[0].x,_t=v[v.length-1].x,Ft={width:_t-pt,height:C-g,left:pt,right:_t,top:g,bottom:C,topLeft:Y,topRight:G,bottomLeft:$,bottomRight:J,centerX:pt+(_t-pt)/2,centerY:g+(C-g)/2};return Ft}var IE=2;function Nf(i){return i.length<5?i:Gf(i,IE)}function Gf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=gd(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=Gf(i.slice(0,n+1),r),c=Gf(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function xd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function OE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function bd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function kE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var _E=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,g=v.start,C=v.end;this.config=(0,f.clone)(o);var _=this.getXScale(),F=this.getYScale(),Y=(0,f.clone)(g),G=(0,f.clone)(C);(0,f.each)(g,function($,J){(!(0,f.contains)((0,f.toArray)(g[J]),"%")||(0,f.isNumber)(g[J]))&&(J===0?Y[J]=_.scale(g[0])*100+"%":Y[J]=(1-F.scale(g[1]))*100+"%")}),(0,f.each)(C,function($,J){(!(0,f.contains)((0,f.toArray)(C[J]),"%")||(0,f.isNumber)(C[J]))&&(J===0?G[J]=_.scale(C[0])*100+"%":G[J]=(1-F.scale(C[1]))*100+"%")}),this.config.start=Y,this.config.end=G}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,rn.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,rn.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,rn.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return xd(this.values);if(r==="mean")return OE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),BE=_E,DE=function(){function i(r){this.config={};var t=r.plot,e=ad(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=Me({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Bf(Df(),cd(t.precision),vd(t.suffix),t.formatter?t.formatter:Df())(a,e,n)}},i}(),FE=DE,ko,Yf;function wd(i,r){ko||Sd(i),(0,f.each)(ko,function(t){var e=Cd(t,r),n=e.labelData,a=e.con;if(Md(n,a)){var o=YE();t.shape.attr(o)}})}function RE(i,r){ko||Sd(i),(0,f.each)(ko,function(t,e){var n=Cd(t,r),a=n.labelData,o=n.con;if(Md(a,o)){var s=Yf[e],l=GE(s);t.shape.attr(l)}})}function Sd(i){var r;ko=[],Yf=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=NE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Yf.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}ko.push.apply(ko,a)})}function NE(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Cd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function GE(i){var r=i.opacity||1;return{opacity:r*.2}}function YE(){return{opacity:1,fontWeight:600,fill:"red"}}function Md(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var zE={active:wd,selected:wd,disable:RE},XE=function(i){Be(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(We.default),VE=XE;function Ja(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var HE=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new VE},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(Ja(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?xi(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=rA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),WE=HE,Uo,El;function Ed(i,r){Uo||Ad(i),(0,f.each)(Uo,function(t,e){var n=t.get("origin");if(Ja(n,r)){var a=El[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function jE(i,r){Uo||Ad(i),(0,f.each)(Uo,function(t,e){var n=t.get("origin");if(Ja(n,r)){var a=El[e],o=UE(a);t.attr(o)}})}function Ad(i){Uo=[],El=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){Uo.push(n),El.push(n.attr())})})}function UE(i){var r=i.opacity||1;return{opacity:r*.2}}var ZE={active:Ed,selected:Ed,disable:jE},KE=["xField","yField","angleField"];function Td(i,r){var t=i.options;if(QE(t,r)){var e=t.data;(0,f.each)(e,function(n){if(Ja(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Pd(r,o,!1)}),i.view.showTooltip(a)}})}}function $E(i,r){i.view.on("tooltip:change",function(t){Pd(r,t,!0)})}function Pd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;Ja(o,i)===e&&r.items.push(a)})}function QE(i,r){var t=JE(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function JE(i){var r=[];return(0,f.each)(KE,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var qE={active:Td,selected:Td,disable:$E},tA={axis:EE,label:FE,guideLine:BE},eA={tooltip:qE,label:ZE,axis:zE};function Gi(i,r){var t=tA[i];return new t(r).config}function rA(i,r){return eA[i][r]}var nA=["start","process","end","reset"],iA=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(nA,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),zf=iA,aA=function(i){Be(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(zf),Ca=aA,Ld=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Ba;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Ba||(Ba={}));var Al=4,Id=8,oA=32,sA=20,lA=999,Tl=function(i){i===void 0&&(i={});var r=Me({type:"horizontal",categorySize:oA,width:Id,height:Id,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Al,0,Al,0]:[0,Al,0,Al]),r},uA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Tl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new dn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new dn(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Ba.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Ba.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Tl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Mn.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",lA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Tl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),sA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Tl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Ld(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var g=(0,f.get)(u,v.field)||{};n.view.scale(v.field,Me(Me({formatter:v.formatter},g),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Ca),fA=uA,Pl=4,Od=16,Xf=function(i){i===void 0&&(i={});var r=Me({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Pl,0,Pl,0]:[0,Pl,0,Pl]),i.height||(r.height=Od),i.width||(r.width=Od);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},hA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Xf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new dn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new dn(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Xf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Mn.Slider(Me(Me({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Xf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,g=o.trendCfg,C=g===void 0?{}:g,_=l[0],F=l[1],Y=l[2],G=l[3],$=this.getSliderMinMaxText(this.curStart,this.curEnd),J=$.minText,pt=$.maxText,_t={x:e.minX+G,y:n.minY+_,width:e.width-G-F,height:n.height-_-Y,start:this.curStart,end:this.curEnd,minText:J,maxText:pt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:Me(Me({isArea:!1,smooth:!1},C),{data:this.getSliderTrendData()})};return _t},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Ld(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Ca),cA=hA,vA=function(i){Be(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Ms),dA=vA,kd="timelinestart",pA="timelinechange",_d="timelineend",gA="timelineupdate",yA=20,mA=20,xA=function(i){Be(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(_d,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(kd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(gA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new dA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+yA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-mA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,g){e.tickPosList.push(e.timeLine.x+g*h);var C=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),_=C.getBBox();return _.minX>c?(C.show(),c=_.minX+_.width+10):C.hide(),C})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(pA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(kd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(_d,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Ms),bA=xA,wA=40;function Bd(i){return Me({loop:!1,auto:!0,height:wA,padding:[0,20,0,0],speed:2},i)}var SA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Bd(e),a=n.padding[0],o=n.padding[2];return new dn(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Bd(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),g=this.getTicks(),C=e.width-c-u,_={x:e.minX+c,y:v.tl.y+l,width:C,height:v.height-l-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,f.isEqual)(_,this.timeLineConfig)||(this.timeLineConfig=_,this.timeline.update(_)):(this.container=this.canvas.addGroup(),this.timeline=new bA(Me({container:this.container},_)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=_)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(Fn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(Fn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Ca),CA=SA;function MA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=Xn.transform(t,r);i.setMatrix(e)}function Zo(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return Xn.transform(t,i)}function Dd(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function EA(i,r,t){$v.translate(i,r,t)}function eY(i,r){Util.rotate(i,r)}var AA=document.createElement("canvas"),Fd=AA.getContext("2d"),Ll=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Fd.font=[a,o,n,t+"px",e].join(" "),Fd.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?gl([i],(0,f.values)(r)).join(""):i}),Rd=function(i,r,t){var e=16,n=Ll("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Ll(i,t)<=r)return i;for(;l=a.substr(0,e),u=Ll(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Ll(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},ci;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(ci||(ci={}));var Il;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Il||(Il={}));var vo;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(vo||(vo={}));var TA=160,PA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=IA(e.target,function(o){return o.get("name")===ci.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(EA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:vo.NORMAL,style:{}},line:{spacingX:vo.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:vo.SMALL,style:{}},itemName:{spacingX:vo.NORMAL,spacingY:vo.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:vo.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:ci.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:ci.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),Dd(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:ci.TOOLTIP_INDICATOR_TITLE,attrs:Me({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:ci.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:ci.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:Me({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=Me({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:ci.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Rd(e.title,TA,n.style||{}),o=t.addShape({name:ci.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:Me({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:ci.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:ci.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:ci.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:Me({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:ci.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:Me({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(ci.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return dn.fromBBoxObject(l.getBBox())}),a=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return dn.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var g=dn.fromBBoxObject(c.getBBox()),C=dn.fromBBoxObject(v.getBBox());g.height<h.height&&c.attr("y",c.attr("y")+(h.height-g.height)/2),C.height<h.height&&v.attr("y",v.attr("y")+(h.height-C.height)/2),C.maxX<s&&v.attr("x",v.attr("x")+s-C.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Il.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(ci.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),c.forEach(function(C){C.attr(s.style),C.attr(s[g]||{})}),v.forEach(function(C){C.attr(l.style),C.attr(l[g]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(ci.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new qv(n),this.wheel=new eE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Ms),LA=PA;function IA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function OA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function po(i,r){return(0,f.head)(OA(i,r))}function kA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function rY(i,r){i.geometries.forEach(r)}function Vf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function _A(i,r,t){return(0,f.some)(r,function(e){return t(e.get(la),i.get(la))})}function Ol(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Hf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function kl(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return Hf(t,n,2)>0})}var Nd=8,Gd=function(i){i===void 0&&(i={});var r=Me({showTotal:!1,showPercent:!1,padding:[Nd,24,Nd,24],height:i.showPercent?72:54},i);return r},Ko;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Ko||(Ko={}));var BA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=nE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Vf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Ko.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Vf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Ko.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Vf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(ye);Ne("tooltip-indicator",BA),Wn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var DA=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=Gd(e),a=n.padding,o=a[0],s=a[2];return new dn(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Il.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Ko.ACTIVE_ELEMENT,this.onElementActive),e.on(Ko.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=Gd(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new LA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(_){return _.type==="color"}),c=[],v=e.getGroupScales()[0],g=v.field;v&&v.isCategory&&v.getTicks().forEach(function(_){var F=_.text,Y=_.tickValue,G=h.mapping(Y).join("")||a;c.push({id:Y,title:F,color:G,values:[]})});var C=(n==null?void 0:n.filter(function(_){return _[o.field]===l}))||[];return c.forEach(function(_){var F=C.find(function(Y){return Y[g]===_.id});_.values.push({value:s.formatter?s.formatter(F[s.field]):F[s.field]})}),c},r}(Ca),FA=DA;Ca.registerInteraction("slider",cA),Ca.registerInteraction("scrollbar",fA),Ca.registerInteraction("timeline",CA),Ca.registerInteraction("tooltip-indicator",FA);var Yd=Ca,RA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new dn(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new dn(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(_,F){typeof u[F]=="function"&&(u[F]=u[F](t))}),this.bleeding=(0,f.clone)(u);var h=[new dn(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(_){var F=_,Y=F.getBBox();h.push(Y)}),c=this._mergeBBox(h);var g=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],C=this._getPanel(e);return g[0]+=C[0],g[1]+=C[1],g[2]+=C[2],g[3]+=C[3],g},i.prototype._getCartesianAxis=function(r,t,e){var n=yE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new dn(t.minX-c,h,c,v)):s==="left"?e.push(new dn(u,t.maxY,c,v)):s==="top"&&e.push(new dn(t.maxX,h,c,v)):s==="left"?e.push(new dn(t.minX-c,h,c,v)):s==="bottom"?e.push(new dn(u,t.maxY,c,v)):s==="right"&&e.push(new dn(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=mE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new dn(l,t.minY-c,h,c)):o==="bottom"?e.push(new dn(l,t.maxY,h,c)):o==="left"?e.push(new dn(t.minX-h,u,h,c)):e.push(new dn(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(C){C.labelsContainer&&t.push(C.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(C){var _=C.get("children");_.forEach(function(F){if(!(F.type==="group"&&F.get("children").length===0)){var Y=F.getBBox();Y.minX<n&&(n=Y.minX),Y.maxX>a&&(a=Y.maxX),Y.minY<o&&(o=Y.minY),Y.maxY>s&&(s=Y.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var g=Math.max(s-parseFloat(l.maxY),0);if(g>0){var h=l.height/(l.height+g);g*=h}return[v,u,g,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),NA=RA,GA="#5B8FF9",YA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],zA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],zd=function(i){return i&&i.split("-")[0]==="top"?12:24},Xd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Vd=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Hd={width:400,height:400,bleeding:[Xd,24,Vd,24],padding:"auto",defaultColor:GA,colors:YA,colors_20:zA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,zd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},XA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Xd,24,Vd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,zd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Wd={default:Hd,dark:XA};function nY(i,r){var t=ji();Wd[i.toLowerCase()]=deepMix({},t,r)}function ji(i){i===void 0&&(i="default");var r=Wd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Hd)}var jd={};function Ud(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function ea(i,r){jd[i.toLowerCase()]=Ud(i,r)}function Zd(i){return jd[i.toLowerCase()]||{}}function VA(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var Wf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Kd={default:Wf};function $d(i,r){Kd[i.toLowerCase()]=(0,f.deepMix)({},Wf,r)}function Qd(i){var r=Kd[i.toLowerCase()];return r||Wf}var HA=gt(),WA=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?ji(r):(0,f.deepMix)({},ji(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},ji(e),Zd(t)):(0,f.deepMix)({},ji(),Zd(t),Ud(t,e))},i.prototype.getTheme=function(r,t){var e=VA(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},HA,e);return n},i.prototype.getResponsiveTheme=function(r){return Qd(r)||Qd("default")},i}(),jf=WA,jA=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new NA({plot:e}),e.stateController=new WE({plot:e}),e.themeController=new jf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),gl(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Ba.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Xu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Ba.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Ba.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Ba.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Ba.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Ba.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Gi("axis",{plot:this,dim:"x"}),e=Gi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=Gi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=dn.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new dn(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,Fn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=Yd.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:Ln;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;xi(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),jo(t.title)){var n=this.width,a=this.config.theme,o=new bl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:jo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),jo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new bl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=CE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=Yd.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(xl),vi=jA,UA=d(91033),ZA=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=ji(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=jf.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Ot.Z)(this.getCanvasDOM(),r),(0,Ot.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new UA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?tv:uv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),KA=ZA;function $A(i,r){return!!(i&&r&&i===r)}function QA(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var JA=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!$A(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(QA({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),qA=JA,Jd={};function Sn(i,r){Jd[i.toLowerCase()]=r}function tT(i){return Jd[i.toLowerCase()]}var eT=function(i){Be(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new KA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new qA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vi&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof xl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vi&&a.changeData(t)});else{var n=this.layers[0];n instanceof vi&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=tT(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(sd);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=sd[o]||o,l=a;e.on(s,l)}})},r}(We.default),fn=eT,rT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Es=rT,nT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Es),qd=nT;function iT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function tp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Uf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function aT(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convertPoint(s),C=tp(t,g);if(C>=.5)if(h===Math.PI*2){var _={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convertPoint(_);l.push(["A",C,C,0,v,c,F.x,F.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function oT(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var sT=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=me.min([0,0],l,v),u=me.max([0,0],u,v)}l=me.min([0,0],l,e[0]),u=me.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=me.sub(C,o,a),C=me.scale(C,C,r);var _=me.distance(v,a),F=me.distance(v,o),Y=_+F;Y!==0&&(_/=Y,F/=Y);var G=me.scale([0,0],C,-_),$=me.scale([0,0],C,F),J=me.add([0,0],v,G),pt=me.add([0,0],v,$);s&&(J=me.max([0,0],J,l),J=me.min([0,0],J,u),pt=me.max([0,0],pt,l),pt=me.min([0,0],pt,u)),n.push(J),n.push(pt)}return t&&n.push(n.shift()),n};function lT(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=sT(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function uT(i,r){return iT(i,r)}function Zf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return uT(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=lT(e,r,o);return s.unshift(["M",n.x,n.y]),s}function iY(i,r){return tp(i,r)}function aY(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function oY(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Uf(e,i));break;case"z":default:t.push(e);break}}),t}function sY(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Uf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(aT(e,n,i)):t.push(Uf(s,i));break;case"z":default:t.push(s);break}}),oT(t),t}_n("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=ep(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:np(i.color||ji().defaultColor),opacity:t||.4},style:n});return a}}),_n("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=ep(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:np(i.color||ji().defaultColor),opacity:t||.5}});return n}});function ep(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=Nf(r.parsePoints(n));var o=t?Zf(n,!1,e):rp(n),s=rp(a);s[0][0]="L";var l=o.concat(s);return l}function rp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function np(i){return"l(90) 0:"+i+" 1:#ffffff"}var fT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(qd),hT=fT,cT={main:qd,mini:hT},ip=["colorField","stackField","groupField"],vT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=ip;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=ip;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Es),dT=vT,pT={main:dT},gT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Es),Kf=gT,yT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Kf),mT=yT;_n("line","miniLine",{draw:function(i,r){for(var t=Nf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||ji().defaultColor,lineWidth:i.size||2},s)});return l}}),_n("line","miniLineSmooth",{draw:function(i,r){var t=Nf(i.points),e=[[0,0],[1,1]],n=Zf(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||ji().defaultColor,lineWidth:i.size||2},i.style)});return a}});var xT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Kf),bT=xT,wT={main:Kf,guide:mT,mini:bT},ST=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Es),CT=ST;function MT(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var ET=["seriesField","stackField"],AT=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=MT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=ET;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Es),TT=AT,PT={guide:TT,circle:CT},LT={area:cT,line:wT,point:PT,interval:pT};function yi(i,r,t){var e=LT[i][r];return new e(t).config}function IT(i){var r=lE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function Ei(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=IT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function OT(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var $f;function kT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[$f.options.yField],u=(0,f.clone)(i.get("origin"));_T(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,g=null,C=$f.options.seriesField;C&&(g=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][C],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var _=g?16:0,F=c.addShape("text",{attrs:{x:o.start.x+v,y:_,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),F.animate({opacity:0},300,function(){F.remove(),(0,f.isNil)(g)||g.remove();var $=n.labelsContainer;$.get("visible")||$.set("visible",!0)}))};var Y=e.delay;(0,f.isFunction)(Y)&&(Y=e.delay(a));var G=e.easing;(0,f.isFunction)(G)&&(G=e.easing(a)),h.animate({width:o.getWidth()},e.duration,G,e.callback,Y),e.onFrame=function($){var J=ap($,u,o);if(!!J){F.attr("x",J[0]+v),F.attr("y",J[1]+_);var pt=BT(l,J[1],o);l.formatter&&(pt=l.formatter(pt)),F.attr("text",pt)}},F.animate(e.onFrame,{duration:e.duration,easing:G,callback:e.callback,delay:Y}),g&&g.animate({onFrame:function($){var J=ap($,u,o);!J||(g.attr("x",J[0]+v),g.attr("y",J[1]))}},e.duration,G,e.callback,Y)}function _T(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function ap(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function BT(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function DT(i){$f=i}wi("clipingWithData",kT);var FT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},LE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),op=FT;function RT(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var NT={type:"padding",usage:"assign",expression:RT};function GT(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=md(t,e);return Math.round(n)>=2}var YT={type:"group",usage:"compare",expression:GT};function zT(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=md(e,n);return Math.round(a)>=t.value}var XT={type:"chain",usage:"compare",expression:zT};function VT(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var HT={type:"chain",usage:"compare",expression:VT};function WT(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var jT={type:"padding",usage:"compare",expression:WT};function UT(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var ZT={type:"padding",usage:"assign",expression:UT};function KT(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var $T={type:"padding",usage:"assign",expression:KT},sp={elementDist:XT,elementDistVertical:HT,elementCollision:YT,elementWidth:jT,columnWidth:NT,ringThickness:$T,minRingThickness:ZT};function lY(i,r){sp[i]=r}function $o(i){i.attr("text","")}function QT(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=lp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var g=c.shape;$o(g),g.set("blank",!0)}}))}function lp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var go=d(19432),JT=1e3,up=60*JT,Qf=60*up,_l=24*Qf,fp=31*_l,hp=365*_l;function cp(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),g=vp(h,v),C=vp(l,o);if(g===C){if(t!==0&&t!==n.length-1){var _=eP(g);i.attr("text",go.default.format(l,_))}return}if(t!==0){var F=n[t-1].shape.get("delegateObject").item.name,Y=new Date(F),G=qT(g,l,Y);if(G){var _=tP(g,C);i.attr("text",go.default.format(l,_));return}}}function qT(i,r,t){var e=dp(r,i),n=dp(t,i);return e===n}function vp(i,r){var t,e=Math.abs(i-r),n={minute:[up,Qf],hour:[Qf,_l],day:[_l,fp],month:[fp,hp],year:[hp,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function tP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function eP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function dp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function rP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var pp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function gp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=yp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=iP(n),h=xd(u),l=nP(h),c=pp[l].number,v=aP(n),g=oP(v,c),s=yp({unit:l,decimal:g},a).num;i.attr("text",s+l)}}}}function yp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=pp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function nP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function iP(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function aP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function oP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function sP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=lP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function lP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=Rf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=uP(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function uP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function fP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(lp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),g=hP(c,v).get("box"),C=g.left+g.width/2,_=g.top,F=s.get("labelController").labelsContainer,Y=F.addShape("path",{attrs:{path:[["M",C,_],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),G={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=Y,n[t].origin_position=G}}}}function hP(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function cP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!mp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&$o(i)}}function mp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function vP(i,r,t,e){var n=e.nodes.nodes;if(!mp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&$o(i)}}function dP(i,r,t,e){var n=e.nodes.nodes,a=gP(n);if(!(t<=1)){var o=n[t],s=pP(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&($o(i),i.set("blank",!0))}}function pP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function gP(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function yP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=mP(o,l,n),h=!1;if((0,f.each)(u,function(C){C.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,g=c.y;i.attr("x",v),i.attr("y",g)}}else $o(i)}function mP(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Jf(t,r,n),o=e[e.length-1],s=Jf(t,r,o),l=xP(e),u=Jf(t,r,l);return{min:a,max:s,median:u}}function xP(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Jf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function xp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function bP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?gp(i,r,t,n):rP(a)?cp(i,r,t,n):xp(i,r)}function wP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function SP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var bp={textWrapper:SP,textRotation:wP,textAbbreviate:xp,textHide:$o,digitsAbbreviate:gp,datetimeStringAbbrevaite:cp,robustAbbrevaite:bP,nodesResampling:cP,nodesResamplingByAbbrevate:vP,nodesResamplingByChange:dP,nodesResamplingByState:yP,nodeJitter:sP,nodeJitterUpward:fP,clearOverlapping:QT};function uY(i,r){bp[i]=r}var CP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=sp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=bp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),wp=CP,MP=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),Sp=MP,EP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},AP=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new op({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new wp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return EP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(Sp),yo=AP;function TP(i){var r=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:r,dim:"x"}),new yo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var PP=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new op({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new wp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(Sp),Cp=PP,LP=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(Cp);function IP(i){var r=i.getResponsiveTheme();new LP({plot:i,responsiveTheme:r})}var OP=[],kP=[{name:"responsiveAxis",method:TP},{name:"responsivePointLabel",method:IP}],_P={preRender:OP,afterRender:kP},Mp=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Me({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return Me(Me(Me({},n.getPosition(u)),{text:s?s(v,(c={},c[Cs]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=fd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=fd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(_f),Ep=Mp;ta("point",Mp);var Ap=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=dn.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(g){return g.get(la)[Fn.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(g){for(var C=n.sortLabels(t,c[g]);C.length;){var _=C.shift();if(_A(_,o,function(G,$){return G._origin[u]===$._origin[u]&&G._origin[h]===$._origin[h]})){_.set("visible",!1);continue}Ol(_,s);var F=kl(_,o),Y=void 0;if(F&&(_.attr("y",_.attr("y")+2*v),Ol(_,s),Y=kl(_,o)),Y){_.set("visible",!1);continue}o.push(_)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(la)[Fn.FIELD_ORIGIN][n]-o.get(la)[Fn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Ep),BP=Ap;ta("point-auto",Ap);var DP=8,FP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:DP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),Tp=FP,RP={line:"line",point:"point"},NP=Oi(RP);(0,f.assign)(Ln,NP);var GP={stroke:"transparent",fill:"#FCC509",lineWidth:0},YP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},zP={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},XP=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:GP,selected:zP,active:YP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(Y){return(0,f.isMatch)(Y._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,g=v.offsetX,C=v.offsetY,_=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var F=c.substr(8);_=l.addShape("image",{attrs:{x:u-t.size/2+g,y:h-t.size/2+C,img:F,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?rE.MarkerSymbols[c]:c,_=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:Me(Me({x:u+g,y:h+C,r:t.size/2},s),{symbol:c})});t.points.push(_),t._animatePoint(_),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var g=(0,f.isArray)(t.x)?t.x[0]:t.x,C=(0,f.isArray)(t.y)?t.y[0]:t.y,_=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:Me(Me({x:g+o,y:C+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(_)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?co.DEFAULT_ANIMATE_CFG.appear:l;r.animate(Me({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),VP=XP,HP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},WP=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},jP=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ea("line",{lineStyle:{normal:{},active:HP,disable:WP,selected:jP},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var UP={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};$d("line",UP);var ZP=function(i){Be(r,i);function r(t){return i.call(this,Me({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(zf),KP=ZP,$P=function(i){Be(r,i);function r(t){return i.call(this,Me({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(zf),QP=$P,JP=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return Me(Me({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(ed.Z);An("selected-tooltip",JP);var qP=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(ye),tL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return Me(Me({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(ed.Z);An("tooltip-active",tL);var eL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(ye),rL=eL;Ne("selected-tooltip",qP),Wn("selected-tooltip",{start:[{trigger:Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Ne("marker-active",rL),Wn("marker-active",{start:[{trigger:Fn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var nL={line:"line",point:"point"},Pp=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new VP(Me(Me({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return nL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),this.setConfig("scales",e),OT(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=yi("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=yi("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=po(this.view,"line");if(n.type==="line"){var l=new Tp(Me({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,Me({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(DT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new KP({view:this.view})),this.interactions.push(new QP({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,T)},r.prototype.applyResponsive=function(t){var e=this,n=_P[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(vi),As=Pp;Sn("line",Pp);var iL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=As.getDefaultOptions,r}(fn),Lp=iL;function aL(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function oL(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var sL=(1+Math.sqrt(5))/2;function Ip(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Ft,Ht){return Ht.value-Ft.value});for(var s=[],l,u,h,c,v,g,C,_,F=0,Y=0;F<a.length;){var G=e-r,$=n-t;for(l=a[Y++].value,u=l,h=l,c=Math.max($/G,G/$)/(o*sL),v=l*l*c,C=Math.max(u/v,v/h);Y<a.length;Y++){if(_=a[Y].value,l+=_,_<h&&(h=_),_>u&&(u=_),v=l*l*c,g=Math.max(u/v,v/h),g>C){l-=_;break}C=g}var J={value:l,dice:G<$,children:a.slice(F,Y)};if(s.push(J),J.dice){var pt=o?$*l/o:$;aL(J,r,t,e,t+pt),o&&(t+=pt)}else{var _t=o?G*l/o:G;oL(J,r,t,r+_t,n),o&&(r+=_t)}o-=l,F=Y}return s}var lL=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=Me({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=Me({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=Me({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=Me({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=Me({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Dd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:Me({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,C){var _=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),F=_.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:Me(Me({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});F.name="breadcrumb";var Y=_.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:Me(Me({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});Y.name="breadcrumb";var G=Y.getBBox();c=a.itemHeight||G.height;var $=a.itemWidth||G.width;a.maxItemWidth&&($=Math.min($,a.maxItemWidth));var J={x:e,y:n,width:$+h+l,height:c+s+u};if(F.attr("width",J.width),F.attr("height",J.height),_.setClip({type:"rect",attrs:J}),e+=J.width,C!==a.items.length-1){var pt=t.addShape("text",{attrs:Me({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=pt.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Ms),uL=lL,Bl=[1,0,0,0,1,0,0,0,1],_o=400,Qo="easeQuadInOut";function fL(i,r,t){var e=Bp(i),n=_p(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=Zo([["s",a,o],["t",s,l]]),h=r.geometries[0];Dl(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Op(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(F,Y){Y===0?F.animate({matrix:u},_o,Qo,function(){c.remove(),r.canvas.draw()}):F.animate(Zo,_o)}),h=r.geometries[0],Dl(h);var g=h.getShapes();(0,f.each)(g,function(F){F.attr("opacity",0),F.animate({opacity:1},_o,Qo)});var C=h.container;C.stopAnimate(),C.set("visible",!0),C.attr("matrix",(0,f.clone)(Bl)),MA(C,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var _=(0,f.clone)(Bl);h.container.animate({matrix:_},_o,Qo,function(){Dp(h)}),r.canvas.draw()},16)}function Op(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function kp(i,r,t){var e=r.geometries[0];Dl(e);var n=e.container;n.attr("matrix",(0,f.clone)(Bl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Op(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Dl(e),n=e.container;var s=hL(e.getShapes(),i),l=Bp(s),u=_p(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),cL(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,g=(u.minX-l.minX)*c,C=(u.minY-l.minY)*v,_=Zo([["s",c,v],["t",g,C]]);n.setMatrix(_),n.set("visible",!0),n.animate({matrix:Bl},_o,Qo,function(){Dp(e)})}function hL(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function _p(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Bp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function cL(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=Zo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},_o,Qo,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},_o,Qo)})}function Dl(i){var r=i.labelsContainer;r.set("visible",!1)}function Dp(i){var r=i.labelsContainer;r.set("visible",!0)}var vL=100,dL=30,pL=10,gL=function(i){i===void 0&&(i={});var r=Me({x:0,y:0,startNode:{name:"root"},itemWidth:vL,itemHeight:dL,padding:[0,0,0,0]},i);return r},Fp=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=gL(e),a=n.padding,o=a[0],s=a[1];if(t)return new dn(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,fL(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+pL,this.breadcrumb=new uL({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?kp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?kp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Ca),yL=Fp;Ca.registerInteraction("drilldown",Fp);var mL={drilldown:yL},xL={rect:"polygon",breadcrumb:"breadcrumb"},bL=Oi(xL);(0,f.assign)(Ln,bL);var Rp=4,wL=8;function SL(i,r){return!i.children||i.depth>=r}function CL(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var g=h[v];a.attr("text",u+=g);var C=a.getBBox().width-1;if(C>r){if(v===0)break;c.push(v),u=""}}return ud(h,c)});return a.remove(),s.join(`
`)}function Np(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var ML=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=SL(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,wL),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Rp*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=CL(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var g=Np(a,s,h,this.container);r.attr("text",g)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Rp*2;if(r.getBBox().width>n){var a=Np(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),EL=ML,AL=4,Ts=4,Gp=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new EL(Me({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Ip(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=mL[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Ts;s.showLabel=c!==Ts;var v=Ip(s,s.x0+Ts,s.y0+c,s.x1-Ts,s.y1-Ts);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push(Me(Me({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+AL*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(vi),TL=Gp;Sn("treemap",Gp);var PL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=TL.getDefaultOptions,r}(fn),Yp=PL,zp=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(As);Sn("step-line",zp);var LL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=zp.getDefaultOptions,r}(fn),Xp=LL;function Vp(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var IL=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},co.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Vp(r,o)[a?3:0],l=Vp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var g=this.container.addShape("polygon",{name:"arrow",attrs:Me(Me({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(g)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:Me(Me({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,g=c.getBBox().width;if(g>v){var C=g/h.length,_=Math.max(1,Math.ceil(v/C)-1),F=h.slice(0,_)+"...";c.attr("text",F)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",co.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Hp=IL;function OL(i){var r=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:r,dim:"x"}),new yo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var kL=[],_L=[{name:"responsiveAxis",method:OL}],BL={preRender:kL,afterRender:_L},DL=function(i){var r=i.opacity||1;return{opacity:r*.5}},FL=function(i){var r=i.opacity||1;return{opacity:r*.5}},qf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:DL,disable:FL,selected:{lineWidth:1,stroke:"black"}}};ea("bar",qf);function qa(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function th(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function fY(i){return"#"+(th(i[0])+th(i[1])+th(i[2]))}function Fl(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var eh=function(i){var r=qa(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Wp=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,Me(Me({},this.getPosition(t)),{text:s?s(u,(n={},n[Cs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Me({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,_=l+u/2+g,F=n<0?-1:1,Y;if(C==="left"){var G=n>0?o:s;Y=G+e*F+v}else if(C==="right"){var G=n>0?s:o;Y=G+e*F+v}else Y=o+h/2+v;return{x:Y,y:_}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Fl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new dn(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(_f),jp=Wp;ta("bar",Wp);var Up=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,g=l+u/2+v,C=n<0?-1:1,_=n>0?s:o,F=_+e*C+c;return{x:F,y:g}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(la)[Fn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(la)[Fn.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,_=eh(C.attr("fill")),F=n.getElementShapeBBox(g),Y=dn.fromBBoxObject(c.getBBox());if(Hf(a,F)<=0&&c.set("visible",!1),Y.width>F.width){var G=(0,f.findIndex)(v,function(J){return J===c});G!==v.length-1&&c.set("visible",!1)}else{c.attr({x:F.x+F.width/2,textAlign:"center"});var $=Y.width>F.width||Y.height>F.height;$?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:_?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:_?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(la)[Fn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(la)[Fn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Ol(v,n),kl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(jp),RL=Up;ta("bar-auto",Up);var NL={bar:"interval"},GL=Oi(NL);(0,f.assign)(Ln,GL);var YL={bar:"interval"},zL={interval:"bar"},Zp=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Hp(Me({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?YL[e]:zL[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Gi("axis",{plot:this,dim:"x"}),e=Gi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,Me({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=BL[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(vi),Rl=Zp;Sn("bar",Zp);var XL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Rl.getDefaultOptions,r}(fn),Kp=XL;ea("stackedBar",qf);var VL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(jp),hY=null;ta("stacked-bar",VL);var HL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(RL),cY=null;ta("stacked-bar-auto",HL);var $p=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,Me({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Rl),rh=$p;Sn("stackedBar",$p);var WL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rh.getDefaultOptions,r}(fn),Qp=WL;ea("groupedBar",qf);var Jp=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Rl),qp=Jp;Sn("groupedBar",Jp);var jL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qp.getDefaultOptions,r}(fn),tg=jL,nh=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=Me(Me({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},eg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return nh(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(rh),rg=eg;Sn("percentStackedBar",eg);var UL=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rg.getDefaultOptions,r}(fn),ng=UL,ig=8;function ZL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var KL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var g=v===0?r.options.leftStyle:r.options.rightStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var _=r.options.formatter,F=_?_(l[v]):l[v],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:F,fill:C,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new dn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:ig,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=ZL(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,g=u[0].maxX-u[1].minX>2,C=v>s;(g||C)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+ig,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),$L=KL,ag;function og(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}og.animationName="clipInFromCenter";function QL(i){ag=i}function sg(i,r){var t=JL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function JL(i){var r=i.id,t;return(0,f.each)(ag,function(e){e.id===r&&(t=e)}),t}sg.animationName="updateFromCenter",wi("clipInFromCenter",og),wi("updateFromCenter",sg);var lg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),QL(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new $L(Me({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Rl),qL=lg;Sn("rangeBar",lg);var tI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qL.getDefaultOptions,r}(fn),ug=tI,fg=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Ep),eI=fg;ta("area-point",fg);var hg=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=po(e,"area"),l=kA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=kE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(_){return{area:_,matches:(0,f.filter)(c,function(F){return!!_.isHit(F[0],F[1])}).length}}).sort(function(_,F){return _.matches-F.matches});if((0,f.last)(v).matches>0){var g=(0,f.last)(v).area.attr("fill"),C=eh(g);u.attr({fill:C?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:C?o.fillOpacity:a.fillOpacity,stroke:C?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(BP),rI=hg;ta("area-point-auto",hg);function nI(i){var r=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:r,dim:"x"}),new yo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var iI=[],aI=[{name:"responsiveAxis",method:nI}],oI={preRender:iI,afterRender:aI},sI={area:"area",line:"line",point:"point"},lI=Oi(sI);(0,f.assign)(Ln,lI);var uI=function(i){var r=i.opacity||1;return{opacity:r}},fI=function(i){var r=i.opacity||1;return{opacity:r*.5}},hI=function(i){var r=i.opacity||1;return{opacity:r}},cI=function(i){var r=i.opacity||1;return{opacity:r*.5}},vI=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},dI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},pI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},gI=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},cg={areaStyle:{normal:{},active:uI,disable:fI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:hI,disable:cI,selected:vI},pointStyle:{normal:{},active:dI,disable:gI,selected:pI},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ea("area",cg);var yI={area:"area",line:"line",point:"point"},vg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return yI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=yi("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=yi("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=yi("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=po(this.view,"area");this.doRenderLabel(s,Me({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=oI[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(vi),ih=vg;Sn("area",vg);var mI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ih.getDefaultOptions,r}(fn),dg=mI,xI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(Tp),bI=xI,ah=12,wI=.01,SI=100,CI=12;function MI(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function pg(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function EI(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var AI=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),g=r.options.formatter,C=g?g(o._origin[t]):o._origin[t],_=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:C,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(_)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=MI(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(CI,a,this.testFit,u,wI,SI);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=pg(o,e,0),l=pg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=EI(a,h),v=-Infinity,g=null,C=Infinity,_=s;_<c;_++){var F=a[_].y[1],Y=a[_].y[0];if(Y<C&&(C=Y),F>v&&(v=F,g=Y),C-v<n)break}if(C-v>=n)return o?!0:{x:u,y0:v,y1:g,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=ah;var e=this.container.addShape("text",{attrs:Me({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return ah*t}return ah},i}(),TI=AI,PI={lineLabel:{Ctr:bI},areaLabel:{Ctr:TI}};function LI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=PI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var II=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(eI),vY=null;ta("stackedArea-point",II);var OI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(rI),dY=null;ta("stackedArea-point-auto",OI),ea("stackedArea",cg);var gg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=Me({view:t.view,plot:t},t.options[n]),o=LI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(ih),oh=gg;Sn("stackedArea",gg);var kI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=oh.getDefaultOptions,r}(fn),yg=kI,mg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return nh(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(oh),xg=mg;Sn("percentStackedArea",mg);var _I=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xg.getDefaultOptions,r}(fn),bg=_I;function BI(i){var r=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:r,dim:"x"}),new yo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var DI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(Cp);function FI(i){var r=i.getResponsiveTheme();new DI({plot:i,responsiveTheme:r})}var RI=[],NI=[{name:"responsiveAxis",method:BI},{name:"responsiveLabel",method:FI}],GI={preRender:RI,afterRender:NI},YI={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};$d("column",YI);var wg=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,Me(Me({},this.getPosition(t)),{text:l?l(h,(n={},n[Cs]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return Me({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,_=o+h/2+v,F=n>0?-1:1,Y;if(C==="top"){var G=n>0?s:l;Y=G+e*F+g}else if(C==="bottom"){var G=n>0?l:s;Y=G+e*F+g}else Y=s+u/2+g;return{x:_,y:Y}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Fl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new dn(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(_f),sh=wg;ta("column",wg);var Sg=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,g=o+u/2+c,C=n>0?-1:1,_=n>0?s:l,F=_+e*C+v;return{x:g,y:F}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(la)[Fn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(la)[Fn.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,_=eh(C.attr("fill")),F=n.getElementShapeBBox(g),Y=dn.fromBBoxObject(c.getBBox());if(Hf(a,F)<=0&&c.set("visible",!1),Y.height>F.height){var G=(0,f.findIndex)(v,function(J){return J===c});G!==0&&c.set("visible",!1)}else{c.attr({y:F.y+F.height/2,textBaseline:"middle"});var $=Y.width>F.width||Y.height>F.height;$?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:_?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:_?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(la)[Fn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(la)[Fn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Ol(v,n),kl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(sh),zI=Sg;ta("column-auto",Sg);var XI={column:"interval"},VI=Oi(XI);(0,f.assign)(Ln,VI);var HI=function(i){var r=i.opacity||1;return{opacity:r*.5}},WI=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},lh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:HI,disable:WI,selected:{lineWidth:1,stroke:"black"}}};ea("column",lh);var jI={column:"interval"},UI={interval:"column"},Cg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Hp(Me({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?jI[e]:UI[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,Me({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=GI[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(vi),Jo=Cg;Sn("column",Cg);var ZI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jo.getDefaultOptions,r}(fn),Mg=ZI;ea("groupedColumn",lh);var Eg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Jo),uh=Eg;Sn("groupedColumn",Eg);var KI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=uh.getDefaultOptions,r}(fn),Ag=KI;function Tg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function $I(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var QI=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=Tg(r[a],n),s=Tg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=$I()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Ja(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Ja(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");Ja(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");Ja(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),JI=QI;ea("stackedColumn",lh);var qI=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(sh),pY=null;ta("stacked-column",qI);var tO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(zI),gY=null;ta("stacked-column-auto",tO);var Pg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new JI(Me({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,Me({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Jo),Nl=Pg;Sn("stackedColumn",Pg);var eO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Nl.getDefaultOptions,r}(fn),Lg=eO,fh=8;function rO(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var nO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var g=v===1?r.options.topStyle:r.options.bottomStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var _=r.options.formatter,F=_?_(l[v]):l[v],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:F,fill:C,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new dn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:fh,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=rO(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var C=c[0].height+c[1].height,_=c[1].maxY-c[0].minY>2,F=C>u;(_||F)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-fh&&(v=h.maxY-fh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",g),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),iO=nO,Ig;function Og(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Og.animationName="clipInFromCenterVertical";function aO(i){Ig=i}function kg(i,r){var t=oO(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function oO(i){var r=i.id,t;return(0,f.each)(Ig,function(e){e.id===r&&(t=e)}),t}kg.animationName="updateFromCenterVertical",wi("clipInFromCenterVertical",Og),wi("updateFromCenterVertical",kg);var _g=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),aO(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new iO(Me({view:this.view,plot:this},this.options.label));t.render()}},r}(Jo),sO=_g;Sn("rangeColumn",_g);var lO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=sO.getDefaultOptions,r}(fn),Bg=lO,Dg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return nh(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Nl),Fg=Dg;Sn("percentStackedColumn",Dg);var uO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fg.getDefaultOptions,r}(fn),Rg=uO,fO={pie:"interval"},hO=Oi(fO);(0,f.assign)(Ln,hO);function Gl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function yY(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function cO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function vO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function mY(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var dO=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function pO(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function gO(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var xY=4;function yO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function mO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var xO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=cO(l,u),!dO(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return mO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,g){var C=(0,f.deepMix)({},v,e),_=r.getFilteredSum(),F=r.plot.options.angleField,Y=v.origin[F]/_,G=n?n(v.name,{_origin:v.origin,percent:Y},g):v.name,$=r.container.addGroup({name:"itemGroup",index:g,capture:!1}),J=$.addShape("text",{attrs:(0,f.deepMix)({},C,{x:v.x+o,y:v.y+s,text:G})});J.set("id","text-"+v.name+"-"+g),c.push(J)}),c.forEach(function(v){var g=r.coordinateBBox;r.adjustText(v,g)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,g){a&&r.rotateLabel(v,gO(h[g].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Rd(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:Me({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Gl(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},g=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],C=["L",u.x,u.y],_=n?g:C,F=["M",v.x,v.y].concat(_).concat("L",t.x,t.y);return F.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*yO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=Xn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Gl(n,s.angle,a+t),u=Me(Me({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var g=v.shape.get("origin"),C=g.color,_=g.data[0]||g.data,F=s+Math.PI*2*u.scale(_[h]),Y=(s+F)/2,G=Gl(a,Y,o);s=F;var $=u.getText(_[t]),J=G.x>a.x?"left":"right";return{x:G.x,y:G.y,color:C,name:$,origin:_,angle:pO(r.getGeometry().coordinate,G),textAlign:J}});this.arcPoints=c},i}(),hh=xO;function bY(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var bO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:Me(Me({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=vO(s,l),g=v.xOverlap,C=v.yOverlap;if(g&&(h.x=u.x+g,h.y=u.y+Math.tan(o)*g),C){var _=C;u.y<a.y?_=_<0?_:l.minY-s.maxY:_=_>0?_:l.maxY-s.minY,c.y=u.y+_,c.x=u.x+_/Math.tan(o)}var F=pd(u,h),Y=pd(u,c),G=F<Y?h:c;t.attr("x",G.x),t.attr("y",G.y)}},r}(hh),wO=bO,wY=16,SO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Me(Me({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),g=Math.floor(v/o);this.options.allowOverlap||t.slice(g).forEach(function(Dt){Dt.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(Dt,qt){return Dt.getBBox().y-qt.getBBox().y});for(var C=!0,_,F=l.y+v/2,Y=l.y-v/2,G=t.map(function(Dt){var qt=Dt.getBBox();return qt.maxY>F&&(F=Math.min(n.maxY,qt.maxY)),qt.minY<Y&&(Y=Math.max(n.minY,qt.minY)),{text:Dt.attr("text"),size:o,pos:qt.y,targets:[]}}),$=0;$<G.length;)$===G.length-1?G[$].targets[0]=F:G[$].targets[0]=G[$+1].pos-G[$+1].size/2,$++;for(;C;)for(G.forEach(function(Dt){var qt=(0,f.last)(Dt.targets);Dt.pos=Math.max(Y,Math.min(Dt.pos,qt-Dt.size))}),C=!1,_=G.length;_--;)if(_>0){var J=G[_-1],pt=G[_];if(J.pos+J.size>pt.pos){J.size+=pt.size,J.targets=J.targets.concat(pt.targets);var _t=(0,f.last)(J.targets);J.pos+J.size>_t&&(J.pos=_t-J.size),G.splice(_,1),C=!0}else J.targets.splice(-1,1,pt.pos)}_=0,G.forEach(function(Dt){var qt=o/2;Dt.targets.forEach(function(){t[_].attr("y",Dt.pos+qt),qt+=o,_++})});var Ft=[],Ht=[];t.forEach(function(Dt,qt){var ve=a.arcPoints[qt];ve.angle>=0&&ve.angle<=Math.PI?Ht.push(Dt):Ft.push(Dt)}),[Ft,Ht].forEach(function(Dt,qt){if(!!Dt.length){var ve=qt?(0,f.last)(Dt).getBBox().maxY-l.y:l.y-(0,f.head)(Dt).getBBox().minY;ve=Math.max(c,ve);var fe=h>4?4:0,Te=Math.max.apply(0,(0,f.map)(t,function(er){return er.getBBox().width}))+h+fe,De=Math.max(c,Math.min((ve+c)/2,l.x-(n.minX+Te))),ke=De*De,Je=ve*ve;Dt.forEach(function(er,nr){var Ke=a.arcPoints[nr],$e=er.getBBox(),Mr={x:$e.minX+$e.width/2,y:$e.minY+$e.height/2},Cr=Math.pow(Mr.y-l.y,2),_r=Gl(l,Ke.angle,u),ir=(e?1:-1)*fe*2;if(Cr>Je)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",er.attr("text")),er.attr("x",_r.x+ir);else{var Tr=l.x+(e?1:-1)*Math.sqrt((1-Cr/Je)*ke);(l.x===_r.x&&Mr.y===_r.y||l.y===_r.y&&Tr===_r.x)&&(Tr=_r.x),er.attr("x",Tr+ir)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(hh),CO=SO,SY=16,MO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:Me(Me({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(hh),EO=MO,Ng={inner:wO,outer:CO,"outer-center":EO};function AO(i){if(!Ng[i]){console.warn("this label "+i+" is not registered");return}return Ng[i]}var TO=0,ch=15,PO="#CCC",LO=2,IO=-2,Gg=15;function Yg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var OO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(pt){e.push(pt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,g=this.view.coordinateBBox,C=g.width,_=g.height;this.width=C,this.height=_;for(var F=c,Y=function(pt){var _t=t[pt],Ft=u.scale(_t[l]),Ht=F+Math.PI*2*Ft,Dt=F+(Ht-F)/2;F=Ht;var qt=Yg(h,Dt,v+TO),ve=Yg(h,Dt,v+ch),fe=PO;if(G.options.fields.length===2){var Te=G.options.fields[1],De=G.view.geometries[0].scales[Te],ke=De.scale(_t[Te]);if(ke){var Je=Math.floor(ke*(e.length-1));fe=e[Je].attr("fill")}}var er={_anchor:qt,_inflection:ve,_data:_t,x:ve.x,y:ve.y,r:v+ch,fill:fe,textGroup:null,_side:null},nr=[];if((0,f.each)(G.options.fields,function(Hr){o&&Hr===Yl?nr.push(_t[s]):nr.push(_t[Hr])}),G.options.formatter){var Ke=G.options.formatter(_t[s],{_origin:_t,color:fe},pt);(0,f.isString)(Ke)&&(Ke=[Ke]),nr=Ke}var $e=G.container.addGroup({capture:!1,visible:!1}),Mr={x:0,y:0,fontSize:G.options.text.fontSize,lineHeight:G.options.text.fontSize,fontWeight:G.options.text.fontWeight,fill:G.options.text.fill},Cr=_t[s];G.options.formatter&&(Cr=nr[0]);var _r=(0,f.clone)(Mr);nr.length===2&&(_r.fontWeight=700);var ir=$e.addShape("text",{attrs:(0,f.mix)({textBaseline:nr.length===2?"top":"middle",text:Cr},_r),data:_t,offsetY:nr.length===2?LO:0,name:"label"});if(ir.name="label",nr.length===2){var Tr=$e.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:nr[1]},Mr),data:_t,offsetY:IO,name:"label"});Tr.name="label"}er.textGroup=$e,qt.x<h.x?(er._side="left",G.halves[0].push(er)):(er._side="right",G.halves[1].push(er))},G=this,$=0;$<t.length;$++)Y($);var J=Math.floor(_/this.options.lineHeight);(0,f.each)(this.halves,function(pt){pt.length>J&&pt.splice(J,pt.length-J),pt.sort(function(_t,Ft){return _t.y-Ft.y}),r._antiCollision(pt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-ch-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,g=0,C=r.map(function($){var J=$.y;J>c&&(c=J),J<v&&(v=J);var pt=$.textGroup,_t=pt.getBBox().width;return _t>=g&&(g=_t),{size:t.options.lineHeight,targets:[J-s]}});c-s>u&&(u=c-s);for(var _=function($){$.forEach(function(J){var pt=(Math.min.apply(v,J.targets)+Math.max.apply(v,J.targets))/2;J.pos=Math.min(Math.max(v,pt-J.size/2),u-J.size)})};l;)for(_(C),l=!1,h=C.length;h--;)if(h>0){var F=C[h-1],Y=C[h];F.pos+F.size>Y.pos&&(F.size+=Y.size,F.targets=F.targets.concat(Y.targets),F.pos+F.size>u&&(F.pos=u-F.size),C.splice(h,1),l=!0)}h=0,C.forEach(function($){var J=s;$.targets.forEach(function(){r[h].y=$.pos+J+t.options.lineHeight/2,J+=t.options.lineHeight,h++})});var G=[];r.forEach(function($){var J=t._drawLabel($);t._drawLabelLine($,g,J),G.push(J)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=Me({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+Gg,v=l[0]-Gg,g=[r._side==="left"?c:v,a[1]];u=[n,h,g,l],(r._side==="right"&&g[0]<h[0]||r._side==="left"&&g[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var C=[],_=0;_<u.length;_++){var F=u[_],Y="L";_===0&&(Y="M"),C.push([Y,F[0],F[1]])}e.addShape("path",{attrs:{path:C,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),kO=OO,_O=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},BO=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ea("pie",{columnStyle:{normal:{},active:_O,disable:BO,selected:{lineWidth:1,stroke:"black"}}});var Yl="$$percentage$$",DO={pie:"interval"},FO={pie:"column"},zg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?Yl:o;this.labelComponent=new kO(Me({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=AO(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?DO[e]:FO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return Me(Me({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Yl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return Me(Me({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=yi("interval","main",{plot:this,positionFields:[1,Yl]}):a=yi("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},r.prototype.label=function(){this.pie.label=!1},r}(vi),Xg=zg;Sn("pie",zg);var RO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Xg.getDefaultOptions,r}(fn),Vg=RO,NO=.3989422804014327,GO=1/255/16,Ps="_origin",YO=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Ps][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=qa(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(GO/t/n/NO))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function($){return $[Ps][h]<=e[1]&&$[Ps][h]>=e[0]}));for(var v=this.scales[h],g=0;g<t.length;g++){var C=t[g],_=this.getDrawCfg(C),F=v.scale(C[Ps][h]);this.drawGrayScaleBlurredCircle(_.x-a.x,_.y-o.y,this.radius+this.blur,F,c)}var Y=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(Y),c.putImageData(Y,0,0);var G=new Image;G.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Me(Me({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Ps]})},r}(Za);wa("linearHeatmap",YO);var zO=function(i){Be(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(We.default),XO=zO,zl=4,Hg=1,VO=.1,HO=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new dn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,g={to:t-u*c,from:t-u*(c+1)},C=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:Hg,cursor:"pointer"},name:"legend"});C.set("info",g);var _=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:_},s.addShape("path",{attrs:Me({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Me({text:t,x:a/2,y:-zl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:Me(Me({text:r,x:a/2,y:this.height+zl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:Me({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},g=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",v),s.addShape("path",{attrs:Me({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Me(Me({text:r,x:-zl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:Me({text:t,x:this.width+zl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:Me({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:VO},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Hg},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),WO=HO,jO={background:{Ctr:XO},legend:{Ctr:WO,padding:"outer"}};function UO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=jO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var ZO={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},KO=Oi(ZO);(0,f.assign)(Ln,KO);var Wg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=yi("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Gi("label",Me({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=Me({view:t.view,plot:t},t.options[n]),o=UO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(vi),$O=Wg;Sn("densityHeatmap",Wg);var QO=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$O.getDefaultOptions,r}(fn),jg=QO;function Xl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Vl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function Ug(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}_n("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Xl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),_n("point","curvePoint",{draw:function(i,r){var t=Vl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var JO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(g,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=qa(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Fl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),qO=JO,Zg=4,tk=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new dn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:Me({path:[["M",0,C],["L",n.width,C]]},n.options.ticklineStyle)});var _=Math.round(a*g);n.container.addShape("text",{attrs:Me({text:_,textAlign:"left",textBaseline:"middle",x:n.width+Zg,y:C},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:Me({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:Me({path:[["M",C,0],["L",C,n.height]]},n.options.ticklineStyle),name:"legend-label"});var _=Math.round(a*g);n.container.addShape("text",{attrs:Me({text:_,textAlign:"center",textBaseline:"top",x:C,y:n.height+Zg},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:Me({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),ek=tk,rk={label:{Ctr:qO},legend:{Ctr:ek,padding:"outer"}};function nk(i,r,t){if(i.options[r]&&i.options[r].visible){var e=rk[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Kg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,rn.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=Ug(s,l,u),v=Xl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(F){s.push(a.convertPoint(F))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=e.options.sizeField?1:.9,C=Ug(c,v,Math.min(u,h)/2*g),_=Vl(c,v,Math.min(u,h)/2*g);n.stopAnimate(),n.animate({path:C},500,"easeLinear",function(){n.attr("path",_)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=Xl(c,v,u,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=Vl(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=Vl(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=Xl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=Me({view:t.view,plot:t},t.options[n]),o=nk(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(vi),ik=Kg;Sn("heatmap",Kg);var ak=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=ik.getDefaultOptions,r}(fn),$g=ak,ok=function(i){Be(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(iE.Z),sk=ok;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var vh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),qo=function(){if(!!vh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),lk=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},dh=function(r,t){if(!vh)return;Array.isArray(r)||(r=[r]),r.forEach(function(Nr,Ge){if(typeof Nr=="string"){if(r[Ge]=document.getElementById(Nr),!r[Ge])throw"The element id specified is not found."}else if(!Nr.tagName&&!Nr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:qo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<qo&&(e.minFontSize=qo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(Ge){var or=Math.min(Math.max(e.minFontSize,e.maxFontSize*Ge/s),e.maxFontSize);return Ur?or*e.fontScale:or},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Ge){return 1-Math.sin(Ge)},h=!0;break;case"diamond":e.shape=function(Ge){var or=Ge%(2*Math.PI/4);return 1/(Math.cos(or)+Math.sin(or))};break;case"square":e.shape=function(Ge){var or=(Ge+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(or)+Math.sin(or))};break;case"triangle-forward":e.shape=function(Ge){var or=Ge%(2*Math.PI/3);return 1/(Math.cos(or)+Math.sqrt(3)*Math.sin(or))};break;case"triangle-backward":e.shape=function(Ge){var or=(Ge+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(or)+Math.sqrt(3)*Math.sin(or))};break;case"triangle":case"triangle-up":e.shape=function(Ge){var or=(Ge+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(or)+Math.sqrt(3)*Math.sin(or))};break;case"triangle-down":e.shape=function(Ge){var or=(Ge+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(or)+Math.sqrt(3)*Math.sin(or))};break;case"pentagon":e.shape=function(Ge){var or=(Ge+.955)%(2*Math.PI/5);return 1/(Math.cos(or)+.726543*Math.sin(or))};break;case"star":e.shape=function(Ge){var or=(Ge+.955)%(2*Math.PI/10);return(Ge+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-or)+3.07768*Math.sin(2*Math.PI/10-or)):1/(Math.cos(or)+3.07768*Math.sin(or))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),C=Math.min(e.maxRotation,e.minRotation),_=e.rotationSteps,F,Y,G,$,J,pt,_t;function Ft(Nr,Ge){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Ge-Nr)+Nr).toFixed()+"%)"}switch(e.color){case"random-dark":_t=function(){return Ft(10,50)};break;case"random-light":_t=function(){return Ft(50,90)};break;default:typeof e.color=="function"&&(_t=e.color);break}var Ht=null;typeof e.classes=="function"&&(Ht=e.classes);var Dt=!1,qt=[],ve,fe=function(Ge){var or=Ge.currentTarget,Zr=or.getBoundingClientRect(),sn,Xr;Ge.touches?(sn=Ge.touches[0].clientX,Xr=Ge.touches[0].clientY):(sn=Ge.clientX,Xr=Ge.clientY);var yn=sn-Zr.left,cn=Xr-Zr.top,$r=Math.floor(yn*(or.width/Zr.width||1)/c),mn=Math.floor(cn*(or.height/Zr.height||1)/c);return qt&&qt[$r]&&qt[$r][mn]},Te=function(Ge,or,Zr,sn){sn(Ge?Ge.id:-1)},De=function(Ge){var or=fe(Ge);if(ve!==or&&!(Ur&&or&&or.item&&!(0,f.get)(or,["item","twiceRender"]))){if(!or){e.onWordCloudHover(void 0,void 0,Ge,pn),e.active&&Te(void 0,void 0,Ge,pn);return}e.onWordCloudHover(or.item,or.dimension,Ge,pn),e.active&&Te(or.item,or.dimension,Ge,pn),ve=or}},ke=function(Ge){var or=fe(Ge);!or||(e.onWordCloudClick(or.item,or.dimension,Ge),Ge.preventDefault())},Je=[],er=function(Ge){if(Je[Ge])return Je[Ge];var or=Ge*8,Zr=or,sn=[];for(Ge===0&&sn.push([$[0],$[1],0]);Zr--;){var Xr=1;e.shape!=="circle"&&(Xr=e.shape(Zr/or*2*Math.PI)),sn.push([$[0]+Ge*Xr*Math.cos(-Zr/or*2*Math.PI),$[1]+Ge*Xr*Math.sin(-Zr/or*2*Math.PI)*e.ellipticity,Zr/or*2*Math.PI])}return Je[Ge]=sn,sn},nr=function(){return e.abortThreshold>0&&new Date().getTime()-pt>e.abortThreshold},Ke=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?C:_>0?C+Math.floor(Math.random()*_)*g/_:C+Math.random()*g},$e=function(Ge,or,Zr){var sn=!1,Xr=u(or);if(Xr<=0)return!1;var yn=1;Xr<qo&&(yn=function(){for(var No=2;No*Xr<qo;)No+=2;return No}());var cn=document.createElement("canvas"),$r=cn.getContext("2d",{willReadFrequently:!0});$r.font=e.fontWeight+" "+(Xr*yn).toString(10)+"px "+e.fontFamily;var mn=$r.measureText(Ge).width/yn,In=Math.max(Xr*yn,$r.measureText("m").width,$r.measureText("\uFF37").width)/yn,ei=mn+In*2,Hn=In*3,li=Math.ceil(ei/c),gi=Math.ceil(Hn/c);ei=li*c,Hn=gi*c;var Xi=-mn/2,Ki=-In*.4,Mi=Math.ceil((ei*Math.abs(Math.sin(Zr))+Hn*Math.abs(Math.cos(Zr)))/c),Wr=Math.ceil((ei*Math.abs(Math.cos(Zr))+Hn*Math.abs(Math.sin(Zr)))/c),ui=Wr*c,_i=Mi*c;cn.setAttribute("width",ui),cn.setAttribute("height",_i),sn&&(document.body.appendChild(cn),$r.save()),$r.scale(1/yn,1/yn),$r.translate(ui*yn/2,_i*yn/2),$r.rotate(-Zr),$r.font=e.fontWeight+" "+(Xr*yn).toString(10)+"px "+e.fontFamily,$r.fillStyle="#000",$r.textBaseline="middle",$r.fillText(Ge,Xi*yn,(Ki+Xr*.5)*yn);var Ai;try{Ai=$r.getImageData(0,0,ui,_i).data}catch($i){return!1}if(nr())return!1;sn&&($r.strokeRect(Xi*yn,Ki,mn*yn,In*yn),$r.restore());for(var Ha=[],Bi=Wr,jn,Rn,ri,oi=[Mi/2,Wr/2,Mi/2,Wr/2];Bi--;)for(jn=Mi;jn--;){ri=c;t:{for(;ri--;)for(Rn=c;Rn--;)if(Ai[((jn*c+ri)*ui+(Bi*c+Rn))*4+3]){Ha.push([Bi,jn]),Bi<oi[3]&&(oi[3]=Bi),Bi>oi[1]&&(oi[1]=Bi),jn<oi[0]&&(oi[0]=jn),jn>oi[2]&&(oi[2]=jn),sn&&($r.fillStyle="rgba(255, 0, 0, 0.5)",$r.fillRect(Bi*c,jn*c,c-.5,c-.5));break t}sn&&($r.fillStyle="rgba(0, 0, 255, 0.5)",$r.fillRect(Bi*c,jn*c,c-.5,c-.5))}}return sn&&($r.fillStyle="rgba(0, 255, 0, 0.5)",$r.fillRect(oi[3]*c,oi[0]*c,(oi[1]-oi[3]+1)*c,(oi[2]-oi[0]+1)*c)),{mu:yn,occupied:Ha,bounds:oi,gw:Wr,gh:Mi,fillTextOffsetX:Xi,fillTextOffsetY:Ki,fillTextWidth:mn,fillTextHeight:In,fontSize:Xr}},Mr=function(Ge,or,Zr,sn,Xr){for(var yn=Xr.length;yn--;){var cn=Ge+Xr[yn][0],$r=or+Xr[yn][1];if(cn>=Y||$r>=G||cn<0||$r<0){if(!e.drawOutOfBound)return!1;continue}if(!F[cn][$r])return!1}return!0},Cr=function(Ge,or,Zr,sn,Xr,yn,cn,$r,mn,In,ei){var Hn=Zr.fontSize,li=e.color,gi=e.classes;if(!ei)_t?li=_t(sn,Xr,Hn,yn,cn):li=e.color,Ht?gi=Ht(sn,Xr,Hn,yn,cn):gi=e.classes;else{var Xi=Ir(In);li=Xi?Xi.color:e.color}var Ki,Mi=Zr.bounds;Ki={x:(Ge+Mi[3])*c,y:(or+Mi[0])*c,w:(Mi[1]-Mi[3]+1)*c,h:(Mi[2]-Mi[0]+1)*c},r.forEach(function(Wr){if(Wr.getContext){var ui=Wr.getContext("2d"),_i=Zr.mu;ui.save();var Ai=e.fontWeight+" "+(Hn*_i).toString(10)+"px "+e.fontFamily;ui.scale(1/_i,1/_i),ui.font=Ai,ui.fillStyle=li;var Ha=(Ge+Zr.gw/2)*c*_i,Bi=(or+Zr.gh/2)*c*_i;ui.translate(Ha,Bi),$r!==0&&ui.rotate(-$r),ui.textBaseline="middle",e.selected===In&&(ui.shadowColor=e.shadowColor,ui.shadowBlur=e.shadowBlur),ui.fillText(sn,Zr.fillTextOffsetX*_i,(Zr.fillTextOffsetY+Hn*.5)*_i),ei||n.push({gx:Ge,gy:or,info:Zr,word:sn,weight:Xr,distance:yn,theta:cn,rotateDeg:$r,attributes:mn,id:In,color:li}),ui.restore()}else{var jn=document.createElement("span"),Rn="";Rn="rotate("+-$r/Math.PI*180+"deg) ",Zr.mu!==1&&(Rn+="translateX(-"+Zr.fillTextWidth/4+"px) scale("+1/Zr.mu+")");var ri={position:"absolute",display:"block",font:e.fontWeight+" "+Hn*Zr.mu+"px "+e.fontFamily,left:(Ge+Zr.gw/2)*c+Zr.fillTextOffsetX+"px",top:(or+Zr.gh/2)*c+Zr.fillTextOffsetY+"px",width:Zr.fillTextWidth+"px",height:Zr.fillTextHeight+"px",lineHeight:Hn+"px",whiteSpace:"nowrap",transform:Rn,webkitTransform:Rn,msTransform:Rn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};li&&(ri.color=li),jn.textContent=sn;for(var oi in ri)jn.style[oi]=ri[oi];if(mn)for(var $i in mn)jn.setAttribute($i,mn[$i]);gi&&(jn.className+=gi),Wr.appendChild(jn)}})},_r=function(Ge,or,Zr,sn,Xr){if(!(Ge>=Y||or>=G||Ge<0||or<0)){if(F[Ge][or]=!1,Zr){var yn=r[0].getContext("2d");yn.fillRect(Ge*c,or*c,v,v)}Dt&&(qt[Ge][or]={item:Xr,dimension:sn})}},ir=function(Ge,or,Zr,sn,Xr){var yn=Xr.occupied,cn=e.drawMask,$r;cn&&($r=r[0].getContext("2d"),$r.save(),$r.fillStyle=e.maskColor);var mn;if(Dt){var In=Xr.bounds;mn={x:(Ge+In[3])*c,y:(or+In[0])*c,w:(In[1]-In[3]+1)*c,h:(In[2]-In[0]+1)*c}}for(var ei=yn.length;ei--;){var Hn=Ge+yn[ei][0],li=or+yn[ei][1];if(!(Hn>=Y||li>=G||Hn<0||li<0)){var gi=Ir(Xr.item.id);gi&&(Xr.item.color=gi.color),_r(Hn,li,cn,mn,Xr.item)}}cn&&$r.restore()},Tr=function(Ge,or,Zr,sn,Xr,yn,cn,$r){var mn=Math.floor(Ge[0]-or.gw/2),In=Math.floor(Ge[1]-or.gh/2),ei=or.gw,Hn=or.gh;return Mr(mn,In,ei,Hn,or.occupied)?(Cr(mn,In,or,Zr,sn,Xr,Ge[2],yn,cn,$r,!1),ir(mn,In,ei,Hn,or),{gx:mn,gy:In,rot:yn,info:or}):!1},Hr=function(Ge){var or,Zr,sn,Xr;Array.isArray(Ge)?(or=Ge[0],Zr=Ge[1]):(or=Ge.word,Zr=Ge.weight,sn=Ge.attributes,Xr=Ge.id);var yn=(0,f.isNil)(Ge.rotateDeg)?Ke():Ge.rotateDeg,cn=$e(or,Zr,yn);if(cn&&(cn.item=Ge),!cn||nr())return!1;if(!e.drawOutOfBound){var $r=cn.bounds;if($r[1]-$r[3]+1>Y||$r[2]-$r[0]+1>G)return!1}for(var mn=J+1;mn--;){var In=er(J-mn);e.shuffle&&(In=[].concat(In),lk(In));for(var ei=0;ei<In.length;ei++){var Hn=Tr(In[ei],cn,or,Zr,J-mn,yn,sn,Xr);if(Hn)return Hn}}return null},kr=function(Ge,or,Zr){if(or)return!r.some(function(sn){var Xr=document.createEvent("CustomEvent");return Xr.initCustomEvent(Ge,!0,or,Zr||{}),!sn.dispatchEvent(Xr)},this);r.forEach(function(sn){var Xr=document.createEvent("CustomEvent");Xr.initCustomEvent(Ge,!0,or,Zr||{}),sn.dispatchEvent(Xr)},this)},Ir=function(Ge){for(var or=0;or<n.length;or++){var Zr=n[or];if(n[or].id===Ge)return Zr}},Ur,pn=function(Ge){if(Ge!==void 0){if(e.selected!==Ge&&r[0].getContext){e.selected=Ge;var or=r[0].getContext("2d");or.fillStyle=e.backgroundColor,or.clearRect(0,0,r[0].width,r[0].height),or.fillRect(0,0,r[0].width,r[0].height);for(var Zr=0;Zr<n.length;Zr++){var sn=n[Zr];(!Ur||Ur&&(0,f.get)(sn,["info","item","twiceRender"]))&&Cr(sn.gx,sn.gy,sn.info,sn.word,sn.weight,sn.distance,sn.theta,sn.rotateDeg,sn.attributes,sn.id,!0)}}return}var Xr=r[0];if(Xr.getContext)Y=Math.ceil(Xr.width/c),G=Math.ceil(Xr.height/c);else{var yn=Xr.getBoundingClientRect();Y=Math.ceil(yn.width/c),G=Math.ceil(yn.height/c)}if(!!kr("wordcloudstart",!0)){$=e.origin?[e.origin[0]/c,e.origin[1]/c]:[Y/2,G/(h?4:2)],J=Math.floor(Math.sqrt(Y*Y+G*G)),F=[];var cn,$r,mn;if(!Xr.getContext||e.clearCanvas)for(r.forEach(function(Rn){if(Rn.getContext){var ri=Rn.getContext("2d");ri.fillStyle=e.backgroundColor,ri.clearRect(0,0,Y*(c+1),G*(c+1)),ri.fillRect(0,0,Y*(c+1),G*(c+1))}else Rn.textContent="",Rn.style.backgroundColor=e.backgroundColor,Rn.style.position="relative"}),cn=Y;cn--;)for(F[cn]=[],$r=G;$r--;)F[cn][$r]=!0;else{var In=document.createElement("canvas").getContext("2d");In.fillStyle=e.backgroundColor,In.fillRect(0,0,1,1);var ei=In.getImageData(0,0,1,1).data,Hn=Xr.getContext("2d").getImageData(0,0,Y*c,G*c).data;cn=Y;for(var li,gi;cn--;)for(F[cn]=[],$r=G;$r--;){gi=c;t:for(;gi--;)for(li=c;li--;)for(mn=4;mn--;)if(Hn[(($r*c+gi)*Y*c+(cn*c+li))*4+mn]!==ei[mn]){F[cn][$r]=!1;break t}F[cn][$r]!==!1&&(F[cn][$r]=!0)}Hn=In=ei=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Dt=!0,cn=Y+1;cn--;)qt[cn]=[];e.onWordCloudHover&&Xr.addEventListener("mousemove",De),e.onWordCloudClick&&(Xr.addEventListener("click",ke),Xr.addEventListener("touchstart",ke),Xr.addEventListener("touchend",function(Rn){Rn.preventDefault()}),Xr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Xr.addEventListener("wordcloudstart",function Rn(){Xr.removeEventListener("wordcloudstart",Rn),Xr.removeEventListener("mousemove",De),Xr.removeEventListener("click",ke),ve=void 0})}if(e.animatable){mn=0;var ui,_i;e.wait!==0?(ui=window.setTimeout,_i=window.clearTimeout):(ui=window.setImmediate,_i=window.clearImmediate);var Ai=function(ri,oi){r.forEach(function($i){$i.addEventListener(ri,oi)},this)},Ha=function(ri,oi){r.forEach(function($i){$i.removeEventListener(ri,oi)},this)},Bi=function Rn(){Ha("wordcloudstart",Rn),_i(jn)};Ai("wordcloudstart",Bi);var jn=ui(function Rn(){if(mn>=e.data.length){_i(jn),kr("wordcloudstop",!1),Ha("wordcloudstart",Bi);return}pt=new Date().getTime();var ri=Hr(e.data[mn]),oi=!kr("wordclouddrawn",!0,{item:e.data[mn],drawn:ri});if(nr()||oi){_i(jn),e.abort(),kr("wordcloudabort",!1),kr("wordcloudstop",!1),Ha("wordcloudstart",Bi);return}mn++,jn=ui(Rn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(Rn){if(Rn.getContext){var ri=Rn.getContext("2d");ri.fillStyle=e.backgroundColor,ri.clearRect(0,0,Y*(c+1),G*(c+1)),ri.fillRect(0,0,Y*(c+1),G*(c+1))}});for(var Xi=[],Ki=0;Ki<e.data.length;Ki++){var Mi=Hr(e.data[Ki]);Mi&&Xi.push(Mi)}if(Xi.length===e.data.length&&!Ur){for(r.forEach(function(Rn){if(Rn.getContext){var ri=Rn.getContext("2d");ri.fillStyle=e.backgroundColor,ri.clearRect(0,0,Y*(c+1),G*(c+1)),ri.fillRect(0,0,Y*(c+1),G*(c+1))}}),cn=Y;cn--;)for(F[cn]=[],$r=G;$r--;)F[cn][$r]=!0;Ur=!0;for(var Wr=0;Wr<e.data.length;Wr++)Hr(Me(Me({},e.data[Wr]),{twiceRender:Ur}))}}}};pn()};dh.isSupported=vh,dh.minFontSize=qo;var uk=dh,fk=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new sk({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),uk(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(xl),hk=fk,ck=function(i){Be(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(fn),vk=ck;Sn("wordCloud",hk);var dk={rose:"interval"},pk=Oi(dk);(0,f.assign)(Ln,pk);var gk={rose:"interval"},yk={rose:"column"},Qg=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?gk[e]:yk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Gi("label",Me({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(vi),ph=Qg;Sn("rose",Qg);var mk=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=ph.getDefaultOptions,r}(fn),Jg=mk,xk=function(i){var r=i.opacity||1;return{opacity:r*.5}},bk=function(i){var r=i.opacity||1;return{opacity:r*.5}};ea("funnel",{columnStyle:{normal:{},active:xk,disable:bk,selected:{lineWidth:1,stroke:"black"}}});var qg=d(26485);function wk(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function Sk(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(_){return _/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var g=s[0]+s[1],C=s.map(function(_){return _/g/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*C[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*C[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}_n("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,wk(i)},draw:function(i,r){var t,e=(0,qg.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(Sk(i,n));return r.addShape("path",(t={name:"interval",attrs:Me(Me({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function gh(i,r,t){return(1-t)*i+t*r}function Ck(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*gh(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,g=i.length;v<g;v++){var C=i[v].x;switch(v){case 1:case 2:C=(C-s)*gh(u,l,e)+s;break;case 3:C=(C-s)*gh(u,l,n)+s;break}a.push(["L",C,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}_n("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,qg.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(Ck(i.points,e));return r.addShape("path",{attrs:Me(Me({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function ty(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(Xn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}ty.animationName="funnelScaleInX",wi("funnelScaleInX",ty);function ey(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(Xn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}ey.animationName="funnelScaleInY",wi("funnelScaleInY",ey);function Hl(i,r,t){return(1-t)*i+t*r}var Mk={column:"interval"},Ek={interval:"funnel"},ry=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},co.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=di.CONTAINER_CLASS,o=(0,bt.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Oo.default[a]);var u=o;if(e){a=di.TITLE_CLASS,o=(0,bt.Z)('<div class="'+a+'"></div>'),(0,Ot.Z)(o,Oo.default[a]),u.appendChild(o);var h=o;a=di.MARKER_CLASS,o=(0,bt.Z)('<span class="'+a+'"></span>'),(0,Ot.Z)(o,Oo.default[a]),(0,Ot.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,bt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=di.LIST_CLASS,o=(0,bt.Z)('<ul class="'+a+'"></ul>'),(0,Ot.Z)(o,Oo.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,g){s||(s=g.color);var C=(0,f.get)(g,"point._origin.__compare__.compareValues"),_=(0,f.get)(g,"point._origin.__compare__.yValues");return _.forEach(function(F,Y){return v.push([C[Y],F])}),v},[]).forEach(function(v,g){var C=v[0],_=v[1];a=di.LIST_ITEM_CLASS,o=(0,bt.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,Ot.Z)(o,Oo.default[a]),c.appendChild(o);var F=o;a=di.NAME_CLASS,o=(0,bt.Z)('<span class="'+a+'">'+C+"</span>"),(0,Ot.Z)(o,Oo.default[a]),F.appendChild(o),a=di.VALUE_CLASS,o=(0,bt.Z)('<span class="'+a+'">'+_+"</span>"),(0,Ot.Z)(o,Oo.default[a]),F.appendChild(o)})}return s&&l&&(0,Ot.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?Mk[e]:Ek[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,g=v===void 0?{}:v,C=Date.now(),_=this._findPercentageContainer(!0);this._eachShape(function(F,Y,G,$){if(Y>0){var J=F.getBBox(),pt=J.minX,_t=J.maxX,Ft=J.maxY,Ht=J.minY,Dt=e.transpose?pt:_t,qt=e.transpose&&e.compareField?Ft:Ht,ve=t._findPercentageMembersInContainerByIndex(_,Y,!0),fe=ve.line,Te=ve.text,De=ve.value,ke=[function(Ke,$e,Mr,Cr,_r){Mr&&(Mr.attr((0,f.deepMix)({},u.style,{x1:Ke,y1:$e,x2:e.transpose?Ke+a:Ke-a,y2:e.transpose?$e-o:$e+o,opacity:0})),Mr.set("adjustTimestamp",C));var ir=0,Tr=0,Hr=function(){Cr&&(Cr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Ke+a:Ke-a-s-Tr-s,y:e.transpose?$e-o-s:$e+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),Cr.set("adjustTimestamp",C),ir=Cr.getBBox().width)},kr=function(){_r&&(_r.attr((0,f.deepMix)({},g.style,{x:e.transpose?Ke+a+ir+s:Ke-a-s,y:e.transpose?$e-o-s:$e+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)($,"__compare__.yValues.0"),(0,f.get)(G,"__compare__.yValues.0")):g.formatter($[e.yField],G[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),_r.set("adjustTimestamp",C),Tr=_r.getBBox().width)};e.transpose?(Hr(),kr()):(kr(),Hr())},function(Ke,$e,Mr,Cr,_r){Mr&&(Mr.attr((0,f.deepMix)({},u.style,{x1:Ke,y1:$e,x2:Ke+a,y2:e.transpose?e.compareField?$e+o:$e-o:$e+o,opacity:0})),Mr.set("adjustTimestamp",C));var ir=0;Cr&&(Cr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Ke+a:Ke+a+s,y:e.transpose?e.compareField?$e+o+s:$e-o-s:$e+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),Cr.set("adjustTimestamp",C),ir=Cr.getBBox().width),_r&&(_r.attr((0,f.deepMix)({},g.style,{x:e.transpose?Ke+a+ir+s:Ke+a+s+ir+s,y:e.transpose?e.compareField?$e+o+s:$e-o-s:$e+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)($,"__compare__.yValues.1"),(0,f.get)(G,"__compare__.yValues.1")):g.formatter($[e.yField],G[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),_r.set("adjustTimestamp",C))}];if(e.compareField){var Je=[pt,Ht],er=Je[0],nr=Je[1];[[er,nr],[Dt,qt]].forEach(function(Ke,$e){var Mr=Ke[0],Cr=Ke[1];return ke[$e](Mr,Cr,fe&&fe[$e],Te&&Te[$e],De&&De[$e])})}else ke[1](Dt,qt,fe,Te,De)}$=G,Y++}),_.get("children").forEach(function(F){F.get("adjustTimestamp")!=C&&(F.attr({opacity:0}),_.set(F.get("id"),null),setTimeout(function(){return F.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},C=function(F){if(F&&F.get("type")=="text"){var Y=F.getBBox(),G=Y.minX,$=Y.maxX,J=Y.minY,pt=Y.maxY;G<g.minX&&(g.minX=G),$>g.maxX&&(g.maxX=$),J<g.minY&&(g.minY=J),pt>g.maxY&&(g.maxY=pt)}};if((0,f.each)(v,function(F){return(0,f.isArray)(F)?C(F[l]):C(F)}),g.minX>u.maxX||g.maxX<u.minX||g.minY>u.maxY||g.maxY<u.minY){var _=function(F){if(F){var Y={opacity:1};t?F.animate(Y,t):F.attr(Y)}};(0,f.each)(v,function(F){return(0,f.isArray)(F)?_(F[l]):_(F)}),(0,f.assign)(u,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,g=v===void 0?{}:v,C={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return C;if(u.visible!==!1){var _=function($){var J="_percentage-line-"+e+"-"+$,pt=t.get(J);return!pt&&n&&(pt=t.addShape({id:J,type:"line",attrs:{}}),t.set(J,pt)),pt},F=a.compareField?[0,1].map(_):_(0);C.line=F}if(c.visible!==!1){var _=function(J){var pt="_percentage-text-"+e+"-"+J,_t=t.get(pt);return!_t&&n&&(_t=t.addShape({id:pt,type:"text",attrs:{}}),t.set(pt,_t)),_t},Y=a.compareField?[0,1].map(_):_(0);C.text=Y}if(g.visible!==!1){var _=function(J){var pt="_percentage-value-"+e+"-"+J,_t=t.get(pt);return!_t&&n&&(_t=t.addShape({id:pt,type:"text",attrs:{}}),t.set(pt,_t)),_t},G=a.compareField?[0,1].map(_):_(0);C.value=G}return C},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)(Me({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,g,C){var _,F=c.get("element");v==0&&(h=g);var Y=c.getBBox(),G=Y.minX,$=Y.maxX,J=Y.minY,pt=Y.maxY,_t=g[n],Ft=g[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var Ht=g.__compare__,Dt,qt=(_={},_[Cs]=g,_.element=F,_.elementIndex=C,_.mappingDatum=[].concat(F.getModel().mappingData)[0],_.mappingDatumIndex=0,_);l.formatter?Dt=l.formatter(_t,qt,v,Ft,h[a]):Ht?Dt=[0,1].map(function(){return""+Ft}).join(e.transpose?`

`:"    "):Dt=_t+" "+Ft;var ve=t._findLabelInContainerByIndex(s,v,!0),fe=Ht?Ht.yValues[0]/(Ht.yValues[0]+Ht.yValues[1]):.5;ve&&(ve.attr(Me(Me({},u),{x:Hl(G,$,e.transpose?.5:fe),y:Hl(J,pt,e.transpose?fe:.5),text:Dt})),ve.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,C,_){C==0&&(e=g.get("parent").getBBox(),n=(0,f.get)(_,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(g){var C=v[g];C||(C=a.addShape({type:"text"})),C.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):Hl(l,u,o[0]/(o[0]+o[1])),y:t.transpose?Hl(h,c,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=qa(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Fl(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(C){return C[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var g=c==n?0:1;return v.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),v.__compare__.compareValues[g]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(vi),Ak=ry;Sn("funnel",ry);var Tk=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ak.getDefaultOptions,r}(fn),Pk=Tk,ny=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(ph),Lk=ny;Sn("stackedRose",ny);var Ik=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Lk.getDefaultOptions,r}(fn),iy=Ik,ay=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(ph),Ok=ay;Sn("groupedRose",ay);var kk=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ok.getDefaultOptions,r}(fn),oy=kk,_k={area:"area",line:"line",point:"point"},Bk=Oi(_k);(0,f.assign)(Ln,Bk);var Dk=function(i){var r=i.opacity||1;return{opacity:r}},Fk=function(i){var r=i.opacity||1;return{opacity:r*.5}},Rk=function(i){var r=i.opacity||1;return{opacity:r}},Nk=function(i){var r=i.opacity||1;return{opacity:r*.5}},Gk=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},Yk=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},zk=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},Xk=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ea("radar",{areaStyle:{normal:{},active:Dk,disable:Fk,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:Rk,disable:Nk,selected:Gk},pointStyle:{normal:{},active:Yk,disable:Xk,selected:zk}});var Vk={area:"area",line:"line",point:"point"},sy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return Vk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&Ei(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&Ei(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Gi("axis",{plot:this,dim:"angle"}),n=Gi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=yi("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=yi("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=yi("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Gi("label",Me({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r}(vi),Hk=sy;Sn("radar",sy);var Wk=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=Hk.getDefaultOptions,r}(fn),ly=Wk,jk=d(89810),Uk=d(79189),Zk=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,bt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Ot.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,jk.Z)(this.wrapperNode),o=(0,Uk.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Ot.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),uy=Zk,Kk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",$k="font-size:32px;font-weight:bold;color:#4D4D4D";function Qk(i,r){var t='<span class="liquid-guide-value" style='+$k+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+Kk+">"+t+"</div>"}var Jk=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=Qk(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(uy),qk=Jk,t_={liquid:"intervl",statistic:"annotation-text"},e_=Oi(t_);(0,f.assign)(Ln,e_);var fy=ji(),hy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},yh={lerp:function(i,r,t){return(1-t)*i+t*r}},r_=function(i){var r={lineWidth:0,fill:fy.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return hy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},n_=function(i){var r={fill:"#fff",stroke:fy.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return hy.addStrokeAttrs(t,i),t};function i_(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function a_(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var g=v%4,C=i_(v*t/4,g,t,n);l.push(["C",C[0][0]+h,-C[0][1]+r,C[1][0]+h,-C[1][1]+r,C[2][0]+h,-C[2][1]+r]),v===s-1&&(c=C[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function o_(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var g=e<=1?0:v/(e-1),C=a.addShape("path",{attrs:{path:a_(s,l.minY+h*t,u/4,0,u/yh.lerp(56,64,g),i,r),fill:n,opacity:yh.lerp(.6,.3,g)}}),_=Zo([["t",u/2,0]]);C.animate({matrix:_},{duration:yh.lerp(c,.7*c,g),repeat:!0})}}_n("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=r_(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return o_(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(n_(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function cy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(_){return _.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(_){return _.get("name")=="waves"}),g=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],C=Zo(g,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(C),v.animate({matrix:g},o,r.easing,function(){return s&&s(t,h,v)},a)}cy.animationName="liquidMoveIn",wi("liquidMoveIn",cy);var s_={column:"interval"},l_={interval:"liquid"},vy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};Ei(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=yi("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?s_[e]:l_[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,O)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Ot.Z)(o,{position:"relative"}),this.statistic=new qk(Me({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=qa(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,g=c-u/2;return new dn(v,g,u,u)},r}(vi),mh=vy;Sn("liquid",vy);var u_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof mh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof mh&&n.changeValue(t)}},r.getDefaultOptions=mh.getDefaultOptions,r}(fn),dy=u_,py=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var g=bd(u);v=c/g}var C={};(0,f.each)(l,function(F){var Y=F[a],G=e.getBin(Y,v),$=G[0]+"-"+G[1];(0,f.hasKey)(C,$)||(C[$]={name:$,range:G,count:0,data:[]}),C[$].data.push(F),C[$].count+=1});var _=[];return(0,f.each)(C,function(F){_.push(F)}),_},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Jo),f_=py;Sn("histogram",py);var h_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=f_.getDefaultOptions,r}(fn),gy=h_,c_={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},yy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=c_[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),g=(0,f.getRange)(v),C=g.max-g.min,_=s,F=o;!s&&o&&(_=Math.floor(C/o)),!o&&s&&(F=C/s),!s&&!o&&(_=bd(v),F=C/s);var Y=(0,rn.getScale)("linear"),G=new Y({min:g.min,max:g.max,tickCount:_,nice:!1}),$=G.getTicks(),J=[];return(0,f.each)($,function(pt){var _t=e.kernelDensityEstimator(F,h,pt,v);J.push({value:pt.text,density:_t})}),J},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(ih),v_=yy;Sn("density",yy);var CY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=v_.getDefaultOptions,r}(fn),MY=null,d_={ring:"interval"},p_=Oi(d_);(0,f.assign)(Ln,p_);var g_="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",y_="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",m_="font-size:32px;font-weight:bold;color:#4D4D4D";function x_(i,r,t,e){var n=g_+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+y_+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+m_+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var b_=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=x_(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(uy),w_=b_,S_={ring:"interval"},C_={interval:"ring"},my=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Ot.Z)(e,{position:"relative"}),this.statistic=new w_(Me({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?S_[e]:C_[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,D)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Xg),xy=my;Sn("donut",my);var M_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=xy.getDefaultOptions,r}(fn),by=M_;function E_(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=Me(Me({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function A_(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}_n("interval","waterfall",{draw:function(i,r){var t=E_(i,!1,!0),e=this.parsePath(A_(i.points)),n=r.addShape("path",{attrs:Me(Me({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:Me({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var wy=2,T_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[ua],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,g=[].concat(e.getModel().mappingData),C=v?g[0]&&g[0]._origin[Wl]:0,_=v?v(c,(n={},n[Cs]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=C,n),C):c,F=(s.minY+s.maxY)/2,Y="bottom";h<0?(F=s.maxY+wy,Y="top"):F=s.minY-wy,t.attr("y",F),t.attr("text",_),t.attr("textBaseline",Y)},r}(sh),EY=null;ta("waterfall",T_);function P_(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var L_=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(P_(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[ua],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[xh]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:Me({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(Fn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(Fn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),I_=L_,O_={waterfall:"interval"},k_={interval:"waterfall"},ua="$$value$$",xh="$$total$$",Wl="$$index$$",Sy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new I_({view:this.view,fields:[t.xField,t.yField,ua],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[xh]){var l=s[ua];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=po(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,Me({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?O_[e]:k_[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,ua]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var g=n[h-1][ua];(0,f.isArray)(g)?v=[g[1],u[o]+g[1]]:v=[g,u[o]+g]}n.push(Me(Me({},u),(c={},c[ua]=v,c[Wl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[ua]=[l,0],e[Wl]=n.length,e[xh]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[ua]={},(0,f.has)(t,"yAxis")&&Ei(e[ua],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Gi("axis",{plot:this,dim:"x"}),e=Gi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[ua]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,N)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,ua]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=Me(Me({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,ua,Wl]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,g=c.falling,C=c.total;l=v,u=g,h=C}s.callback=function(_,F,Y,G){return G===t.options.data.length?h||(Y[0]>=0?l:u):((0,f.isArray)(Y)?Y[1]-Y[0]:Y)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[ua]=n}},r}(vi),__=Sy;Sn("waterfall",Sy);var B_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=__.getDefaultOptions,r}(fn),Cy=B_,D_=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new dn(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new dn(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new dn(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new dn(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new dn(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var g={name:"top-right",bbox:new dn(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(g);var C={name:"bottom-right",bbox:new dn(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(C)}}else if(s.length===2)if(e<=o.min){var _={name:"top-left",bbox:s[0],index:0};this.regionData.push(_);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F);var C={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(C)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var C={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(C)}else if(e<=o.min){var _={name:"top-left",bbox:s[0],index:0};this.regionData.push(_)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:Me({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:Me({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:Me({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,Me({x:n,y:a,text:s},o)},i}(),F_=D_,Bo=d(56645),R_={exp:Bo.regressionExp,linear:Bo.regressionLinear,loess:Bo.regressionLoess,log:Bo.regressionLog,poly:Bo.regressionPoly,pow:Bo.regressionPow,quad:Bo.regressionQuad};function N_(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var G_=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=R_[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,rn.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:Me({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],g=Zf(c,!1,v);this.shape=this.container.addShape("path",{attrs:Me({path:g},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=N_(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),g=t.scale(c.y0),C=t.scale(c.y1),_=e.start.x+e.width*v,F=e.start.y-e.height*g,Y=e.start.y-e.height*C;n.push({x:_,y:F}),a.push({x:_,y:Y})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],g=(n-c)/(v-c),C=(a-v)/(v-c),_=(0,f.minBy)(t,e)[e],F=(0,f.maxBy)(t,e)[e];return{min:_+g*(F-_),max:F+C*(F-_)}},i}(),Y_=G_,z_={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},X_=Oi(z_);(0,f.assign)(Ln,X_);var V_=function(i){var r=i.stroke||"#000";return{stroke:r}},H_=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},W_=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ea("scatter",{pointStyle:{normal:{},active:V_,selected:H_,inactive:W_}});var j_={scatter:"point"},U_={point:"point"},My=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new F_(Me({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Y_(Me({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return Me(Me({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?j_[e]:U_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=yi("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",Me({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Gi("label",Me(Me({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||z)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(vi),Ey=My;Sn("scatter",My);var Z_=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ey.getDefaultOptions,r}(fn),Ay=Z_,K_=d(75564);_n("point","bubble-point",{draw:function(i,r){var t=(0,K_.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var $_=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Q_=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},J_=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ea("bubble",{pointStyle:{normal:{},active:$_,selected:Q_,inactive:J_}});var Ty=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,z)},r}(Ey),q_=Ty;Sn("bubble",Ty);var tB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=q_.getDefaultOptions,r}(fn),Py=tB,eB={bullet:"interval",bulletTarget:"bullet-target"},rB=Oi(eB);(0,f.assign)(Ln,rB);var nB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new dn(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:Me({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:Me({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),iB=nB,aB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:Me(Me({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),oB=aB,sB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},lB=function(i){var r=i.opacity||1;return{opacity:r*.5}};ea("bullet",{columnStyle:{normal:{},active:sB,disable:lB,selected:{}}});var uB={bullet:"interval"},fB={interval:"bullet"},hB="$$stackField$$",cB="$$xField$$",vB="$$yField$$",Ly=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:hB,xField:cB,yField:vB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&Ei(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ei(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new iB(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new oB(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?uB[e]:fB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=Me({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Gi("label",Me({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(vi),dB=Ly;Sn("bullet",Ly);var pB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dB.getDefaultOptions,r}(fn),Iy=pB,ts="$$day$$",es="$$week$$",Oy="$$date$$",AY="$$is_month_center$$",rs="YYYY-MM-DD",gB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yB=["S","M","T","W","T","F","S"],Ls=864e5;function mB(i){var r=gl(i).sort(function(t,e){return t.getTime()-e.getTime()});return[go.default.format((0,f.head)(r),rs),go.default.format((0,f.last)(r),rs)]}function TY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function xB(i){return i.getMonth()!==jl(new Date(i),7*Ls).getMonth()}function bB(i){return i.getMonth()!==jl(new Date(i),Ls).getMonth()}function ky(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Ls+r.getDay()+1)/7)}function wB(i){return i.getDay()}function jl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function _y(i){var r,t=i[0],e=i[1],n=go.default.parse(t,rs),a=go.default.parse(e,rs);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function SB(i,r,t){for(var e=[],n=_y(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=go.default.format(s,rs),c=(0,f.find)(i,function(v){return v[t]===h});e.push(Me((u={},u[ts]=wB(s),u[es]=""+ky(s),u[t]=h,u[Oy]=new Date(s),u),c)),jl(s,Ls)};s<=o;)l();return e}function CB(i){var r=_y(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=ky(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),jl(o,Ls*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var MB={rect:"polygon"},EB=Oi(MB);(0,f.assign)(Ln,EB);var By=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[ts]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[es]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return go.default.parse(""+o[e],rs)});n=mB(a)}return SB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[es,ts]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[es,ts]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Gi("label",Me({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Gi("axis",{plot:this,dim:"x"}),e=Gi("axis",{plot:this,dim:"y"}),n={};n[es]=t,n[ts]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=CB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?yB:a,s=n.months,l=s===void 0?gB:s,u=e[es],h=e[ts];u.formatter=function(C){var _=t[C];return _!==void 0?l[_]:""},h.formatter=function(C){return o[C]||""};var c=this.options,v=c.xAxis,g=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,X)},r}(vi),AB=By;Sn("calendar",By),_n("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=Me(Me({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Oy];if(xB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),bB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var TB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=AB.getDefaultOptions,r}(fn),PB=TB,Dy=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;_n("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var g=this.getAngleRange(),C=g.starAngle,_=g.endAngle,F=u.x*(_-C)+C;switch(l){case"meterGauge":this.drawBarGauge(F),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(F),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(F),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||ji().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},g=0;g<a.length;g++){var C=this.valueToAngle(a[g],v),_=this.valueToAngle(a[g+1],v);if(_>=C){var F=this.getPath(C,_),Y=(0,f.deepMix)({fill:l[g]},s);this.drawRing(F,Y)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,g=this.valueToAngle(v+h/2,u);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u),C=(0,f.clone)(t.tickLine.style);c%5!=0&&(C.lineWidth=C.lineWidth/2),this.drawRect(g,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:C})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||ji().colors,v=this.getAngleRange(),g=v.starAngle,C=v.endAngle,_={min:a,max:o,starAngle:g,endAngle:C},F=(C-g)/(50-1),Y=F/3,G=0;G<50;G++){var $=g+G*F,J=this.getPath($-Y/2,$+Y-Y/2),pt=h;if(s&&s.length){var _t=s.map(function(Dt){return e.valueToAngle(Dt,_)}),Ft=xE(_t,$),Ht=Math.min(Ft,s.length-1);pt=(0,f.deepMix)({},{fill:c[Ht-1]},u)||h}else pt=t>=$?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(J,pt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=Me(Me({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,g=(u+s)*Math.sin(t)+l.y,C=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:g},e.style)});C.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,C=(a-o)*Math.sin(e)+n.y,_=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,_,1,c,v],["L",g,C],["A",a-o,a-o,0,_,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,g=t.points[0],C=this.parsePoint({x:0,y:0}),_=g.x*(a-n)+n,F=(this.gauge.ringRadius-l)*s*Math.cos(_)+this.gauge.center.x,Y=(this.gauge.ringRadius-l)*s*Math.sin(_)+this.gauge.center.y,G={x:F,y:Y};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var $={x:C.x-G.x,y:C.y-G.y},J=Math.sqrt($.x*$.x+$.y*$.y);$.x*=1/J,$.y*=1/J;var pt=-Math.PI/2,_t=Math.cos(pt)*$.x-Math.sin(pt)*$.y,Ft=Math.sin(pt)*$.x+Math.cos(pt)*$.y,Ht=Math.PI/2,Dt=Math.cos(Ht)*$.x-Math.sin(Ht)*$.y,qt=Math.sin(Ht)*$.x+Math.cos(Ht)*$.y,ve=[["M",G.x+_t*c,G.y+Ft*c],["L",C.x+_t*h,C.y+Ft*h],["L",C.x+Dt*h,C.y+qt*h],["L",G.x+Dt*c,G.y+qt*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:ve},u.pointer.style)}),v.addShape("circle",{attrs:{x:G.x,y:G.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:C.x,y:C.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:c/1.2},u.pin.style)})}})},i}(),LB={range:"point",statistic:"annotation-text"},IB=Oi(LB);(0,f.assign)(Ln,IB);var Fy=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(C){return+C}).sort(function(C,_){return C-_}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(C){return""+C}:c,g=v(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Dy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};Ei(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,j)},r}(vi),bh=Fy;Sn("gauge",Fy);var OB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bh.getDefaultOptions,r}(fn),Ry=OB,Ny=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Dy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(bh),kB=Ny;Sn("fanGauge",Ny);var _B=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kB.getDefaultOptions,r}(fn),Gy=_B,Yy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(bh),BB=Yy;Sn("meterGauge",Yy);var DB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=BB.getDefaultOptions,r}(fn),zy=DB,FB=d(42473),to=d.n(FB),PY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),to()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=xy.getDefaultOptions,r}(fn),LY=null,IY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=uh.getDefaultOptions,r}(fn),OY=null,kY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=qp.getDefaultOptions,r}(fn),_Y=null,BY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=xg.getDefaultOptions,r}(fn),DY=null,FY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=rg.getDefaultOptions,r}(fn),RY=null,NY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Fg.getDefaultOptions,r}(fn),GY=null,YY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=oh.getDefaultOptions,r}(fn),zY=null,XY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=rh.getDefaultOptions,r}(fn),VY=null,HY=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),to()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Nl.getDefaultOptions,r}(fn),WY=null,RB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=Gi("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(vi),Ul=RB,NB=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:Me({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Xy=NB,GB={progress:"interval"},YB=Oi(GB);(0,f.assign)(Ln,YB);var zB={progress:"interval"},XB={interval:"progress"},Vy=["#55A6F3","#E8EDF3"],Hy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Vy};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new Xy(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?zB[e]:XB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,tt)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(Vy);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Xy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Ul),Wy=Hy;Sn("progress",Hy);var VB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Wy.getDefaultOptions,r}(fn),jy=VB,HB={ringProgress:"interval"},WB=Oi(HB);(0,f.assign)(Ln,WB);var jB=["#55A6F3","#E8EDF3"],Uy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||jB};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,K)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Wy),UB=Uy;Sn("ringProgress",Uy);var ZB=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=UB.getDefaultOptions,r}(fn),Zy=ZB,KB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(Ln,KB);var $B=.6,QB={column:"interval"},JB={interval:"column"},Ky=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?QB[e]:JB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,wt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*$B},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Ul),qB=Ky;Sn("tinyColumn",Ky);var tD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qB.getDefaultOptions,r}(fn),$y=tD,eD={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(Ln,eD);var rD={area:"area",line:"line"},Qy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return rD[e]},r.prototype.addGeometry=function(){this.area=yi("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=yi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ot)},r}(Ul),nD=Qy;Sn("tinyArea",Qy);var iD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nD.getDefaultOptions,r}(fn),Jy=iD,aD={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(Ln,aD);var oD={line:"line"},qy=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return oD[e]},r.prototype.addGeometry=function(){this.line=yi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,vt)},r}(Ul),sD=qy;Sn("tinyLine",qy);var lD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=sD.getDefaultOptions,r}(fn),t0=lD,wh=5,uD=function(i){Be(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new jf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var g=t.getMockData(v);o[v]=g}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t(Me({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,rn.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=ji().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(g,C){typeof a[C]=="function"&&(a[C]=a[C](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+wh*2);var v=s.map(function(g,C){return C===0?Math.max.apply(null,[g+u,l[C]]):Math.max.apply(null,[g,l[C]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+wh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+wh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),jo(t.title)){var n=this.width,a=this.theme,o=new bl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:jo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),jo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new bl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new dn(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,g=u.maxY;g>=n&&g<=a&&l==="top"&&(n=g),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new dn(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(xl),e0=uD,r0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},n0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},i0=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:n0,rightConfig:n0},lineConfigs:[(0,f.deepMix)({},r0,{color:"#5B8FF9"}),(0,f.deepMix)({},r0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var C=this.getYAxisGlobalConfig(),_=this.createLayer(As,n[0],Me({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},C,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));_.render();var F={};F[s[1]]={ticks:this.getTicks()};var Y=this.createLayer(As,n[1],Me({xField:o,yField:s[1],meta:g?a:(0,f.deepMix)({},a,F),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},C,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(G,$){t.tooltip(G,$)}}},u),events:v},h[1]));Y.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push(Me(Me({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var g=c===0?1:0;e.items.splice(g,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],g=new Mn.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});g.init(),g.render(),t.legends.push(g)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(e0),fD=i0;Sn("dualLine",i0);var hD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fD.getDefaultOptions,r}(fn),a0=hD,cD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},vD={color:"#5B8FF9"},o0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},s0=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:o0,rightConfig:o0},lineConfig:cD,columnConfig:vD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=ji(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(g,C){v.push(c[C+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var C=this.createLayer(As,e[1],Me({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));C.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(Jo,n[0],Me({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(F,Y){var G=n.geomLayers[1].options.seriesField,$=G?F[G]:s[1],J=c?c(F[o],F[s[1]],F[G]):{name:$,value:F[s[1]]};e.items.push(Me(Me(Me(Me({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:F}),J),{color:(0,f.isArray)(n.colors[1])?n.colors[1][Y]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===g){t.style.display="none";return}else t.style.display="block";var C=[],_=[];(0,f.each)(e.items,function(F){var Y=F.name;!(0,f.contains)(C,Y)&&!(0,f.contains)(v,Y)&&(C.push(Y),_.push(F))}),(0,f.each)(e.items,function(F,Y){Y<_.length?e.items[Y]=_[Y]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new Mn.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new Mn.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(e0),Sh=s0;Sn("columnLine",s0);var dD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Sh.getDefaultOptions,r}(fn),l0=dD,pD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},gD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},u0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},f0=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},u0,{colorMapping:!1}),rightConfig:u0},lineConfig:pD,columnConfig:gD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=ji(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=s.length;(0,f.each)(c,function(F,Y){g.push(v[Y+C])}),a.lineConfig.color=g}var _=this.options.columnConfig.color;this.options.columnConfig.color=_.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(uh,n[0],Me({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.groupField){var g=t.getValueByGroupField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Sh),yD=f0;Sn("groupedColumnLine",f0);var mD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yD.getDefaultOptions,r}(fn),h0=mD,xD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},bD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},c0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},v0=function(i){Be(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},c0,{colorMapping:!1}),rightConfig:c0},lineConfig:xD,columnConfig:bD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=ji(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=n.length;(0,f.each)(c,function(F,Y){g.push(v[Y+C])}),o.lineConfig.color=g}var _=this.options.columnConfig.color;this.options.columnConfig.color=_.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Nl,n[0],Me({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.stackField){var g=t.getValueByStackField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Sh),wD=v0;Sn("stackedColumnLine",v0);var SD=function(i){Be(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wD.getDefaultOptions,r}(fn),d0=SD,CD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},jY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},MD=function(r,t){return new Set(r.concat(t)).size===r.length},ED=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},AD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},Is={sameArray:MD,camelCase:CD,isType:ED,clone:AD},TD=d(73935),PD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",TD.render(r,t),t},Ch=PD;function p0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function LD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?p0(Object(t),!0).forEach(function(e){ID(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):p0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function ID(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function Cn(i,r){var t=(0,U.useRef)(),e=(0,U.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var g,C=r;v="".concat((C==null||(g=C.title)===null||g===void 0?void 0:g.text)||(i==null?void 0:i.name),".png")}var _=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),F=document.createElement("a");F.href=_,F.download=v,document.body.appendChild(F),F.click(),document.body.removeChild(F),F=null}catch(Y){console.log(Y)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var g=r.statistic.htmlContent;r.statistic.htmlContent=function(){var _=g.apply(void 0,arguments);return Is.isType(_,"String")||Is.isType(_,"Number")||Is.isType(_,"HTMLDivElement")?_:Ch(_)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=Ch(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var C=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(_,F){var Y=C(_,F)||"";return Is.isType(Y,"HTMLDivElement")?Y:Ch(Y)}}};return(0,U.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,U.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,LD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=Is.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var OD=U.createContext({});function Zl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zl=function(t){return typeof t}:Zl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(i)}function kD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function g0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function _D(i,r,t){return r&&g0(i.prototype,r),t&&g0(i,t),i}function BD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Mh(i,r)}function Mh(i,r){return Mh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Mh(i,r)}function DD(i){var r=ND();return function(){var e=Kl(i),n;if(r){var a=Kl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return FD(this,n)}}function FD(i,r){return r&&(Zl(r)==="object"||typeof r=="function")?r:RD(i)}function RD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ND(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Kl(i){return Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kl(i)}var GD=function(i){BD(t,i);var r=DD(t);function t(){var e;return kD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return U.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return _D(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(U.Component),xn=GD,UY=OD.Provider;function YD(i,r){if(i==null)return{};var t=zD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YD(i,["chartRef","style","className"]),s=Cn(dg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});y0.defaultProps=dg.getDefaultOptions();var XD=y0;function VD(i,r){if(i==null)return{};var t=HD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VD(i,["chartRef","style","className"]),s=Cn(Kp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});m0.defaultProps=Kp.getDefaultOptions();var WD=m0;function jD(i,r){if(i==null)return{};var t=UD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var x0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jD(i,["chartRef","style","className"]),s=Cn(Py,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});x0.defaultProps=Py.getDefaultOptions();var ZD=x0;function KD(i,r){if(i==null)return{};var t=$D(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $D(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KD(i,["chartRef","style","className"]),s=Cn(Iy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});b0.defaultProps=Iy.getDefaultOptions();var QD=b0;function JD(i,r){if(i==null)return{};var t=qD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var t5=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JD(i,["chartRef","style","className"]),s=Cn(PB,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))}),e5=t5;function r5(i,r){if(i==null)return{};var t=n5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function n5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=r5(i,["chartRef","style","className"]),s=Cn(Mg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});w0.defaultProps=Mg.getDefaultOptions();var S0=w0;function i5(i,r){if(i==null)return{};var t=a5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function a5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var C0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=i5(i,["chartRef","style","className"]),s=Cn(l0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});C0.defaultProps=l0.getDefaultOptions();var o5=C0;function s5(i,r){if(i==null)return{};var t=l5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function l5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=s5(i,["chartRef","style","className"]),s=Cn(jg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});M0.defaultProps=jg.getDefaultOptions();var u5=M0;function f5(i,r){if(i==null)return{};var t=h5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function h5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=f5(i,["chartRef","style","className"]),s=Cn(by,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});E0.defaultProps=by.getDefaultOptions();var A0=E0;function c5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=c5(i,["chartRef","style","className"]),s=Cn(a0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});T0.defaultProps=a0.getDefaultOptions();var d5=T0;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=Cn(Gy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});P0.defaultProps=Gy.getDefaultOptions();var y5=P0;function m5(i,r){if(i==null)return{};var t=x5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function x5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b5=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=m5(i,["chartRef","style","className"]),s=Cn(Pk,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))}),w5=b5;function S5(i,r){if(i==null)return{};var t=C5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function C5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=S5(i,["chartRef","style","className"]),s=Cn(Ry,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});L0.defaultProps=Ry.getDefaultOptions();var I0=L0;function M5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=M5(i,["chartRef","style","className"]),s=Cn(tg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});O0.defaultProps=tg.getDefaultOptions();var A5=O0;function T5(i,r){if(i==null)return{};var t=P5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function P5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var k0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=Cn(Ag,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});k0.defaultProps=Ag.getDefaultOptions();var L5=k0;function I5(i,r){if(i==null)return{};var t=O5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function O5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=Cn(h0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});_0.defaultProps=h0.getDefaultOptions();var k5=_0;function _5(i,r){if(i==null)return{};var t=B5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function B5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=Cn(oy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});B0.defaultProps=oy.getDefaultOptions();var D5=B0;function F5(i,r){if(i==null)return{};var t=R5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function R5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=F5(i,["chartRef","style","className"]),s=Cn($g,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=$g.getDefaultOptions();var N5=D0;function G5(i,r){if(i==null)return{};var t=Y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=Cn(gy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=gy.getDefaultOptions();var z5=F0;function X5(i,r){if(i==null)return{};var t=V5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function V5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=X5(i,["chartRef","style","className"]),s=Cn(Lp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=Lp.getDefaultOptions();var N0=R0;function H5(i,r){if(i==null)return{};var t=W5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function W5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=H5(i,["chartRef","style","className"]),s=Cn(dy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=dy.getDefaultOptions();var Y0=G0;function j5(i,r){if(i==null)return{};var t=U5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function U5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=j5(i,["chartRef","style","className"]),s=Cn(zy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});z0.defaultProps=zy.getDefaultOptions();var Z5=z0;function K5(i,r){if(i==null)return{};var t=$5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=K5(i,["chartRef","style","className"]),s=Cn(bg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=bg.getDefaultOptions();var Q5=X0;function J5(i,r){if(i==null)return{};var t=q5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function q5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=J5(i,["chartRef","style","className"]),s=Cn(ng,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=ng.getDefaultOptions();var tF=V0;function eF(i,r){if(i==null)return{};var t=rF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function rF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=eF(i,["chartRef","style","className"]),s=Cn(Rg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=Rg.getDefaultOptions();var nF=H0;function iF(i,r){if(i==null)return{};var t=aF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function aF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=iF(i,["chartRef","style","className"]),s=Cn(Vg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=Vg.getDefaultOptions();var oF=W0;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=Cn(jy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=jy.getDefaultOptions();var U0=j0;function uF(i,r){if(i==null)return{};var t=fF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uF(i,["chartRef","style","className"]),s=Cn(ly,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=ly.getDefaultOptions();var K0=Z0;function hF(i,r){if(i==null)return{};var t=cF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hF(i,["chartRef","style","className"]),s=Cn(ug,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=ug.getDefaultOptions();var vF=$0;function dF(i,r){if(i==null)return{};var t=pF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function pF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=dF(i,["chartRef","style","className"]),s=Cn(Bg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Bg.getDefaultOptions();var gF=Q0;function yF(i,r){if(i==null)return{};var t=mF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yF(i,["chartRef","style","className"]),s=Cn(Zy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=Zy.getDefaultOptions();var q0=J0;function xF(i,r){if(i==null)return{};var t=bF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xF(i,["chartRef","style","className"]),s=Cn(Jg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=Jg.getDefaultOptions();var wF=tm;function SF(i,r){if(i==null)return{};var t=CF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function CF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=SF(i,["chartRef","style","className"]),s=Cn(Ay,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Ay.getDefaultOptions();var MF=em;function EF(i,r){if(i==null)return{};var t=AF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function AF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=EF(i,["chartRef","style","className"]),s=Cn(yg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=yg.getDefaultOptions();var TF=rm;function PF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=Cn(Qp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});nm.defaultProps=Qp.getDefaultOptions();var IF=nm;function OF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var im=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=Cn(Lg,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});im.defaultProps=Lg.getDefaultOptions();var _F=im;function BF(i,r){if(i==null)return{};var t=DF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BF(i,["chartRef","style","className"]),s=Cn(d0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});am.defaultProps=d0.getDefaultOptions();var FF=am;function RF(i,r){if(i==null)return{};var t=NF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function NF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RF(i,["chartRef","style","className"]),s=Cn(iy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});om.defaultProps=iy.getDefaultOptions();var GF=om;function YF(i,r){if(i==null)return{};var t=zF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YF(i,["chartRef","style","className"]),s=Cn(Xp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=Xp.getDefaultOptions();var XF=sm;function VF(i,r){if(i==null)return{};var t=HF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=Cn(Jy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=Jy.getDefaultOptions();var um=lm;function WF(i,r){if(i==null)return{};var t=jF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var fm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WF(i,["chartRef","style","className"]),s=Cn($y,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});fm.defaultProps=$y.getDefaultOptions();var hm=fm;function UF(i,r){if(i==null)return{};var t=ZF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ZF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var cm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=UF(i,["chartRef","style","className"]),s=Cn(t0,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});cm.defaultProps=t0.getDefaultOptions();var KF=cm;function $F(i,r){if(i==null)return{};var t=QF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function QF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$F(i,["chartRef","style","className"]),s=Cn(Yp,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});vm.defaultProps=Yp.getDefaultOptions();var JF=vm;function qF(i,r){if(i==null)return{};var t=tR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var dm=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=qF(i,["chartRef","style","className"]),s=Cn(Cy,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))});dm.defaultProps=Cy.getDefaultOptions();var eR=dm;function rR(i,r){if(i==null)return{};var t=nR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var iR=(0,U.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rR(i,["chartRef","style","className"]),s=Cn(vk,o),l=s.chart,u=s.container;return(0,U.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,U.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),U.createElement(xn,null,U.createElement("div",{className:a,style:n,ref:u}))}),pm=iR,aR={i8:"3.8.5"},pi=d(50229),oR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Zn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Zn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},sR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,pi.d9)(oR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,pi.S6)(l,function(h,c){u[c]=(0,pi.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Eh=sR,Ah;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Ah||(Ah={}));var Ma=d(16185),lR=d(21885),uR=function(i){(0,B.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(lR.Z),Th=function(r){var t=0,e=0,n=0,a=0;if((0,Ma.default)(r))t=e=n=a=r;else if((0,Nn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Ni.default)(r)&&(t=r[0],n=(0,Ri.default)(r[1])?r[0]:r[1],a=(0,Ri.default)(r[2])?r[0]:r[2],e=(0,Ri.default)(r[3])?n:r[3]);return[t,n,a,e]},$l=function(r){var t=new uR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},gm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},eo=function(r){return Number.isNaN(Number(r))},ym=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var g=Math.floor(t),C=Math.floor(n),_=Math.ceil(e)-Math.floor(t),F=Math.ceil(a)-Math.floor(n);return{x:g,y:C,width:_,height:F,minX:t,minY:n,maxX:e,maxY:a}},fR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,g=c+"-"+v;if(!s[u]){o[g]||(o[g]=[]),s[u]=!0,o[g].push(h);for(var C=0;C<e;C++)if(u!==C){var _=r[C],F=_.source,Y=_.target;s[C]||(c===Y&&v===F?(o[g].push(_),s[C]=!0,l[F+"|"+Y+"|"+(o[g].length-1)]=!0):c===F&&v===Y&&(o[g].push(_),s[C]=!0))}}}for(var G in o)for(var $=o[G],J=$.length,pt=0;pt<J;pt++){var _t=$[pt];if(_t.source===_t.target){_t.type="loop",_t.loopCfg={position:a[pt%8],dist:Math.floor(pt/8)*20+50};continue}_t.type="quadratic";var Ft=(pt%2==0?1:-1)*(l[_t.source+"|"+_t.target+"|"+pt]?-1:1);J%2==1?_t.curveOffset=Ft*Math.ceil(pt/2)*n:_t.curveOffset=Ft*(Math.floor(pt/2)*n+t)}return r},mm=Math.abs,hR=10,cR=["shift","ctrl","alt","control"],vR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(eo(e)||eo(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Ah.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(G){G.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),g=v.get("children"),C=0,_=g;C<_.length;C++){var F=_[C],Y=F.get("isKeyShape");Y||F.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=$l(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(mm(this.origin.x-r.clientX)+mm(this.origin.y-r.clientY)<hR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(F){F.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,g=c;v<g.length;v++){var C=g[v],_=C.get("isKeyShape");_||C.show()}}if(!this.dragging){this.origin=null;return}r=$l(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(cR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},dR=d(6767),Ql=d.n(dR),pR=d(17621),Jl=d.n(pR),ql=2,xm=.16,gR=.05,yR=.05,mR=.15,bm=5,wm=4,xR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Sm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-ql*r:Math.round(i.h)+ql*r:e=t?Math.round(i.h)+ql*r:Math.round(i.h)-ql*r,e<0?e+=360:e>=360&&(e-=360),e}function Cm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-xm*r:r===wm?e=i.s+xm:e=i.s+gR*r,e>1&&(e=1),t&&r===bm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Mm(i,r,t){var e;return t?e=i.v+yR*r:e=i.v-mR*r,e>1&&(e=1),Number(e.toFixed(2))}function Ph(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Jl()(i),n=bm;n>0;n-=1){var a=e.toHsv(),o=Jl()({h:Sm(a,n,!0),s:Cm(a,n,!0),v:Mm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=wm;s+=1){var l=e.toHsv(),u=Jl()({h:Sm(l,s),s:Cm(l,s),v:Mm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?xR.map(function(h){var c=h.index,v=h.opacity,g=Jl().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return g}):t}var Lh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Qi={},Ih={};Object.keys(Lh).forEach(function(i){Qi[i]=Ph(Lh[i]),Qi[i].primary=Qi[i][5],Ih[i]=Ph(Lh[i],{theme:"dark",backgroundColor:"#141414"}),Ih[i].primary=Ih[i][5]});var ZY=Qi.red,KY=Qi.volcano,$Y=Qi.gold,QY=Qi.orange,JY=Qi.yellow,qY=Qi.lime,tz=Qi.green,ez=Qi.cyan,rz=Qi.blue,nz=Qi.geekblue,iz=Qi.purple,az=Qi.magenta,oz=Qi.grey,Da=function(r,t,e){var n=Ql()(r),a=Ql()(t);return Ql()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},Em=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Da(t,r,.05).rgb().toString(),o=Da(t,n,.02).rgb().toString(),s=Da(t,n,.05).rgb().toString(),l=Da(t,n,.1).rgb().toString(),u=Da(t,n,.2).rgb().toString(),h=Da(t,n,.3).rgb().toString(),c=Ph(r,{theme:e,backgroundColor:t}),v=Ql()(r).hex().toLowerCase(),g=c.indexOf(v),C=r;return g!==-1&&(C=c[g+1]),{mainStroke:r,mainFill:Da(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Da(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:C,highlightFill:Da(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:C,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},bR="rgb(95, 149, 255)",wR="rgb(255, 255, 255)",Am="rgb(0, 0, 0)",kn=Em(bR,wR),Ze={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:kn.mainStroke,fill:kn.mainFill},size:20,color:kn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:kn.activeFill,stroke:kn.activeStroke}},nodeStateStyles:{active:{fill:kn.activeFill,stroke:kn.activeStroke,lineWidth:2,shadowColor:kn.mainStroke,shadowBlur:10},selected:{fill:kn.selectedFill,stroke:kn.selectedStroke,lineWidth:4,shadowColor:kn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:kn.highlightFill,stroke:kn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:kn.inactiveFill,stroke:kn.inactiveStroke,lineWidth:1},disable:{fill:kn.disableFill,stroke:kn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Am,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:kn.edgeMainStroke,lineAppendWidth:2},color:kn.edgeMainStroke},edgeStateStyles:{active:{stroke:kn.edgeActiveStroke,lineWidth:1},selected:{stroke:kn.edgeSelectedStroke,lineWidth:2,shadowColor:kn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:kn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:kn.edgeInactiveStroke,lineWidth:1},disable:{stroke:kn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Am,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:kn.comboMainFill,lineWidth:1,stroke:kn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:kn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:kn.comboActiveStroke,lineWidth:1,fill:kn.comboActiveFill},selected:{stroke:kn.comboSelectedStroke,lineWidth:2,fill:kn.comboSelectedFill,shadowColor:kn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:kn.comboHighlightStroke,lineWidth:2,fill:kn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:kn.comboInactiveStroke,fill:kn.comboInactiveFill,lineWidth:1},disable:{stroke:kn.comboDisableStroke,fill:kn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},SR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var g=v.get("id");return u===g});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var g=v.hasLocked();g||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,pi.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,pi.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:g})}else{var e=this.graph.get("group"),n=(0,pi.b$)({},Ze.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:(0,B.__assign)({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,g=h.maxX,C=h.maxY;c<n&&(n=c),v<o&&(o=v),g>a&&(a=g),C>s&&(s=C)}var _=Math.floor(n),F=Math.floor(o),Y=Math.ceil(a)-Math.floor(n),G=Math.ceil(s)-Math.floor(o);return{x:_,y:F,width:Y,height:G,minX:n,minY:o}}},CR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],g=v.hasState("selected");n.resetSelected&&g&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var C=l[c];e.setItemState(C,a,!1),o&&e.setItemState(C,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var _=t.getEdges(),F=_.length,c=0;c<F;c++){var C=_[c],Y=void 0;C.getSource()===t?Y=C.getTarget():Y=C.getSource(),o&&e.setItemState(Y,o,!1),e.setItemState(Y,a,!0),e.setItemState(C,o,!1),e.setItemState(C,a,!0),C.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var g=l[c];e.clearItemStates(g,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},tu=Math.min,Tm=Math.max,Pm=Math.abs,Lm="shift",MR=["drag","shift","ctrl","alt","control"],ER={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Lm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return MR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Lm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=tu(l.x,u.x),c=Tm(l.x,u.x),v=tu(l.y,u.y),g=Tm(l.y,u.y),C=[],_=[];n.getNodes().forEach(function(Y){var G=Y.getBBox();if(G.centerX>=h&&G.centerX<=c&&G.centerY>=v&&G.centerY<=g&&o(Y,"select")){C.push(Y);var $=Y.getModel();_.push($.id),n.setItemState(Y,s,!0)}});var F=[];this.includeEdges&&C.forEach(function(Y){var G=Y.getOutEdges();G.forEach(function($){var J=$.getModel(),pt=J.source,_t=J.target;_.includes(pt)&&_.includes(_t)&&o($,"select")&&(F.push($),n.setItemState($,t.selectedState,!0))})}),this.selectedEdges=F,this.selectedNodes=C,this.onSelect&&this.onSelect(C,F),n.emit("nodeselectchange",{selectedItems:{nodes:C,edges:F},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Pm(r.canvasX-t.x),height:Pm(r.canvasY-t.y),x:tu(r.canvasX,t.x),y:tu(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Im="shift",AR=["shift","ctrl","alt","control"],TR={getDefaultCfg:function(){return{multiple:!0,trigger:Im,selectedState:"selected"}},getEvents:function(){var r=this;return AR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Im,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Zn.default)(c,function(C){C!==e&&o.setItemState(C,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Zn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Zn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},fa=d(31502);fa.translate=function(i,r,t){var e=new Array(9);return fa.fromTranslation(e,t),fa.multiply(i,e,r)},fa.rotate=function(i,r,t){var e=new Array(9);return fa.fromRotation(e,t),fa.multiply(i,e,r)},fa.scale=function(i,r,t){var e=new Array(9);return fa.fromScaling(e,t),fa.multiply(i,e,r)},fa.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":fa.translate(t,t,[a[1],a[2]]);break;case"s":fa.scale(t,t,[a[1],a[2]]);break;case"r":fa.rotate(t,t,a[1]);break;default:break}}return t};var ro=fa,Fa=d(76172);Fa.angle=function(i,r){var t=Fa.dot(i,r)/(Fa.length(i)*Fa.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Fa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Fa.angleTo=function(i,r,t){var e=Fa.angle(i,r),n=Fa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Fa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var ii=Fa,PR=d(88395),Om=PR,Ra=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":ro.translate(t,t,[e[1],e[2]]);break;case"s":ro.scale(t,t,[e[1],e[2]]);break;case"r":ro.rotate(t,t,e[1]);break;case"m":ro.multiply(t,t,e[1]);break;default:return!1}}),t},km=.05,LR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(g,C){return Math.hypot(C.x-g.x,C.y-g.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-km*l:h=1/(1-km*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),g=this.get("maxZoom")||n.get("maxZoom");if(!(c>g||c<v)){var C=this.get("enableOptimize");if(C){var _=this.get("optimizeZoom"),F=this.get("optimized"),Y=n.getNodes(),G=n.getEdges(),$=Y.length,J=G.length;if(!F){for(var pt=0;pt<$;pt++){var _t=Y[pt];if(!_t.destroyed)for(var Ft=_t.get("group").get("children"),Ht=Ft.length,Dt=0;Dt<Ht;Dt++){var qt=Ft[Dt];!qt.destoryed&&!qt.get("isKeyShape")&&qt.hide()}}for(var ve=0;ve<J;ve++)for(var fe=G[ve],Ft=fe.get("group").get("children"),Ht=Ft.length,Dt=0;Dt<Ht;Dt++){var qt=Ft[Dt];qt.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Te=setTimeout(function(){var $r=n.getZoom(),mn=t.get("optimized");if(mn){t.set("optimized",!1);for(var In=0;In<$;In++){var ei=Y[In],Hn=ei.get("group").get("children"),li=Hn.length;if($r<_)ei.getKeyShape().show();else for(var gi=0;gi<li;gi++){var Xi=Hn[gi];Xi.get("visible")||Xi.show()}}for(var Ki=0;Ki<J;Ki++){var Mi=G[Ki],Hn=Mi.get("group").get("children"),li=Hn.length;if($r<_)Mi.getKeyShape().show();else for(var gi=0;gi<li;gi++){var Xi=Hn[gi];Xi.get("visible")||Xi.show()}}}},500);this.set("timeout",Te)}if(u<=1){var De=void 0,ke=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){De=n.findAllByState("node",a.fixState),ke=n.findAllByState("edge",a.fixState);for(var Je=u/c,er=De.length,nr=0;nr<er;nr++){var _t=De[nr],Ke=_t.getContainer(),$e=_t.getModel(),Mr=_t.getOriginStyle(),Cr=_t.getStateStyle(a.fixState),_r=_t.get("shapeFactory").getShape($e.shape||$e.type).getStateStyle(a.fixState,_t)[a.fixState];if(a.fixAll){if(c<=1){var ir=(0,f.clone)(Ke.getMatrix());ir||(ir=[1,0,0,0,1,0,0,0,1]);var Tr=_t.getModel(),Hr=Tr.x,kr=Tr.y;ro.translate(ir,ir,[-Hr,-kr]),ro.scale(ir,ir,[Je,Je]),ro.translate(ir,ir,[Hr,kr]),Ke.setMatrix(ir)}}else for(var Ft=Ke.get("children"),Ht=Ft.length,Dt=0;Dt<Ht;Dt++){var qt=Ft[Dt],Ir=void 0,Ur=void 0;if(a.fixLabel){var pn=qt.get("type");if(pn==="text"){Ir=qt.attr("fontSize")||12;var Nr=Cr[qt.get("name")],Ge=_r[qt.get("name")],or=Nr?Nr.fontSize:12,Zr=Ge?Ge.fontSize:12,sn=or||Zr||12;if(c<=1&&qt.attr("fontSize",sn/c),Ur)break}}if(a.fixLineWidth&&qt.get("isKeyShape")){Ur=qt.attr("lineWidth")||0;var Xr=Cr.lineWidth||_r.lineWidth||Mr.lineWidth||0;if(c<=1&&qt.attr("lineWidth",Xr/c),Ir)break}}}for(var yn=ke.length,cn=0;cn<yn;cn++)for(var fe=ke[cn],Ke=fe.getContainer(),Ft=Ke.get("children"),$e=fe.getModel(),Cr=fe.getStateStyle(a.fixState),_r=fe.get("shapeFactory").getShape($e.shape||$e.type).getStateStyle(a.fixState,fe)[a.fixState],Ht=Ft.length,Dt=0;Dt<Ht;Dt++){var qt=Ft[Dt],Ir=void 0,Ur=void 0;if(a.fixLabel||a.fixAll){var pn=qt.get("type");if(pn==="text"){Ir=qt.attr("fontSize")||12;var Nr=Cr[qt.get("name")],Ge=_r[qt.get("name")],or=Nr?Nr.fontSize:12,Zr=Ge?Ge.fontSize:12,sn=or||Zr||12;if(c<=1&&qt.attr("fontSize",sn/c),Ur)break}}if((a.fixLineWidth||a.fixAll)&&qt.get("isKeyShape")){Ur=qt.attr("lineWidth")||0;var Xr=Cr.lineWidth||_r.lineWidth||1;if(c<=1&&qt.attr("lineWidth",Xr/c),Ir)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Jn=d(1513),Ci=d(57821),_m={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Jn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Jn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Jn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var g=h+"px",C=c+"px";(0,Jn.Z)(this.container,{left:g,top:C,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,Ci.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Jn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},IR=(0,B.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),OR=(0,B.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),Ui=d(90497),kR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var Y=this,G=Y.mouseOrigin,$=Y.shapeOrigin,J=r.x-G.x,pt=r.y-G.y,_t=J+$.x,Ft=pt+$.y;a.attr({x:_t,y:Ft}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,g=(0,B.__assign)({width:c,height:v},(0,Ui.default)({},Ze.delegateStyle,this.delegateStyle));if(s==="circle"){var C=c>v?c/2:v/2,_=u+C,F=h+C;a=l.addShape("circle",{attrs:(0,B.__assign)({x:_,y:F,r:C},g),name:"circle-delegate-shape"}),this.shapeOrigin={x:_,y:F}}else a=l.addShape("rect",{attrs:(0,B.__assign)({x:u,y:h},g),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},_R=document.body,BR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),g=c.getBBox(),C=v.centerX,_=v.centerY,F=g.minX,Y=g.minY,G=g.maxX,$=g.maxY;if(!(C<G*this.maxMultiple&&C>F*this.minMultiple&&_<$*this.maxMultiple&&_>Y*this.minMultiple)||this.inGroupId!==a){var J=u[a];u[a]=J.filter(function(Ft){return Ft!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var pt=l[this.inGroupId].nodeGroup;if(!pt)return;var _t=pt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,pt,_t)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var pt=l[this.inGroupId].nodeGroup;if(!pt)return;var c=pt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,pt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Dt){var qt=u[Dt];u[Dt]=qt.filter(function(ve){return ve!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&_R.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Ui.default)({},Ze.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:(0,B.__assign)({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Bm="dblclick",DR=["click","dblclick"],FR={getDefaultCfg:function(){return{trigger:Bm}},getEvents:function(){var r,t;return DR.includes(this.trigger)?t=this.trigger:(t=Bm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Dm="click",RR=["click","dblclick"],NR={getDefaultCfg:function(){return{trigger:Dm,onChange:function(){}}},getEvents:function(){var r,t;return RR.includes(this.trigger)?t=this.trigger:(t=Dm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},GR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,pi.S6)(e,function(n){i(n,t)})}},YR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],GR(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var g=v.getModel();return a.parentId,g.id!==a.id&&!t.currentItemChildCombos.includes(g.id)});c.map(function(v){var g=v.getBBox(),C=g.centerX,_=g.centerY,F=g.width,Y=l-C,G=u-_,$=2*Math.sqrt(Y*Y+G*G);h+F-$>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,pi.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,pi.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,pi.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,pi.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:g})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=ym(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=(0,B.__assign)((0,B.__assign)({},Ze.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:(0,B.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Fm="dblclick",zR=["click","dblclick"],XR={getDefaultCfg:function(){return{trigger:Fm,relayout:!0}},getEvents:function(){var r,t;return zR.includes(this.trigger)?t=this.trigger:(t=Fm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Rm=function(r,t,e){return r>=t&&r<=e},Os=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,g=null;if(h>a*c*v){var C=(o.x*l.y-o.y*l.x)/u,_=(o.x*s.y-o.y*s.x)/u;Rm(C,0,1)&&Rm(_,0,1)&&(g={x:r.x+C*s.x,y:r.y+C*s.y})}return g},Nm=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Os(u[v-1],u[v],h,t),!c);v++);return c},Gm=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),g=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(g))*c,y:n+Math.abs(a*Math.sin(g))*v}},Ym=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},ks=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Om.transformMat3(n,n,t),{x:n[0],y:n[1]}},zm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ro.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Om.transformMat3(a,a,n),{x:a[0],y:a[1]}},Oh=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},_s=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Xm=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},kh=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},_h=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},Vm=function(r,t){r.translate(t.x,t.y)},Hm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Ra(e,[["t",a,o]]);r.setMatrix(s)},VR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Ni.default)(t)||(n=[t,t]),(0,Ni.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Ra(e,[["s",n[0],n[1]]]),r.setMatrix(e)},HR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ra(e,[["r",t]]),r.setMatrix(e)},eu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function WR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Bs=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(WR(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},Wm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},jR=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Os(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Bh=function(r,t){var e=function(v){var g=v.map(function(_){return _[0]}),C=v.map(function(_){return _[1]});return{minX:Math.min.apply(null,g),maxX:Math.max.apply(null,g),minY:Math.min.apply(null,C),maxY:Math.max.apply(null,C)}},n=function(v){for(var g=[],C=v.length,_=0;_<C-1;_++){var F=v[_],Y=v[_+1];g.push({from:{x:F[0],y:F[1]},to:{x:Y[0],y:Y[1]}})}if(g.length>1){var G=v[0],$=v[C-1];g.push({from:{x:$[0],y:$[1]},to:{x:G[0],y:G[1]}})}return g};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Wm(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(Bs(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(Bs(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(jR(l,c))return h=!0,!1}),h},Do=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Dh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},UR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},jm=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Dh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Os({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Fh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Dh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],g=UR(t,new Do(u,h,c,v));g=Math.abs(g-.5),g>=0&&g<=1&&(o+=1,a=g<a?g:a)}return o===0?-1:a},Um=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},ru=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},Zm=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Rh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},Km=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},ZR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},$m=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Ks.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},nu=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];ii.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Qm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=ZR(a,s)}return t&&(n+="Z"),n},iu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Nh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,g=r[s+1].y,C=s!==r.length-2?r[s+2].x:v,_=s!==r.length-2?r[s+2].y:g,F=h+(v-l)/6,Y=c+(g-u)/6,G=v-(C-h)/6,$=g-(_-c)/6;o.push(["C",F,Y,G,$,v,g])}return o.unshift(["M",n.x,n.y]),o},Jm=function(r,t){return ii.scale([],ii.normalize([],r),t)},qm=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},tx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function ex(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+g+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=ii.scale([],qm(c[0],c[1]),r),g=ii.scale([],v,-1),C=ii.add([],c[0],v),_=ii.add([],c[1],v),F=ii.add([],c[1],g),Y=ii.add([],c[0],g);return"M "+C+" L "+_+" A "+[r,r,"0,0,0",F].join(",")+" L "+Y+" A "+[r,r,"0,0,0",C].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=ii.scale([],qm(o,s),r);n[a]=[ii.add([],o,l),ii.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function rx(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=tx(h[0],h[1]),v=Jm(c,r),g=ii.add([],h[0],ii.scale([],v,-1)),C=ii.add([],h[1],v),_=1.2*r,F=Jm(ii.normalize([],c),_),Y=ii.scale([],F,-1),G=ii.add([],g,Y),$=ii.add([],C,Y),J=ii.add([],g,F);return"M "+g+" C "+[G,$,C].join(",")+" S "+[J,g].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:ii.normalize([],tx(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=ii.normalize([],ii.add([],a[s].v,ii.scale([],a[o].v,-1)));a[o].p=ii.add([],a[o].p,ii.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var nx="shift",KR=["drag","shift","ctrl","alt","control"],$R=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=iu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Bh(t,e)},QR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:nx,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return KR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=nx,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if($R(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var g=v.getModel(),C=g.source,_=g.target;l.includes(C)&&l.includes(_)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:(0,B.__assign)({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},ix="click",JR=["click","drag"],ax=void 0,qR=["shift","ctrl","control","alt","meta",void 0],t3={getDefaultCfg:function(){return{trigger:ix,key:ax,edgeConfig:{}}},getEvents:function(){var r=this;JR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=ix,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&qR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=ax,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",(0,B.__assign)({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),g=c.getBBox();if(o<=g.maxX&&o>=g.minX&&s<=g.maxY&&s>=g.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},ox="ctrl",e3=["shift","ctrl","alt","control"],r3="1",n3={getDefaultCfg:function(){return{trigger:ox,combinedKey:r3,functionName:"fitView",functionParams:[]}},getEvents:function(){return e3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=ox,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},i3={"drag-canvas":vR,"zoom-canvas":LR,"drag-node":SR,"activate-relations":CR,"brush-select":ER,"click-select":TR,"lasso-select":QR,tooltip:IR,"edge-tooltip":OR,"drag-group":kR,"drag-node-with-group":BR,"collapse-expand-group":FR,"collapse-expand":NR,"drag-combo":YR,"collapse-expand-combo":XR,"create-edge":t3,"shortcuts-call":n3};(0,Zn.default)(i3,function(i,r){Eh.registerBehavior(r,i)});var sx=Eh,Fo=d(19083),Ds=d(19270),Ea=d(27549),lx=d(54544),a3=function(r){var t=(0,lx.default)(r.groups,"id"),e=(0,lx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=(0,B.__spreadArrays)(o,s);n[a]=l}else o&&(n[a]=o)}var u=(0,B.__assign)((0,B.__assign)({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(_){return _.id});h[c]=o}var v={},g=function(_){if(!_||_==="undefined")return"continue";for(var F=h[_],Y=[],G=0,$=F;G<$.length;G++){var J=$[G],pt=u[J].map(function(Ft){return Ft.id});Y.push.apply(Y,pt)}var _t=r.nodes?r.nodes.filter(function(Ft){return Y.indexOf(Ft.groupId)>-1||Y.indexOf(Ft.parentId)>-1}).map(function(Ft){return Ft.id}):[];v[_]=_t};for(var c in h)g(c);return v},o3=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Zn.default)(r,function(t){(0,Zn.default)(t,function(e,n){(0,Nn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Zn.default)(e||[],function(o){var s=Eh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Zn.default)(t,function(e){r.indexOf(e)<0&&((0,Nn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,Nn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Zn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Ni.default)(r)?a=r:a=[r],(0,Ni.default)(t))return(0,Zn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),s3=o3,l3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Th(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,g=0;this.graph.get("canvas").animate(function(C){v=l*C,g=u*C,n.graph.translate(v-h,g-c),h=v,c=g},(0,B.__assign)({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=zm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),ks({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,Nn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Ma.default)(r)||!(0,Ma.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Jn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Jn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),u3=l3,Fs=d(73136),au=d(61262),f3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,au.default)(this,"onCanvasEvents"),s=(0,au.default)(this,"onExtendEvents"),l=(0,au.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Fs.Z)(a,"DOMMouseScroll",l)),e.push((0,Fs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Fs.Z)(window,"keydown",s)),e.push((0,Fs.Z)(window,"keyup",s)),e.push((0,Fs.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),gm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Ri.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=$l(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Zn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),h3=f3,ux=d(8289),fx=d(33643),hx=d(85260),c3=d(58070),v3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ma=Math.PI,Gh=Math.sin,Yh=Math.cos,Yi=Gh(ma/8),zi=Yh(ma/8),ou=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=ks(n,o),a=ks(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},cx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Ze.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],g=o.height/2,C=o.height/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-_,h[1]-F],v=[h[0]+Y,h[1]-G];break;case"top-right":g=o.height/2,C=o.width/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]+_,h[1]-F],v=[h[0]+G,h[1]-Y];break;case"right":g=o.width/2,C=o.width/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]+F,h[1]-_],v=[h[0]+G,h[1]+Y];break;case"bottom-right":g=o.width/2,C=o.height/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]+F,h[1]+_],v=[h[0]+Y,h[1]+G];break;case"bottom":g=o.height/2,C=o.height/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]+_,h[1]+F],v=[h[0]-Y,h[1]+G];break;case"bottom-left":g=o.height/2,C=o.width/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]-_,h[1]+F],v=[h[0]-G,h[1]+Y];break;case"left":g=o.width/2,C=o.width/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]-F,h[1]+_],v=[h[0]-G,h[1]-Y];break;case"top-left":g=o.width/2,C=o.height/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]-F,h[1]-_],v=[h[0]-Y,h[1]-G];break;default:g=o.width/2,C=o.width/2,_=g*Yi,F=g*zi,Y=C*Yi,G=C*zi,c=[h[0]-_,h[1]-F],v=[h[0]+Y,h[1]-G]}if(s.clockwise===!1){var $=[c[0],c[1]];c=[v[0],v[1]],v=[$[0],$[1]]}}var J=[c[0]-h[0],c[1]-h[1]],pt=(g+l)/g,_t=(C+l)/C;s.clockwise===!1&&(pt=(C+l)/C,_t=(g+l)/g);var Ft=ii.scale([],J,pt),Ht=[h[0]+Ft[0],h[1]+Ft[1]],Dt=[v[0]-h[0],v[1]-h[1]],qt=ii.scale([],Dt,_t),ve=[h[0]+qt[0],h[1]+qt[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:Ht[0],y:Ht[1]},{x:ve[0],y:ve[1]}],r},su=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=ma*2),e&&(l.x+=Yh(h)*e,l.y+=Gh(h)*e),n){var c=h-ma/2;h>1/2*ma&&h<3*1/2*ma&&(c-=ma),l.x+=Yh(c)*n,l.y+=Gh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*ma&&h<3*1/2*ma&&(h-=ma),(0,B.__assign)({rotate:h},v)):v},vx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},d3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Ji=function(r,t){typeof t=="function"&&vx(r,t)},xa=function(r,t){typeof t=="function"&&d3(r,t)},dx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Ji(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=ma*2/l,h=a[s]-n[s];return h===0||Ji(r,function(c){var v=(c[s]-n[s])/h*(ma*2-u)+u,g=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=g*Math.cos(v),c.y=g*Math.sin(v),!0}),r},px=function(r,t){return t*(v3[r]||1)},gx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=px(a,t)}),[e,t]},zh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var g=n[s.parentId];if(g)g.children?g.children.push(u):g.children=[u],n[u.id]=u;else{var C={id:s.parentId,children:[u]};n[C.id]=C,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,vx(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Xh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(g){if(!s){if(g.id===t){a=g,g.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Ji(g,function(C){return o[C.id]={children:C.children},n=o[C.parentId||C.comboId||"root"].children,C&&(C.removed||t===C.id)&&n?(l=C.parentId||C.comboId||"root",a=C,C.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(g){h||Ji(g,function(C){return e===C.id?(h=!0,C.children?C.children.push(a):C.children=[a],c=C.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Ji(a,function(g){return g.itemType==="node"?v+=2:v+=1,g.depth=v,!0})}return r},Vh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},p3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function lu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(i)}function yx(i){if(typeof i!="string")return i;var r=function(Ft){if(typeof Ft!="string")return Ft;try{return JSON.parse(Ft.trim())}catch(Ht){return Ft.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Ft){return Ft[Ft.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Ft=[],Ht=0;Ht<arguments.length;Ht++)Ft[Ht]=arguments[Ht];return Ft.some(function(Dt){return e(o)===Dt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],g=s('"',"'");if(!g&&!v.trim()){h+=1;continue}var C=n[h-1]==="\\",_=s("}"),F=s("]"),Y=s(","),G=l();if(g)if(e(o)===v&&!C){o.pop();var $=r(c);G.push($),u=$,c=""}else c+=v;else if(F&&v===",")c&&(G.push(r(c)),c="");else if(_&&v===":")o.push(","),c&&(G.push(c),c="");else if(Y&&v===",")c&&(G.push(r(c)),c=""),o.pop();else if(v==="}"&&(_||Y)){c&&(G.push(r(c)),c=""),Y&&o.pop();for(var J={},pt=1;pt<G.length;pt+=2)J[G[pt-1]]=G[pt];a.pop(),a.length&&e(a).push(J),o.pop(),u=J}else v==="]"&&F?(c&&(G.push(r(c)),c=""),a.pop(),a.length&&e(a).push(G),o.pop(),u=G):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var g3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},y3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,c3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function mx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return mx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=g3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=yx(u);t=(0,B.__assign)((0,B.__assign)({},t),h)}else a[l]=yx(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&lu(r.style[a.name])==="object"&&(a.attrs=(0,B.__assign)((0,B.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=(0,B.__assign)((0,B.__assign)({},a.attrs),r.style)),n.length&&(a.children=n),a}function m3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=gx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,B.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function xx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=(0,B.__assign)({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,B.__assign)({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=xx(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=m3(i,r,e),i.attrs=(0,B.__assign)((0,B.__assign)({},i.attrs),i.bbox),i}function bx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(bx(c[v],h[v]));var g=Object.keys(r.attrs),C=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:g.filter(function(_){return _!=="children"}).some(function(_){return i.attrs[_]!==r.attrs[_]||!C.includes(_)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function wx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=y3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=xx(mx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,g=h.bbox,C=h.type,_=h.children,F=(0,B.__rest)(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var Y=a.addShape(h.type,(0,B.__assign)({attrs:v,origin:{bbox:g,type:C,children:_}},F));h.keyshape&&(s=Y)}h.children&&h.children.forEach(function(G){return u(G)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=bx(l,u),c=function C(_){var F;_.type!=="group"&&o.addShape(_.type,{attrs:_.attrs}),((F=_.children)===null||F===void 0?void 0:F.length)&&_.children.map(function(Y){return C(Y)})},v=function C(_){var F,Y=s.find(function(G){return G.attrs.key===_.attrs.key});Y&&o.removeChild(Y),((F=_.children)===null||F===void 0?void 0:F.length)&&_.children.map(function(G){return C(G)})},g=function C(_){var F=_.key;if(_.type!=="group"){var Y=s.find(function($){return $.attrs.key===F});switch(_.action){case"change":if(Y){var G=_.val.keyshape?a.getOriginStyle():{};Y.attr((0,B.__assign)((0,B.__assign)({},G),_.val.attrs))}break;case"add":c(_.val);break;case"delete":v(_.val);break;case"restructure":v(_.formerTarget),c(_.nowTarget);break;default:break}}_.children&&_.children.forEach(function($){return C($)})};g(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Hh={};function Sx(i){return Hh[i]||(Hh[i]=(0,f.upperFirst)(i)),Hh[i]}var x3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},Wh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},uu=function(){function i(){}return i.registerFactory=function(r,t){var e=Sx(r),n=x3,a=(0,B.__assign)((0,B.__assign)({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Sx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=wx(t);a=(0,B.__assign)((0,B.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=wx(s);a=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):Wh;a=(0,B.__assign)((0,B.__assign)({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):Wh,o=(0,B.__assign)((0,B.__assign)({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):Wh,o=(0,B.__assign)((0,B.__assign)({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),mi=uu;uu.registerFactory("node",{defaultShapeType:"circle"}),uu.registerFactory("edge",{defaultShapeType:"line"}),uu.registerFactory("combo",{defaultShapeType:"circle"});var jh="bboxCache",Uh="bboxCanvasCache",b3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ou(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ou(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=mi.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=(0,B.__assign)((0,B.__assign)({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(jh,null),this.set(Uh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=(0,B.__assign)((0,B.__assign)({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),Vm(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(jh);return r||(r=this.calculateBBox(),this.set(jh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Uh);return r||(r=this.calculateCanvasBBox(),this.set(Uh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Cx=b3,fu={source:"start",target:"end"},Na="Node",ns="Point",w3="Anchor",S3=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=fu[t]+ns,a=t+Na,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=fu[t]+ns,o=t+Na,s=this.get(a);if(!s){var l=this.get(o),u=t+w3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Na,n=fu[t]+ns,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Na,n=fu[t]+ns,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Na),n=this.get("target"+Na);return e?delete t["source"+Na]:t.source=this.get("start"+ns),n?delete t["target"+Na]:t.target=this.get("end"+ns),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Na),e=this.get("target"+Na);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(Cx),C3=S3,Rs=d(66974),Zh="anchorPointsCache",M3="bboxCache",E3=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=_s(t[0],e),s=0;s<t.length;s++){var l=t[s],u=_s(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=Gm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Ym({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Nm(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Zh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Zn.default)(l,function(u,h){var c=(0,Rs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(Zh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(M3,null),this.set(Zh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Ri.default)(t.x),n=!(0,Ri.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(Cx),Mx=E3,A3="bboxCache",Ex="bboxCanvasCache",Kh="sizeCache",T3="anchorPointsCache",P3=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ze.defaultCombo.size[0]/2,width:n.width||Ze.defaultCombo.size[0],height:n.height||Ze.defaultCombo.size[1]};a.style=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},e),t.style),o);var s=t.padding||Ze.defaultCombo.padding;return(0,Ma.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Kh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ou(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Kh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(Ex,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(A3,null),this.set(Ex,null),this.set(T3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Kh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Mx),L3=P3,hu="node",cu="edge",Ax="vedge",vu="combo",I3="default",Tx="Mapper",no="stateStyles",O3=Object.hasOwnProperty,k3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===Ax?cu:r,o=n.get(a+"Group")||n.get("group"),s=(0,hx.default)(a),l=null,u=n.get(a+(0,hx.default)(no))||{},h=n.get(I3+s);t[no]&&(u=t[no]);var c=n.get(a+Tx);if(c){var v=c(t);v[no]&&(u=v[no],delete v[no]),t=(0,Ui.default)({},h,t,v)}else h&&(0,Zn.default)(h,function($,J){O3.call(t,J)||((0,fx.default)($)?t[J]=(0,ux.default)($):t[J]=h[J])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===cu||r===Ax){var g=void 0,C=void 0;if(g=t.source,C=t.target,g&&(0,Nn.default)(g)&&(g=n.findById(g)),C&&(0,Nn.default)(C)&&(C=n.findById(C)),!g||!C){console.warn("The source or target node of edge "+t.id+" does not exist!");return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(g)),C.getType&&C.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(C)),l=new C3({model:t,source:g,target:C,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===hu)l=new Mx({model:t,styles:u,group:o.addGroup()});else if(r===vu){var _=t.children,F=Vh(_,n);t.x=F.x||t.x||Math.random()*100,t.y=F.y||t.y||Math.random()*100;var Y=o.addGroup();Y.setZIndex(t.depth),l=new L3({model:t,styles:u,bbox:F,group:Y});var G=l.getModel();(_||[]).forEach(function($){var J=n.findById($.id);l.addChild(J),$.depth=G.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,Nn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Tx),o=r.getModel();if(a){var s=(0,Ui.default)({},o,t),l=a(s),u=(0,Ui.default)({},o,l,t);l[no]&&(r.set("styles",u[no]),delete u[no]),(0,Zn.default)(u,function(g,C){t[C]=g})}else(0,Zn.default)(t,function(g,C){o[C]&&(0,fx.default)(g)&&!(0,Ni.default)(g)&&(t[C]=(0,B.__assign)((0,B.__assign)({},o[C]),t[C]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===cu){if(t.source){var h=t.source;(0,Nn.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,Nn.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===hu||n===vu){var v=r.getEdges();(0,Zn.default)(v,function(g){g.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,Nn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Vh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,Nn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,Nn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,Nn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,ux.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===cu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),g=r.get("id");if(a===hu){var C=r.getModel().comboId;if(v){var _=v,F=!1;v.forEach(function(_t){F||Ji(_t,function(Ft){if(Ft.id===g&&_){var Ht=_.indexOf(Ft);return _.splice(Ht,1),F=!0,!1}return _=Ft.children,!0})})}for(var Y=r.getEdges(),G=Y.length-1;G>=0;G--)e.removeItem(Y[G],!1);C&&e.updateCombo(C)}else if(a===vu){var $=r.getModel().parentId,J,pt=!1;(v||[]).forEach(function(Ft){pt||Ji(Ft,function(Ht){return Ht.id===g?(J=Ht,pt=!0,!1):!0})}),J.removed=!0,J&&J.children&&J.children.forEach(function(Ft){t.removeItem(Ft.id)});for(var Y=r.getEdges(),G=Y.length;G>=0;G--)e.removeItem(Y[G],!1);$&&e.updateCombo($)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,Nn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,Nn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,Nn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,Nn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,Nn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){xa(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,Nn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===hu){var a=r.getEdges();(0,Zn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===vu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Ji(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,Zn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),_3=k3,ba=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Rs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Px={registerLayout:function(r,t,e){if(e===void 0&&(e=ba),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){(0,B.__extends)(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,Rs.default)(h,c,t,s),(0,Zn.default)(h,function(v,g){u[g]=v}),l}return o}(e);Px[r]=n}},Lx=Px;function B3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function D3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function F3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var R3=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,g=(v-c)/a,C={};e.forEach(function(Dt,qt){C[Dt.id]=qt}),t.nodeMap=C;var _=eu(e.length,C,n);t.degrees=_,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var F=t.angleRatio,Y=g*F;t.astep=Y;var G=t.ordering,$=[];G==="topology"?$=t.topologyOrdering():G==="topology-directed"?$=t.topologyOrdering(!0):G==="degree"?$=t.degreeOrdering():$=e;for(var J=t.clockwise,pt=Math.ceil(a/h),_t=0;_t<a;++_t){var Ft=s;!Ft&&l!==null&&u!==null&&(Ft=l+_t*(u-l)/(a-1)),Ft||(Ft=10+_t*100/(a-1));var Ht=c+_t%pt*Y+2*Math.PI/h*Math.floor(_t/pt);J||(Ht=v-_t%pt*Y-2*Math.PI/h*Math.floor(_t/pt)),$[_t].x=o[0]+Math.cos(Ht)*Ft,$[_t].y=o[1]+Math.sin(Ht)*Ft,$[_t].weight=_[_t]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,B3(s,a,l,t);var g=0;return s.forEach(function(C,_){if(_!==0)if((_===v-1||n[_]!==n[_+1]||D3(u[g],C,a))&&c[_]!==!0)u.push(C),h.push(o[l[C.id]]),c[_]=!0,g++;else{for(var F=u[g].children,Y=!1,G=0;G<F.length;G++){var $=l[F[G]];if(n[$]===n[_]&&c[$]!==!0){u.push(s[$]),h.push(o[l[s[$].id]]),c[$]=!0,Y=!0;break}}for(var J=0;!Y&&(c[J]||(u.push(s[J]),h.push(o[l[s[J].id]]),c[J]=!0,Y=!0),J++,J!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(F3),n},r}(ba),N3=R3,G3=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Ni.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Ht){s.push(Ht);var Dt=l;(0,Ni.default)(Ht.size)?Dt=Math.max(Ht.size[0],Ht.size[1]):(0,f.isNumber)(Ht.size)&&(Dt=Ht.size),l=Math.max(l,Dt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(Ht,Dt){u[Ht.id]=Ht,h[Ht.id]=Dt}),(t.sortBy==="degree"||!(0,Nn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=eu(e.length,h,n);s.forEach(function(Ht,Dt){Ht.degree=c[Dt]})}s.sort(function(Ht,Dt){return Dt[t.sortBy]-Ht[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],g=v[0];s.forEach(function(Ht){if(g.length>0){var Dt=Math.abs(g[0][t.sortBy]-Ht[t.sortBy]);t.maxLevelDiff&&Dt>=t.maxLevelDiff&&(g=[],v.push(g))}g.push(Ht)});var C=l+t.minNodeSpacing;if(!t.preventOverlap){var _=v.length>0&&v[0].length>1,F=Math.min(t.width,t.height)/2-C,Y=F/(v.length+(_?1:0));C=Math.min(C,Y)}var G=0;if(v.forEach(function(Ht){var Dt=t.sweep;Dt===void 0&&(Dt=2*Math.PI-2*Math.PI/Ht.length);var qt=Ht.dTheta=Dt/Math.max(1,Ht.length-1);if(Ht.length>1&&t.preventOverlap){var ve=Math.cos(qt)-Math.cos(0),fe=Math.sin(qt)-Math.sin(0),Te=Math.sqrt(C*C/(ve*ve+fe*fe));G=Math.max(Te,G)}Ht.r=G,G+=C}),t.equidistant){for(var $=0,J=0,pt=0;pt<v.length;pt++){var _t=v[pt],Ft=_t.r-J;$=Math.max($,Ft)}J=0,v.forEach(function(Ht,Dt){Dt===0&&(J=Ht.r),Ht.r=J,J+=$})}v.forEach(function(Ht){var Dt=Ht.dTheta,qt=Ht.r;Ht.forEach(function(ve,fe){var Te=t.startAngle+(t.clockwise?1:-1)*Dt*fe;ve.x=o[0]+qt*Math.cos(Te),ve.y=o[1]+qt*Math.sin(Te)})})}},r}(ba),Y3=G3,z3=d(49772),Ix=d.n(z3),X3=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Ix()).graphlib.Graph,l;n?(0,Ni.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(g){return g.size?(0,Ni.default)(g.size)?g.size:[g.size,g.size]:[40,40]};var u=du(t.nodesepFunc,t.nodesep,50),h=du(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=du(t.ranksepFunc,t.ranksep,50),h=du(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var g=l(v),C=h(v),_=u(v),F=g[0]+2*_,Y=g[1]+2*C;s.setNode(v.id,{width:F,height:Y})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Ix().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var g=e.findIndex(function(C){return C.id===v});e[g].x=c.x,e[g].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var g=o.findIndex(function(C){return C.source===v.v&&C.target===v.w});t.controlPoints&&o[g].type!=="loop"&&o[g].shape!=="loop"&&(o[g].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(_){var F=_.comboId;u[F]||(u[F]={x:0,y:0,count:0}),u[F].x+=_.x,u[F].y+=_.y,u[F].count++}),Object.keys(u).forEach(function(_){u[_].x/=u[_].count,u[_].y/=u[_].count}),l!==1){var h=s.sort(function(_,F){return _.x-F.x}),c=h[0].x,v=h[l-1].x,g=(v-c)/(l-1),C=s.sort(function(_,F){var Y=_[t]||"undefined",G=F[t]||"undefined";return Y<G?-1:Y>G?1:0});C.forEach(function(_,F){_.x=c+F*g})}})},r}(ba),V3=X3;function du(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function H3(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Ox(this.cover(r,t),r,t,i)}function Ox(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,g,C,_,F,Y,G;if(!a)return i._root=o,i;for(;a.length;)if((_=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[Y=F<<1|_]))return n[Y]=o,i;if(g=+i._x.call(null,a.data),C=+i._y.call(null,a.data),r===g&&t===C)return o.next=a,n?n[Y]=o:i._root=o,i;do n=n?n[Y]=new Array(4):i._root=new Array(4),(_=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(v=(l+h)/2))?l=v:h=v;while((Y=F<<1|_)==(G=(C>=v)<<1|g>=c));return n[G]=a,n[Y]=o,i}function W3(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)Ox(this,o[t],s[t],i[t]);return this}function j3(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function U3(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function Z3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ra(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function K3(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],g=this._root,C,_;for(g&&v.push(new ra(g,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);C=v.pop();)if(!(!(g=C.node)||(o=C.x0)>h||(s=C.y0)>c||(l=C.x1)<n||(u=C.y1)<a))if(g.length){var F=(o+l)/2,Y=(s+u)/2;v.push(new ra(g[3],F,Y,l,u),new ra(g[2],o,Y,F,u),new ra(g[1],F,s,l,Y),new ra(g[0],o,s,F,Y)),(_=(r>=Y)<<1|i>=F)&&(C=v[v.length-1],v[v.length-1]=v[v.length-1-_],v[v.length-1-_]=C)}else{var G=i-+this._x.call(null,g.data),$=r-+this._y.call(null,g.data),J=G*G+$*$;if(J<t){var pt=Math.sqrt(t=J);n=i-pt,a=r-pt,h=i+pt,c=r+pt,e=g.data}}return e}function $3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,g,C,_,F,Y;if(!t)return this;if(t.length)for(;;){if((C=h>=(v=(o+l)/2))?o=v:l=v,(_=c>=(g=(s+u)/2))?s=g:u=g,r=t,!(t=t[F=_<<1|C]))return this;if(!t.length)break;(r[F+1&3]||r[F+2&3]||r[F+3&3])&&(e=r,Y=F)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[F]=a:delete r[F],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[Y]=t:this._root=t),this):(this._root=a,this)}function Q3(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function J3(){return this._root}function q3(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function tN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new ra(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new ra(n,u,h,s,l)),(n=e[2])&&r.push(new ra(n,a,h,u,l)),(n=e[1])&&r.push(new ra(n,u,o,s,h)),(n=e[0])&&r.push(new ra(n,a,o,u,h))}return this}function eN(i){var r=[],t=[],e;for(this._root&&r.push(new ra(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new ra(a,o,s,h,c)),(a=n[1])&&r.push(new ra(a,h,s,l,c)),(a=n[2])&&r.push(new ra(a,o,c,h,u)),(a=n[3])&&r.push(new ra(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function rN(i){return i[0]}function nN(i){return arguments.length?(this._x=i,this):this._x}function iN(i){return i[1]}function aN(i){return arguments.length?(this._y=i,this):this._y}function $h(i,r,t){var e=new Qh(r==null?rN:r,t==null?iN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function Qh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function kx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var na=$h.prototype=Qh.prototype;na.copy=function(){var i=new Qh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=kx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=kx(e));return i},na.add=H3,na.addAll=W3,na.cover=j3,na.data=U3,na.extent=Z3,na.find=K3,na.remove=$3,na.removeAll=Q3,na.root=J3,na.size=q3,na.visit=tN,na.visitAfter=eN,na.x=nN,na.y=aN;function ia(i){return function(){return i}}function mo(i){return(i()-.5)*1e-6}var oN={value:function(){}};function _x(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new pu(t)}function pu(i){this._=i}function sN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}pu.prototype=_x.prototype={constructor:pu,on:function(r,t){var e=this._,n=sN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=lN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=Bx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=Bx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new pu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function lN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function Bx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=oN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var uN=_x,fN=d(35374),hN=1664525,cN=1013904223,Dx=4294967296;function vN(){var i=1;return function(){return(i=(hN*i+cN)%Dx)/Dx}}function dN(i){return i.x}function pN(i){return i.y}var gN=10,yN=Math.PI*(3-Math.sqrt(5));function Fx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=(0,fN.HT)(c),u=uN("tick","end"),h=vN();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(_){var F,Y=i.length,G;_===void 0&&(_=1);for(var $=0;$<_;++$)for(t+=(a-t)*n,s.forEach(function(J){J(t)}),F=0;F<Y;++F)G=i[F],G.fx==null?G.x+=G.vx*=o:(G.x=G.fx,G.vx=0),G.fy==null?G.y+=G.vy*=o:(G.y=G.fy,G.vy=0);return r}function g(){for(var _=0,F=i.length,Y;_<F;++_){if(Y=i[_],Y.index=_,Y.fx!=null&&(Y.x=Y.fx),Y.fy!=null&&(Y.y=Y.fy),isNaN(Y.x)||isNaN(Y.y)){var G=gN*Math.sqrt(.5+_),$=_*yN;Y.x=G*Math.cos($),Y.y=G*Math.sin($)}(isNaN(Y.vx)||isNaN(Y.vy))&&(Y.vx=Y.vy=0)}}function C(_){return _.initialize&&_.initialize(i,h),_}return g(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(F){return arguments.length?(i=F,g(),s.forEach(C),r):i},alpha:function(F){return arguments.length?(t=+F,r):t},alphaMin:function(F){return arguments.length?(e=+F,r):e},alphaDecay:function(F){return arguments.length?(n=+F,r):+n},alphaTarget:function(F){return arguments.length?(a=+F,r):a},velocityDecay:function(F){return arguments.length?(o=1-F,r):1-o},randomSource:function(F){return arguments.length?(h=F,s.forEach(C),r):h},force:function(F,Y){return arguments.length>1?(Y==null?s.delete(F):s.set(F,C(Y)),r):s.get(F)},find:function(F,Y,G){var $=0,J=i.length,pt,_t,Ft,Ht,Dt;for(G==null?G=Infinity:G*=G,$=0;$<J;++$)Ht=i[$],pt=F-Ht.x,_t=Y-Ht.y,Ft=pt*pt+_t*_t,Ft<G&&(Dt=Ht,G=Ft);return Dt},on:function(F,Y){return arguments.length>1?(u.on(F,Y),r):u.on(F)}}}function Rx(){var i,r,t,e,n=ia(-30),a,o=1,s=Infinity,l=.81;function u(g){var C,_=i.length,F=$h(i,dN,pN).visitAfter(c);for(e=g,C=0;C<_;++C)r=i[C],F.visit(v)}function h(){if(!!i){var g,C=i.length,_;for(a=new Array(C),g=0;g<C;++g)_=i[g],a[_.index]=+n(_,g,i)}}function c(g){var C=0,_,F,Y=0,G,$,J;if(g.length){for(G=$=J=0;J<4;++J)(_=g[J])&&(F=Math.abs(_.value))&&(C+=_.value,Y+=F,G+=F*_.x,$+=F*_.y);g.x=G/Y,g.y=$/Y}else{_=g,_.x=_.data.x,_.y=_.data.y;do C+=a[_.data.index];while(_=_.next)}g.value=C}function v(g,C,_,F){if(!g.value)return!0;var Y=g.x-r.x,G=g.y-r.y,$=F-C,J=Y*Y+G*G;if($*$/l<J)return J<s&&(Y===0&&(Y=mo(t),J+=Y*Y),G===0&&(G=mo(t),J+=G*G),J<o&&(J=Math.sqrt(o*J)),r.vx+=Y*g.value*e/J,r.vy+=G*g.value*e/J),!0;if(g.length||J>=s)return;(g.data!==r||g.next)&&(Y===0&&(Y=mo(t),J+=Y*Y),G===0&&(G=mo(t),J+=G*G),J<o&&(J=Math.sqrt(o*J)));do g.data!==r&&($=a[g.data.index]*e/J,r.vx+=Y*$,r.vy+=G*$);while(g=g.next)}return u.initialize=function(g,C){i=g,t=C,h()},u.strength=function(g){return arguments.length?(n=typeof g=="function"?g:ia(+g),h(),u):n},u.distanceMin=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function mN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function xN(i){return i.index}function Nx(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function Gx(i){var r=xN,t=c,e,n=ia(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(F){return 1/Math.min(s[F.source.index],s[F.target.index])}function v(F){for(var Y=0,G=i.length;Y<h;++Y)for(var $=0,J,pt,_t,Ft,Ht,Dt,qt;$<G;++$)J=i[$],pt=J.source,_t=J.target,Ft=_t.x+_t.vx-pt.x-pt.vx||mo(u),Ht=_t.y+_t.vy-pt.y-pt.vy||mo(u),Dt=Math.sqrt(Ft*Ft+Ht*Ht),Dt=(Dt-a[$])/Dt*F*e[$],Ft*=Dt,Ht*=Dt,_t.vx-=Ft*(qt=l[$]),_t.vy-=Ht*qt,pt.vx+=Ft*(qt=1-qt),pt.vy+=Ht*qt}function g(){if(!!o){var F,Y=o.length,G=i.length,$=new Map(o.map(function(pt,_t){return[r(pt,_t,o),pt]})),J;for(F=0,s=new Array(Y);F<G;++F)J=i[F],J.index=F,typeof J.source!="object"&&(J.source=Nx($,J.source)),typeof J.target!="object"&&(J.target=Nx($,J.target)),s[J.source.index]=(s[J.source.index]||0)+1,s[J.target.index]=(s[J.target.index]||0)+1;for(F=0,l=new Array(G);F<G;++F)J=i[F],l[F]=s[J.source.index]/(s[J.source.index]+s[J.target.index]);e=new Array(G),C(),a=new Array(G),_()}}function C(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)e[F]=+t(i[F],F,i)}function _(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)a[F]=+n(i[F],F,i)}return v.initialize=function(F,Y){o=F,u=Y,g()},v.links=function(F){return arguments.length?(i=F,g(),v):i},v.id=function(F){return arguments.length?(r=F,v):r},v.iterations=function(F){return arguments.length?(h=+F,v):h},v.strength=function(F){return arguments.length?(t=typeof F=="function"?F:ia(+F),C(),v):t},v.distance=function(F){return arguments.length?(n=typeof F=="function"?F:ia(+F),_(),v):n},v}function bN(i){return i.x+i.vx}function wN(i){return i.y+i.vy}function Yx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=ia(i==null?1:+i));function o(){for(var u,h=r.length,c,v,g,C,_,F,Y=0;Y<a;++Y)for(c=$h(r,bN,wN).visitAfter(s),u=0;u<h;++u)v=r[u],_=t[v.index],F=_*_,g=v.x+v.vx,C=v.y+v.vy,c.visit(G);function G($,J,pt,_t,Ft){var Ht=$.data,Dt=$.r,qt=_+Dt;if(Ht){if(Ht.index>v.index){var ve=g-Ht.x-Ht.vx,fe=C-Ht.y-Ht.vy,Te=ve*ve+fe*fe;Te<qt*qt&&(ve===0&&(ve=mo(e),Te+=ve*ve),fe===0&&(fe=mo(e),Te+=fe*fe),Te=(qt-(Te=Math.sqrt(Te)))/Te*n,v.vx+=(ve*=Te)*(qt=(Dt*=Dt)/(F+Dt)),v.vy+=(fe*=Te)*qt,Ht.vx-=ve*(qt=1-qt),Ht.vy-=fe*qt)}return}return J>g+qt||_t<g-qt||pt>C+qt||Ft<C-qt}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:ia(+u),l(),o):i},o}function SN(i){var r=ia(.1),t,e,n;typeof i!="function"&&(i=ia(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ia(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:ia(+s),o(),a):i},a}function CN(i){var r=ia(.1),t,e,n;typeof i!="function"&&(i=ia(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ia(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:ia(+s),o(),a):i},a}function MN(){function i(ir){return function(){return ir}}var r=function(Tr){return Tr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},g=[],C,_="force",F=!0,Y=.1;function G(ir){if(!F)return G;C.tick(),Ht();for(var Tr=0,Hr=s.length,kr=void 0,Ir=ir*Y;Tr<Hr;++Tr)kr=s[Tr],kr.vx+=(v[r(kr)].x-kr.x)*Ir,kr.vy+=(v[r(kr)].y-kr.y)*Ir}function $(){!s||J()}function J(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var ir=pt();C=Fx(ir.nodes).force("x",SN(h).strength(.1)).force("y",CN(c).strength(.1)).force("collide",Yx(function(Tr){return Tr.r}).iterations(4)).force("charge",Rx().strength(e)).force("links",Gx(ir.nodes.length?ir.links:[]).distance(n).strength(a)),g=C.nodes(),Ht()}}function pt(){var ir=[],Tr=[],Hr={},kr=[],Ir={},Ur=[];return Ir=_t(s),Ur=Ft(u),kr=Object.keys(Ir),kr.forEach(function(pn,Nr){var Ge=Ir[pn];ir.push({id:pn,size:Ge.count,r:Math.sqrt(Ge.sumforceNodeSize/Math.PI)}),Hr[pn]=Nr}),Ur.forEach(function(pn){var Nr=Hr[pn.source],Ge=Hr[pn.target];Nr!==void 0&&Ge!==void 0&&Tr.push({source:Nr,target:Ge,count:pn.count})}),{nodes:ir,links:Tr}}function _t(ir){var Tr={};return ir.forEach(function(Hr){var kr=r(Hr);Tr[kr]||(Tr[kr]={count:0,sumforceNodeSize:0})}),ir.forEach(function(Hr){var kr=r(Hr),Ir=t(Hr),Ur=Tr[kr];Ur.count=Ur.count+1,Ur.sumforceNodeSize=Ur.sumforceNodeSize+Math.PI*(Ir*Ir)*1.3,Tr[kr]=Ur}),Tr}function Ft(ir){var Tr={},Hr=[];ir.forEach(function(Ir){var Ur=Dt(Ir),pn=0;Tr[Ur]!==void 0&&(pn=Tr[Ur]),pn+=1,Tr[Ur]=pn});var kr=Object.entries(Tr);return kr.forEach(function(Ir){var Ur=Ir[0],pn=Ir[1],Nr=Ur.split("~")[0],Ge=Ur.split("~")[1];Nr!==void 0&&Ge!==void 0&&Hr.push({source:Nr,target:Ge,count:pn})}),Hr}function Ht(){return v={none:{x:0,y:0}},g.forEach(function(ir){v[ir.id]={x:ir.x-o[0],y:ir.y-o[1]}}),v}function Dt(ir){var Tr=r(l[ir.source]),Hr=r(l[ir.target]);return Tr<=Hr?Tr+"~"+Hr:Hr+"~"+Tr}function qt(ir){l={},ir.forEach(function(Tr){l[Tr.id]=Tr})}function ve(ir){return arguments.length?(_=ir,$(),G):_}function fe(ir){return arguments.length?typeof ir=="string"?(r=function(Hr){return Hr[ir]},G):(r=ir,G):r}function Te(ir){return arguments.length?(F=ir,G):F}function De(ir){return arguments.length?(Y=ir,G):Y}function ke(ir){return arguments.length?(h=ir,G):h}function Je(ir){return arguments.length?(c=ir,G):c}function er(ir){return arguments.length?(qt(ir||[]),s=ir||[],G):s}function nr(ir){return arguments.length?(u=ir||[],$(),G):u}function Ke(ir){return arguments.length?(typeof ir=="function"?t=ir:t=i(+ir),$(),G):t}function $e(ir){return arguments.length?(typeof ir=="function"?e=ir:e=i(+ir),$(),G):e}function Mr(ir){return arguments.length?(typeof ir=="function"?n=ir:n=i(+ir),$(),G):n}function Cr(ir){return arguments.length?(typeof ir=="function"?a=ir:a=i(+ir),$(),G):a}function _r(ir){return arguments.length?(o=ir,G):o}return G.initialize=function(ir){s=ir,$()},G.template=ve,G.groupBy=fe,G.enableGrouping=Te,G.strength=De,G.centerX=ke,G.centerY=Je,G.nodes=er,G.links=nr,G.forceNodeSize=Ke,G.nodeSize=G.forceNodeSize,G.forceCharge=$e,G.forceLinkDistance=Mr,G.forceLinkStrength=Cr,G.offset=_r,G.getFocis=Ht,G}var io={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},EN=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=Rx();if(e.nodeStrength&&h.strength(e.nodeStrength),o=Fx().nodes(n),e.clustering){var c=MN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",mN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=Gx().id(function(_){return _.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!PN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var g=TN(o),C=1;C<=g;C++)o.tick(),postMessage({type:io.TICK,currentTick:C,totalTicks:g,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(_){e.ticking=!1,console.warn(_)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Ma.default)(a)?s=function(){return a}:(0,Js.default)(a)?s=a:s=function(){return 0},!n)o=function(g){if(g.size){if((0,Ni.default)(g.size)){var C=g.size[0]>g.size[1]?g.size[0]:g.size[1];return C/2+s(g)}return g.size/2+s(g)}return 10+s(g)};else if((0,Js.default)(n))o=function(g){var C=n(g);return C+s(g)};else if((0,Ni.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(g){return h+s(g)}}else if((0,Ma.default)(n)){var c=n/2;o=function(g){return c+s(g)}}else o=function(){return 10};t.force("collisionForce",Yx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Rs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(ba),AN=EN;function TN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function PN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var LN=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(F){var Y=[];e.forEach(function(G,$){Y[$]={x:0,y:0}}),t.applyCalculate(e,n,Y),l&&t.applyClusterForce(u,Y),e.forEach(function(G,$){!(0,f.isNumber)(G.x)||!(0,f.isNumber)(G.y)||(G.x+=Y[$].x*s,G.y+=Y[$].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var g=[0,0];e.forEach(function(_){!(0,f.isNumber)(_.x)||!(0,f.isNumber)(_.y)||(g[0]+=_.x,g[1]+=_.y)}),g[0]/=e.length,g[1]/=e.length;var C=[o[0]-g[0],o[1]-g[1]];e.forEach(function(_,F){!(0,f.isNumber)(_.x)||!(0,f.isNumber)(_.y)||(_.x+=C[0],_.y+=C[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(pt){if(pt.size){if((0,f.isArray)(pt.size)){var _t=pt.size[0]>pt.size[1]?pt.size[0]:pt.size[1];return _t/2+h(pt)}return pt.size/2+h(pt)}return 10+h(pt)};else if((0,f.isFunction)(s))u=function(pt){var _t=s(pt);return _t+h(pt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(pt){return v+h(pt)}}else if((0,f.isNumber)(s)){var g=s/2;u=function(pt){return g+h(pt)}}else u=function(){return 10};this.nodeSize=u;var C=this.linkDistance,_;C||(C=50),(0,f.isNumber)(C)&&(_=function(pt){return C}),this.linkDistance=_;var F=this.linkStrength,Y;F||(F=1),(0,f.isNumber)(F)&&(Y=function(pt){return F}),this.linkStrength=Y;var G=this.nodeStrength,$;G||(G=30),(0,f.isNumber)(G)&&($=function(pt){return G}),this.nodeStrength=$},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],g=h.x-v.cx,C=h.y-v.cy,_=Math.sqrt(g*g+C*C);e[c].x-=g*s*l/_,e[c].y-=C*s*l/_}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,g=c*c+v*v;g<1&&(g=Math.sqrt(g)),c===0&&(c=Math.random()*.01,g+=c*c),v===0&&(v=Math.random()*.01,g+=v*v);var C=Math.sqrt(g);o[s.id+"-"+u.id]={vx:c,vy:v,vl:g,sqrtVl:C},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:g,sqrtVl:C}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(g,C){if(v!==C&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(g.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(g.y))){var _=n[c.id+"-"+g.id],F=_.vl,Y=_.vx,G=_.vy;if(!(F>a)&&(e[v].x+=Y*o(g)*s/F,e[v].y+=G*o(g)*s/F,u&&v<C)){var $=h(c),J=h(g),pt=$+J;if(F<pt*pt){var _t=n[c.id+"-"+g.id].sqrtVl,Ft=(pt-_t)/_t*l,Ht=J*J/($*$+J*J),Dt=Y*Ft,qt=G*Ft;e[v].x+=Dt*Ht,e[v].y+=qt*Ht,Ht=1-Ht,e[C].x-=Dt*Ht,e[C].y-=qt*Ht}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],g=a.nodeIdxMap[h.target];if(v!==g){var C=a.nodeMap[h.source],_=a.nodeMap[h.target];if(!(!(0,f.isNumber)(_.x)||!(0,f.isNumber)(C.x)||!(0,f.isNumber)(_.y)||!(0,f.isNumber)(C.y))){var F=n[h.target+"-"+h.source],Y=F.vl,G=F.sqrtVl,$=F.vx,J=F.vy,pt=(G-o(h))/G*s*l(h),_t=$*pt,Ft=J*pt,Ht=u[c];e[g].x-=_t*Ht,e[g].y-=Ft*Ht,e[v].x+=_t*(1-Ht),e[v].y+=Ft*(1-Ht)}}}})},r}(ba),IN=LN,ON=800,kN=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(F){if(v[F.cluster]===void 0){var Y={name:F.cluster,cx:0,cy:0,count:0};v[F.cluster]=Y}var G=v[F.cluster];(0,f.isNumber)(F.x)&&(G.cx+=F.x),(0,f.isNumber)(F.y)&&(G.cy+=F.y),G.count++});for(var g in v)v[g].cx/=v[g].count,v[g].cy/=v[g].count}for(var C=function(Y){var G=[];if(e.forEach(function(pt,_t){G[_t]={x:0,y:0}}),t.applyCalculate(e,n,G,l),c){var $=t.clusterGravity||u;e.forEach(function(pt,_t){if(!(!(0,f.isNumber)(pt.x)||!(0,f.isNumber)(pt.y))){var Ft=v[pt.cluster],Ht=Math.sqrt((pt.x-Ft.cx)*(pt.x-Ft.cx)+(pt.y-Ft.cy)*(pt.y-Ft.cy)),Dt=l*$;G[_t].x-=Dt*(pt.x-Ft.cx)/Ht,G[_t].y-=Dt*(pt.y-Ft.cy)/Ht}});for(var J in v)v[J].cx=0,v[J].cy=0,v[J].count=0;e.forEach(function(pt){var _t=v[pt.cluster];(0,f.isNumber)(pt.x)&&(_t.cx+=pt.x),(0,f.isNumber)(pt.y)&&(_t.cy+=pt.y),_t.count++});for(var J in v)v[J].cx/=v[J].count,v[J].cy/=v[J].count}e.forEach(function(pt,_t){if(!(!(0,f.isNumber)(pt.x)||!(0,f.isNumber)(pt.y))){var Ft=.01*l*u;G[_t].x-=Ft*(pt.x-o[0]),G[_t].y-=Ft*(pt.y-o[1])}}),e.forEach(function(pt,_t){if(!(!(0,f.isNumber)(pt.x)||!(0,f.isNumber)(pt.y))){var Ft=Math.sqrt(G[_t].x*G[_t].x+G[_t].y*G[_t].y);if(Ft>0){var Ht=Math.min(s*(h/ON),Ft);pt.x+=G[_t].x/Ft*Ht,pt.y+=G[_t].y/Ft*Ht}}})},_=0;_<a;_++)C(_)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var g=n*n/c;e[o].x+=u*g,e[o].y+=h*g}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,g=Math.sqrt(c*c+v*v),C=g*g/n;e[l].x-=c/g*C,e[l].y-=v/g*C,e[s].x+=c/g*C,e[s].y+=v/g*C}}}})},r}(ba),_N=kN,BN=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(G){s.push(G)});var l={};if(s.forEach(function(G,$){l[G.id]=$}),(t.sortBy==="degree"||!(0,Nn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",eo(e[0].degree))){var u=eu(s.length,l,o);s.forEach(function(G,$){G.degree=u[$]})}s.sort(function(G,$){return $[t.sortBy]-G[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),g=t.large();(v-1)*g>=t.cells?t.small(v-1):(g-1)*v>=t.cells&&t.large(g-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),g=t.large();(g+1)*v>=t.cells?t.large(g+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(G){(!G.x||!G.y)&&(G.x=0,G.y=0);var $,J;(0,f.isArray)(G.size)?($=G.size[0],J=G.size[1]):(0,f.isNumber)(G.size)&&($=G.size,J=G.size),($===void 0||J===void 0)&&((0,f.isArray)(t.nodeSize)?($=t.nodeSize[0],J=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?($=t.nodeSize,J=t.nodeSize):($=30,J=30));var pt=t.preventOverlapPadding,_t=$+pt,Ft=J+pt;t.cellWidth=Math.max(t.cellWidth,_t),t.cellHeight=Math.max(t.cellHeight,Ft)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var C=0;C<s.length;C++){var _=s[C],F=void 0;if(t.position&&(F=t.position(_)),F&&(F.row!==void 0||F.col!==void 0)){var Y={row:F.row,col:F.col};if(Y.col===void 0)for(Y.col=0;t.used(Y.row,Y.col);)Y.col++;else if(Y.row===void 0)for(Y.row=0;t.used(Y.row,Y.col);)Y.row++;t.id2manPos[_.id]=Y,t.use(Y.row,Y.col)}t.getPos(_)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(ba),DN=BN,FN=d(40670),zx=d(81306),Xx=d(59206),gu=d(69610),yu=d(54941);const RN=Object.prototype.toString;function ca(i){return RN.call(i).endsWith("Array]")}function NN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function GN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function Vx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ca(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ca(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=GN(i),n=NN(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var mu=" ".repeat(2),Hx=" ".repeat(4);function YN(){return Wx(this)}function Wx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(mu,`[
`).concat(Hx).concat(zN(i,e,a,s),`
`).concat(mu,`]
`).concat(mu,"rows: ").concat(i.rows,`
`).concat(mu,"columns: ").concat(i.columns,`
}`)}function zN(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(XN(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(Hx))}function XN(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function VN(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Aa(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Ta(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function is(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function as(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function HN(i,r){if(!ca(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function WN(i,r){if(!ca(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function jx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(bu("startRow",r),bu("endRow",t),bu("startColumn",e),bu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function xu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function bu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function os(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function jN(i){for(var r=xu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function UN(i){for(var r=xu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function ZN(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function KN(i){for(var r=xu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function $N(i){for(var r=xu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function QN(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function JN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function qN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function t4(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function e4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function r4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function n4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function i4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function a4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function o4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function s4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function l4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function u4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var ki=function(){function i(){(0,gu.Z)(this,i)}return(0,yu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new gn(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Aa(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return gn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Aa(this,t),e=is(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Aa(this,t),Aa(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Ta(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return gn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Ta(this,t),e=as(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Ta(this,t),Ta(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=as(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=as(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=as(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=as(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Aa(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Ta(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)>u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){os(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)<u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){os(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Aa(this,t),os(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Aa(this,t),os(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Ta(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Ta(this,t),os(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Ta(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Ta(this,t),os(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new gn(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=gn.checkMatrix(t);var e=new gn(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),g=(l+h)*a,C=n*(s-c),_=h*(u-a),F=(n+o)*c,Y=(l-n)*(a+s),G=(o-h)*(u+c),$=v+_-F+G,J=C+F,pt=g+_,_t=v-g+C+Y;return e.set(0,0,$),e.set(0,1,J),e.set(1,0,pt),e.set(1,1,_t),e}},{key:"strassen3x3",value:function(t){t=gn.checkMatrix(t);var e=new gn(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),g=t.get(0,0),C=t.get(0,1),_=t.get(0,2),F=t.get(1,0),Y=t.get(1,1),G=t.get(1,2),$=t.get(2,0),J=t.get(2,1),pt=t.get(2,2),_t=(n+a+o-s-l-c-v)*Y,Ft=(n-s)*(-C+Y),Ht=l*(-g+C+F-Y-G-$+pt),Dt=(-n+s+l)*(g-C+Y),qt=(s+l)*(-g+C),ve=n*g,fe=(-n+h+c)*(g-_+G),Te=(-n+h)*(_-G),De=(h+c)*(-g+_),ke=(n+a+o-l-u-h-c)*G,Je=c*(-g+_+F-Y-G-$+J),er=(-o+c+v)*(Y+$-J),nr=(o-v)*(Y-J),Ke=o*$,$e=(c+v)*(-$+J),Mr=(-o+l+u)*(G+$-pt),Cr=(o-u)*(G-pt),_r=(l+u)*(-$+pt),ir=a*F,Tr=u*J,Hr=s*_,kr=h*C,Ir=v*pt,Ur=ve+Ke+ir,pn=_t+Dt+qt+ve+er+Ke+$e,Nr=ve+fe+De+ke+Ke+Mr+_r,Ge=Ft+Ht+Dt+ve+Ke+Mr+Cr,or=Ft+Dt+qt+ve+Tr,Zr=Ke+Mr+Cr+_r+Hr,sn=ve+fe+Te+Je+er+nr+Ke,Xr=er+nr+Ke+$e+kr,yn=ve+fe+Te+De+Ir;return e.set(0,0,Ur),e.set(0,1,pn),e.set(0,2,Nr),e.set(1,0,Ge),e.set(1,1,or),e.set(1,2,Zr),e.set(2,0,sn),e.set(2,1,Xr),e.set(2,2,yn),e}},{key:"mmulStrassen",value:function(t){t=gn.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,g,C){var _=v.rows,F=v.columns;if(_===g&&F===C)return v;var Y=i.zeros(g,C);return Y=Y.setSubMatrix(v,0,0),Y}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,g,C,_){if(C<=512||_<=512)return v.mmul(g);C%2==1&&_%2==1?(v=l(v,C+1,_+1),g=l(g,C+1,_+1)):C%2==1?(v=l(v,C+1,_),g=l(g,C+1,_)):_%2==1&&(v=l(v,C,_+1),g=l(g,C,_+1));var F=parseInt(v.rows/2,10),Y=parseInt(v.columns/2,10),G=v.subMatrix(0,F-1,0,Y-1),$=g.subMatrix(0,F-1,0,Y-1),J=v.subMatrix(0,F-1,Y,v.columns-1),pt=g.subMatrix(0,F-1,Y,g.columns-1),_t=v.subMatrix(F,v.rows-1,0,Y-1),Ft=g.subMatrix(F,g.rows-1,0,Y-1),Ht=v.subMatrix(F,v.rows-1,Y,v.columns-1),Dt=g.subMatrix(F,g.rows-1,Y,g.columns-1),qt=c(i.add(G,Ht),i.add($,Dt),F,Y),ve=c(i.add(_t,Ht),$,F,Y),fe=c(G,i.sub(pt,Dt),F,Y),Te=c(Ht,i.sub(Ft,$),F,Y),De=c(i.add(G,J),Dt,F,Y),ke=c(i.sub(_t,G),i.add($,pt),F,Y),Je=c(i.sub(J,Ht),i.add(Ft,Dt),F,Y),er=i.add(qt,Te);er.sub(De),er.add(Je);var nr=i.add(fe,De),Ke=i.add(ve,Te),$e=i.sub(qt,ve);$e.add(fe),$e.add(ke);var Mr=i.zeros(2*er.rows,2*er.columns);return Mr=Mr.setSubMatrix(er,0,0),Mr=Mr.setSubMatrix(nr,er.rows,0),Mr=Mr.setSubMatrix(Ke,0,er.columns),Mr=Mr.setSubMatrix($e,er.rows,er.columns),Mr.subMatrix(0,C-1,0,_-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new gn(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&Vx(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new gn(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&Vx(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new gn(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=gn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(gn.eye(n,n)),o=gn.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new gn(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ux,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ux,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){jx(this,t,e,n,a);for(var o=new gn(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new gn(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new gn(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=gn.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;jx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){HN(this,t),WN(this,e);for(var n=new gn(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new gn(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return jN(this);case"column":return UN(this);case void 0:return ZN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return KN(this);case"column":return $N(this);case void 0:return QN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ca(l))throw new TypeError("mean must be an array");return JN(this,o,l)}case"column":{if(!ca(l))throw new TypeError("mean must be an array");return qN(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return t4(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ca(o))throw new TypeError("center must be an array");return e4(this,o),this}case"column":{if(!ca(o))throw new TypeError("center must be an array");return r4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return n4(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=i4(this);else if(!ca(n))throw new TypeError("scale must be an array");return a4(this,n),this}case"column":{if(n===void 0)n=o4(this);else if(!ca(n))throw new TypeError("scale must be an array");return s4(this,n),this}case void 0:{if(n===void 0)n=l4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return u4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Wx(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new gn(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new gn(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new gn(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new gn(t,e)}},{key:"ones",value:function(t,e){return new gn(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new gn(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new gn(t,e),g=0;g<t;g++)for(var C=0;C<e;C++){var _=o+Math.round(h()*c);v.set(g,C,_)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new gn(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new gn(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();ki.prototype.klass="Matrix",typeof Symbol!="undefined"&&(ki.prototype[Symbol.for("nodejs.util.inspect.custom")]=YN);function Ux(i,r){return i-r}ki.random=ki.rand,ki.randomInt=ki.randInt,ki.diagonal=ki.diag,ki.prototype.diagonal=ki.prototype.diag,ki.identity=ki.eye,ki.prototype.negate=ki.prototype.neg,ki.prototype.tensorProduct=ki.prototype.kroneckerProduct;var gn=function(i){(0,zx.Z)(t,i);var r=(0,Xx.Z)(t);function t(e,n){var a;if((0,gu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,FN.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ca(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Aa(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Aa(this,n,!0),a=Float64Array.from(is(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Ta(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Ta(this,n,!0),a=as(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(ki);VN(ki,gn);var f4=function(i){(0,zx.Z)(t,i);var r=(0,Xx.Z)(t);function t(e){var n;return(0,gu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,yu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(ki);function ss(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Zx=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,gu.Z)(this,i),r=f4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),g=!1,C;if(e<n)if(!h)C=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{C=r.transpose(),e=C.rows,n=C.columns,g=!0;var _=c;c=v,v=_}else C=r.clone();for(var F=Math.min(e,n),Y=Math.min(e+1,n),G=new Float64Array(Y),$=new gn(e,F),J=new gn(n,n),pt=new Float64Array(n),_t=new Float64Array(e),Ft=new Float64Array(Y),Ht=0;Ht<Y;Ht++)Ft[Ht]=Ht;for(var Dt=Math.min(e-1,n),qt=Math.max(0,Math.min(n-2,e)),ve=Math.max(Dt,qt),fe=0;fe<ve;fe++){if(fe<Dt){G[fe]=0;for(var Te=fe;Te<e;Te++)G[fe]=ss(G[fe],C.get(Te,fe));if(G[fe]!==0){C.get(fe,fe)<0&&(G[fe]=-G[fe]);for(var De=fe;De<e;De++)C.set(De,fe,C.get(De,fe)/G[fe]);C.set(fe,fe,C.get(fe,fe)+1)}G[fe]=-G[fe]}for(var ke=fe+1;ke<n;ke++){if(fe<Dt&&G[fe]!==0){for(var Je=0,er=fe;er<e;er++)Je+=C.get(er,fe)*C.get(er,ke);Je=-Je/C.get(fe,fe);for(var nr=fe;nr<e;nr++)C.set(nr,ke,C.get(nr,ke)+Je*C.get(nr,fe))}pt[ke]=C.get(fe,ke)}if(c&&fe<Dt)for(var Ke=fe;Ke<e;Ke++)$.set(Ke,fe,C.get(Ke,fe));if(fe<qt){pt[fe]=0;for(var $e=fe+1;$e<n;$e++)pt[fe]=ss(pt[fe],pt[$e]);if(pt[fe]!==0){pt[fe+1]<0&&(pt[fe]=0-pt[fe]);for(var Mr=fe+1;Mr<n;Mr++)pt[Mr]/=pt[fe];pt[fe+1]+=1}if(pt[fe]=-pt[fe],fe+1<e&&pt[fe]!==0){for(var Cr=fe+1;Cr<e;Cr++)_t[Cr]=0;for(var _r=fe+1;_r<e;_r++)for(var ir=fe+1;ir<n;ir++)_t[_r]+=pt[ir]*C.get(_r,ir);for(var Tr=fe+1;Tr<n;Tr++)for(var Hr=-pt[Tr]/pt[fe+1],kr=fe+1;kr<e;kr++)C.set(kr,Tr,C.get(kr,Tr)+Hr*_t[kr])}if(v)for(var Ir=fe+1;Ir<n;Ir++)J.set(Ir,fe,pt[Ir])}}var Ur=Math.min(n,e+1);if(Dt<n&&(G[Dt]=C.get(Dt,Dt)),e<Ur&&(G[Ur-1]=0),qt+1<Ur&&(pt[qt]=C.get(qt,Ur-1)),pt[Ur-1]=0,c){for(var pn=Dt;pn<F;pn++){for(var Nr=0;Nr<e;Nr++)$.set(Nr,pn,0);$.set(pn,pn,1)}for(var Ge=Dt-1;Ge>=0;Ge--)if(G[Ge]!==0){for(var or=Ge+1;or<F;or++){for(var Zr=0,sn=Ge;sn<e;sn++)Zr+=$.get(sn,Ge)*$.get(sn,or);Zr=-Zr/$.get(Ge,Ge);for(var Xr=Ge;Xr<e;Xr++)$.set(Xr,or,$.get(Xr,or)+Zr*$.get(Xr,Ge))}for(var yn=Ge;yn<e;yn++)$.set(yn,Ge,-$.get(yn,Ge));$.set(Ge,Ge,1+$.get(Ge,Ge));for(var cn=0;cn<Ge-1;cn++)$.set(cn,Ge,0)}else{for(var $r=0;$r<e;$r++)$.set($r,Ge,0);$.set(Ge,Ge,1)}}if(v)for(var mn=n-1;mn>=0;mn--){if(mn<qt&&pt[mn]!==0)for(var In=mn+1;In<n;In++){for(var ei=0,Hn=mn+1;Hn<n;Hn++)ei+=J.get(Hn,mn)*J.get(Hn,In);ei=-ei/J.get(mn+1,mn);for(var li=mn+1;li<n;li++)J.set(li,In,J.get(li,In)+ei*J.get(li,mn))}for(var gi=0;gi<n;gi++)J.set(gi,mn,0);J.set(mn,mn,1)}for(var Xi=Ur-1,Ki=0,Mi=Number.EPSILON;Ur>0;){var Wr=void 0,ui=void 0;for(Wr=Ur-2;Wr>=-1&&Wr!==-1;Wr--){var _i=Number.MIN_VALUE+Mi*Math.abs(G[Wr]+Math.abs(G[Wr+1]));if(Math.abs(pt[Wr])<=_i||Number.isNaN(pt[Wr])){pt[Wr]=0;break}}if(Wr===Ur-2)ui=4;else{var Ai=void 0;for(Ai=Ur-1;Ai>=Wr&&Ai!==Wr;Ai--){var Ha=(Ai!==Ur?Math.abs(pt[Ai]):0)+(Ai!==Wr+1?Math.abs(pt[Ai-1]):0);if(Math.abs(G[Ai])<=Mi*Ha){G[Ai]=0;break}}Ai===Wr?ui=3:Ai===Ur-1?ui=1:(ui=2,Wr=Ai)}switch(Wr++,ui){case 1:{var Bi=pt[Ur-2];pt[Ur-2]=0;for(var jn=Ur-2;jn>=Wr;jn--){var Rn=ss(G[jn],Bi),ri=G[jn]/Rn,oi=Bi/Rn;if(G[jn]=Rn,jn!==Wr&&(Bi=-oi*pt[jn-1],pt[jn-1]=ri*pt[jn-1]),v)for(var $i=0;$i<n;$i++)Rn=ri*J.get($i,jn)+oi*J.get($i,Ur-1),J.set($i,Ur-1,-oi*J.get($i,jn)+ri*J.get($i,Ur-1)),J.set($i,jn,Rn)}break}case 2:{var No=pt[Wr-1];pt[Wr-1]=0;for(var Pa=Wr;Pa<Ur;Pa++){var Vs=ss(G[Pa],No),hc=G[Pa]/Vs,cc=No/Vs;if(G[Pa]=Vs,No=-cc*pt[Pa],pt[Pa]=hc*pt[Pa],c)for(var xo=0;xo<e;xo++)Vs=hc*$.get(xo,Pa)+cc*$.get(xo,Wr-1),$.set(xo,Wr-1,-cc*$.get(xo,Pa)+hc*$.get(xo,Wr-1)),$.set(xo,Pa,Vs)}break}case 3:{var Hs=Math.max(Math.abs(G[Ur-1]),Math.abs(G[Ur-2]),Math.abs(pt[Ur-2]),Math.abs(G[Wr]),Math.abs(pt[Wr])),us=G[Ur-1]/Hs,W1=G[Ur-2]/Hs,Gu=pt[Ur-2]/Hs,vc=G[Wr]/Hs,aG=pt[Wr]/Hs,Go=((W1+us)*(W1-us)+Gu*Gu)/2,Yu=us*Gu*(us*Gu),Ws=0;(Go!==0||Yu!==0)&&(Go<0?Ws=0-Math.sqrt(Go*Go+Yu):Ws=Math.sqrt(Go*Go+Yu),Ws=Yu/(Go+Ws));for(var Yo=(vc+us)*(vc-us)+Ws,fs=vc*aG,Un=Wr;Un<Ur-1;Un++){var aa=ss(Yo,fs);aa===0&&(aa=Number.MIN_VALUE);var La=Yo/aa,Ia=fs/aa;if(Un!==Wr&&(pt[Un-1]=aa),Yo=La*G[Un]+Ia*pt[Un],pt[Un]=La*pt[Un]-Ia*G[Un],fs=Ia*G[Un+1],G[Un+1]=La*G[Un+1],v)for(var bo=0;bo<n;bo++)aa=La*J.get(bo,Un)+Ia*J.get(bo,Un+1),J.set(bo,Un+1,-Ia*J.get(bo,Un)+La*J.get(bo,Un+1)),J.set(bo,Un,aa);if(aa=ss(Yo,fs),aa===0&&(aa=Number.MIN_VALUE),La=Yo/aa,Ia=fs/aa,G[Un]=aa,Yo=La*pt[Un]+Ia*G[Un+1],G[Un+1]=-Ia*pt[Un]+La*G[Un+1],fs=Ia*pt[Un+1],pt[Un+1]=La*pt[Un+1],c&&Un<e-1)for(var wo=0;wo<e;wo++)aa=La*$.get(wo,Un)+Ia*$.get(wo,Un+1),$.set(wo,Un+1,-Ia*$.get(wo,Un)+La*$.get(wo,Un+1)),$.set(wo,Un,aa)}pt[Ur-2]=Yo,Ki=Ki+1;break}case 4:{if(G[Wr]<=0&&(G[Wr]=G[Wr]<0?-G[Wr]:0,v))for(var zu=0;zu<=Xi;zu++)J.set(zu,Wr,-J.get(zu,Wr));for(;Wr<Xi&&!(G[Wr]>=G[Wr+1]);){var js=G[Wr];if(G[Wr]=G[Wr+1],G[Wr+1]=js,v&&Wr<n-1)for(var hs=0;hs<n;hs++)js=J.get(hs,Wr+1),J.set(hs,Wr+1,J.get(hs,Wr)),J.set(hs,Wr,js);if(c&&Wr<e-1)for(var cs=0;cs<e;cs++)js=$.get(cs,Wr+1),$.set(cs,Wr+1,$.get(cs,Wr)),$.set(cs,Wr,js);Wr++}Ki=0,Ur--;break}}}if(g){var oG=J;J=$,$=oG}this.m=e,this.n=n,this.s=G,this.U=$,this.V=J}return(0,yu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=gn.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,g=gn.zeros(c,v),C=0;C<c;C++)for(var _=0;_<v;_++){for(var F=0,Y=0;Y<a;Y++)F+=h.get(C,Y)*l.get(_,Y);g.set(C,_,F)}return g.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(gn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new gn(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new gn(n,h),g=0;g<n;g++)for(var C=0;C<h;C++){for(var _=0,F=0;F<c;F++)_+=o.get(g,F)*u.get(C,F);v.set(g,C,_)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return gn.diag(this.s)}}]),i}(),h4=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=_h({nodes:e,edges:a},!1),u=kh(l);t.handleInfinity(u);var h=Xm(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,g){e[g].x=v[0]+o[0],e[g].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=gn.mul(gn.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Zx(a),h=gn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return gn.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(ba),c4=h4,v4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=gn.mul(gn.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Zx(a),h=gn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(_){return gn.mul([_],[h]).toJSON()[0].splice(0,t)})}catch(_){for(var c=[],v=0;v<e.length;v++){var g=Math.random()*n,C=Math.random()*n;c.push([g,C])}return c}},i}(),d4=v4,p4=800,g4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],g=Math.sqrt(c*c+v*v);if(g===0){g=1;var C=l>h?1:-1;c=.01*C,v=.01*C}if(g<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var _=a*a/g;n[l].x+=c/g*_,n[l].y+=v/g*_}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],g=Math.sqrt(c*c+v*v),C=v/g,_=-c/g,F=Math.sqrt(u.x*u.x+u.y*u.y),Y=Math.acos((C*u.x+_*u.y)/F);Y>Math.PI/2&&(Y-=Math.PI/2,C*=-1,_*=-1);var G=Math.cos(Y)*F;u.x=C*G,u.y=_*G});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/p4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var g=u[0]-t[o][0],C=u[1]-t[o][1],_=Math.sqrt(g*g+C*C);g=g/_*l[h],C=C/_*l[h],u[0]=t[o][0]+g,u[1]=t[o][1]+C}}}})},i}(),y4=g4;function m4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function x4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function Kx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var b4=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,Nn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=x4(e,s.id);t.focusIndex=h;var c=_h({nodes:e,edges:n},!1),v=kh(c),g=t.maxToFocus(v,h);t.handleInfinity(v,h,g+1),t.distances=v;var C=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var _=t.width||500,F=t.height||500,Y=_-a[0]>a[0]?a[0]:_-a[0],G=F-a[1]>a[1]?a[1]:F-a[1];Y===0&&(Y=_/2),G===0&&(G=F/2);var $=G>Y?Y:G,J=Math.max.apply(Math,C),pt=[];C.forEach(function(nr,Ke){t.unitRadius||(t.unitRadius=$/J),pt[Ke]=nr*t.unitRadius}),t.radii=pt;var _t=t.eIdealDisMatrix();t.eIdealDistances=_t;var Ft=m4(_t);t.weights=Ft;var Ht=new d4({distances:_t,linkDistance:o}),Dt=Ht.layout();Dt.forEach(function(nr){eo(nr[0])&&(nr[0]=Math.random()*o),eo(nr[1])&&(nr[1]=Math.random()*o)}),t.positions=Dt,Dt.forEach(function(nr,Ke){e[Ke].x=nr[0]+a[0],e[Ke].y=nr[1]+a[1]}),Dt.forEach(function(nr){nr[0]-=Dt[h][0],nr[1]-=Dt[h][1]}),t.run();var qt=t.preventOverlap,ve=t.nodeSize,fe,Te=t.strictRadial;if(qt){var De=t.nodeSpacing,ke;(0,Ma.default)(De)?ke=function(){return De}:(0,Js.default)(De)?ke=De:ke=function(){return 0},ve?(0,Ni.default)(ve)?fe=function(Ke){var $e=ve[0]>ve[1]?ve[0]:ve[1];return $e+ke(Ke)}:fe=function(Ke){return ve+ke(Ke)}:fe=function(Ke){if(Ke.size){if((0,Ni.default)(Ke.size)){var $e=Ke.size[0]>Ke.size[1]?Ke.size[0]:Ke.size[1];return $e+ke(Ke)}return Ke.size+ke(Ke)}return 10+ke(Ke)};var Je={nodeSizeFunc:fe,adjMatrix:c,positions:Dt,radii:pt,height:F,width:_,strictRadial:Te,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Dt.length/4.5,nodes:e},er=new y4(Je);Dt=er.layout()}Dt.forEach(function(nr,Ke){e[Ke].x=nr[0]+a[0],e[Ke].y=nr[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=Kx(h,[0,0]),g=v===0?0:1/v;if(c!==u){var C=0,_=0,F=0;e.forEach(function(G,$){if(c!==$){var J=Kx(h,G),pt=J===0?0:1/J,_t=a[$][c];F+=o[c][$],C+=o[c][$]*(G[0]+_t*(h[0]-G[0])*pt),_+=o[c][$]*(G[1]+_t*(h[1]-G[1])*pt)}});var Y=n[c]===0?0:1/n[c];F*=l,F+=t*Y*Y,C*=l,C+=t*Y*h[0]*g,h[0]=C/F,_*=l,_+=t*Y*h[1]*g,h[1]=_/F}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,g){if(h===g)c.push(0);else if(o[h]===o[g])if(t.sortBy==="data")c.push(v*(Math.abs(h-g)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var C=e[h][t.sortBy]||0,_=e[g][t.sortBy]||0;(0,Nn.default)(C)&&(C=C.charCodeAt(0)),(0,Nn.default)(_)&&(_=_.charCodeAt(0)),c.push(v*(Math.abs(C-_)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var F=(a+s)/2;c.push(v*F)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(ba),w4=b4,S4=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(ba),C4=S4,M4=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(g){var C=[];e.forEach(function(_,F){C[F]={x:0,y:0}}),t.applyCalculate(C),t.applyComboCenterForce(C),e.forEach(function(_,F){!(0,f.isNumber)(_.x)||!(0,f.isNumber)(_.y)||(_.x+=C[F].x*o,_.y+=C[F].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,g){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var g=s[v.id];g&&g.empty&&(v.x=g.cx||v.x,v.y=g.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(ke,Je){s[ke.id]=ke,l[ke.id]=Je}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(ke){u[ke.id]=ke}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var g=[],v=0;v<e.length;++v)g[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=g;var C=t.nodeSize,_=t.nodeSpacing,F,Y;if((0,f.isNumber)(_)?Y=function(){return _}:(0,f.isFunction)(_)?Y=_:Y=function(){return 0},this.nodeSpacing=Y,!C)F=function(Je){if(Je.size){if((0,f.isArray)(Je.size)){var er=Je.size[0]>Je.size[1]?Je.size[0]:Je.size[1];return er/2}return Je.size/2}return 10};else if((0,f.isFunction)(C))F=function(Je){return C(Je)};else if((0,f.isArray)(C)){var G=C[0]>C[1]?C[0]:C[1],$=G/2;F=function(Je){return $}}else{var J=C/2;F=function(Je){return J}}this.nodeSize=F;var pt=t.comboSpacing,_t;(0,f.isNumber)(pt)?_t=function(){return pt}:(0,f.isFunction)(pt)?_t=pt:_t=function(){return 0},this.comboSpacing=_t;var Ft=t.comboPadding,Ht;(0,f.isNumber)(Ft)?Ht=function(){return Ft}:(0,f.isArray)(Ft)?Ht=function(){return Math.max.apply(null,Ft)}:(0,f.isFunction)(Ft)?Ht=Ft:Ht=function(){return 0},this.comboPadding=Ht;var Dt=this.linkDistance,qt;Dt||(Dt=10),(0,f.isNumber)(Dt)?qt=function(Je){return Dt}:qt=Dt,this.linkDistance=qt;var ve=this.edgeStrength,fe;ve||(ve=1),(0,f.isNumber)(ve)?fe=function(Je){return ve}:fe=ve,this.edgeStrength=fe;var Te=this.nodeStrength,De;Te||(Te=30),(0,f.isNumber)(Te)?De=function(Je){return Te}:De=Te,this.nodeStrength=De},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];xa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(G){if(!s[G.id]&&!e[G.id])return!0;u.push(G)});var g=s[h.id];if(g.cx=0,g.cy=0,u.length===0){g.empty=!0;var C=o[h.id],_=Object.keys(e).length,F=h.id+"-visual-child-"+_,Y={id:F,x:C.x,y:C.y,depth:g.depth+1,itemType:"node"};t.nodes.push(Y),e[F]=Y,n[F]=_,g.cx=C.x,g.cy=C.y,u.push(Y)}return u.forEach(function(G){if(g.count++,G.itemType!=="node"){var $=s[G.id];(0,f.isNumber)($.cx)&&(g.cx+=$.cx),(0,f.isNumber)($.cy)&&(g.cy+=$.cy);return}var J=e[G.id];!J||((0,f.isNumber)(J.x)&&(g.cx+=J.x),(0,f.isNumber)(J.y)&&(g.cy+=J.y))}),g.cx/=g.count,g.cy/=g.count,g.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){xa(c,function(v){if(v.itemType==="node")return!0;var g=h[v.id];if(!g)return!0;var C=h[v.id],_=(C.depth+1)*.5,F=C.cx,Y=C.cy;return C.cx=0,C.cy=0,C.children.forEach(function(G){if(G.itemType!=="node"){var $=h[G.id];$&&(0,f.isNumber)($.cx)&&(C.cx+=$.cx),$&&(0,f.isNumber)($.cy)&&(C.cy+=$.cy);return}var J=u[G.id],pt=J.x-F||.005,_t=J.y-Y||.005,Ft=Math.sqrt(pt*pt+_t*_t),Ht=l[J.id],Dt=a*o/Ft*_;t[Ht].x-=pt*Dt,t[Ht].y-=_t*Dt,(0,f.isNumber)(J.x)&&(C.cx+=J.x),(0,f.isNumber)(J.y)&&(C.cy+=J.y)}),C.cx/=C.count,C.cy/=C.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,g=l.y-h.y||.005,C=v*v+g*g,_=Math.sqrt(C);C<1&&(C=_),o[l.id+"-"+h.id]={vx:v,vy:g,vl2:C,vl:_},o[h.id+"-"+l.id]={vx:-v,vy:-g,vl2:C,vl:_}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];xa(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var g=c.children;g&&g.forEach(function(F){!t[F.id]&&!a[F.id]||h.push(F)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(F){if(F.itemType!=="node")return!0;var Y=a[F.id];if(!Y)return!0;var G=o(Y),$=Y.x-G,J=Y.y-G,pt=Y.x+G,_t=Y.y+G;v.minX>$&&(v.minX=$),v.minY>J&&(v.minY=J),v.maxX<pt&&(v.maxX=pt),v.maxY<_t&&(v.maxY=_t)});var C=e.oriComboMap[c.id].size||Ze.defaultCombo.size;(0,f.isArray)(C)&&(C=C[0]);var _=Math.max(v.maxX-v.minX,v.maxY-v.minY,C);return v.r=_/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;xa(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var g=e[c.id];!g||h.forEach(function(C,_){if(!(v<=_)&&C.itemType!=="node"){var F=e[C.id];if(!!F){var Y=g.cx-F.cx||.005,G=g.cy-F.cy||.005,$=Y*Y+G*G,J=g.r,pt=F.r,_t=J+pt,Ft=pt*pt,Ht=J*J;if($<_t*_t){var Dt=c.children;if(!Dt||Dt.length===0)return;var qt=C.children;if(!qt||qt.length===0)return;var ve=Math.sqrt($),fe=(_t-ve)/ve*o,Te=Y*fe,De=G*fe,ke=Ft/(Ht+Ft),Je=1-ke;Dt.forEach(function(er){if(er.itemType==="node"&&!!l[er.id]){var nr=s[er.id];qt.forEach(function(Ke){if(Ke.itemType==="node"&&!!l[Ke.id]){var $e=s[Ke.id];t[nr].x+=Te*ke,t[nr].y+=De*ke,t[$e].x-=Te*Je,t[$e].y-=De*Je}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,g=n.depthRepulsiveForceScale,C=n.center;a.forEach(function(_,F){if(!(!_.x||!_.y)){if(C){var Y=n.gravity,G=_.x-C[0]||.005,$=_.y-C[1]||.005,J=Math.sqrt(G*G+$*$);t[F].x-=G*Y*l/J,t[F].y-=$*Y*l/J}a.forEach(function(pt,_t){if(F!==_t&&!(!pt.x||!pt.y)){var Ft=e[_.id+"-"+pt.id],Ht=Ft.vl2,Dt=Ft.vl;if(!(Dt>o)){var qt=e[_.id+"-"+pt.id],ve=qt.vx,fe=qt.vy,Te=Math.abs(pt.depth-_.depth)+1||1;pt.comboId!==_.comboId&&Te++;var De=Te?Math.pow(g,Te):1,ke=s(pt)*l/Ht*De;if(t[F].x+=ve*ke,t[F].y+=fe*ke,F<_t&&h){var Je=c(_)+v(_),er=c(pt)+v(pt),nr=Je+er;if(Ht<nr*nr){var Ke=(nr-Dt)/Dt*u,$e=er*er,Mr=$e/(Je*Je+$e),Cr=ve*Ke,_r=fe*Ke;t[F].x+=Cr*Mr,t[F].y+=_r*Mr,Mr=1-Mr,t[_t].x-=Cr*Mr,t[_t].y-=_r*Mr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var g=n.nodeIdxMap[c.source],C=n.nodeIdxMap[c.target],_=n.nodeMap[c.source],F=n.nodeMap[c.target],Y=Math.abs(_.depth-F.depth);_.comboId===F.comboId&&(Y=Y/2);var G=Y?Math.pow(h,Y):1;if(_.comboId!==F.comboId&&G===1?G=h/2:_.comboId===F.comboId&&(G=2),!(!(0,f.isNumber)(F.x)||!(0,f.isNumber)(_.x)||!(0,f.isNumber)(F.y)||!(0,f.isNumber)(_.y))){var $=e[c.target+"-"+c.source],J=$.vl,pt=$.vx,_t=$.vy,Ft=(J-o(c))/J*s*l(c)*G,Ht=pt*Ft,Dt=_t*Ft,qt=u[v];t[C].x-=Ht*qt,t[C].y-=Dt*qt,t[g].x+=Ht*(1-qt),t[g].y+=Dt*(1-qt)}}})},r}(ba),E4=M4,A4={circular:N3,concentric:Y3,dagre:V3,force:AN,g6force:IN,comboForce:E4,fruchterman:_N,grid:DN,mds:c4,radial:w4,random:C4};(0,Zn.default)(A4,function(i,r){Lx.registerLayout(r,{},i)});var Ns=Lx,Jh=self;function T4(i){var r=i.data.type;return r===io.RUN}function P4(i){var r=i.data.type;switch(r){case io.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Ns[s];if(!l){Jh.postMessage({type:io.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Jh.postMessage({type:io.END,nodes:e}),u.destroy();break}default:break}}Jh.onmessage=function(i){T4(i)&&P4(i)};var L4=null;function wu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(i)}var I4=function(r){return setTimeout(r,16)},O4=function(r){return clearTimeout(r)},Su={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||I4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||O4;return t(r)}},k4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new L4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(Su.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(Su.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var g=!1;if(this.layoutType!==void 0){try{l=new Ns[this.layoutType](o)}catch(Y){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(g=l.enableTick,g){var C=o.onTick,_=o.onLayoutEnd,c=function(){C&&C(),t.refreshPositions()};l.tick=c;var F=function(){_&&_(),t.emit("afterlayout")};l.onLayoutEnd=F}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!g&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=B4(s,function(v){return typeof v!="function"});return u.postMessage({type:io.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case io.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=Su.requestAnimationFrame(function(){qh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=Su.requestAnimationFrame(function(){qh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case io.END:o.currentTick==null&&(qh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case io.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||eo(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,g=r[1]-o/2;return t.forEach(function(C,_){eo(C.x)&&(n=!1,C.x=_%l*h+v),eo(C.y)&&(n=!1,C.y=Math.floor(_/l)*c+g)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),_4=k4;function qh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function B4(i,r){var t={};return i&&wu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Ro=null,D4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),Ro&&clearTimeout(Ro),Ro=setTimeout(function(){Ro=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,Nn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Zn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Zn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ro&&clearTimeout(Ro),Ro=null,this.destroyed=!0},i}(),F4=D4,tc=null,R4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Ui.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(_r){return _r.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),g=v.x,C=v.y,_=v.width,F=v.height,Y=v.maxX,G=this.getGroupPadding(r),$=s.get("groupBBoxs");$[r]={x:g,y:C,width:_,height:F,maxX:Y};var J=null;if(a){var pt=s.get("groups");t.forEach(function(_r){var ir=s.findById(_r),Tr=ir.getModel();Tr.groupId||(Tr.groupId=r)}),pt.find(function(_r){return _r.id===r})||(pt.push({id:r,title:o}),s.set({groups:pt}))}var _t=s.get("groups").filter(function(_r){return _r.id===r});_t&&_t.length>0&&(J=_t[0].title);var Ft=0,Ht=0,Dt=null;if(e==="circle"){var qt=_>F?_/2:F/2,ve=(_+2*g)/2,fe=(F+2*C)/2,Te=qt+G;Dt=h.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:ve,y:fe,r:Te}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Ft=ve,Ht=fe-Te,this.setDeletageGroupByStyle(r,h,{width:_,height:F,x:ve,y:fe,r:Te})}else{var De=G*c.disCoefficient;Dt=h.addShape("rect",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g-De,y:C-De,width:_+De*2,height:F+De*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Ft=g-De+15,Ht=C-De+15,this.setDeletageGroupByStyle(r,h,{x:g-De,y:C-De,width:_+De,height:F+De,btnOffset:Y-3})}if(J){var ke=J.offsetX,Je=ke===void 0?0:ke,er=J.offsetY,nr=er===void 0?0:er,Ke=J.text,$e=Ke===void 0?J:Ke,Mr=(0,B.__rest)(J,["offsetX","offsetY","text"]),Cr=h.addShape("text",{attrs:(0,B.__assign)({text:$e,stroke:"#444",x:Ft+Je,y:Ht+nr},Mr),className:"group-title",name:"group-title-shape"});Cr.set("capture",!1)}h.set("keyShape",Dt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,Nn.default)(t)?t==="default"?e=(0,Ui.default)({},o):t==="hover"&&(e=(0,Ui.default)({},a)):e=(0,Ui.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var g=(0,Nn.default)(v)?e.findById(v):v,C=g.getBBox(),_=C.minX,F=C.minY,Y=C.maxX,G=C.maxY;_<n&&(n=_),F<o&&(o=F),Y>a&&(a=Y),G>s&&(s=G)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(tc||(tc=this.flatToTree(n)),Ji(tc[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,Ui.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,g=a.offsetX,C=a.offsetY,_=(0,B.__rest)(a,["r","width","height","offsetX","offsetY"]);Object.keys(_).forEach(function(Ft){u.attr(Ft,_[Ft])});var F={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},Y=n.find(function(Ft){return Ft.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+g,y:u.attr("y")+C})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),F={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var G=o.getEdges(),$=G.filter(function(Ft){var Ht=Ft.getModel();return!l.includes(Ht.source)&&l.includes(Ht.target)}),J=G.filter(function(Ft){var Ht=Ft.getModel();return l.includes(Ht.source)&&!l.includes(Ht.target)}),pt=G.filter(function(Ft){var Ht=Ft.getModel();return l.includes(Ht.source)&&l.includes(Ht.target)});if(l.forEach(function(Ft){var Ht=o.findById(Ft),Dt=Ht.getModel(),qt=Dt.groupId;if(qt&&qt!==r){var ve=t.getDeletageGroupById(qt),fe=ve.nodeGroup;fe.hide()}Ht.hide()}),pt.forEach(function(Ft){var Ht=Ft.getSource(),Dt=Ft.getTarget();Ht.isVisible()&&Dt.isVisible()?Ft.show():Ft.hide()}),$.length>0||J.length>0){var _t=o.add("node",F);_t.set("capture",!1),_t.hide(),this.delegateInGroup[r]={delegateNode:_t},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,$,J)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Ui.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(er){return er.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,g=v.default,C=v.collapse;Object.keys(g).forEach(function(er){c.attr(er,g[er])});var _=h.find(function(er){return er.get("className")==="group-title"}),F=this.getGroupPadding(r);if(n==="circle"){var Y=l>u?l/2:u/2;c.animate({r:Y+F},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var G=C.width,$=C.height;c.animate({width:G+l+F*g.disCoefficient*2,height:$+u+F*g.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(_){var J=null,pt=e.get("groups").filter(function(er){return er.id===r});pt&&pt.length>0&&(J=pt[0].title);var _t=J.offsetX,Ft=_t===void 0?0:_t,Ht=J.offsetY,Dt=Ht===void 0?0:Ht;n==="circle"?_.animate({x:c.attr("x")+Ft,y:c.attr("y")-c.attr("r")+Dt},{duration:600,easing:"easeCubic"}):n==="rect"&&_.animate({x:c.attr("x")+(15+Ft),y:c.attr("y")+(15+Dt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Ke){var $e=e.findById(Ke),Mr=$e.getModel(),Cr=Mr.groupId;if(Cr&&Cr!==r){var _r=t.getDeletageGroupById(Cr),ir=_r.nodeGroup;ir.show();var Tr=ir.get("hasHidden");Tr||$e.show()}else $e.show()});var er=e.getEdges(),nr=er.filter(function(Ke){var $e=Ke.getModel();return a.includes($e.source)||a.includes($e.target)});nr.forEach(function(Ke){var $e=Ke.getSource(),Mr=Ke.getTarget();$e.isVisible()&&Mr.isVisible()&&Ke.show()})},300);var qt=this.delegateInGroup[r];if(qt){var ve=qt.sourceOutTargetInEdges,fe=qt.sourceInTargetOutEdges,Te=qt.edgesOuts,De=qt.edgesIn,ke=qt.delegateNode;ve.map(function(er){var nr=er.get("id"),Ke=Te[nr];return e.updateItem(er,{target:Ke}),!0}),fe.map(function(er){var nr=er.get("id"),Ke=De[nr];return e.updateItem(er,{source:Ke}),!0});var Je=ke.getModel();this.deleteTmpNode(r,Je.id),e.remove(ke),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(g){var C=t.findById(g),_=C.getModel(),F=_.groupId;!F||r===F&&(delete _.groupId,t.updateItem(C,_))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(g){return g.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(g){return!o.includes(g)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var g=v.getBBox(),C=g.minX,_=g.minY,F=g.maxX,Y=g.maxY,G=this.getDeletageGroupById(r).nodeGroup,$=G.get("keyShape"),J=$.getBBox(),pt=J.x,_t=J.y;if(!(pt<F&&pt>C&&_t<Y&&_t>_)){delete l.parentId;var Ft=n.get("groupNodes"),Ht=Ft[r],Dt=Ft[s];Ft[s]=Dt.filter(function(kr){return Ht.indexOf(kr)===-1});var qt=this.calculationGroupPosition(Ft[s]),ve=qt.x,fe=qt.y,Te=qt.width,De=qt.height,ke=this.getGroupPadding(s),Je=c.find(function(kr){return kr.get("className")==="group-title"}),er=0,nr=0;if(a==="circle"){var Ke=Te>De?Te/2:De/2,$e=ve,Mr=fe;v.attr({r:Ke+ke,x:$e,y:Mr}),er=$e,nr=Mr-v.attr("r")}else if(a==="rect"){var Cr=this.styles.default,_r=ke*Cr.disCoefficient;v.attr({x:ve-_r,y:fe-_r}),er=ve-_r+15,nr=fe-_r+15}if(Je){var ir=l.title,Tr=0,Hr=0;ir&&(Tr=ir.offsetX,Hr=ir.offsetY),Je.attr({x:er+Tr,y:nr+Hr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,g){var C=a.findById(v),_=C.getModel(),F=_.groupId;F&&!c.includes(F)&&c.push(F),n.nodePoint[g]||(n.nodePoint[g]={x:_.x,y:_.y});var Y=t.x-h.x+n.nodePoint[g].x,G=t.y-h.y+n.nodePoint[g].y;n.nodePoint[g]={x:Y,y:G},a.updateItem(C,{x:Y,y:G})}),c.includes(r)||c.push(r),c.forEach(function(v){var g=n.getDeletageGroupById(v).nodeGroup,C=g.get("keyShape"),_=s[v].filter(function(De){return De.indexOf("custom-node")===-1}),F=n.calculationGroupPosition(_,t),Y=F.x,G=F.y,$=F.width,J=F.height,pt=0,_t=0;if(o==="circle"){var Ft=($+2*Y)/2,Ht=(J+2*G)/2;C.attr({x:Ft,y:Ht}),pt=Ft,_t=Ht-C.attr("r")}else if(o==="rect"){var Dt=g.get("hasHidden"),qt=n.getGroupPadding(v),ve={},fe=n.styles.default,Te=qt*fe.disCoefficient;pt=Y-Te+15,_t=G-Te+15,Dt?(ve={x:Y-Te,y:G-Te},_t=_t+10):ve={x:Y-Te,y:G-Te,width:$+Te*2,height:J+Te*2},C.attr(ve)}n.updateGroupTitle(g,v,pt,_t)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Dt){return Dt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),g=v.x,C=v.y,_=v.width,F=v.height,Y=this.getGroupPadding(o),G=0,$=0;if(l==="circle"){var J=_>F?_/2:F/2,pt=(_+2*g)/2,_t=(F+2*C)/2;e.attr({r:J+Y,x:pt,y:_t}),G=pt,$=_t-e.attr("r")}else if(l==="rect"){var Ft=this.styles.default,Ht=Y*Ft.disCoefficient;e.attr({x:g-Ht,y:C-Ht,width:_+Ht*2,height:F+Ht*2}),G=g-Ht+15,$=C-Ht+15}this.updateGroupTitle(t,o,G,$)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),N4=R4,G4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},$x=G4,Y4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),z4=Y4,Qx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),X4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new z4(r)}return i.prototype.prepend=function(r){var t=new Qx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new Qx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),Jx=X4,V4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new Jx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),qx=V4,H4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},Cu=H4,W4=function(r,t){var e=r.get("adjMatrix");e||(e=Cu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},t1=W4,e1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},r1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&e1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&e1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},j4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function U4(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,g,C=0;C<r.width*r.height;C++){if(v=h,g=c,i.findIndex(function(F){return F.x===h&&F.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var _=a(h,c);switch(_){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(g===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(g===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+_),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var Z4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},K4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=ru(s,l),h=new Do(s.x,s.y,l.x,l.y),c=e.reduce(function(v,g){return Fh(g,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},n1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Fh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},$4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(g,C){var _=!1;return C.forEach(function(F){_||(Rh(g,{x:F.x1,y:F.y1})||Rh(g,{x:F.x2,y:F.y2}))&&(_=!0)}),_},h=function(g,C){for(var _=0,F=C;_<F.length;_++){var Y=F[_],G=Y.getBBox(),$=[[G.x,G.y],[G.x+G.width,G.y],[G.x,G.y+G.height],[G.x+G.width,G.y+G.height]];if(Bs($,g.x,g.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var g=o.pop(),C=n1(t,g);if(C){var _=jm(C,g),F=_[0],Y=_[1];if(Y===2){var G=function(J){for(var pt=n,_t=i1(C,pt,F,J),Ft=u(_t,o)||u(_t,a),Ht=h(_t,t);!Ft&&Ht&&pt>=1;)pt/=1.5,_t=i1(C,pt,F,J),Ft=u(_t,o)||u(_t,a),Ht=h(_t,t);_t&&!Ft&&(!J||!Ht)&&(o.push(new Do(g.x1,g.y1,_t.x,_t.y)),o.push(new Do(_t.x,_t.y,g.x2,g.y2)),s=!0)};G(!0),s||G(!1)}}s||a.push(g),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function Q4(i,r,t,e,n){var a=K4(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var g=c.pop();if(c.length===0){v.push(g);break}var C=c.pop(),_=new Do(g.x1,g.y1,C.x2,C.y2),F=n1(r,_);F?(v.push(g),c.push(C)):c.push(_)}return v},s=new Do(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=$4(s,r,e,n),u=o(l);return u}var J4=function(r,t,e){var n=Object.assign(j4,e),a=Um(r.map(function(G){return{x:G.getModel().x,y:G.getModel().y}}));r=r.sort(function(G,$){return ru({x:G.getModel().x,y:G.getModel().y},a)-ru({x:$.getModel().x,y:$.getModel().y},a)});var o=[],s=[];r.forEach(function(G){var $=Q4(G,t,o,n.maxRoutingIterations,n.morphBuffer);$.forEach(function(J){s.push(J)}),o.push(G)});for(var l=q4(r,s,n.nodeR0),u=Z4(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(t6(r,t,s,l,u,n),h=[],c=[],!!new U4(h,u,n.threshold).march()){var g=h.map(function(G){return{x:Math.round(G.x*n.pixelGroupSize+l.minX),y:Math.round(G.y*n.pixelGroupSize+l.minY)}});if(g){var C=g.length;if(n.skip>1)for(C=Math.floor(g.length/n.skip);C<3&&n.skip>1;)n.skip-=1,C=Math.floor(g.length/n.skip);for(var _=0,F=0;F<C;F+=1,_+=n.skip)c.push({x:g[_].x,y:g[_].y})}var Y=function(){for(var $=0,J=r;$<J.length;$++){var pt=J[$],_t=c.map(function(Ft){return[Ft.x,Ft.y]});if(!Bs(_t,pt.getBBox().centerX,pt.getBBox().centerY))return!1}return!0};if(c&&Y())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function q4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function t6(i,r,t,e,n,a){function o(g,C){var _=Math.floor((g-C)/a.pixelGroupSize);return _<0?0:_}function s(g,C){return g*a.pixelGroupSize+C}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(C,_){var F=Math.min(o(C.minX,_+e.minX),n.width),Y=Math.min(o(C.minY,_+e.minY),n.height),G=Math.min(o(C.maxX,-_+e.minX),n.width),$=Math.min(o(C.maxY,-_+e.minY),n.height);return[F,Y,G,$]},c=function(C,_){for(var F=C.getBBox(),Y=h(F,a.nodeR1),G=Y[0],$=Y[1],J=Y[2],pt=Y[3],_t=$;_t<pt;_t+=1)for(var Ft=G;Ft<J;Ft+=1)if(!(_<0&&n[Ft+_t*n.width]<=0)){var Ht=s(Ft,e.minX),Dt=s(_t,e.minY),qt=Km({x:Ht,y:Dt},{x:F.minX,y:F.minY,width:F.width,height:F.height});if(qt<Math.pow(a.nodeR1,2)){var ve=Math.sqrt(qt)-a.nodeR1;n.cells[Ft+_t*n.width]+=_*ve*ve}}},v=function(C,_){for(var F=C.getBBox(),Y=h(F,a.edgeR1),G=Y[0],$=Y[1],J=Y[2],pt=Y[3],_t=$;_t<pt;_t+=1)for(var Ft=G;Ft<J;Ft+=1)if(!(_<0&&n.cells[Ft+_t*n.width]<=0)){var Ht=s(Ft,e.minX),Dt=s(_t,e.minY),qt=Zm({x:Ht,y:Dt},C);if(qt<Math.pow(a.edgeR1,2)){var ve=Math.sqrt(qt)-a.edgeR1;n.cells[Ft+_t*n.width]+=_*ve*ve}}};a.nodeInfluenceFactor&&i.forEach(function(g){c(g,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(g){v(g,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(g){c(g,a.negativeNodeInfluenceFactor/l)})}function i1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(C,_){return n.width*((C.y-n.minY+(_.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var g=c(a,s);return g<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var e6=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=r1(r),a=ex(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Ks.parsePathString)(a);break;case"smooth-convex":e=r1(r),a=rx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Nh(a);break;case"bubble":e=J4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Nh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,B.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr((0,B.__assign)({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=iu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Bh(n,iu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),r6=e6,n6="node",i6="svg",a6=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new qx(e.cfg.maxStep),e.redoStack=new qx(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new h3(this),e=new u3(this),n=new s3(this),a=new _3(this),o=new _4(this),s=new F4(this),l=new N4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===i6)o=new Ds.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Fo.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ze.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ze.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ze.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ze.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:Ze.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ze.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=(0,B.__assign)((0,B.__assign)({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ea.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Hm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Ea.wO.translate(a,a,[-e.x,-e.y]),Ea.wO.scale(a,a,[t,t]),Ea.wO.translate(a,a,[e.x,e.y])):Ea.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=(0,B.__assign)((0,B.__assign)({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push((0,B.__assign)((0,B.__assign)({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Xh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,g=v;return(0,f.isString)(v)&&(g={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,g)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var C,_=this.get("comboTrees");if(_||(_=[]),t==="combo"){var F=this.get("itemMap"),Y=!1;if(_.forEach(function(qt){Y||xa(qt,function(ve){if(e.parentId===ve.id){Y=!0;var fe=(0,B.__assign)({id:e.id,depth:ve.depth+2},e);ve.children?ve.children.push(fe):ve.children=[fe],e.depth=fe.depth,C=s.addItem(t,e)}var Te=F[ve.id];return Y&&Te&&Te.getType&&Te.getType()==="combo"&&s.updateCombo(Te,ve.children),!0})}),!Y){var G=(0,B.__assign)({id:e.id,depth:0},e);e.depth=G.depth,_.push(G),C=s.addItem(t,e)}this.set("comboTrees",_)}else if(t==="node"&&(0,f.isString)(e.comboId)&&_){var $=this.findById(e.comboId);if($&&$.getType&&$.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}C=s.addItem(t,e);var J=this.get("itemMap"),pt=!1,_t=!1;(_||[]).forEach(function(qt){_t||pt||xa(qt,function(ve){if(ve.id===e.id)return _t=!0,!1;if(e.comboId===ve.id&&!_t){pt=!0;var fe=(0,f.clone)(e);fe.itemType="node",ve.children?ve.children.push(fe):ve.children=[fe],e.depth=ve.depth+1}return pt&&J[ve.id].getType&&J[ve.id].getType()==="combo"&&s.updateCombo(J[ve.id],ve.children),!0})})}else C=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var $=this.findById(e.comboId||e.parentId);$&&$.addChild(C)}var Ft=this.get("combos");if(Ft&&Ft.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Ht=(0,B.__assign)((0,B.__assign)({},C.getModel()),{itemType:t}),Dt={};switch(t){case"node":Dt.nodes=[Ht];break;case"edge":Dt.edges=[Ht];break;case"combo":Dt.combos=[Ht];break;default:break}this.pushStack("add",{before:{},after:Dt})}return C},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=(0,B.__spreadArrays)(s.getStates());if(u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},g=(0,B.__assign)({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(g);break;case"edge":c.edges.push(l),v.edges.push(g);break;case"combo":c.combos.push(l),v.combos.push(g);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(G){t.add("node",G,!1,!1)}),u&&u.length!==0){var h=zh(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(G){t.add("edge",G,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(g)||g();function g(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var C=this.getNodes();C.forEach(function(G){G.toFront()})}else{var _=this.getEdges();_.forEach(function(G){G.toBack()})}if(e.nodes){var F=e.nodes.filter(function(G){return G.groupId});if(F.length>0){var Y=t.get("groupType");this.renderCustomGroup(e,Y)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===n6){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(_){return n.clearItemStates(_)}),this.getEdges().map(function(_){return n.clearItemStates(_)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=zh(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(_,F){s[F].getModel().depth=0,!(_.getType&&_.getType()==="edge")&&(_.getType&&_.getType()==="combo"?(delete s[F],_.destroy()):l.nodes.indexOf(_)<0&&(delete s[F],n.remove(_,!1)))});for(var c=this.getCombos(),v=c.length,g=v-1;g>=0;g--)c[g].destroyed&&c.splice(g,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(_,F){_.getType&&(_.getType()==="node"||_.getType()==="combo")||l.edges.indexOf(_)<0&&(delete s[F],n.remove(_,!1))}),this.set({nodes:l.nodes,edges:l.edges});var C=this.get("layoutController");return C.changeData(),n.get("animate")&&!C.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){xa(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],g=this.get("combos"),C=this.findById(s);if(l.forEach(function(F){c||xa(F,function(Y){var G;if(Y.id===h){c=Y;var $=o.getEdges();$.forEach(function(pt){e.removeItem(pt,!1)});var J=g.indexOf(t);g.splice(J,1),delete u[h],o.destroy()}if(s&&c&&Y.id===s){C.removeCombo(o),v=Y.children;var J=v.indexOf(c);return J!==-1&&v.splice(J,1),(G=c.children)===null||G===void 0||G.forEach(function(_t){var Ft=e.findById(_t.id),Ht=Ft.getModel();Ft.getType&&Ft.getType()==="combo"?(_t.parentId=s,delete _t.comboId,Ht.parentId=s,delete Ht.comboId):Ft.getType&&Ft.getType()==="node"&&(_t.comboId=s,Ht.comboId=s),C.addChild(Ft),v.push(_t)}),!1}return!0})}),!s&&c){var _=l.indexOf(c);l.splice(_,1),(n=c.children)===null||n===void 0||n.forEach(function(F){F.parentId=void 0;var Y=e.findById(F.id).getModel();Y.parentId=void 0,F.itemType!=="node"&&l.push(F)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){xa(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=(0,B.__spreadArrays)(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){xa(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var g=(0,B.__spreadArrays)(v.getStates());(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!1)}),l.updateCombo(v,c.children),(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(_){h||Ji(_,function(F){if(!h)return F.id===a.getID()&&(h=F),!0})}),Ji(h,function(_){return _.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var g=this.findById(e);g&&g.addChild(a)}if(s){var g=this.findById(s);g&&g.removeChild(a)}var C=Xh(this.get("comboTrees"),o.id,e);this.set("comboTrees",C),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=a3(t);Object.keys(v).forEach(function(C){var _=v[C];n.get("customGroupControll").create(C,_,e,l),l--});var g=this.get("customGroup");g.sort()}else{var u=s.filter(function(C){return C.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(C){var _=c[C].map(function(F){return F.id});n.get("customGroupControll").create(C,_,e,l),l--,h.find(function(F){return F.id===C})||h.push({id:C})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var g=h.getContainer().getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),c={x:g[6],y:g[7]},h.set("originAttrs",c)}if(n){var C=n(h,l,u,c);h.set("model",Object.assign(v,C))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,g=o.getContext("2d"),C=this.get("width"),_=this.get("height"),F=void 0;if(e){var Y=window.devicePixelRatio;v=g.getImageData(0,0,C*Y,_*Y),F=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,C,_)}s=o.toDataURL(t),e&&(g.clearRect(0,0,C,_),g.putImageData(v,0,0),g.globalCompositeOperation=F)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,Ci.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],g=s+c[1]+c[3],C={container:u,height:v,width:g,quickHit:!0},_=l==="svg"?new Ds.Z(C):new Fo.Z(C),F=this.get("group"),Y=F.clone(),G=(0,f.clone)(Y.getMatrix());G||(G=[1,0,0,0,1,0,0,0,1]);var $=(a.maxX+a.minX)/2,J=(a.maxY+a.minY)/2;Ea.wO.translate(G,G,[-$,-J]),Ea.wO.translate(G,G,[s/2+c[3],o/2+c[0]]),Y.resetMatrix(),Y.setMatrix(G),_.add(Y);var pt=_.get("el"),_t="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Ft=pt.cloneNode(!0),Ht=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Dt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ht);Dt.replaceChild(Ft,Dt.documentElement);var qt=new XMLSerializer().serializeToString(Dt);_t="data:image/svg+xml;charset=utf8,"+encodeURIComponent(qt)}else{var ve=void 0,fe=pt.getContext("2d"),Te=void 0;if(h){var De=window.devicePixelRatio;ve=fe.getImageData(0,0,g*De,v*De),Te=fe.globalCompositeOperation,fe.globalCompositeOperation="destination-over",fe.fillStyle=h,fe.fillRect(0,0,g,v)}_t=pt.toDataURL(e),h&&(fe.clearRect(0,0,g,v),fe.putImageData(ve,0,0),fe.globalCompositeOperation=Te)}t==null||t(_t)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,Ci.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var g=s+v[0]+v[2],C=l+v[1]+v[3],_={container:h,height:g,width:C},F=u==="svg"?new Ds.Z(_):new Fo.Z(_),Y=this.get("group"),G=Y.clone(),$=(0,f.clone)(G.getMatrix());$||($=[1,0,0,0,1,0,0,0,1]);var J=(o.maxX+o.minX)/2,pt=(o.maxY+o.minY)/2;Ea.wO.translate($,$,[-J,-pt]),Ea.wO.translate($,$,[l/2+v[3],s/2+v[0]]),G.resetMatrix(),G.setMatrix($),F.add(G);var _t=F.get("el");e||(e="image/png"),setTimeout(function(){var Ft="";if(u==="svg"){var Ht=_t.cloneNode(!0),Dt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),qt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Dt);qt.replaceChild(Ht,qt.documentElement);var ve=new XMLSerializer().serializeToString(qt);Ft="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ve)}else{var fe=void 0,Te=_t.getContext("2d"),De=void 0;if(c){var ke=window.devicePixelRatio;fe=Te.getImageData(0,0,C*ke,g*ke),De=Te.globalCompositeOperation,Te.globalCompositeOperation="destination-over",Te.fillStyle=c,Te.fillRect(0,0,C,g)}Ft=_t.toDataURL(e),c&&(Te.clearRect(0,0,C,g),Te.putImageData(fe,0,0),Te.globalCompositeOperation=De)}var Je=document.createElement("a"),er=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Ft,u,Je,er);var nr=document.createEvent("MouseEvents");nr.initEvent("click",!1,!1),Je.dispatchEvent(nr)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||Ji(C,function(_){if(h&&c[_.id])return!1;if(n.parentId===_.id?(c={},_.children.forEach(function(Y){c[Y.id]=Y})):n.id===_.id&&(h=!0),h){var F=e.findById(_.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var v={},g=[];o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var _=C.getSource(),F=C.getTarget();if((s.includes(_)||l.includes(_))&&!s.includes(F)&&!l.includes(F)||_.getModel().id===n.id){var Y=C.getModel();if(Y.isVEdge){e.removeItem(C,!1);return}for(var G=F.getModel();!F.isVisible();){if(F=e.findById(G.parentId||G.comboId),!F||!G.parentId&&!G.comboId)return;G=F.getModel()}var $=G.id;if(v[n.id+"-"+$]){v[n.id+"-"+$]+=Y.size||1;return}var J=e.addItem("vedge",{source:n.id,target:$,isVEdge:!0},!1);v[n.id+"-"+$]=Y.size||1,g.push(J)}else if(!s.includes(_)&&!l.includes(_)&&(s.includes(F)||l.includes(F))||F.getModel().id===n.id){var Y=C.getModel();if(Y.isVEdge){e.removeItem(C,!1);return}for(var pt=_.getModel();!_.isVisible();){if(_=e.findById(pt.parentId||pt.comboId),!_||!pt.parentId&&!pt.comboId)return;pt=_.getModel()}var _t=pt.id;if(v[_t+"-"+n.id]){v[_t+"-"+n.id]+=Y.size||1;return}var J=e.addItem("vedge",{target:n.id,source:_t,isVEdge:!0},!1);v[_t+"-"+n.id]=Y.size||1,g.push(J)}}}),g.forEach(function(C){var _=C.getModel();e.updateItem(C,{size:v[_.source+"-"+_.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||Ji(C,function(_){if(h&&c[_.id])return!1;if(n.parentId===_.id?(c={},_.children.forEach(function(Y){c[Y.id]=Y})):n.id===_.id&&(h=!0),h){var F=e.findById(_.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var v={},g={};o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var _=C.getSource(),F=C.getTarget(),Y=_.get("id"),G=F.get("id");if((s.includes(_)||l.includes(_))&&!s.includes(F)&&!l.includes(F)||Y===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var $=F.getModel();!F.isVisible();){if(F=e.findById($.comboId||$.parentId),!F||!$.parentId&&!$.comboId)return;$=F.getModel()}G=$.id;for(var J=_.getModel();!_.isVisible();){if(_=e.findById(J.comboId||J.parentId),!_||!J.parentId&&!J.comboId)return;if(J.comboId===n.id||J.parentId===n.id)break;J=_.getModel()}if(Y=J.id,G){var pt=Y+"-"+G;if(v[pt]){v[pt]+=C.getModel().size||1,e.updateItem(g[pt],{size:v[pt]},!1);return}var _t=e.addItem("vedge",{source:Y,target:G,isVEdge:!0},!1);v[pt]=C.getModel().size||1,g[pt]=_t}}else if(!s.includes(_)&&!l.includes(_)&&(s.includes(F)||l.includes(F))||G===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var J=_.getModel();!_.isVisible();){if(_=e.findById(J.comboId||J.parentId),!_||!J.parentId&&!J.comboId)return;J=_.getModel()}Y=J.id;for(var $=F.getModel();!F.isVisible();){if(F=e.findById($.comboId||$.parentId),!F||!$.parentId&&!$.comboId)return;if($.comboId===n.id||$.parentId===n.id)break;$=F.getModel()}if(G=$.id,Y){var pt=Y+"-"+G;if(v[pt]){v[pt]+=C.getModel().size||1,e.updateItem(g[pt],{size:v[pt]},!1);return}var _t=e.addItem("vedge",{target:G,source:Y,isVEdge:!0},!1);v[pt]=C.getModel().size||1,g[pt]=_t}}else(s.includes(_)||l.includes(_))&&(s.includes(F)||l.includes(F))&&_.isVisible()&&F.isVisible()&&C.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Ji(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=$x(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Cu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Cu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=t1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new r6(this,(0,B.__assign)((0,B.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ze.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ze.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Fo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,_=h.x,F=h.y;g.rotate(-C*Math.PI/180);var Y=new Image;Y.crossOrigin="anonymous",Y.src=t,Y.onload=function(){if(g.drawImage(Y,_,F,h.width,h.height),g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var G=document.querySelector(".g6-graph-watermarker");G||(G=document.createElement("div"),G.className="g6-graph-watermarker"),G.className="g6-graph-watermarker",a.destroyed||(G.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(G))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ze.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Fo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,_=h.fill,F=h.fontFamily,Y=h.fontSize,G=h.baseline,$=h.x,J=h.y,pt=h.lineHeight;g.rotate(-C*Math.PI/180),g.font=Y+"px "+F,g.fillStyle=_,g.textBaseline=G;for(var _t=t.length-1;_t>=0;_t--)g.fillText(t[_t],$,J+_t*pt);if(g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Ft=document.querySelector(".g6-graph-watermarker");Ft||(Ft=document.createElement("div"),Ft.className="g6-graph-watermarker"),Ft.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Ft)}},r}(We.default),a1=a6,o6=d(77201),o1=d.n(o6),s6=function(i){(0,B.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=o1()[t.type](e,t);return dx(n),n}:function(e){return o1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,pi.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,pi.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,pi.S6)(t.children||[],function(C){a.innerUpdateChild(C,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var g=o.getModel();n&&o.set("originAttrs",{x:g.x,y:g.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,pi.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,pi.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,pi.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ji(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,pi.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,pi.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,pi.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(a1),l6=s6,u6="-shape",s1="-label",Mu=["startArrow","endArrow"],ec="-label-bg",rc={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+u6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+s1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=Ra(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Ra(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=Ra(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=Ra(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Ra(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+ec;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ze[a]?Ze[a].style:null,s=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(g){return g.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+s1,o=e.find(function(J){return J.get("className")===a}),s=this.itemType+ec,l=e.find(function(J){return J.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),g=r.labelCfg?r.labelCfg.style:void 0,C=c.style&&c.style.background,_=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},o.attr()),v),g),F=_.rotate;if(delete _.rotate,F){var Y=[1,0,0,0,1,0,0,0,1];Y=Ra(Y,[["t",-_.x,-_.y],["r",F],["t",_.x,_.y]]),o.resetMatrix(),o.attr((0,B.__assign)((0,B.__assign)({},_),{matrix:Y}))}else o.resetMatrix(),o.attr(_);if(!l)_.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(_.background){var G=this.getLabelBgStyleByPosition(o,r,c,e),$=(0,B.__assign)((0,B.__assign)({},G),C);l.resetMatrix(),F&&l.rotateAtStart(F),l.attr($)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var g=function(fe){var Te,De=c[fe];if((0,f.isPlainObject)(De)&&!Mu.includes(fe)){var ke=v.find(function(Je){return Je.get("name")===fe});ke&&ke.attr(De)}else o.attr((Te={},Te[fe]=De,Te))};for(var C in c)g(C)}else{var _=(0,f.clone)(e.getCurrentStatesStyle()),F=e.getModel(),Y=(0,f.mix)({},F.style,(0,f.clone)(e.getOriginStyle())),G=o.get("name"),$=o.attr(),J={},pt=function(fe){var Te=c[fe];if((0,f.isPlainObject)(Te)&&!Mu.includes(fe)){var De=v.find(function(er){return er.get("name")===fe});if(De){var ke=De.attr();(0,f.each)(Te,function(er,nr){(ke[nr]||ke[nr]===0)&&delete ke[nr]}),J[fe]=ke}}else{var Je={x:1,y:1,cx:1,cy:1};$[fe]&&!Je[fe]&&delete $[fe]}};for(var _t in c)pt(_t);G?J[G]=$:(0,f.mix)(J,$);for(var C in _){var Ft=_[C];(!(0,f.isPlainObject)(Ft)||Mu.includes(C))&&(G?((0,f.mix)(Y[G],(a={},a[C]=Ft,a)),delete Y[C]):(0,f.mix)(Y,(n={},n[C]=Ft,n)),delete _[C])}var Ht={};(0,f.deepMix)(Ht,Y,J,_);var Dt=function(fe){var Te,De,ke=Ht[fe];if((0,f.isPlainObject)(ke)&&!Mu.includes(fe)){var Je=v.find(function(er){return er.get("name")===fe});Je&&Je.attr(ke)}else s==="combo"?G||o.attr((Te={},Te[fe]=ke,Te)):o.attr((De={},De[fe]=ke,De))};for(var qt in Ht)Dt(qt)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},f6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ze.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ze.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Th(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=(0,B.__assign)((0,B.__assign)((0,B.__assign)({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Ft){return Ft.get("className")==="link-point-left"}),a=t.find(function(Ft){return Ft.get("className")==="link-point-right"}),o=t.find(function(Ft){return Ft.get("className")==="link-point-top"}),s=t.find(function(Ft){return Ft.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,g=u.size/2;g||(g=u.r);var C=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},_=C.left,F=C.right,Y=C.top,G=C.bottom,$=this.getSize(r),J=$[0],pt=$[1],_t={r:g,fill:h,stroke:c,lineWidth:v};n?!_&&_!==void 0?n.remove():n.attr((0,B.__assign)((0,B.__assign)({},_t),{x:-J/2,y:0})):_&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},_t),{x:-J/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!F&&F!==void 0&&a.remove(),a.attr((0,B.__assign)((0,B.__assign)({},_t),{x:J/2,y:0}))):F&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},_t),{x:J/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!Y&&Y!==void 0&&o.remove(),o.attr((0,B.__assign)((0,B.__assign)({},_t),{x:0,y:-pt/2}))):Y&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},_t),{x:0,y:-pt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!G&&G!==void 0?s.remove():s.attr((0,B.__assign)((0,B.__assign)({},_t),{x:0,y:pt/2})):G&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},_t),{x:0,y:pt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr((0,B.__assign)({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr((0,B.__assign)((0,B.__assign)({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:(0,B.__assign)((0,B.__assign)({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(C){return C.get("className")==="node-label"});c&&c.toFront()}}},h6=(0,B.__assign)((0,B.__assign)({},rc),f6);mi.registerNode("single-node",h6);var Eu="edge-shape";function c6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var v6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ze.defaultEdge.size,style:{x:0,y:0,stroke:Ze.defaultEdge.style.stroke,lineAppendWidth:Ze.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ze.edgeLabel.style.fill,fontSize:Ze.edgeLabel.style.fontSize}},stateStyles:(0,B.__assign)({},Ze.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||Ze.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},Ze.defaultEdge.style,{stroke:Ze.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(Y){return Y.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C={radius:c.radius};u||(C={source:v,target:g,offset:c.offset,radius:c.radius});var _=this.getPath(h,C),F=(0,f.mix)(n,a.attr(),{lineWidth:o,path:_},r.style);a&&a.attr(F)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Eu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=su(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=(0,B.__assign)((0,B.__assign)({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,g=n&&n.find(function($){return $.get("className")===Eu}),C;h==="start"?C=0:h==="end"?C=1:C=.5;var _=e.refX||this.refX,F=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+_,c.y=t.startPoint.y+F,c;var Y=su(g,C,_-l/2,F+u/2,v),G=Y.angle;return G>1/2*Math.PI&&G<3*1/2*Math.PI&&(Y=su(g,C,_+l/2,F+u/2,v)),v&&(c.x=Y.x,c.y=Y.y),c.rotate=Y.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=c6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Eu,name:Eu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+ec;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},d6=(0,B.__assign)((0,B.__assign)({},rc),v6);mi.registerEdge("single-edge",d6),mi.registerEdge("line",{getControlPoints:function(){}},"single-edge"),mi.registerEdge("spline",{getPath:function(r){var t=$m(r);return t}},"single-edge"),mi.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=Oh(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Ni.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Oh(t,o,e)}var u=_s(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),mi.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ni.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Ni.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=nu(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),mi.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ma.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Ma.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=nu(e,n,r.curvePosition[0],r.curveOffset[0]),o=nu(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),mi.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ma.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),mi.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ma.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),mi.registerEdge("loop",{getPathPoints:function(r){return cx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var p6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ze.comboLabel.refX,refY:Ze.comboLabel.refY,options:{style:{stroke:Ze.defaultCombo.style.stroke,fill:Ze.defaultCombo.style.fill,lineWidth:Ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ze.comboLabel.style.fill,fontSize:Ze.comboLabel.style.fontSize}},stateStyles:(0,B.__assign)({},Ze.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||Ze.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,B.__assign)({},e)),this.updateLabel(r,t)}},g6=(0,B.__assign)((0,B.__assign)({},rc),p6);mi.registerCombo("single-combo",g6),mi.registerCombo("circle",{options:{size:[Ze.defaultCombo.size[0],Ze.defaultCombo.size[0]],padding:Ze.defaultCombo.padding[0],animate:!0,style:{stroke:Ze.defaultCombo.style.stroke,fill:Ze.defaultCombo.style.fill,lineWidth:Ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ze.comboLabel.style.fill,fontSize:Ze.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,B.__assign)({},Ze.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ze.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=(0,B.__assign)({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),mi.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ze.defaultCombo.style.stroke,fill:Ze.defaultCombo.style.fill,lineWidth:Ze.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ze.comboLabel.style.fill,fontSize:Ze.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,B.__assign)({},Ze.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ze.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ze.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=(0,B.__assign)({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,B.__assign)({},e)),this.updateLabel(r,t)}},"single-combo"),mi.registerNode("circle",{options:{size:Ze.defaultNode.size,style:{x:0,y:0,stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Ui.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:(0,B.__assign)({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,B.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2;o&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:-g,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:g,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Ui.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=(0,B.__assign)({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Ui.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,B.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,B.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,B.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,B.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2,C=v[1]/2;o&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:-C,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:C,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=(0,B.__assign)({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,B.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,B.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,B.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,g=a.offset;if(v){var C=-h/2,_=-c/2;(l==="up"||l==="down")&&(_+=g),(l==="left"||l==="right")&&(C+=g),t.addShape("image",{attrs:(0,B.__assign)({x:C,y:_},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,g=a.r,C=(0,B.__rest)(a,["top","left","right","bottom","size","r"]),_=this.getSize(r),F=_[0];if(u){var Y=null,G=F*Math.sin(1/3*Math.PI),$=F*Math.sin(1/3*Math.PI);s==="up"?Y=[-$,G]:s==="down"?Y=[-$,-G]:s==="left"&&(Y=[-$,$-G]),Y&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},C),{x:Y[0],y:Y[1],r:v/2||g||5}),className:"link-point-left",name:"link-point-left"})}if(h){var J=null,G=F*Math.sin(1/3*Math.PI),$=F*Math.sin(1/3*Math.PI);s==="up"?J=[$,G]:s==="down"?J=[$,-G]:s==="right"&&(J=[$,$-G]),J&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},C),{x:J[0],y:J[1],r:v/2||g||5}),className:"link-point-right",name:"link-point-right"})}if(l){var pt=null,G=F*Math.sin(1/3*Math.PI),$=F*Math.sin(1/3*Math.PI);s==="up"?pt=[$-G,-G]:s==="left"?pt=[$,-G]:s==="right"&&(pt=[-$,-G]),pt&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},C),{x:pt[0],y:pt[1],r:v/2||g||5}),className:"link-point-top",name:"link-point-top"})}if(c){var _t=null,G=F*Math.sin(1/3*Math.PI),$=F*Math.sin(1/3*Math.PI);s==="down"?_t=[-$+G,G]:s==="left"?_t=[$,G]:s==="right"&&(_t=[-$,G]),_t&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},C),{x:_t[0],y:_t[1],r:v/2||g||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,B.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Je){return Je.get("className")==="link-point-left"}),l=t.find(function(Je){return Je.get("className")==="link-point-right"}),u=t.find(function(Je){return Je.get("className")==="link-point-top"}),h=t.find(function(Je){return Je.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var g=(0,f.mix)({},c,r.linkPoints),C=g.fill,_=g.stroke,F=g.lineWidth,Y=g.size/2;Y||(Y=g.r);var G=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},$=G.left,J=G.right,pt=G.top,_t=G.bottom,Ft=this.getSize(r),Ht=Ft[0],Dt={r:Y,fill:C,stroke:_,lineWidth:F},qt=null,ve=Ht*Math.sin(1/3*Math.PI),fe=Ht*Math.sin(1/3*Math.PI);o==="up"?qt=[-fe,ve]:o==="down"?qt=[-fe,-ve]:o==="left"&&(qt=[-fe,fe-ve]),qt&&(s?!$&&$!==void 0?s.remove():s.attr((0,B.__assign)((0,B.__assign)({},Dt),{x:qt[0],y:qt[1]})):$&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Dt),{x:qt[0],y:qt[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Te=null;o==="up"?Te=[fe,ve]:o==="down"?Te=[fe,-ve]:o==="right"&&(Te=[fe,fe-ve]),Te&&(l?!J&&J!==void 0?l.remove():l.attr((0,B.__assign)((0,B.__assign)({},Dt),{x:Te[0],y:Te[1]})):J&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Dt),{x:Te[0],y:Te[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var De=null;o==="up"?De=[fe-ve,-ve]:o==="left"?De=[fe,-ve]:o==="right"&&(De=[-fe,-ve]),De&&(u?!pt&&pt!==void 0?u.remove():u.attr((0,B.__assign)((0,B.__assign)({},Dt),{x:De[0],y:De[1]})):pt&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Dt),{x:De[0],y:De[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var ke=null;o==="down"?ke=[-fe+ve,ve]:o==="left"?ke=[fe,ve]:o==="right"&&(ke=[-fe,ve]),ke&&(h?!_t&&_t!==void 0?h.remove():h.attr((0,B.__assign)((0,B.__assign)({},Dt),{x:ke[0],y:ke[1]})):_t&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Dt),{x:ke[0],y:ke[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),mi.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ze.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,B.__rest)(n,["show"]);return h&&t.addShape("rect",{attrs:(0,B.__assign)({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,B.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,B.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,B.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,g=s.show,C=s.width,_=-c/2+a.offset;g&&(_=-c/2+C+a.offset);var F=a.style,Y=u.style,G=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:(0,B.__assign)((0,B.__assign)({},F),{x:_,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:(0,B.__assign)((0,B.__assign)({},Y),{x:_,y:17+(G||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:(0,B.__assign)((0,B.__assign)({},F),{x:_,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,B.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],g=t.get("keyShape");g.attr((0,B.__assign)((0,B.__assign)({},a),{x:-c/2,y:-v/2,width:c,height:v}));var C=t.getContainer(),_=C.find(function(Hr){return Hr.get("className")==="rect-logo-icon"}),F=_?_.attr():{},Y=(0,f.mix)({},F,r.logoIcon),G=Y.width;G===void 0&&(G=this.options.logoIcon.width);var $=r.logoIcon?r.logoIcon.show:void 0,J=s.offset,pt=-c/2+G+J;!$&&$!==void 0&&(pt=-c/2+J);var _t=C.find(function(Hr){return Hr.get("className")==="node-label"}),Ft=C.find(function(Hr){return Hr.get("className")==="rect-description"});if(r.label)if(!_t)C.addShape("text",{attrs:(0,B.__assign)((0,B.__assign)({},s.style),{x:pt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Ht=r.labelCfg?r.labelCfg.style:{},Dt=(0,f.mix)({},_t.attr(),Ht);r.label&&(Dt.text=r.label),Dt.x=pt,(0,f.isString)(r.description)&&(Dt.y=-5),Ft&&(Ft.resetMatrix(),Ft.attr({x:pt})),_t.resetMatrix(),_t.attr(Dt)}if((0,f.isString)(r.description)){var qt=u.paddingTop;if(!Ft)C.addShape("text",{attrs:(0,B.__assign)((0,B.__assign)({},u.style),{x:pt,y:17+(qt||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Ht=r.descriptionCfg?r.descriptionCfg.style:{},ve=(0,f.mix)({},Ft.attr(),Ht);(0,f.isString)(r.description)&&(ve.text=r.description),ve.x=pt,Ft.resetMatrix(),Ft.attr((0,B.__assign)((0,B.__assign)({},ve),{y:17+(qt||0)}))}}var fe=C.find(function(Hr){return Hr.get("className")==="pre-rect"});if(fe){var Te=(0,f.mix)({},fe.attr(),r.preRect);fe.attr((0,B.__assign)((0,B.__assign)({},Te),{x:-c/2,y:-v/2,height:v}))}if(_)if(!$&&$!==void 0)_.remove();else{var De=Y.width,ke=Y.height,Je=Y.x,er=Y.y,nr=Y.offset,Ke=(0,B.__rest)(Y,["width","height","x","y","offset"]);_.attr((0,B.__assign)((0,B.__assign)({},Ke),{x:Je||-c/2+De+nr,y:er||-ke/2,width:De,height:ke}))}else $&&this.drawLogoIcon(r,C);var $e=C.find(function(Hr){return Hr.get("className")==="rect-state-icon"}),Mr=$e?$e.attr():{},Cr=(0,f.mix)({},Mr,r.stateIcon);if($e){!Cr.show&&Cr.show!==void 0&&$e.remove();var _r=Cr.width,ke=Cr.height,Je=Cr.x,er=Cr.y,ir=Cr.offset,Tr=(0,B.__rest)(Cr,["width","height","x","y","offset"]);$e.attr((0,B.__assign)((0,B.__assign)({},Tr),{x:Je||c/2-_r+ir,y:er||-ke/2,width:_r,height:ke}))}else Cr.show&&this.drawStateIcon(r,C);this.updateLinkPoints(r,C)}},"single-node"),mi.registerNode("star",{options:{size:60,style:{stroke:Ze.defaultNode.style.stroke,fill:Ze.defaultNode.style.fill,lineWidth:Ze.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ze.nodeLabel.style.fill,fontSize:Ze.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ze.defaultNode.linkPoints.size,lineWidth:Ze.defaultNode.linkPoints.lineWidth,fill:Ze.defaultNode.linkPoints.fill,stroke:Ze.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,B.__assign)({},Ze.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,B.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=(0,B.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),g=this.getSize(r),C=g[0];if(s){var _=Math.cos((18+72*0)/180*Math.PI)*C,F=Math.sin((18+72*0)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:_,y:-F,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var _=Math.cos((18+72*1)/180*Math.PI)*C,F=Math.sin((18+72*1)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:_,y:-F,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var _=Math.cos((18+72*2)/180*Math.PI)*C,F=Math.sin((18+72*2)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:_,y:-F,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var _=Math.cos((18+72*3)/180*Math.PI)*C,F=Math.sin((18+72*3)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:_,y:-F,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var _=Math.cos((18+72*4)/180*Math.PI)*C,F=Math.sin((18+72*4)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},v),{x:_,y:-F,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,B.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(ve){return ve.get("className")==="link-point-left"}),a=t.find(function(ve){return ve.get("className")==="link-point-right"}),o=t.find(function(ve){return ve.get("className")==="link-point-top"}),s=t.find(function(ve){return ve.get("className")==="link-point-left-bottom"}),l=t.find(function(ve){return ve.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,g=c.stroke,C=c.lineWidth,_=c.size/2;_||(_=c.r);var F=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Y=F.left,G=F.right,$=F.top,J=F.leftBottom,pt=F.rightBottom,_t=this.getSize(r),Ft=_t[0],Ht={r:_,fill:v,stroke:g,lineWidth:C},Dt=Math.cos((18+72*0)/180*Math.PI)*Ft,qt=Math.sin((18+72*0)/180*Math.PI)*Ft;a?!G&&G!==void 0?a.remove():a.attr((0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt})):G&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Dt=Math.cos((18+72*1)/180*Math.PI)*Ft,qt=Math.sin((18+72*1)/180*Math.PI)*Ft,o?!$&&$!==void 0?o.remove():o.attr((0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt})):$&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Dt=Math.cos((18+72*2)/180*Math.PI)*Ft,qt=Math.sin((18+72*2)/180*Math.PI)*Ft,n?!Y&&Y!==void 0?n.remove():n.attr((0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt})):Y&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Dt=Math.cos((18+72*3)/180*Math.PI)*Ft,qt=Math.sin((18+72*3)/180*Math.PI)*Ft,s?!J&&J!==void 0?s.remove():s.attr((0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt})):J&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Dt=Math.cos((18+72*4)/180*Math.PI)*Ft,qt=Math.sin((18+72*4)/180*Math.PI)*Ft,l?!pt&&pt!==void 0?s.remove():l.attr((0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt})):pt&&t.addShape("circle",{attrs:(0,B.__assign)((0,B.__assign)({},Ht),{x:Dt,y:-qt}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),mi.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:(0,B.__assign)({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:(0,B.__assign)({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var g=e.rx,C=e.ry;t.setClip({type:"ellipse",attrs:(0,B.__assign)({x:a,y:o,rx:g,ry:C},s)})}else if(n==="polygon"){var _=e.points;t.setClip({type:"polygon",attrs:(0,B.__assign)({points:_},s)})}else if(n==="path"){var F=e.path;t.setClip({type:"path",attrs:(0,B.__assign)({path:F},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=(0,B.__assign)({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Au(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(i)}var Tu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},y6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},l1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},nc=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Pu=function(r){return r=nc(r),r},u1=function(r,t){return[r,{x:r.x,y:t.y},t]},Lu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},m6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},ic=function(r,t){var e=m6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},ac=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},oc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Iu=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},x6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},b6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},w6=function(r,t){return x6(r,t.x).concat(b6(r,t.y))},Gs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},S6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},f1=function(r,t,e,n,a){return Gs(r,t)+Gs(r,e)+S6(r,[t,e,n,a])},C6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},M6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Ou=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},sc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=oc(e),a=n[0],o=n[1],s=n[2],l=n[3];return Ou(r,t,a,o)||Ou(r,t,a,l)||Ou(r,t,o,s)||Ou(r,t,s,l)},E6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!sc(o,t,e)&&!sc(o,t,n)&&a.push(o)}),nc(a)},A6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=f1(t,e,t);var g={};r.forEach(function(F){g[F.id]=F});for(var C=function(){var Y,G=Infinity;if(u.forEach(function(J){v[J.id]<G&&(G=v[J.id],Y=J)}),Y===e){var $=[];return C6($,g,h,e.id),{value:$}}M6(u,Y),l.push(Y),E6(r,Y,n,a).forEach(function(J){if(l.indexOf(J)===-1){u.indexOf(J)===-1&&u.push(J);var pt=v[Y.id]+Gs(Y,J);c[J.id]&&pt>=c[J.id]||(h[J.id]=Y.id,c[J.id]=pt,v[J.id]=c[J.id]+f1(J,e,t,o,s))}})};u.length;){var _=C();if(Au(_)==="object")return _.value}return[t,e]},T6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},P6=function(r,t,e,n){var a=Gs(r,t),o=Gs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},h1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(T6(a,s,l)){var u=P6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},L6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Tu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Tu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Tu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Tu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(l1(o,s))return Pu(u1(r,t));var h=Lu(o,a),c=Lu(s,a);if(l1(h,c))return Pu(u1(r,t));var v=ic(h,r),g=ic(c,t),C=y6([v,g]),_=ac(h,c),F=ac(h,C),Y=ac(c,C),G=[];G=G.concat(oc(F)),G=G.concat(oc(Y));var $={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[C,F,Y].forEach(function(pt){G=G.concat(w6(pt,$).filter(function(_t){return Iu(_t,h)&&Iu(_t,c)}))}),[{x:v.x,y:g.y},{x:g.x,y:v.y}].forEach(function(pt){Iu(pt,h)&&Iu(pt,c)&&G.push(pt)}),G.unshift(v),G.push(g),G=nc(G);var J=A6(G,v,g,o,s,r,t);return J.unshift(r),J.push(t),Pu(J)};function ku(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(i)}var I6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},O6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},k6=function(r,t){return[r,t]},_6=function(r,t,e,n,a){return Pu(L6(r,t,e,n,a.offset))},B6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:I6,fallbackRoute:_6},sz={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:O6,fallbackRoute:k6},va=function(r,t){var e=Math.floor(r/t);return e<0?0:e},D6=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Lu(a.getBBox(),e),s=va(o.minX,t);s<=va(o.maxX,t);s+=1)for(var l=va(o.minY,t);l<=va(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},lc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},c1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},v1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},d1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Lu(t.getBBox(),o);for(var u in l)l[u]=va(l[u],e.gridSize);var h=r.x>va(s.minX,e.gridSize)&&r.x<va(s.maxX,e.gridSize)&&r.y>va(s.minY,e.gridSize)&&r.y<va(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var g=v[c],C=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var _=C[u],F=Os(r,{x:r.x+g.stepX*l.width,y:r.y+g.stepY*l.height},_[0],_[1]);F&&!sc(r,F,t.getBBox())&&(F.id=F.x+"-"+F.y,n.push(F))}else{var F=ic(l,r);F.id=F.x+"-"+F.y,n.push(F)}return n},p1=function(r,t,e,n,a){var o=(0,Ui.default)(B6,a);o.obstacles=o.obstacles||[];var s=D6(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:va(r.x,o.gridSize),y:va(r.y,o.gridSize)},u={x:va(t.x,o.gridSize),y:va(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=d1(l,e,o),c=d1(u,n,o);h.forEach(function(Ht){delete s[Ht.id]}),c.forEach(function(Ht){delete s[Ht.id]});for(var v={},g={},C={},_={},F={},Y=0;Y<h.length;Y++){var G=h[Y];v[G.id]=G,_[G.id]=0,F[G.id]=v1(G,c,o.distFunc)}for(var $=function(Dt,qt){var ve=lc(Dt,qt),fe;if(C[Dt.id]){var De=lc({x:parseFloat(C[Dt.id].split("-")[0]),y:parseFloat(C[Dt.id].split("-")[1])},Dt);fe=c1(De,ve)}else{var Te=lc(l,Dt);fe=c1(Te,ve)}return fe},J=function(Dt){var qt=[t],ve={x:parseFloat(Dt.split("-")[0]),y:parseFloat(Dt.split("-")[1]),id:Dt};for($(ve,u)&&qt.unshift({x:ve.x===u.x?t.x:ve.x*o.gridSize,y:ve.y===u.y?t.y:ve.y*o.gridSize});C[Dt]&&C[Dt]!==Dt;){var fe={x:parseFloat(Dt.split("-")[0]),y:parseFloat(Dt.split("-")[1]),id:Dt},Te=C[Dt],De={x:parseFloat(Te.split("-")[0]),y:parseFloat(Te.split("-")[1]),id:Te},ke=$(De,fe);ke&&qt.unshift({x:De.x===fe.x?qt[0].x:De.x*o.gridSize,y:De.y===fe.y?qt[0].y:De.y*o.gridSize}),Dt=Te}var Je={x:parseFloat(Dt.split("-")[0]),y:parseFloat(Dt.split("-")[1]),id:Dt};return qt[0].x=Je.x===l.x?r.x:qt[0].x,qt[0].y=Je.y===l.y?r.y:qt[0].y,qt.unshift(r),qt},pt=o.maximumLoops,_t=function(){var Dt,qt=Infinity;for(var ve in v)F[ve]<=qt&&(qt=F[ve],Dt=v[ve]);if(!Dt)return"break";if(c.findIndex(function(Ke){return Ke.x===Dt.x&&Ke.y===Dt.y})>-1){var fe=J(Dt.id);return{value:fe}}delete v[Dt.id],g[Dt.id]=!0;for(var Te=0;Te<o.directions.length;Te++){var De=o.directions[Te],ke={x:Dt.x+De.stepX,y:Dt.y+De.stepY,id:Dt.x+De.stepX+"-"+(Dt.y+De.stepY)};if(!g[ke.id]){var Je=$(Dt,ke);if(!(Je>o.maxAllowedDirectionChange)&&!s[ke.id]){v[ke.id]||(v[ke.id]=ke);var er=o.distFunc(Dt,ke)+(isNaN(o.penalties[Je])?o.gridSize:o.penalties[Je]),nr=_[Dt.id]+er;_[ke.id]&&nr>=_[ke.id]||(C[ke.id]=Dt.id,_[ke.id]=nr,F[ke.id]=nr+v1(ke,c,o.distFunc))}}}pt-=1};Object.keys(v).length>0&&pt>0;){var Ft=_t();if(ku(Ft)==="object")return Ft.value;if(Ft==="break")break}return o.fallbackRoute(r,t,e,n,o)};mi.registerEdge("polyline",{options:{color:Ze.defaultEdge.color,size:Ze.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ze.defaultEdge.style.stroke,lineAppendWidth:Ze.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ze.edgeLabel.style.fill,fontSize:Ze.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,B.__assign)({},Ze.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var g=this.getPath(l,u,h,c,v);((0,f.isArray)(g)&&g.length<=1||(0,f.isString)(g)&&g.indexOf("L")===-1)&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(g="M0 0, L0 0");var C=(0,f.mix)({},Ze.defaultEdge.style,n,{lineWidth:r.size,path:g});return C},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(G){return G.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C=c.radius,_=this.options.routeCfg;_.offset=c.offset;var F=this.getPath(h,v,g,C,_);((0,f.isArray)(F)&&F.length<=1||(0,f.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(F="M0 0, L0 0");var Y=(0,f.mix)(n,a.attr(),{lineWidth:o,path:F},r.style);a&&a.attr(Y)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return h1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=p1(r[0],r[r.length-1],t,e,a);var u=h1(l,n);return u}l=p1(r[0],r[r.length-1],t,e,a);var h=Qm(l);return h}},"single-edge");var F6={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},R6={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ls=mi,N6={mat3:Ea.wO,mix:Rs.default,deepMix:Ui.default,transform:Ea.vs},G6=(0,B.__assign)((0,B.__assign)((0,B.__assign)((0,B.__assign)((0,B.__assign)((0,B.__assign)({},N6),et),At),it),dt),lt),Y6=G6,z6=function(){function i(r){this._cfgs=(0,Ui.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Zn.default)(e,function(a,o){var s=(0,au.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Zn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Ga=z6,g1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",X6=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:g1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||g1,u=(0,Ci.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,Ci.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,Jn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Jn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Jn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Ga),V6=X6,H6=d(38186),uc=d.n(H6);uc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var W6=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,Ci.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Jn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,Nn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Ft){h(Ft.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),g=l.get("height"),C=o.getBoundingClientRect(),_=this.get("offsetX")||0,F=this.get("offsetY")||0,Y=l.getContainer().offsetTop,G=l.getContainer().offsetLeft,$=t.canvasX+G+_,J=t.canvasY+Y+F;$+C.width>v&&($=t.canvasX-C.width-_+G),J+C.height>g&&(J=t.canvasY-C.height-F+Y),(0,Jn.Z)(o,{top:J+"px",left:$+"px",visibility:"visible"});var pt=function(Ft){e.onMenuHide()};document.body.addEventListener("click",pt),this.set("handler",pt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Jn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ga),j6=W6,y1=Math.max,U6="default",Z6="keyShape",K6="delegate",m1="svg",$6=function(i){(0,B.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,Ci.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,g=0,C=0,_=0,F=0,Y=0;l.addEventListener("dragstart",function(G){if(G.dataTransfer){var $=new Image;$.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",G.dataTransfer.setDragImage($,0,0),G.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,G.target===l){var J=l.style;v=parseInt(J.left,10),g=parseInt(J.top,10),C=parseInt(J.width,10),_=parseInt(J.height,10),!(C>n[0]||_>n[1])&&(Y=a.getZoom(),F=t.get("ratio"),c=!0,u=G.clientX,h=G.clientY)}},!1),l.addEventListener("drag",function(G){if(!(!c||(0,Ri.default)(G.clientX)||(0,Ri.default)(G.clientY))){var $=u-G.clientX,J=h-G.clientY;(v-$<0||v-$+C>=n[0])&&($=0),(g-J<0||g-J+_>=n[1])&&(J=0),v-=$,g-=J,(0,Jn.Z)(l,{left:v+"px",top:g+"px"}),a.translate($*Y/F,J*Y/F),u=G.clientX,h=G.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),g=this.get("viewport");g||this.initViewport();var C=s.getZoom(),_=(v.x-c.x)*t,F=(v.y-c.y)*t,Y=c.x*t+a,G=c.y*t+o,$=Y+_,J=G+F;Y<0&&(_+=Y,Y=0),$>l[0]&&(_=_-($-l[0])),G<0&&(F+=G,G=0),J>l[1]&&(F=F-(J-l[1])),this.set("ratio",t);var pt=Y+"px",_t=G+"px";(0,Jn.Z)(g,{left:pt,top:_t,width:_+"px",height:F+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===m1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Zn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Zn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Zn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Zn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:(0,B.__assign)({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,Ci.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,Nn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,Ci.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===m1?u=new Ds.Z({container:l,width:n[0],height:n[1]}):u=new Fo.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case U6:this.updateGraphShapes();break;case Z6:this.updateKeyShapes();break;case K6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=y1(u.width,c),v=y1(u.height,v)),c+=2*s,v+=2*s;var g=Math.min(n[0]/c,n[1]/v),C=[1,0,0,0,1,0,0,0,1],_=0,F=0;Number.isFinite(u.minX)&&(_=-u.minX),Number.isFinite(u.minY)&&(F=-u.minY);var Y=(n[0]-(c-2*s)*g)/2,G=(n[1]-(v-2*s)*g)/2;C=Ra(C,[["t",_,F],["s",g,g],["t",Y,G]]),l.setMatrix(C),this.set("ratio",g),this.set("totaldx",Y+_*g),this.set("totaldy",G+F*g),this.set("dx",Y),this.set("dy",G),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Ga),Q6=$6;function Ya(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function J6(i,r){return i.x*r.x+i.y*r.y}function x1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var q6=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(J){(J.x===null||!J.y===null||J.x===void 0||!J.y===void 0)&&(s=!0),o[J.id]=J}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),g=e.get("iterations"),C=e.get("iterRate"),_=e.get("lambda"),F=0;F<v;F++){for(var Y=function(pt){var _t=[];n.forEach(function(Ft,Ht){if(Ft.source!==Ft.target){var Dt=o[Ft.source],qt=o[Ft.target];_t[Ht]=e.getEdgeForces({source:Dt,target:qt},Ht,l,_);for(var ve=0;ve<l+1;ve++)h[Ht][ve].x+=_t[Ht][ve].x,h[Ht][ve].y+=_t[Ht][ve].y}})},G=0;G<g;G++)Y(G);_=_/2,l*=u,g*=C,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(J,pt){J.source!==J.target&&(J.shape="polyline",J.type="polyline",J.controlPoints=h[pt].slice(1,h[pt].length-1))});var $=e.get("graph");$.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ya({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),g=v,C=[{x:u.x,y:u.y}];o[l].forEach(function(_,F){if(F!==0){for(var Y=Ya(_,o[l][F-1]);Y>g;){var G=g/Y,$={x:o[l][F-1].x,y:o[l][F-1].y};$.x+=G*(_.x-o[l][F-1].x),$.y+=G*(_.y-o[l][F-1].y),C.push($),Y-=g,g=v}g-=Y}}),C.push({x:h.x,y:h.y}),o[l]=C}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ya(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,g){if(!(g<=u)){var C=o[v.source],_=o[v.target],F=t.getBundleScore({source:h,target:c},{source:C,target:_});F>=a&&(s[u].push(g),s[g].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ya({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ya({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=J6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ya(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=x1(e.source,t),a=x1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ya(o,s)/Ya(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Ya(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},g=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),C=o.getElectrostaticForce(c,e);v.x=a*(g.x+C.x),v.y=a*(g.y+C.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Ya(s[h][t],s[e][t]),g=1/v;u.x+=c.x*g,u.y+=c.y*g}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Ga),t8=q6,_u=.05,b1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},e8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,pi.d9)(b1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-_u:a=1/(1-_u);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-_u:o=1/(1-_u);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),g=a.getNodes(),C=g.length,_=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(_=n.get("cacheCenter"));var F=n.get("delegateCenterDiff");F&&(_.x+=F.x,_.y+=F.y),n.updateDelegate(_,u);for(var Y=0;Y<C;Y++){var G=g[Y].getModel(),$=G.x,J=G.y;if(!(isNaN($)||isNaN(J))){var pt=($-_.x)*($-_.x)+(J-_.y)*(J-_.y);if(!isNaN(pt)&&pt<h&&pt!==0){var _t=Math.sqrt(pt),Ft=v*_t/(c*_t+u),Ht=($-_.x)/_t,Dt=(J-_.y)/_t;if(G.x=Ht*Ft+_.x,G.y=Dt*Ft+_.y,s[G.id]||(s[G.id]={x:$,y:J,texts:[]}),o.push(G),l&&2*_t<u)for(var qt=g[Y],ve=qt.getContainer(),fe=ve.getChildren(),Te=fe.length,De=0;De<Te;De++){var ke=fe[De];ke.get("type")==="text"&&(s[G.id].texts.push({visible:ke.get("visible"),shape:ke}),ke.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var g=e.get("d"),C=e.get("r");if(e.set("molecularParam",(g+1)*C),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var _=e.get("dPercentText");_&&(_.remove(),_.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var _=e.get("dPercentText");_&&(_.remove(),_.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||b1;s=l.addShape("circle",{attrs:(0,B.__assign)({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(C){a.scaleRByWheel(C)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){a.scaleRByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(C){n.scaleDByWheel(C)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){n.scaleDByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var g=o.get("group");c=g.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ga),r8=e8;uc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var n8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,pi.HD)(a)&&(o=(0,Ci.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(C){return C.nodeName==="LI"});if(v.length!==0){var g=v[0].getAttribute("code");!g||(u?u(g,e):t.handleDefaultOperator(g,e))}});var h=this.get("position");h&&(0,Jn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,pi.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,pi.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Ga),i8=n8;uc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var a8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,Ci.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Jn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,Nn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Jn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Jn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,g=c.y;v+=l,g+=u;var C=n.getBoundingClientRect();v+C.width>o&&(v=v-C.width-l),g+C.height>s&&(g=g-C.height-u),(0,Jn.Z)(n,{left:v+"px",top:g+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Ga),o8=a8,w1=d(89539);function s8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function S1(i){return s8(i)}function l8(i){if(i.length<=2)return S1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=Ks.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function u8(i,r,t,e){e===void 0&&(e=!0);var n=new rn.Linear({values:i}),a=new rn.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?l8(o):S1(o)}function f8(i,r,t){for(var e=new rn.Linear({values:i}),n=new rn.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=v8(u);o.push.apply(o,h)}return d8(o)}function h8(i,r){var t=new rn.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function c8(i,r,t,e){var n=(0,B.__spreadArrays)(i),a=h8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function v8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,w1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,w1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function d8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var lz={opacity:.5},p8={stroke:"#C5C5C5",strokeOpacity:.85},g8={fill:"#CACED4",opacity:.85},y8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,g=v===void 0?!1:v,C=r.data,_=C===void 0?[]:C,F=r.lineStyle,Y=r.areaStyle,G=r.group,$=r.interval,J=$===void 0?null:$;this.group=G,this.x=e,this.y=a,this.width=s,this.height=u,this.data=_,this.smooth=c,this.isArea=g,this.lineStyle=Object.assign({},p8,F),this.areaStyle=Object.assign({},g8,Y),this.intervalConfig=J,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var g=u8(o,n,a,s);if(v.addShape("path",{attrs:(0,B.__assign)({path:g},h)}),l){var C=c8(g,n,a,o);v.addShape("path",{attrs:(0,B.__assign)({path:C},c)})}}this.intervalConfig&&v.addShape("path",{attrs:(0,B.__assign)({path:f8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),m8=y8,x8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},b8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},w8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,g=r.style,C=g===void 0?{}:g;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=(0,B.__assign)((0,B.__assign)({},x8),C):n==="simple"&&(this.style=(0,B.__assign)((0,B.__assign)({},b8),C)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),C1=w8,S8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:(0,B.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),C8=S8,M8="#ccc",E8="green",A8={fill:"#607889",stroke:"#607889"},T8={fill:"#fff"},P8={fill:"green"},L8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ys=110,za=50,I8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},L8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?M8:s,u=r.stroke,h=u===void 0?E8:u,c=r.playBtnStyle,v=c===void 0?A8:c,g=r.preBtnStyle,C=g===void 0?T8:g,_=r.nextBtnStyle,F=_===void 0?P8:_,Y=e/2-5,G=a+10,$=this.group.addShape("rect",{attrs:{x:n,y:G,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:G,r:Y}):this.playButton=new C8({group:this.group,x:t/2,y:G+Y+5,r:Y,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:(0,B.__assign)({path:this.getPreMarkerPath(t/2-5*Y,G+Y+5,Y*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,B.__assign)({path:this.getPreMarkerPath(t/2-4.5*Y,G+Y+5,Y*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,B.__assign)({path:this.getNextMarkerPath(t/2+5*Y,G+Y+5,Y*.5)},F),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,B.__assign)({path:this.getNextMarkerPath(t/2+4.5*Y,G+Y+5,Y*.5)},F),name:"nextStepBtn"}),$.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?za:Ys),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?za:Ys),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?za:Ys)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?za:Ys),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-za,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-za+3,this.speedAxisY[1]+6],["L",r-za+7,this.speedAxisY[1]+10],["L",r-za+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-za+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?za:Ys),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),M1=I8,E1="timelinestart",A1="timelineend",Xa="valueChange",Bu="timebarConfigChanged",Du="playPauseBtn",Fu="nextStepBtn",Ru="preStepBtn",O8={fill:"#416180",opacity:.05},k8={fill:"#416180",opacity:.15,radius:5},_8={fill:"#5B8FF9",opacity:.3,cursor:"move"},fc=2,B8={width:fc,height:24},D8={textBaseline:"middle",fill:"#000",opacity:.45},F8=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function($e){return function(Mr){t.currentHandler=$e;var Cr=Mr.originalEvent;Cr.stopPropagation(),Cr.preventDefault(),t.prevX=(0,f.get)(Cr,"touches.0.pageX",Cr.pageX);var _r=t.canvas.get("container");_r.addEventListener("mousemove",t.onMouseMove),_r.addEventListener("mouseup",t.onMouseUp),_r.addEventListener("mouseleave",t.onMouseUp),_r.addEventListener("touchmove",t.onMouseMove),_r.addEventListener("touchend",t.onMouseUp),_r.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function($e){$e.stopPropagation(),$e.preventDefault();var Mr=(0,f.get)($e,"touches.0.pageX",$e.pageX),Cr=Mr-t.prevX,_r=t.adjustOffsetRange(Cr/t.width);t.updateStartEnd(_r),t.updateUI(),t.prevX=Mr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var $e=t.canvas.get("container");$e&&($e.removeEventListener("mousemove",t.onMouseMove),$e.removeEventListener("mouseup",t.onMouseUp),$e.removeEventListener("mouseleave",t.onMouseUp),$e.removeEventListener("touchmove",t.onMouseMove),$e.removeEventListener("touchend",t.onMouseUp),$e.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,g=r.controllerCfg,C=g===void 0?{speed:1}:g,_=r.backgroundStyle,F=_===void 0?{}:_,Y=r.foregroundStyle,G=Y===void 0?{}:Y,$=r.handlerStyle,J=$===void 0?{}:$,pt=r.textStyle,_t=pt===void 0?{}:pt,Ft=r.start,Ht=Ft===void 0?0:Ft,Dt=r.end,qt=Dt===void 0?1:Dt,ve=r.minText,fe=ve===void 0?"":ve,Te=r.maxText,De=Te===void 0?"":Te,ke=r.group,Je=r.graph,er=r.canvas,nr=r.ticks,Ke=r.type;this.graph=Je,this.canvas=er,this.group=ke,this.timeBarType=Ke,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=nr,this.trendCfg=v,this.controllerCfg=C,this.currentSpeed=C.speed,Ke==="trend"?this.backgroundStyle=(0,B.__assign)((0,B.__assign)({},O8),F):Ke==="simple"&&(this.backgroundStyle=(0,B.__assign)((0,B.__assign)({},k8),F)),this.foregroundStyle=(0,B.__assign)((0,B.__assign)({},_8),G),this.handlerStyle=(0,B.__assign)((0,B.__assign)({},B8),J),this.textStyle=(0,B.__assign)((0,B.__assign)({},D8),_t),this.currentMode="range",this.start=Ht,this.end=qt,this.minText=fe,this.maxText=De,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new m8((0,B.__assign)((0,B.__assign)({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:(0,B.__assign)({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:(0,B.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,B.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:(0,B.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,B.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,B.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new C1((0,B.__assign)({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new C1((0,B.__assign)({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var g=this.ticks,C=e/(g.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(F){F.destroy()});var _=-Infinity;this.textList=g.map(function(F,Y){r.tickPosList.push(r.x+Y*C);var G=r.group.addShape("text",{attrs:{x:r.x+Y*C,y:r.y+n+5,text:F,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),$=r.group.addShape("line",{attrs:{x1:r.x+Y*C,y1:r.y+n+2,x2:r.x+Y*C,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),J=G.getBBox();return J.minX>_?(G.show(),$.show(),_=J.minX+J.width+10):(G.hide(),$.hide()),G}),this.controllerBtnGroup=new M1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Du+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Fu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Ru+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Bu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",fc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(Xa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Xa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",fc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),g=null,C=null;return this.timeBarType==="trend"?(g=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(g=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[C,g]:[g,C]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(E1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(A1,null))},i.prototype.destory=function(){this.graph.off(Xa);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Du+":click"),r.off(Fu+":click"),r.off(Ru+":click"),r.off(Bu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),R8=F8,uz={opacity:.5,fill:"#000"},fz={opacity:.5,fill:"#000",r:5},hz={fill:"#fff",fontSize:12},N8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,g=v===void 0?"#000":v,C=r.textColor,_=C===void 0?"#fff":C,F=r.opacity,Y=F===void 0?.8:F,G=r.fontSize,$=G===void 0?12:G;this.container=o,this.className=c,this.backgroundColor=g,this.textColor=_,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=Y,this.fontSize=$,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,Ci.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Jn.Z)(v,{visibility:"hidden",top:0,left:0});var g=(0,Ci.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");g.innerHTML=s,v.appendChild(g),r.backgroundDOM=g;var C=(0,Ci.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(C),r.arrowDOM=C,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Jn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,Jn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Jn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,g=n+l/2;v<0?(0,Jn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):g>t.parentWidth&&(0,Jn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Jn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),G8=N8,Y8={fill:"#5B8FF9"},z8={fill:"#e6e8e9"},X8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,g=r.y,C=g===void 0?0:g,_=r.tickLabelFormatter,F=r.selectedTickStyle,Y=F===void 0?Y8:F,G=r.unselectedTickStyle,$=G===void 0?z8:G,J=r.tooltipBackgroundColor,pt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=_,this.selectedTickStyle=Y,this.unselectedTickStyle=$,this.x=v,this.y=C,this.tooltipBackgroundColor=J,this.tooltipFomatter=pt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,g=4,C=3*n+g+v,_=e-C-2*n,F=2,Y=a.length,G=(c-F*(Y-1))/Y;this.tickWidth=G;var $=this.sliceGroup,J=[],pt=[],_t=Math.round(Y*o),Ft=Math.round(Y*s);this.startTickRectId=_t,this.endTickRectId=Ft,a.forEach(function(Dt,qt){var ve=qt>=_t&&qt<=Ft,fe=ve?u:h,Te=$.addShape("rect",{attrs:(0,B.__assign)({x:n+qt*(G+F),y:n,width:G,height:_},fe),draggable:!0,name:"tick-rect-"+qt}),De=$.addShape("rect",{attrs:{x:n+qt*G+F*(2*qt-1)/2,y:n,width:qt===0||qt===Y-1?G+F/2:G+F,height:_,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+qt});De.toFront();var ke=Te.getBBox(),Je=(ke.minX+ke.maxX)/2;J.push({rect:Te,pickRect:De,value:Dt.date,x:Je,y:ke.minY});var er;if(l?(er=l(Dt),!(0,f.isString)(er)&&er&&(er=Dt.date)):qt%Math.round(Y/10)==0&&(er=Dt.date),er){pt.push(er);var nr=ke.maxY+n*2;$.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Je,y1:nr,x2:Je,y2:nr+g}});var Ke=nr+g+n,$e=$.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Je,y:Ke,textAlign:"center",text:er,textBaseline:"top",fontSize:10},capture:!1}),Mr=$e.getBBox();Mr.maxX>t?$e.attr("textAlign","right"):Mr.minX<0&&$e.attr("textAlign","left")}}),this.tickRects=J;var Ht=this.group;this.currentSpeed=1,this.controllerBtnGroup=new M1({group:Ht,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var g=r.tickRects,C=r.unselectedTickStyle;g.forEach(function(G){G.rect.attr(C)});var _=r.selectedTickStyle;g[v].rect.attr(_),r.startTickRectId=v,r.endTickRectId=v;var F=g.length,Y=v/F;r.graph.emit(Xa,{value:[Y,Y]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(G){G.rect.attr(v)});var g=h.target,C=parseInt(g.get("name").split("-")[2],10),_=r.selectedTickStyle;c[C].rect.attr(_),r.startTickRectId=C;var F=c.length,Y=C/F;r.graph.emit(Xa,{value:[Y,Y]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,g=r.tickRects,C=r.selectedTickStyle,_=r.unselectedTickStyle,F=0;F<g.length;F++){var Y=F>=v&&F<=c?C:_;g[F].rect.attr(Y)}var G=g.length;r.endTickRectId=c;var $=v/G,J=c/G;r.graph.emit(Xa,{value:[$,J]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var g=r.selectedTickStyle,C=r.tickRects;C[v].rect.attr(g),r.endTickRectId=v;var _=C.length,F=c/_,Y=v/_;r.graph.emit(Xa,{value:[F,Y]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new G8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var g=v.target;if(g.get("type")==="rect"){var C=parseInt(g.get("name").split("-")[2],10),_=o.getClientByPoint(l[C].x,l[C].y);s.show({x:l[C].x,y:l[C].y,clientX:_.x,clientY:_.y,text:a?a(l[C].value):l[C].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(Du+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(Fu+":click",function(){r.updateStartEnd(1)}),u.on(Ru+":click",function(){r.updateStartEnd(-1)}),u.on(Bu,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(E1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(A1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Xa,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(Xa);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Du+":click"),r.off(Fu+":click"),r.off(Ru+":click"),r.off(Bu),this.sliceGroup.destroy()},i}(),V8=X8,H8=8,W8=26,j8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,Ci.Z)("<div class='"+o+"'></div>"),(0,Jn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Ds.Z({container:u,width:n,height:a}):h=new Fo.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=(0,B.__rest)(l,["data"]),g=e-2*o,C=s==="trend"?W8:H8,_=this.get("graph"),F=this.get("timeBarGroup"),Y=this.get("canvas"),G=null;if(s==="trend"||s==="simple")G=new R8((0,B.__assign)((0,B.__assign)({graph:_,canvas:Y,group:F,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:g,height:C,padding:o,trendCfg:(0,B.__assign)((0,B.__assign)({},v),{data:c.map(function(J){return J.value})})},u),{ticks:c.map(function(J){return J.date}),handlerStyle:(0,B.__assign)((0,B.__assign)({},u.handlerStyle),{height:u.height||C}),controllerCfg:h}));else if(s==="tick"){var $=this._cfgs.tick;G=new V8((0,B.__assign)({graph:_,canvas:Y,group:F,x:n+o,y:a+o},$))}this.set("timebar",G)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var g=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=g);var C=this.cacheGraphData.nodes.filter(function(Y){return Y.date>=h&&Y.date<=c}),_=C.map(function(Y){return Y.id}),F=this.cacheGraphData.edges.filter(function(Y){return _.includes(Y.source)&&_.includes(Y.target)});s.changeData({nodes:C,edges:F})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Xa,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Ga),U8=j8;function Z8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var K8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,Ci.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,g=0,C=0,_=0;a.addEventListener("mousedown",function(F){if(e.refresh=!1,F.target===o){var Y=o.style;v=parseInt(Y.width,10),g=parseInt(Y.height,10);var G=t.get("width"),$=t.get("height");v>G||g>$||(_=n.getZoom(),C=t.get("ratio"),u=!0,s=F.clientX,l=F.clientY)}},!1),a.addEventListener("mousemove",function(F){if(!(!u||(0,Ri.default)(F.clientX)||(0,Ri.default)(F.clientY))){var Y=t.get("width"),G=t.get("height"),$=o.style;h=parseInt($.left,10),c=parseInt($.top,10),v=parseInt($.width,10),g=parseInt($.height,10);var J=s-F.clientX,pt=l-F.clientY;h-J<0?J=h:h-J+v>=Y&&(J=0),c-pt<0?pt=c:c-pt+g>=G&&(pt=0),h-=J,c-=pt,(0,Jn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(J*_/C,pt*_/C),s=F.clientX,l=F.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],g={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(g.width=v[0],g.height=g.width/l):(g.height=v[1],g.width=g.height*l),g.minX=c[0]-g.width/2,g.minY=c[1]-g.height/2;var C=u.getMatrix();C||(C=[1,0,0,0,1,0,0,0,1]);var _=ro.invert([],C),F=ks({x:g.minX,y:g.minY},_),Y=a.getCanvasByPoint(F.x,F.y),G=this.get("viewport");G||this.initViewport();var $=o/g.width,J=$*e,pt=$*n,_t=e*-Y.x/g.width,Ft=n*-Y.y/g.height,Ht=_t+J,Dt=Ft+pt;_t<0&&(J+=_t,_t=0),Ht>e&&(J=J-(Ht-e)),Ft<0&&(pt+=Ft,Ft=0),Dt>n&&(pt=pt-(Dt-n)),this.set("ratio",t);var qt=_t+"px",ve=Ft+"px";(0,Jn.Z)(G,{left:qt,top:ve,width:J+"px",height:pt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,Ci.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,Nn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,Ci.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var g=(0,Ci.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(g),t.set("containerDOM",v),t.set("containerSpan",g);var C=(0,Ci.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",C),t.updateImgSize(),g.appendChild(C),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=Z8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,Ci.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Ga),$8=K8,T1=.05,P1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Q8=function(i){(0,B.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,pi.d9)(P1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-T1:a=1/(1-T1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(Y){Y.remove(),Y.destroy()}),c=[],a.forEach(function(Y){var G=Y.getModel(),$=G.x,J=G.y;_s({x:$,y:J},u)<s&&(o[G.id]=Y)});var v=n.getEdges(),g=[];v.forEach(function(Y){var G=Y.getModel(),$=G.source,J=G.target;h(G)&&(l==="only-source"||l==="one"?o[$]&&!o[J]&&g.push(Y):l==="only-target"||l==="one"?o[J]&&!o[$]&&g.push(Y):l==="both"&&o[$]&&o[J]&&g.push(Y))});var C=e.get("showNodeLabel"),_=e.get("showEdgelabel"),F=n.get("group");g.forEach(function(Y){var G=Y.get("group").get("children");G.forEach(function($){var J=$.get("type"),pt=F.addShape(J,{attrs:$.attr()});c.push(pt),C&&J==="text"&&pt.set("visible",!0)})}),Object.keys(o).forEach(function(Y){var G=o[Y],$=G.get("group").clone();if(F.add($),c.push($),_)for(var J=$.get("children"),pt=0;pt<J.length;pt++){var _t=J[pt];_t.get("type")==="text"&&_t.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||P1;o=s.addShape("circle",{attrs:(0,B.__assign)({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Ga),J8=Q8,qi={Menu:j6,Grid:V6,Minimap:Q6,Bundling:t8,ToolBar:i8,Tooltip:o8,Fisheye:r8,TimeBar:U8,ImageMinimap:$8,EdgeFilterLens:J8};function q8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function L1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&L1(i,n,r,e)}),e.leave({current:r,previous:t})}function I1(i,r,t){var e=null,n=i.findById(r);L1(i,n,e,q8(t))}var t9=function(){function i(){this.linkedList=new Jx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),e9=t9;function r9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var n9=function(r,t,e){var n=r9(e),a=new e9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},i9=n9;function a9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function O1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var g=v.getNeighbors("target").filter(function(G){return i.indexOf(G)>-1}),C=0;C<g.length;C++){var _=g[C];!e[_.get("id")]&&e[_.get("id")]!==0?(c(_),n[v.get("id")]=Math.min(n[v.get("id")],n[_.get("id")])):t[_.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[_.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var F=[];r.length>0;){var Y=r.pop();if(t[Y.get("id")]=!1,F.push(Y),Y===v)break}F.length>0&&a.push(F)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function k1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?O1(e):a9(e)}var o9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var g=c,C=v;C.getID()!==c.getID();)t[g.getID()]=C,g=C,C=e[C.getID()];t[g.getID()]=C}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];I1(r,l,s)}return t},_1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=k1(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],g=v.get("id"),C=[v],_=(n={},n[g]=v,n),F=(a={},a[g]=new Set,a);C.length>0;)for(var Y=C.pop(),G=Y.get("id"),$=Y.getNeighbors(),J=0;J<$.length;J+=1){var pt=$[J],_t=pt.get("id");if(_t===G)s.push((o={},o[pt.getID()]=Y,o));else if(!(_t in F))_[_t]=Y,C.push(pt),F[_t]=new Set([Y]);else if(!F[G].has(pt)){for(var Ft=!0,Ht=[pt,Y],Dt=_[G];F[_t].size&&!F[_t].has(Dt)&&(Ht.push(Dt),Dt!==_[Dt.getID()]);)Dt=_[Dt.getID()];if(Ht.push(Dt),t&&e?(Ft=!1,Ht.findIndex(function(fe){return t.indexOf(fe.get("id"))>-1})>-1&&(Ft=!0)):t&&!e&&Ht.findIndex(function(fe){return t.indexOf(fe.get("id"))>-1})>-1&&(Ft=!1),Ft){for(var qt={},ve=1;ve<Ht.length;ve+=1)qt[Ht[ve-1].getID()]=Ht[ve];Ht.length&&(qt[Ht[Ht.length-1].getID()]=Ht[0]),s.push(qt)}F[_t].add(Y)}}}return s},B1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(qt){for(var ve=[qt];ve.length>0;){var fe=ve.pop();a.has(fe)&&(a.delete(fe),o[fe.get("id")].forEach(function(Te){ve.push(Te)}),o[fe.get("id")].clear())}},c=function Dt(qt,ve,fe){var Te=!1;if(t&&e===!1&&t.indexOf(qt.get("id"))>-1)return Te;n.push(qt),a.add(qt);for(var De=fe[qt.getID()],ke=0;ke<De.length;ke+=1){var Je=l[De[ke]];if(Je===ve){for(var er={},nr=1;nr<n.length;nr+=1)er[n[nr-1].getID()]=n[nr];n.length&&(er[n[n.length-1].getID()]=n[0]),s.push(er),Te=!0}else a.has(Je)||Dt(Je,ve,fe)&&(Te=!0)}if(Te)h(qt);else for(var ke=0;ke<De.length;ke+=1){var Je=l[De[ke]];o[Je.get("id")].has(qt)||o[Je.get("id")].add(qt)}return n.pop(),Te},v=r.getNodes(),g=0;g<v.length;g+=1){var C=v[g],_=C.getID();u[_]=g,l[g]=C}if(t&&e)for(var g=0;g<t.length;g++){var _=t[g];u[v[g].getID()]=u[_],u[_]=0,l[0]=r.findById(_),l[u[v[g].getID()]]=v[g]}for(var F=function(qt){for(var ve,fe,Te=Infinity,De=0;De<qt.length;De+=1)for(var ke=qt[De],Je=0;Je<ke.length;Je++){var er=u[ke[Je].getID()];er<Te&&(Te=er,fe=De)}for(var nr=qt[fe],Ke=[],De=0;De<nr.length;De+=1){var $e=nr[De];Ke[$e.getID()]=[];for(var Mr=0,Cr=$e.getNeighbors("target").filter(function(Tr){return nr.indexOf(Tr)>-1});Mr<Cr.length;Mr++){var _r=Cr[Mr];_r===$e&&!(e===!1&&t.indexOf($e.getId())>-1)?s.push((ve={},ve[$e.getID()]=$e,ve)):Ke[$e.getID()].push(u[_r.getID()])}}return{component:nr,adjList:Ke,minIdx:Te}},Y=0;Y<v.length;){var G=v.filter(function(Dt){return u[Dt.getID()]>=Y}),$=O1(G).filter(function(Dt){return Dt.length>1});if($.length===0)break;var J=F($),pt=J.minIdx,_t=J.adjList,Ft=J.component;if(Ft.length>1){Ft.forEach(function(Dt){o[Dt.get("id")]=new Set});var Ht=l[pt];if(t&&e&&t.indexOf(Ht.get("id"))===-1)return s;c(Ht,Ht,_t),Y=pt+1}else break}return s},s9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?B1(r,e,n):_1(r,e,n)},l9=o9,u9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(F,Y){var G=F.getID();o.push(G),l[G]=Infinity,G===t&&(l[G]=0)});for(var h=a.length,c=function(Y){var G=f9(l,a,s),$=G.get("id");if(s[$]=!0,l[$]===Infinity)return"continue";var J=[];e?J=G.getOutEdges():J=G.getEdges(),J.forEach(function(pt){var _t=pt.getTarget().getID(),Ft=pt.getSource().getID(),Ht=_t===$?Ft:_t,Dt=n&&pt.getModel()[n]?pt.getModel()[n]:1;l[Ht]>l[G.get("id")]+Dt&&(l[Ht]=l[G.get("id")]+Dt,u[Ht]=G.get("id"))})},v=0;v<h;v++)c(v);var g={};for(var C in l){g[C]=[C];for(var _=u[C];_!==void 0;)g[C].unshift(_),_=u[_]}return{length:l,path:g}};function f9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var h9=u9,c9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=h9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},v9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(_){return!s[_.get("id")]})))}else{var g=o.pop();s[g.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var C=o.map(function(F){return F.get("id")});u.push(C);var g=o.pop();s[g.get("id")]=!1,l.pop()}}return u},d9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),p9=d9,g9=function(r,t){return r-t},y9=function(){function i(r){r===void 0&&(r=g9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),m9=y9,x9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(g,C){return t?g.getModel()[t]-C.getModel()[t]:0},l=new m9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},D1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new p9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function b9(i,r,t){var e={prim:x9,kruskal:D1};return t?e[t](i,r):D1(i,r)}var w9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var g=s[v],C=g.get("id");h[C]=1/l,c[C]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");if(u=0,r.getNodeDegree(g,"in")===0)h[C]=0;else{for(var _=g.getNeighbors("source"),F=0;F<_.length;++F){var Y=_[F],G=r.getNodeDegree(Y,"out");G>0&&(u+=c[Y.get("id")]/G)}h[C]=e*u,a+=h[C]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");u=h[C]+a,n+=Math.abs(u-c[C]),c[C]=u}o-=1}return c},S9=w9,cz=ls.registerNode,vz=ls.registerEdge,dz=ls.registerCombo,pz=sx.registerBehavior,gz=Ns.registerLayout,yz=qi.Minimap,mz=qi.Grid,xz=qi.Bundling,bz=qi.Menu,C9=qi.Fisheye,wz=qi.ToolBar,Sz=qi.Tooltip,M9=qi.TimeBar,E9=qi.ImageMinimap,A9=qi.EdgeFilterLens,Zi={version:aR.i8,Graph:a1,TreeGraph:l6,Util:Y6,registerNode:ls.registerNode,registerEdge:ls.registerEdge,registerCombo:ls.registerCombo,registerBehavior:sx.registerBehavior,registerLayout:Ns.registerLayout,Layout:Ns,Global:Ze,Minimap:qi.Minimap,Grid:qi.Grid,Bundling:qi.Bundling,Menu:qi.Menu,ToolBar:qi.ToolBar,Tooltip:qi.Tooltip,TimeBar:M9,Fisheye:C9,ImageMinimap:E9,EdgeFilterLens:A9,Algorithm:mt,Arrow:F6,Marker:R6};function F1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Va(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?F1(Object(t),!0).forEach(function(e){T9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):F1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function T9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Zi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Va({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:Va(Va({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},g=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var C;r.children&&(C=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Zi.Marker.expand:Zi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var _=r&&r.description?r.description:void 0,F=g.getBBox(),Y;if(_&&(Y=t.addShape("text",{attrs:Va({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+F.height+8,text:_},h),name:"description"})),Y){var G,$=Y.getBBox(),J=F.height+16+$.height,pt=n[0]>$.width+16?n[0]:$.width+16;s.attr({width:pt,height:J}),g==null||g.attr("width",pt),(G=C)===null||G===void 0||G.attr({x:pt-n[0]/2,y:J/2-n[1]/2})}return s},update:void 0},"single-node"),Zi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Va({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var P9=function(r){Zi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Va(Va({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Va({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Zi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Zi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Va(Va({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Zi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var g=r||{},C=g.style,_=t.addShape("path",{attrs:{path:v,stroke:C.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:C.lineWidth||1.2,endArrow:!1},name:"path-shape"}),F=0,Y=8,G;if(r.label&&(G=t.addShape("text",{attrs:{text:r.label,x:h.x+F,y:n.y-Y-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var $=G?G.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+F,y:n.y-Y-$.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+F,y:n.y+Y+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),_},update:void 0},"single-edge"),Zi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function R1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function L9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?R1(Object(t),!0).forEach(function(e){I9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):R1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function I9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var O9={show:!1,size:[150,100],type:"keyShape"},zs=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Xs=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(O9,r),n=new Zi.Minimap(L9({},e));return t.addPlugin(n),n}};function Nu(i,r,t){var e=(0,U.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,g=r.minimapCfg,C=r.behaviors,_=r.nodeLabelCfg,F=r.edgeLabelCfg,Y;return(0,U.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(G){i.updateItem(G,{type:s,style:a,anchorPoints:o,labelCfg:_})})},[a,o,s]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(G){i.updateItem(G,{type:l,style:u,labelCfg:F})})},[u,l]),(0,U.useEffect)(function(){if(i&&!i.destroyed){var G=zs(h,c,t);i.changeSize(G[0],G[1])}},[t,h,c]),(0,U.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,U.useEffect)(function(){if(!(!g||!i||i.destroyed))if(g.show)Y=Xs(g,i),Y&&Y.updateCanvas();else{var G=i.get("plugins")[0];G&&i.removePlugin(G)}},[g]),(0,U.useEffect)(function(){if(i&&!i.destroyed){var G=i.get("modes"),$=G.default,J=[];$.forEach(function(pt){(0,f.isObject)(pt)?J.push(pt.type):(0,f.isString)(pt)&&J.push(pt)}),i.removeBehaviors(J,"default"),i.addBehaviors(C,"default")}},[C]),(0,U.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var N1={hover:{stroke:"#1890ff",lineWidth:2}},k9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},_9={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},B9={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},G1={style:{fill:"#000",fontSize:12}},Kn,D9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,g=r.nodeSize,C=g===void 0?[120,40]:g,_=r.nodeLabelCfg,F=_===void 0?G1:_,Y=r.edgeLabelCfg,G=Y===void 0?G1:Y,$=r.layout,J=$===void 0?B9:$,pt=r.enableEdit,_t=pt===void 0?!1:pt,Ft=r.minimapCfg,Ht=r.nodeStyle,Dt=Ht===void 0?k9:Ht,qt=r.edgeStyle,ve=qt===void 0?_9:qt,fe=r.nodeStateStyles,Te=fe===void 0?N1:fe,De=r.edgeStateStyles,ke=De===void 0?N1:De,Je=r.handleNodeClick,er=r.handleEdgeClick,nr=r.handleNodeHover,Ke=r.handleNodeUnHover,$e=r.handleEdgeHover,Mr=r.handleEdgeUnHover,Cr=r.handleCanvasClick,_r=r.graphRef,ir={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:C,nodeLabelCfg:F,edgeLabelCfg:G,layout:J,enableEdit:_t,minimapCfg:Ft,nodeStyle:Dt,edgeStyle:ve,nodeStateStyles:Te,edgeStateStyles:ke,handleNodeClick:Je,handleEdgeClick:er,handleNodeHover:nr,handleNodeUnHover:Ke,handleEdgeHover:$e,handleEdgeUnHover:Mr,handleCanvasClick:Cr,graphRef:_r},Tr=U.useRef(null);return Nu(Kn,ir,Tr),(0,U.useEffect)(function(){var Hr=zs(a,o,Tr);return(!Kn||Kn.destroyed)&&(l==="icon-node"&&P9({enableEdit:_t}),Kn=new Zi.TreeGraph({container:Tr.current,width:Hr[0],height:Hr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:C,style:Dt,labelCfg:F},defaultEdge:{type:h,style:ve,labelCfg:G},nodeStateStyles:Te,edgeStateStyles:ke,layout:J}),_r&&(_r.current=Kn)),Xs(Ft,Kn),Kn.data(t),Kn.render(),Kn.fitView(),v&&Kn.addBehaviors({type:"collapse-expand",onChange:function(Ir,Ur){if(!Ir)return!1;var pn=Ir.get("model").data;return pn.collapsed=Ur,!0}},"default"),Kn.on("node:mouseenter",function(kr){var Ir=kr.item;Kn.setItemState(Ir,"hover",!0),nr&&nr(Ir,Kn)}),Kn.on("node:mouseleave",function(kr){var Ir=kr.item;Kn.setItemState(Ir,"hover",!1),Ke&&Ke(Ir,Kn)}),Kn.on("node:click",function(kr){var Ir=kr.item,Ur=kr.target,pn=Ur.get("type"),Nr=Ur.get("name");if(pn==="marker"){var Ge=Ir.getModel();if(Nr==="add-item"){Ge.children||(Ge.children=[]);var or=Math.random().toString(36).slice(-8);Ge.children.push({id:or,label:or}),Kn.updateChild(Ge,Ge.id)}else Nr==="remove-item"&&Kn.removeChild(Ge.id)}else Je&&Je(Ir,Kn)}),Kn.on("edge:mouseenter",function(kr){var Ir=kr.item;Kn.setItemState(Ir,"hover",!0),$e&&$e(Ir,Kn)}),Kn.on("edge:mouseleave",function(kr){var Ir=kr.item;Kn.setItemState(Ir,"hover",!1),Mr&&Mr(Ir,Kn)}),Kn.on("edge:click",function(kr){var Ir=kr.item;er&&er(Ir,Kn)}),Kn.on("canvas:click",function(kr){Cr&&Cr(Kn)}),function(){return Kn.destroy()}},[]),U.createElement(xn,null,U.createElement("div",{className:e,style:n,ref:Tr}))},F9=D9,Y1={hover:{stroke:"#1890ff",lineWidth:2}},R9=[120,40],N9={stroke:"#40a9ff"},G9=[[.5,0],[.5,1]],Y9={stroke:"#91d5ff",endArrow:{path:Zi.Arrow.vee(10,10),fill:"#91d5ff"}},z9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},z1={style:{fill:"#000",fontSize:12}},ai,X9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?R9:g,_=r.nodeLabelCfg,F=_===void 0?z1:_,Y=r.edgeLabelCfg,G=Y===void 0?z1:Y,$=r.nodeAnchorPoints,J=$===void 0?G9:$,pt=r.layout,_t=pt===void 0?z9:pt,Ft=r.minimapCfg,Ht=r.nodeStyle,Dt=Ht===void 0?N9:Ht,qt=r.edgeStyle,ve=qt===void 0?Y9:qt,fe=r.nodeStateStyles,Te=fe===void 0?Y1:fe,De=r.edgeStateStyles,ke=De===void 0?Y1:De,Je=r.handleEdgeClick,er=r.handleEdgeHover,nr=r.handleEdgeUnHover,Ke=r.handleNodeClick,$e=r.handleNodeHover,Mr=r.handleNodeUnHover,Cr=r.handleCanvasClick,_r=r.graphRef,ir={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:F,edgeLabelCfg:G,nodeAnchorPoints:J,layout:_t,minimapCfg:Ft,nodeStyle:Dt,edgeStyle:ve,nodeStateStyles:Te,edgeStateStyles:ke,handleEdgeClick:Je,handleEdgeHover:er,handleEdgeUnHover:nr,handleNodeClick:Ke,handleNodeHover:$e,handleNodeUnHover:Mr,handleCanvasClick:Cr,graphRef:_r},Tr=U.useRef(null);return Nu(ai,ir,Tr),(0,U.useEffect)(function(){var Hr=zs(a,o,Tr);return(!ai||ai.destroyed)&&(ai=new Zi.Graph({container:Tr.current,width:Hr[0],height:Hr[1],modes:{default:v},defaultNode:{type:l,size:C,style:Dt,anchorPoints:J,labelCfg:F},defaultEdge:{type:h,style:ve,labelCfg:G},nodeStateStyles:Te,edgeStateStyles:ke,layout:_t}),_r&&(_r.current=ai)),Xs(Ft,ai),ai.data(t),ai.render(),ai.fitView(),ai.on("edge:mouseenter",function(kr){var Ir=kr.item;ai.setItemState(Ir,"hover",!0),er&&er(Ir,ai)}),ai.on("node:mouseenter",function(kr){var Ir=kr.item;ai.setItemState(Ir,"hover",!1),$e&&$e(Ir,ai)}),ai.on("edge:mouseleave",function(kr){var Ir=kr.item;ai.setItemState(Ir,"hover",!1),nr&&nr(Ir,ai)}),ai.on("node:mouseleave",function(kr){var Ir=kr.item;ai.setItemState(Ir,"hover",!1),Mr&&Mr(Ir,ai)}),ai.on("edge:click",function(kr){var Ir=kr.item;Je&&Je(Ir,ai)}),ai.on("node:click",function(kr){var Ir=kr.item;Ke&&Ke(Ir,ai)}),ai.on("canvas:click",function(kr){Cr&&Cr(ai)}),function(){return ai.destroy()}},[]),U.createElement(xn,null,U.createElement("div",{className:e,style:n,ref:Tr}))},V9=X9,X1={hover:{stroke:"#1890ff",lineWidth:2}},H9=[150,30],W9={stroke:"#72CC4A",fill:"#f00"},j9=[[.5,0],[.5,1]],U9={stroke:"#91d5ff",endArrow:{path:Zi.Arrow.vee(10,10),fill:"#91d5ff"}},Z9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},V1={style:{fill:"#000000A6",fontSize:10}},ti,K9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?H9:g,_=r.nodeLabelCfg,F=_===void 0?V1:_,Y=r.edgeLabelCfg,G=Y===void 0?V1:Y,$=r.nodeAnchorPoints,J=$===void 0?j9:$,pt=r.layout,_t=pt===void 0?Z9:pt,Ft=r.minimapCfg,Ht=r.nodeStyle,Dt=Ht===void 0?W9:Ht,qt=r.edgeStyle,ve=qt===void 0?U9:qt,fe=r.nodeStateStyles,Te=fe===void 0?X1:fe,De=r.edgeStateStyles,ke=De===void 0?X1:De,Je=r.colorMap,er=Je===void 0?{}:Je,nr=r.handleEdgeClick,Ke=r.handleEdgeHover,$e=r.handleEdgeUnHover,Mr=r.handleNodeClick,Cr=r.handleNodeHover,_r=r.handleNodeUnHover,ir=r.handleCanvasClick,Tr=r.graphRef,Hr=U.useRef(null),kr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:F,edgeLabelCfg:G,nodeAnchorPoints:J,layout:_t,minimapCfg:Ft,nodeStyle:Dt,edgeStyle:ve,nodeStateStyles:Te,edgeStateStyles:ke,colorMap:er,handleEdgeClick:nr,handleEdgeHover:Ke,handleEdgeUnHover:$e,handleNodeClick:Mr,handleNodeHover:Cr,handleNodeUnHover:_r,handleCanvasClick:ir,graphRef:Tr};return Nu(ti,kr,Hr),(0,U.useEffect)(function(){var Ir=zs(a,o,Hr);(!ti||ti.destroyed)&&(ti=new Zi.Graph({container:Hr.current,width:Ir[0],height:Ir[1],modes:{default:v},defaultNode:{type:l,size:C,style:Dt,anchorPoints:J,labelCfg:F},defaultEdge:{type:h,style:ve,colorMap:er,labelCfg:G},nodeStateStyles:Te,edgeStateStyles:ke,layout:_t}),Tr&&(Tr.current=ti)),Xs(Ft,ti),ti.data(t),ti.render();var Ur=ti.getEdges();return Ur.forEach(function(pn){var Nr=pn.getKeyShape(),Ge=Nr.attr("stroke"),or=pn.getTarget();or.update({style:{stroke:Ge}})}),ti.fitView(),ti.on("edge:mouseenter",function(pn){var Nr=pn.item;ti.setItemState(Nr,"hover",!0),Ke&&Ke(Nr,ti)}),ti.on("edge:mouseleave",function(pn){var Nr=pn.item;ti.setItemState(Nr,"hover",!1),$e&&$e(Nr,ti)}),ti.on("edge:click",function(pn){var Nr=pn.item;nr&&nr(Nr,ti)}),ti.on("node:mouseenter",function(pn){var Nr=pn.item;ti.setItemState(Nr,"hover",!1),Cr&&Cr(Nr,ti)}),ti.on("node:mouseleave",function(pn){var Nr=pn.item;ti.setItemState(Nr,"hover",!1),_r&&_r(Nr,ti)}),ti.on("node:click",function(pn){var Nr=pn.item;Mr&&Mr(Nr,ti)}),ti.on("canvas:click",function(pn){ir&&ir(ti)}),function(){return ti.destroy()}},[]),U.createElement(xn,null,U.createElement("div",{className:e,style:n,ref:Hr}))},$9=K9,H1={hover:{stroke:"#1890ff",lineWidth:2}},Q9=[120,40],J9={stroke:"#40a9ff"},q9=[[0,.5],[1,.5]],tG={stroke:"#ccc",endArrow:{path:Zi.Arrow.vee(10,10),fill:"#ccc"}},eG={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},rG={style:{fill:"#000",fontSize:12}},qn,nG=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?Q9:g,_=r.nodeLabelCfg,F=_===void 0?rG:_,Y=r.nodeAnchorPoints,G=Y===void 0?q9:Y,$=r.layout,J=$===void 0?eG:$,pt=r.minimapCfg,_t=r.nodeStyle,Ft=_t===void 0?J9:_t,Ht=r.edgeStyle,Dt=Ht===void 0?tG:Ht,qt=r.nodeStateStyles,ve=qt===void 0?H1:qt,fe=r.edgeStateStyles,Te=fe===void 0?H1:fe,De=r.collapseExpand,ke=De===void 0?!0:De,Je=r.handleEdgeClick,er=r.handleEdgeHover,nr=r.handleEdgeUnHover,Ke=r.handleNodeClick,$e=r.handleNodeHover,Mr=r.handleNodeUnHover,Cr=r.handleCanvasClick,_r=r.graphRef,ir=U.useRef(null),Tr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:F,nodeAnchorPoints:G,layout:J,minimapCfg:pt,nodeStyle:Ft,edgeStyle:Dt,nodeStateStyles:ve,edgeStateStyles:Te,collapseExpand:ke,handleEdgeClick:Je,handleEdgeHover:er,handleEdgeUnHover:nr,handleNodeClick:Ke,handleNodeHover:$e,handleNodeUnHover:Mr,handleCanvasClick:Cr,graphRef:_r};return Nu(qn,Tr,ir),(0,U.useEffect)(function(){var Hr=zs(a,o,ir);return(!qn||qn.destroyed)&&(qn=new Zi.TreeGraph({container:ir.current,width:Hr[0],height:Hr[1],modes:{default:v},defaultNode:{type:l,size:C,style:Ft,anchorPoints:G,labelCfg:F},defaultEdge:{type:h,style:Dt},nodeStateStyles:ve,edgeStateStyles:Te,layout:J}),_r&&(_r.current=qn)),Xs(pt,qn),qn.data(t),qn.render(),qn.fitView(),ke&&qn.on("node:click",function(kr){var Ir=kr.item;kr.target.get("name")==="collapse-icon"?(qn.updateItem(Ir,{collapsed:!Ir.getModel().collapsed}),qn.layout()):Ke&&Ke(Ir,qn)}),qn.on("edge:mouseenter",function(kr){var Ir=kr.item;qn.setItemState(Ir,"hover",!0),er&&er(Ir,qn)}),qn.on("edge:mouseleave",function(kr){var Ir=kr.item;qn.setItemState(Ir,"hover",!1),nr&&nr(Ir,qn)}),qn.on("edge:click",function(kr){var Ir=kr.item;Je&&Je(Ir,qn)}),qn.on("node:mouseenter",function(kr){var Ir=kr.item;qn.setItemState(Ir,"hover",!1),$e&&$e(Ir,qn)}),qn.on("node:mouseleave",function(kr){var Ir=kr.item;qn.setItemState(Ir,"hover",!1),Mr&&Mr(Ir,qn)}),qn.on("canvas:click",function(kr){Cr&&Cr(qn)}),function(){return qn.destroy()}},[]),U.createElement(xn,null,U.createElement("div",{className:e,style:n,ref:ir}))},iG=nG,Cz={Area:XD,Bar:WD,Bubble:ZD,Bullet:QD,Calendar:e5,Column:S0,ColumnLine:o5,DensityHeatmap:u5,Donut:A0,DualLine:d5,FanGauge:y5,Funnel:w5,Gauge:I0,GroupedBar:A5,GroupedColumn:L5,GroupedColumnLine:k5,GroupedRose:D5,Heatmap:N5,Histogram:z5,Line:N0,Liquid:Y0,MeterGauge:Z5,PercentStackedArea:Q5,PercentStackedBar:tF,PercentStackedColumn:nF,Pie:oF,Progress:U0,Radar:K0,RangeBar:vF,RangeColumn:gF,RingProgress:q0,Rose:wF,Scatter:MF,StackedArea:TF,StackedBar:IF,StackedColumn:_F,StackedColumnLine:FF,StackedRose:GF,StepLine:XF,TinyArea:um,TinyColumn:hm,TinyLine:KF,Treemap:JF,Waterfall:eR,WordCloud:pm,OrganizationTreeGraph:F9,DagreGraph:V9,IndentedTree:iG,DagreFundFlowGraph:$9,G2:P}},89939:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(15623),k=function(){function L(P){var T=P.xField,M=P.yField,A=P.adjustNames,p=A===void 0?["x","y"]:A,w=P.dimValuesMap;this.adjustNames=p,this.xField=T,this.yField=M,this.dimValuesMap=w}return L.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},L.prototype.getAdjustRange=function(P,T,M){var A=this.yField,p=M.indexOf(T),w=M.length,y,b;return!A&&this.isAdjust("y")?(y=0,b=1):w>1?(y=M[p===0?0:p-1],b=M[p===w-1?w-1:p+1],p!==0?y+=(T-y)/2:y-=(b-T)/2,p!==w-1?b-=(b-T)/2:b+=(T-M[w-2])/2):(y=T===0?0:T-.5,b=T===0?1:T+.5),{pre:y,next:b}},L.prototype.adjustData=function(P,T){var M=this,A=this.getDimValues(T);m.each(P,function(p,w){m.each(A,function(y,b){M.adjustDim(b,y,p,w)})})},L.prototype.groupData=function(P,T){return m.each(P,function(M){M[T]===void 0&&(M[T]=I.DEFAULT_Y)}),m.groupBy(P,T)},L.prototype.adjustDim=function(P,T,M,A){},L.prototype.getDimValues=function(P){var T=this,M=T.xField,A=T.yField,p=m.assign({},this.dimValuesMap),w=[];if(M&&this.isAdjust("x")&&w.push(M),A&&this.isAdjust("y")&&w.push(A),w.forEach(function(b){p&&p[b]||(p[b]=m.valuesOfKey(P,b).sort(function(x,E){return x-E}))}),!A&&this.isAdjust("y")){var y="y";p[y]=[I.DEFAULT_Y,1]}return p},L}();S.default=k},15623:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},28014:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var m=d(99350),I=d(89939);S.Adjust=I.default;var k={},L=function(T){return k[T.toLowerCase()]};S.getAdjust=L;var P=function(T,M){if(L(T))throw new Error("Adjust type '"+T+"' existed.");k[T.toLowerCase()]=M};S.registerAdjust=P,m.__exportStar(d(48551),S)},48551:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},21392:function(ct,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return L},Color:function(){return A},Opacity:function(){return w},Position:function(){return b},Scale:function(){return N.Scale},Shape:function(){return E},Size:function(){return D},getAttribute:function(){return W},registerAttribute:function(){return X}});var m=d(49242),I=function(j,tt){return(0,m.isString)(tt)?tt:j.invert(j.scale(tt))},k=function(){function j(tt){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(tt)}return j.prototype.mapping=function(){for(var tt=this,K=[],wt=0;wt<arguments.length;wt++)K[wt]=arguments[wt];var ot=K.map(function(vt,et){return tt._toOriginParam(vt,tt.scales[et])});return this.callback.apply(this,ot)},j.prototype.getLinearValue=function(tt){var K=this.values.length-1,wt=Math.floor(K*tt),ot=K*tt-wt,vt=this.values[wt],et=wt===K?vt:this.values[wt+1];return vt+(et-vt)*ot},j.prototype.getNames=function(){for(var tt=this.scales,K=this.names,wt=Math.min(tt.length,K.length),ot=[],vt=0;vt<wt;vt+=1)ot.push(K[vt]);return ot},j.prototype.getFields=function(){return this.scales.map(function(tt){return tt.field})},j.prototype.getScale=function(tt){return this.scales[this.names.indexOf(tt)]},j.prototype.defaultCallback=function(){for(var tt=this,K=[],wt=0;wt<arguments.length;wt++)K[wt]=arguments[wt];return K.length===0?this.values:K.map(function(ot,vt){var et=tt.scales[vt];return et.type==="identity"?et.values[0]:tt._getAttributeValue(et,ot)})},j.prototype._parseCfg=function(tt){var K=this,wt=tt.type,ot=wt===void 0?"base":wt,vt=tt.names,et=vt===void 0?[]:vt,lt=tt.scales,dt=lt===void 0?[]:lt,it=tt.values,At=it===void 0?[]:it,mt=tt.callback;this.type=ot,this.scales=dt,this.values=At,this.names=et,this.callback=function(){for(var U=[],V=0;V<arguments.length;V++)U[V]=arguments[V];if(mt){var B=mt.apply(void 0,U);if(!(0,m.isNil)(B))return[B]}return K.defaultCallback.apply(K,U)}},j.prototype._getAttributeValue=function(tt,K){if(tt.isCategory&&!this.linear){var wt=tt.translate(K);return this.values[wt%this.values.length]}var ot=tt.scale(K);return this.getLinearValue(ot)},j.prototype._toOriginParam=function(tt,K){return K.isLinear?tt:(0,m.isArray)(tt)?tt.map(function(wt){return I(K,wt)}):I(K,tt)},j}(),L=k,P=d(54085),T=d(55223),M=function(j){(0,P.__extends)(tt,j);function tt(K){var wt=j.call(this,K)||this;return wt.type="color",wt.names=["color"],(0,m.isString)(wt.values)&&(wt.linear=!0),wt.gradient=T.default.gradient(wt.values),wt}return tt.prototype.getLinearValue=function(K){return this.gradient(K)},tt}(L),A=M,p=function(j){(0,P.__extends)(tt,j);function tt(K){var wt=j.call(this,K)||this;return wt.type="opacity",wt.names=["opacity"],wt}return tt}(L),w=p,y=function(j){(0,P.__extends)(tt,j);function tt(K){var wt=j.call(this,K)||this;return wt.names=["x","y"],wt.type="position",wt}return tt.prototype.mapping=function(K,wt){var ot=this.scales,vt=ot[0],et=ot[1];return(0,m.isNil)(K)||(0,m.isNil)(wt)?[]:[(0,m.isArray)(K)?K.map(function(lt){return vt.scale(lt)}):vt.scale(K),(0,m.isArray)(wt)?wt.map(function(lt){return et.scale(lt)}):et.scale(wt)]},tt}(L),b=y,x=function(j){(0,P.__extends)(tt,j);function tt(K){var wt=j.call(this,K)||this;return wt.type="shape",wt.names=["shape"],wt}return tt.prototype.getLinearValue=function(K){var wt=Math.round((this.values.length-1)*K);return this.values[wt]},tt}(L),E=x,O=function(j){(0,P.__extends)(tt,j);function tt(K){var wt=j.call(this,K)||this;return wt.type="size",wt.names=["size"],wt}return tt}(L),D=O,N=d(51082),z={},W=function(j){return z[j.toLowerCase()]},X=function(j,tt){if(W(j))throw new Error("Attribute type '"+j+"' existed.");z[j.toLowerCase()]=tt};X("Color",A),X("Opacity",w),X("Position",b),X("Shape",E),X("Size",D)},74839:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=function(L,P){return m.isString(P)?P:L.invert(L.scale(P))},k=function(){function L(P){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(P)}return L.prototype.mapping=function(){for(var P=this,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var A=T.map(function(p,w){return P._toOriginParam(p,P.scales[w])});return this.callback.apply(this,A)},L.prototype.getLinearValue=function(P){var T=this.values.length-1,M=Math.floor(T*P),A=T*P-M,p=this.values[M],w=M===T?p:this.values[M+1];return p+(w-p)*A},L.prototype.getNames=function(){for(var P=this.scales,T=this.names,M=Math.min(P.length,T.length),A=[],p=0;p<M;p+=1)A.push(T[p]);return A},L.prototype.getFields=function(){return this.scales.map(function(P){return P.field})},L.prototype.getScale=function(P){return this.scales[this.names.indexOf(P)]},L.prototype.defaultCallback=function(){for(var P=this,T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];return T.length===0?this.values:T.map(function(A,p){var w=P.scales[p];return w.type==="identity"?w.values[0]:P._getAttributeValue(w,A)})},L.prototype._parseCfg=function(P){var T=this,M=P.type,A=M===void 0?"base":M,p=P.names,w=p===void 0?[]:p,y=P.scales,b=y===void 0?[]:y,x=P.values,E=x===void 0?[]:x,O=P.callback;this.type=A,this.scales=b,this.values=E,this.names=w,this.callback=function(){for(var D=[],N=0;N<arguments.length;N++)D[N]=arguments[N];if(O){var z=O.apply(void 0,D);if(!m.isNil(z))return[z]}return T.defaultCallback.apply(T,D)}},L.prototype._getAttributeValue=function(P,T){if(P.isCategory&&!this.linear){var M=P.translate(T);return this.values[M%this.values.length]}var A=P.scale(T);return this.getLinearValue(A)},L.prototype._toOriginParam=function(P,T){return T.isLinear?P:m.isArray(P)?P.map(function(M){return I(T,M)}):I(T,P)},L}();S.default=k},24796:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var m=d(54085),I=d(74839);S.Attribute=I.default;var k={},L=function(T){return k[T.toLowerCase()]};S.getAttribute=L;var P=function(T,M){if(L(T))throw new Error("Attribute type '"+T+"' existed.");k[T.toLowerCase()]=M};S.registerAttribute=P,m.__exportStar(d(77290),S)},77290:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var m=d(51082);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return m.Scale}})},55223:function(ct,S,d){"use strict";d.r(S);var m=d(49242),I=/rgba?\(([\s.,0-9]+)\)/,k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,T=function(N){return/^[r,R,L,l]{1}[\s]*\(/.test(N)},M=function(){var N=document.createElement("i");return N.title="Web Colour Picker",N.style.display="none",document.body.appendChild(N),N},A=function(N,z,W,X){return N[X]+(z[X]-N[X])*W};function p(N){return"#"+y(N[0])+y(N[1])+y(N[2])}var w=function(N){return[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]},y=function(N){var z=Math.round(N).toString(16);return z.length===1?"0"+z:z},b=function(N,z){var W=isNaN(Number(z))||z<0?0:z>1?1:Number(z),X=N.length-1,j=Math.floor(X*W),tt=X*W-j,K=N[j],wt=j===X?K:N[j+1];return p([A(K,wt,tt,0),A(K,wt,tt,1),A(K,wt,tt,2)])},x,E=function(N){if(N[0]==="#"&&N.length===7)return N;x||(x=M()),x.style.color=N;var z=document.defaultView.getComputedStyle(x,"").getPropertyValue("color"),W=I.exec(z),X=W[1].split(/\s*,\s*/).map(function(j){return Number(j)});return z=p(X),z},O=function(N){var z=(0,m.isString)(N)?N.split("-"):N,W=(0,m.map)(z,function(X){return w(X.indexOf("#")===-1?E(X):X)});return function(X){return b(W,X)}},D=function(N){if(T(N)){var z,W=void 0;if(N[0]==="l"){var X=k.exec(N),j=+X[1]+90;W=X[2],z="linear-gradient("+j+"deg, "}else if(N[0]==="r"){z="radial-gradient(";var X=L.exec(N);W=X[4]}var tt=W.match(P);return(0,m.each)(tt,function(K,wt){var ot=K.split(":");z+=ot[1]+" "+ot[0]*100+"%",wt!==tt.length-1&&(z+=", ")}),z+=")",z}return N};S.default={rgb2arr:w,gradient:O,toRGB:(0,m.memoize)(E),toCSSGradient:D}},51441:function(ct,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return m},Axis:function(){return T},Component:function(){return It},Crosshair:function(){return M},Grid:function(){return A},GroupComponent:function(){return Q},HtmlComponent:function(){return Wi},Legend:function(){return p},Scrollbar:function(){return Fi},Slider:function(){return oo},Tooltip:function(){return y}});var m={};d.r(m),d.d(m,{Arc:function(){return Ti},DataMarker:function(){return he},DataRegion:function(){return Ee},Image:function(){return Kt},Line:function(){return Tn},Region:function(){return Vi},RegionFilter:function(){return Oe},Text:function(){return Mn}});var I={};d.r(I),d.d(I,{ellipsisHead:function(){return vr},ellipsisMiddle:function(){return xr},ellipsisTail:function(){return Er},getDefault:function(){return Pr}});var k={};d.r(k),d.d(k,{equidistance:function(){return Zt},getDefault:function(){return Jr},reserveBoth:function(){return jt},reserveFirst:function(){return jr},reserveLast:function(){return Qr}});var L={};d.r(L),d.d(L,{fixedAngle:function(){return Le},getDefault:function(){return Ce},unfixedAngle:function(){return tr}});var P={};d.r(P),d.d(P,{autoEllipsis:function(){return I},autoHide:function(){return k},autoRotate:function(){return L}});var T={};d.r(T),d.d(T,{Base:function(){return Xe},Circle:function(){return Lr},Line:function(){return Gr}});var M={};d.r(M),d.d(M,{Base:function(){return On},Circle:function(){return si},Html:function(){return ce},Line:function(){return wn}});var A={};d.r(A),d.d(A,{Base:function(){return pe},Circle:function(){return Ue},Line:function(){return dr}});var p={};d.r(p),d.d(p,{Base:function(){return Dr},Category:function(){return hn},Continuous:function(){return un}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return $n},CROSSHAIR_X:function(){return Nt},CROSSHAIR_Y:function(){return ie},LIST_CLASS:function(){return Mt},LIST_ITEM_CLASS:function(){return st},MARKER_CLASS:function(){return Z},NAME_CLASS:function(){return Tt},TITLE_CLASS:function(){return hi},VALUE_CLASS:function(){return rt}});var y={};d.r(y),d.d(y,{Html:function(){return He}});var b=d(62117),x=d(49242),E=d(66192);function O(Gt,ut,R){var H=new E.default(ut,R);H.target=Gt,H.propagationPath.push(Gt),Gt.emitDelegation(ut,H);for(var q=Gt.getParent();q;)q.emitDelegation(ut,H),H.propagationPath.push(q),q=q.getParent()}var D=d(31506),N=d(31437),z=[1,0,0,0,1,0,0,0,1];function W(Gt,ut,R){if(R===void 0&&(R=z),!ut)return null;var H=D.transform(R,[["t",-Gt.x,-Gt.y],["r",ut],["t",Gt.x,Gt.y]]);return H}function X(Gt,ut){return!Gt.x&&!Gt.y?null:D.transform(ut||z,[["t",Gt.x,Gt.y]])}function j(Gt){var ut=[1,0,0],R=[0,0,0];return vec3.transformMat3(R,ut,Gt),Math.atan2(R[1],R[0])}function tt(Gt,ut){var R=[0,0];return N.transformMat3(R,ut,Gt),R}function K(Gt,ut){var R=tt(Gt,[ut.minX,ut.minY]),H=tt(Gt,[ut.maxX,ut.minY]),q=tt(Gt,[ut.minX,ut.maxY]),gt=tt(Gt,[ut.maxX,ut.maxY]),kt=Math.min(R[0],H[0],q[0],gt[0]),Yt=Math.max(R[0],H[0],q[0],gt[0]),te=Math.min(R[1],H[1],q[1],gt[1]),se=Math.max(R[1],H[1],q[1],gt[1]);return{x:kt,y:te,minX:kt,minY:te,maxX:Yt,maxY:se,width:Yt-kt,height:se-te}}function wt(Gt,ut,R,H){if(ut){var q=W({x:R,y:H},ut,Gt.getMatrix());Gt.setMatrix(q)}}function ot(Gt,ut,R){var H=X({x:ut,y:R});Gt.attr("matrix",H)}function vt(Gt){var ut=0,R=0,H=0,q=0;return(0,x.isNumber)(Gt)?ut=R=H=q=Gt:(0,x.isArray)(Gt)&&(ut=Gt[0],H=(0,x.isNil)(Gt[1])?Gt[0]:Gt[1],q=(0,x.isNil)(Gt[2])?Gt[0]:Gt[2],R=(0,x.isNil)(Gt[3])?H:Gt[3]),[ut,H,q,R]}function et(Gt){for(var ut=Gt.childNodes,R=ut.length,H=R-1;H>=0;H--)Gt.removeChild(ut[H])}function lt(Gt,ut){return!!Gt.className.match(new RegExp("(\\s|^)"+ut+"(\\s|$)"))}function dt(Gt){var ut=Gt.start,R=Gt.end,H=Math.min(ut.x,R.x),q=Math.min(ut.y,R.y),gt=Math.max(ut.x,R.x),kt=Math.max(ut.y,R.y);return{x:H,y:q,minX:H,minY:q,maxX:gt,maxY:kt,width:gt-H,height:kt-q}}function it(Gt){var ut=Gt.map(function(Yt){return Yt.x}),R=Gt.map(function(Yt){return Yt.y}),H=Math.min.apply(Math,ut),q=Math.min.apply(Math,R),gt=Math.max.apply(Math,ut),kt=Math.max.apply(Math,R);return{x:H,y:q,minX:H,minY:q,maxX:gt,maxY:kt,width:gt-H,height:kt-q}}function At(Gt,ut,R,H){return{x:Gt,y:ut,width:R,height:H,minX:Gt,minY:ut,maxX:Gt+R,maxY:ut+H}}function mt(Gt,ut,R){return(1-R)*Gt+ut*R}function U(Gt,ut,R){return{x:Gt.x+Math.cos(R)*ut,y:Gt.y+Math.sin(R)*ut}}function V(Gt,ut){var R=ut.x-Gt.x,H=ut.y-Gt.y;return Math.sqrt(R*R+H*H)}var B=function(Gt){return new Promise(function(ut){setTimeout(ut,Gt)})},f=function(Gt,ut){return[Gt,ut].includes(Infinity)?Math.abs(Gt)===Math.abs(ut):Math.abs(Gt-ut)<Math.pow(Number.EPSILON,.5)};function yt(Gt,ut){var R=Math.max(Gt.minX,ut.minX),H=Math.max(Gt.minY,ut.minY),q=Math.min(Gt.maxX,ut.maxX),gt=Math.min(Gt.maxY,ut.maxY);return At(R,H,q-R,gt-H)}function St(Gt,ut){var R=Math.min(Gt.minX,ut.minX),H=Math.min(Gt.minY,ut.minY),q=Math.max(Gt.maxX,ut.maxX),gt=Math.max(Gt.maxY,ut.maxY);return At(R,H,q-R,gt-H)}function Rt(Gt){var ut=Gt.getClip(),R=ut&&ut.getBBox(),H;if(!Gt.isGroup())H=Gt.getBBox();else{var q=Infinity,gt=-Infinity,kt=Infinity,Yt=-Infinity,te=Gt.getChildren();te.length>0?(0,x.each)(te,function(se){if(se.get("visible")){if(se.isGroup()&&se.get("children").length===0)return!0;var xe=Rt(se),Ae=se.applyToMatrix([xe.minX,xe.minY,1]),je=se.applyToMatrix([xe.minX,xe.maxY,1]),qe=se.applyToMatrix([xe.maxX,xe.minY,1]),Ar=se.applyToMatrix([xe.maxX,xe.maxY,1]),Kr=Math.min(Ae[0],je[0],qe[0],Ar[0]),Vr=Math.max(Ae[0],je[0],qe[0],Ar[0]),En=Math.min(Ae[1],je[1],qe[1],Ar[1]),Pn=Math.max(Ae[1],je[1],qe[1],Ar[1]);Kr<q&&(q=Kr),Vr>gt&&(gt=Vr),En<kt&&(kt=En),Pn>Yt&&(Yt=Pn)}}):(q=0,gt=0,kt=0,Yt=0),H=At(q,kt,gt-q,Yt-kt)}return R?yt(H,R):H}function Qt(Gt,ut){if(!(!Gt.getClip()&&!ut.getClip())){var R=ut.getClip();if(!R){Gt.setClip(null);return}var H={type:R.get("type"),attrs:R.attr()};Gt.setClip(H)}}function zt(Gt){return Gt+"px"}function $t(Gt,ut,R,H){var q=V(Gt,ut),gt=H/q,kt=0;return R==="start"?kt=0-gt:R==="end"&&(kt=1+gt),{x:mt(Gt.x,ut.x,kt),y:mt(Gt.y,ut.y,kt)}}var ne=d(39014),ae={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Wt=function(Gt){(0,b.__extends)(ut,Gt);function ut(R){var H=Gt.call(this,R)||this;return H.initCfg(),H}return ut.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ut.prototype.clear=function(){},ut.prototype.update=function(R){var H=this,q=this.get("defaultCfg");(0,x.each)(R,function(gt,kt){var Yt=H.get(kt),te=gt;Yt!==gt&&((0,x.isObject)(gt)&&q[kt]&&(te=(0,x.deepMix)({},q[kt],gt)),H.set(kt,te))}),this.updateInner(R),this.afterUpdate(R)},ut.prototype.updateInner=function(R){},ut.prototype.afterUpdate=function(R){(0,x.hasKey)(R,"visible")&&(R.visible?this.show():this.hide()),(0,x.hasKey)(R,"capture")&&this.setCapture(R.capture)},ut.prototype.getLayoutBBox=function(){return this.getBBox()},ut.prototype.getLocationType=function(){return this.get("locationType")},ut.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ut.prototype.setOffset=function(R,H){this.update({offsetX:R,offsetY:H})},ut.prototype.setLocation=function(R){var H=(0,b.__assign)({},R);this.update(H)},ut.prototype.getLocation=function(){var R=this,H={},q=this.get("locationType"),gt=ae[q];return(0,x.each)(gt,function(kt){H[kt]=R.get(kt)}),H},ut.prototype.isList=function(){return!1},ut.prototype.isSlider=function(){return!1},ut.prototype.init=function(){},ut.prototype.initCfg=function(){var R=this,H=this.get("defaultCfg");(0,x.each)(H,function(q,gt){var kt=R.get(gt);if((0,x.isObject)(kt)){var Yt=(0,x.deepMix)({},q,kt);R.set(gt,Yt)}})},ut}(ne.Base),It=Wt,Ct="update_status",ht=["visible","tip","delegateObject"],Et=["container","group","shapesMap","isRegister","isUpdating","destroyed"],at=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ut.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},ut.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ut.prototype.getChildComponentById=function(R){var H=this.getElementById(R),q=H&&H.get("component");return q},ut.prototype.getElementById=function(R){return this.get("shapesMap")[R]},ut.prototype.getElementByLocalId=function(R){var H=this.getElementId(R);return this.getElementById(H)},ut.prototype.getElementsByName=function(R){var H=[];return(0,x.each)(this.get("shapesMap"),function(q){q.get("name")===R&&H.push(q)}),H},ut.prototype.getContainer=function(){return this.get("container")},ut.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ut.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var H=this.get("group");this.updateElements(R,H),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ut.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},ut.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},ut.prototype.setCapture=function(R){var H=this.get("group");H.set("capture",R),this.set("capture",R)},ut.prototype.destroy=function(){this.removeEvent(),this.remove(),Gt.prototype.destroy.call(this)},ut.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ut.prototype.getLayoutBBox=function(){var R=this.get("group"),H=this.getInnerLayoutBBox(),q=R.getTotalMatrix();return q&&(H=K(q,H)),H},ut.prototype.on=function(R,H,q){var gt=this.get("group");return gt.on(R,H,q),this},ut.prototype.off=function(R,H){var q=this.get("group");return q&&q.off(R,H),this},ut.prototype.emit=function(R,H){var q=this.get("group");q.emit(R,H)},ut.prototype.init=function(){Gt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ut.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ut.prototype.delegateEmit=function(R,H){var q=this.get("group");H.target=q,q.emit(R,H),O(q,R,H)},ut.prototype.createOffScreenGroup=function(){var R=this.get("group"),H=R.getGroupBase(),q=new H({delegateObject:this.getDelegateObject()});return q},ut.prototype.applyOffset=function(){var R=this.get("offsetX"),H=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y:H})},ut.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ut.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",Rt(R)),R},ut.prototype.addGroup=function(R,H){this.appendDelegateObject(R,H);var q=R.addGroup(H);return this.get("isRegister")&&this.registerElement(q),q},ut.prototype.addShape=function(R,H){this.appendDelegateObject(R,H);var q=R.addShape(H);return this.get("isRegister")&&this.registerElement(q),q},ut.prototype.addComponent=function(R,H){var q=H.id,gt=H.component,kt=(0,b.__rest)(H,["id","component"]),Yt=new gt((0,b.__assign)((0,b.__assign)({},kt),{id:q,container:R,updateAutoRender:this.get("updateAutoRender")}));return Yt.init(),Yt.render(),this.get("isRegister")&&this.registerElement(Yt.get("group")),Yt},ut.prototype.initEvent=function(){},ut.prototype.removeEvent=function(){var R=this.get("group");R.off()},ut.prototype.getElementId=function(R){var H=this.get("id"),q=this.get("name");return H+"-"+q+"-"+R},ut.prototype.registerElement=function(R){var H=R.get("id");this.get("shapesMap")[H]=R},ut.prototype.unregisterElement=function(R){var H=R.get("id");delete this.get("shapesMap")[H]},ut.prototype.moveElementTo=function(R,H){var q=X(H);R.attr("matrix",q)},ut.prototype.addAnimation=function(R,H,q){var gt=H.attr("opacity");(0,x.isNil)(gt)&&(gt=1),H.attr("opacity",0),H.animate({opacity:gt},q)},ut.prototype.removeAnimation=function(R,H,q){H.animate({opacity:0},q)},ut.prototype.updateAnimation=function(R,H,q,gt){H.animate(q,gt)},ut.prototype.updateElements=function(R,H){var q=this,gt=this.get("animate"),kt=this.get("animateOption"),Yt=R.getChildren().slice(0),te;(0,x.each)(Yt,function(se){var xe=se.get("id"),Ae=q.getElementById(xe),je=se.get("name");if(Ae)if(se.get("isComponent")){var qe=se.get("component"),Ar=Ae.get("component"),Kr=(0,x.pick)(qe.cfg,(0,x.difference)((0,x.keys)(qe.cfg),Et));Ar.update(Kr),Ae.set(Ct,"update")}else{var Vr=q.getReplaceAttrs(Ae,se);gt&&kt.update?q.updateAnimation(je,Ae,Vr,kt.update):Ae.attr(Vr),se.isGroup()&&q.updateElements(se,Ae),(0,x.each)(ht,function(Lt){Ae.set(Lt,se.get(Lt))}),Qt(Ae,se),te=Ae,Ae.set(Ct,"update")}else{H.add(se);var En=H.getChildren();if(En.splice(En.length-1,1),te){var Pn=En.indexOf(te);En.splice(Pn+1,0,se)}else En.unshift(se);if(q.registerElement(se),se.set(Ct,"add"),se.get("isComponent")){var qe=se.get("component");qe.set("container",H)}else se.isGroup()&&q.registerNewGroup(se);if(te=se,gt){var An=q.get("isInit")?kt.appear:kt.enter;An&&q.addAnimation(je,se,An)}}})},ut.prototype.clearUpdateStatus=function(R){var H=R.getChildren();(0,x.each)(H,function(q){q.set(Ct,null)})},ut.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ut.prototype.getDelegateObject=function(){var R,H=this.get("name"),q=(R={},R[H]=this,R.component=this,R);return q},ut.prototype.appendDelegateObject=function(R,H){var q=R.get("delegateObject");H.delegateObject||(H.delegateObject={}),(0,x.mix)(H.delegateObject,q)},ut.prototype.getReplaceAttrs=function(R,H){var q=R.attr(),gt=H.attr();return(0,x.each)(q,function(kt,Yt){gt[Yt]===void 0&&(gt[Yt]=void 0)}),gt},ut.prototype.registerNewGroup=function(R){var H=this,q=R.getChildren();(0,x.each)(q,function(gt){H.registerElement(gt),gt.set(Ct,"add"),gt.isGroup()&&H.registerNewGroup(gt)})},ut.prototype.deleteElements=function(){var R=this,H=this.get("shapesMap"),q=[];(0,x.each)(H,function(Yt,te){!Yt.get(Ct)||Yt.destroyed?q.push([te,Yt]):Yt.set(Ct,null)});var gt=this.get("animate"),kt=this.get("animateOption");(0,x.each)(q,function(Yt){var te=Yt[0],se=Yt[1];if(!se.destroyed){var xe=se.get("name");if(gt&&kt.leave){var Ae=(0,x.mix)({callback:function(){R.removeElement(se)}},kt.leave);R.removeAnimation(xe,se,Ae)}else R.removeElement(se)}delete H[te]})},ut.prototype.removeElement=function(R){if(R.get("isGroup")){var H=R.get("component");H&&H.destroy()}R.remove()},ut}(It),Q=at,bt="\u2026";function Ot(Gt){for(var ut=0,R=0;R<Gt.length;R++)ut+=Vt(Gt,R);return ut}function Vt(Gt,ut){return Gt.charCodeAt(ut)>0&&Gt.charCodeAt(ut)<128?1:2}function ue(Gt,ut,R){R===void 0&&(R="tail");var H=Gt.length,q="";if(R==="tail"){for(var gt=0,kt=0;gt<ut;){var Yt=Vt(Gt,kt);if(gt+Yt<=ut)q+=Gt[kt],gt+=Vt(Gt,kt),kt++;else break}q+=bt}else if(R==="head"){for(var gt=0,kt=H-1;gt<ut;){var Yt=Vt(Gt,kt);if(gt+Yt<=ut)q+=Gt[kt],gt+=Vt(Gt,kt),kt--;else break}q=bt+q}else{for(var te="",se="",gt=0,xe=0,Ae=H-1;gt<ut;){var je=Vt(Gt,xe),qe=!1;je+gt<=ut&&(te+=Gt[xe],xe++,gt+=je,qe=!0);var Ar=Vt(Gt,Ae);if(Ar+gt<=ut&&(se=Gt[Ae]+se,gt+=Ar,Ae--,qe=!0),!qe)break}q=te+bt+se}return q}var Se="\u2026",Re=2;function We(Gt){var ut=0;return(0,x.each)(Gt,function(R){var H=R.getBBox(),q=H.width;ut<q&&(ut=q)}),ut}function mr(Gt,ut){var R=ut.getCanvasBBox();return Gt?R.width:R.height}function wr(Gt,ut){return Gt.getBBox().width<ut}function br(Gt,ut,R,H){H===void 0&&(H="tail");var q=ut.attr("text"),gt=mr(Gt,ut),kt=Ot(q),Yt=!1;if(R<gt){var te=Math.floor(R/gt*kt)-Re,se=void 0;te>=0?se=ue(q,te,H):se=Se,se&&(ut.attr("text",se),Yt=!0)}return Yt?ut.set("tip",q):ut.set("tip",null),Yt}function zr(Gt,ut){var R=ut.x,H=ut.y,q=ut.content,gt=ut.style,kt=ut.id,Yt=ut.name,te=ut.rotate,se=ut.maxLength,xe=ut.autoEllipsis,Ae=ut.isVertical,je=ut.ellipsisPosition,qe=ut.background,Ar=Gt.addGroup({id:kt+"-group",name:Yt+"-group",attrs:{x:R,y:H}}),Kr=Ar.addShape({type:"text",id:kt,name:Yt,attrs:(0,b.__assign)({x:0,y:0,text:q},gt)}),Vr=vt((0,x.get)(qe,"padding",0));if(se&&xe){var En=se-(Vr[1]+Vr[3]);br(!Ae,Kr,En,je)}if(qe){var Pn=(0,x.get)(qe,"style",{}),An=Kr.getCanvasBBox(),Lt=An.minX,Jt=An.minY,ge=An.width,we=An.height,Ye=Ar.addShape("rect",{id:kt+"-bg",name:kt+"-bg",attrs:(0,b.__assign)({x:Lt-Vr[3],y:Jt-Vr[0],width:ge+Vr[1]+Vr[3],height:we+Vr[0]+Vr[2]},Pn)});Ye.toBack()}ot(Ar,R,H),wt(Ar,te,R,H)}var pr={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},an=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:pr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:pr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:pr.lineColor,lineWidth:1}}}})},ut.prototype.renderInner=function(R){this.renderLine(R),this.get("text")&&this.renderLabel(R)},ut.prototype.renderLine=function(R){var H=this.get("start"),q=this.get("end"),gt=this.get("style");this.addShape(R,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,b.__assign)({x1:H.x,y1:H.y,x2:q.x,y2:q.y},gt)})},ut.prototype.getLabelPoint=function(R,H,q){var gt;return q==="start"?gt=0:q==="center"?gt=.5:(0,x.isString)(q)&&q.indexOf("%")!==-1?gt=parseInt(q,10)/100:(0,x.isNumber)(q)?gt=q:gt=1,(gt>1||gt<0)&&(gt=1),{x:mt(R.x,H.x,gt),y:mt(R.y,H.y,gt)}},ut.prototype.renderLabel=function(R){var H=this.get("text"),q=this.get("start"),gt=this.get("end"),kt=H.position,Yt=H.content,te=H.style,se=H.offsetX,xe=H.offsetY,Ae=H.autoRotate,je=H.maxLength,qe=H.autoEllipsis,Ar=H.ellipsisPosition,Kr=H.background,Vr=H.isVertical,En=Vr===void 0?!1:Vr,Pn=this.getLabelPoint(q,gt,kt),An=Pn.x+se,Lt=Pn.y+xe,Jt={id:this.getElementId("line-text"),name:"annotation-line-text",x:An,y:Lt,content:Yt,style:te,maxLength:je,autoEllipsis:qe,ellipsisPosition:Ar,background:Kr,isVertical:En};if(Ae){var ge=[gt.x-q.x,gt.y-q.y];Jt.rotate=Math.atan2(ge[1],ge[0])}zr(R,Jt)},ut}(Q),Tn=an,rn=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:pr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:pr.fontFamily}}})},ut.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},ut.prototype.renderInner=function(R){var H=this.getLocation(),q=H.x,gt=H.y,kt=this.get("content"),Yt=this.get("style"),te=this.getElementId("text"),se=this.get("name")+"-text",xe=this.get("maxLength"),Ae=this.get("autoEllipsis"),je=this.get("isVertical"),qe=this.get("ellipsisPosition"),Ar=this.get("background"),Kr=this.get("rotate"),Vr={id:te,name:se,x:q,y:gt,content:kt,style:Yt,maxLength:xe,autoEllipsis:Ae,isVertical:je,ellipsisPosition:qe,background:Ar,rotate:Kr};zr(R,Vr)},ut.prototype.resetLocation=function(){var R=this.getElementByLocalId("text-group");if(R){var H=this.getLocation(),q=H.x,gt=H.y,kt=this.get("rotate");ot(R,q,gt),wt(R,kt,q,gt)}},ut}(Q),Mn=rn,Si=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},ut.prototype.renderInner=function(R){this.renderArc(R)},ut.prototype.getArcPath=function(){var R=this.getLocation(),H=R.center,q=R.radius,gt=R.startAngle,kt=R.endAngle,Yt=U(H,q,gt),te=U(H,q,kt),se=kt-gt>Math.PI?1:0,xe=[["M",Yt.x,Yt.y]];if(kt-gt==Math.PI*2){var Ae=U(H,q,gt+Math.PI);xe.push(["A",q,q,0,se,1,Ae.x,Ae.y]),xe.push(["A",q,q,0,se,1,te.x,te.y])}else xe.push(["A",q,q,0,se,1,te.x,te.y]);return xe},ut.prototype.renderArc=function(R){var H=this.getArcPath(),q=this.get("style");this.addShape(R,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,b.__assign)({path:H},q)})},ut}(Q),Ti=Si,Di=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:pr.regionColor,opacity:.4}}})},ut.prototype.renderInner=function(R){this.renderRegion(R)},ut.prototype.renderRegion=function(R){var H=this.get("start"),q=this.get("end"),gt=this.get("style"),kt=dt({start:H,end:q});this.addShape(R,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({x:kt.x,y:kt.y,width:kt.width,height:kt.height},gt)})},ut}(Q),Vi=Di,Xt=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ut.prototype.renderInner=function(R){this.renderImage(R)},ut.prototype.getImageAttrs=function(){var R=this.get("start"),H=this.get("end"),q=this.get("style"),gt=dt({start:R,end:H}),kt=this.get("src");return(0,b.__assign)({x:gt.x,y:gt.y,img:kt,width:gt.width,height:gt.height},q)},ut.prototype.renderImage=function(R){this.addShape(R,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ut}(Q),Kt=Xt,oe=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:pr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:pr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:pr.fontFamily}}}})},ut.prototype.renderInner=function(R){(0,x.get)(this.get("line"),"display")&&this.renderLine(R),(0,x.get)(this.get("text"),"display")&&this.renderText(R),(0,x.get)(this.get("point"),"display")&&this.renderPoint(R),this.get("autoAdjust")&&this.autoAdjust(R)},ut.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},ut.prototype.renderPoint=function(R){var H=this.getShapeAttrs().point;this.addShape(R,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:H})},ut.prototype.renderLine=function(R){var H=this.getShapeAttrs().line;this.addShape(R,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:H})},ut.prototype.renderText=function(R){var H=this.getShapeAttrs().text,q=H.x,gt=H.y,kt=H.text,Yt=(0,b.__rest)(H,["x","y","text"]),te=this.get("text"),se=te.background,xe=te.maxLength,Ae=te.autoEllipsis,je=te.isVertival,qe=te.ellipsisPosition,Ar={x:q,y:gt,id:this.getElementId("text"),name:"annotation-text",content:kt,style:Yt,background:se,maxLength:xe,autoEllipsis:Ae,isVertival:je,ellipsisPosition:qe};zr(R,Ar)},ut.prototype.autoAdjust=function(R){var H=this.get("direction"),q=this.get("x"),gt=this.get("y"),kt=(0,x.get)(this.get("line"),"length",0),Yt=this.get("coordinateBBox"),te=R.getBBox(),se=te.minX,xe=te.maxX,Ae=te.minY,je=te.maxY,qe=R.findById(this.getElementId("text-group")),Ar=R.findById(this.getElementId("text")),Kr=R.findById(this.getElementId("line"));if(!!Yt){if(qe){if(q+se<=Yt.minX){var Vr=Yt.minX-(q+se);ot(qe,qe.attr("x")+Vr,qe.attr("y"))}if(q+xe>=Yt.maxX){var Vr=q+xe-Yt.maxX;ot(qe,qe.attr("x")-Vr,qe.attr("y"))}}if(H==="upward"&&gt+Ae<=Yt.minY||H!=="upward"&&gt+je>=Yt.maxY){var En=void 0,Pn=void 0;H==="upward"&&gt+Ae<=Yt.minY?(En="top",Pn=1):(En="bottom",Pn=-1),Ar.attr("textBaseline",En),Kr&&Kr.attr("path",[["M",0,0],["L",0,kt*Pn]]),ot(qe,qe.attr("x"),(kt+2)*Pn)}}},ut.prototype.getShapeAttrs=function(){var R=(0,x.get)(this.get("line"),"display"),H=(0,x.get)(this.get("point"),"style",{}),q=(0,x.get)(this.get("line"),"style",{}),gt=(0,x.get)(this.get("text"),"style",{}),kt=this.get("direction"),Yt=R?(0,x.get)(this.get("line"),"length",0):0,te=kt==="upward"?-1:1;return{point:(0,b.__assign)({x:0,y:0},H),line:(0,b.__assign)({path:[["M",0,0],["L",0,Yt*te]]},q),text:(0,b.__assign)({x:0,y:(Yt+2)*te,text:(0,x.get)(this.get("text"),"content",""),textBaseline:kt==="upward"?"bottom":"top"},gt)}},ut}(Q),he=oe,be=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:pr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:pr.textColor,fontFamily:pr.fontFamily}}}})},ut.prototype.renderInner=function(R){var H=(0,x.get)(this.get("region"),"style",{}),q=(0,x.get)(this.get("text"),"style",{}),gt=this.get("lineLength")||0,kt=this.get("points");if(!!kt.length){var Yt=it(kt),te=[];te.push(["M",kt[0].x,Yt.minY-gt]),kt.forEach(function(xe){te.push(["L",xe.x,xe.y])}),te.push(["L",kt[kt.length-1].x,kt[kt.length-1].y-gt]),this.addShape(R,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,b.__assign)({path:te},H)});var se=(0,b.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Yt.minX+Yt.maxX)/2,y:Yt.minY-gt},this.get("text"));zr(R,se)}},ut}(Q),Ee=be,Pe=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},ut.prototype.renderInner=function(R){var H=this,q=this.get("start"),gt=this.get("end"),kt=this.addGroup(R,{id:this.getElementId("region-filter"),capture:!1});(0,x.each)(this.get("shapes"),function(te,se){var xe=te.get("type"),Ae=(0,x.clone)(te.attr());H.adjustShapeAttrs(Ae),H.addShape(kt,{id:H.getElementId("shape-"+xe+"-"+se),capture:!1,type:xe,attrs:Ae})});var Yt=dt({start:q,end:gt});kt.setClip({type:"rect",attrs:{x:Yt.minX,y:Yt.minY,width:Yt.width,height:Yt.height}})},ut.prototype.adjustShapeAttrs=function(R){var H=this.get("color");R.fill&&(R.fill=R.fillStyle=H),R.stroke=R.strokeStyle=H},ut}(Q),Oe=Pe;function me(Gt,ut,R){var H=ut+"Style",q=null;return(0,x.each)(R,function(gt,kt){Gt[kt]&&gt[H]&&(q||(q={}),(0,x.mix)(q,gt[H]))}),q}var rr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:pr.lineColor}},tickLine:{style:{lineWidth:1,stroke:pr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:pr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:pr.textColor,textBaseline:"middle",fontFamily:pr.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:pr.textColor,textBaseline:"middle",fontFamily:pr.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:pr.uncheckedColor}}}}})},ut.prototype.renderInner=function(R){this.get("line")&&this.drawLine(R),this.drawTicks(R),this.get("title")&&this.drawTitle(R)},ut.prototype.isList=function(){return!0},ut.prototype.getItems=function(){return this.get("ticks")},ut.prototype.setItems=function(R){this.update({ticks:R})},ut.prototype.updateItem=function(R,H){(0,x.mix)(R,H),this.clear(),this.render()},ut.prototype.clearItems=function(){var R=this.getElementByLocalId("label-group");R&&R.clear()},ut.prototype.setItemState=function(R,H,q){R[H]=q,this.updateTickStates(R)},ut.prototype.hasState=function(R,H){return!!R[H]},ut.prototype.getItemStates=function(R){var H=this.get("tickStates"),q=[];return(0,x.each)(H,function(gt,kt){R[kt]&&q.push(kt)}),q},ut.prototype.clearItemsState=function(R){var H=this,q=this.getItemsByState(R);(0,x.each)(q,function(gt){H.setItemState(gt,R,!1)})},ut.prototype.getItemsByState=function(R){var H=this,q=this.getItems();return(0,x.filter)(q,function(gt){return H.hasState(gt,R)})},ut.prototype.getSidePoint=function(R,H){var q=this,gt=q.getSideVector(H,R);return{x:R.x+gt[0],y:R.y+gt[1]}},ut.prototype.getTextAnchor=function(R){var H;return(0,x.isNumberEqual)(R[0],0)?H="center":R[0]>0?H="start":R[0]<0&&(H="end"),H},ut.prototype.processOverlap=function(R){},ut.prototype.drawLine=function(R){var H=this.getLinePath(),q=this.get("line");this.addShape(R,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,x.mix)({path:H},q.style)})},ut.prototype.getTickLineItems=function(R){var H=this,q=[],gt=this.get("tickLine"),kt=gt.alignTick,Yt=gt.length,te=1,se=R.length;return se>=2&&(te=R[1].value-R[0].value),(0,x.each)(R,function(xe){var Ae=xe.point;kt||(Ae=H.getTickPoint(xe.value-te/2));var je=H.getSidePoint(Ae,Yt);q.push({startPoint:Ae,tickValue:xe.value,endPoint:je,tickId:xe.id,id:"tickline-"+xe.id})}),q},ut.prototype.getSubTickLineItems=function(R){var H=[],q=this.get("subTickLine"),gt=q.count,kt=R.length;if(kt>=2)for(var Yt=0;Yt<kt-1;Yt++)for(var te=R[Yt],se=R[Yt+1],xe=0;xe<gt;xe++){var Ae=(xe+1)/(gt+1),je=(1-Ae)*te.tickValue+Ae*se.tickValue,qe=this.getTickPoint(je),Ar=this.getSidePoint(qe,q.length);H.push({startPoint:qe,endPoint:Ar,tickValue:je,id:"sub-"+te.id+"-"+xe})}return H},ut.prototype.getTickLineAttrs=function(R,H){var q=this.get(H).style,gt=R.startPoint,kt=R.endPoint,Yt=(0,x.mix)({x1:gt.x,y1:gt.y,x2:kt.x,y2:kt.y},q);return Yt},ut.prototype.drawTick=function(R,H,q){this.addShape(H,{type:"line",id:this.getElementId(R.id),name:"axis-"+q,attrs:this.getTickLineAttrs(R,q)})},ut.prototype.drawTickLines=function(R){var H=this,q=this.get("ticks"),gt=this.get("subTickLine"),kt=this.getTickLineItems(q),Yt=this.addGroup(R,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),te=this.get("tickLine");if((0,x.each)(kt,function(xe){if(te.displayWithLabel){var Ae=H.getElementId("label-"+xe.tickId);R.findById(Ae)&&H.drawTick(xe,Yt,"tickLine")}else H.drawTick(xe,Yt,"tickLine")}),gt){var se=this.getSubTickLineItems(kt);(0,x.each)(se,function(xe){H.drawTick(xe,Yt,"subTickLine")})}},ut.prototype.processTicks=function(){var R=this,H=this.get("ticks");(0,x.each)(H,function(q){q.point=R.getTickPoint(q.value),(0,x.isNil)(q.id)&&(q.id=q.name)})},ut.prototype.drawTicks=function(R){var H=this;this.processTicks(),this.get("label")&&this.drawLabels(R),this.get("tickLine")&&this.drawTickLines(R);var q=this.get("ticks");(0,x.each)(q,function(gt){H.applyTickStates(gt,R)})},ut.prototype.getLabelAttrs=function(R,H){var q=this.get("label"),gt=q.offset,kt=q.style,Yt=q.rotate,te=q.formatter,se=this.getSidePoint(R.point,gt),xe=this.getSideVector(gt,se),Ae=te?te(R.name,R,H):R.name,je=(0,x.mix)({x:se.x,y:se.y,text:Ae,textAlign:this.getTextAnchor(xe)},kt);return Yt&&(je.matrix=W(se,Yt)),je},ut.prototype.drawLabels=function(R){var H=this,q=this.get("ticks"),gt=this.addGroup(R,{name:"axis-label-group",id:this.getElementId("label-group")});(0,x.each)(q,function(kt,Yt){H.addShape(gt,{type:"text",name:"axis-label",id:H.getElementId("label-"+kt.id),attrs:H.getLabelAttrs(kt,Yt),delegateObject:{tick:kt,item:kt,index:Yt}})}),this.processOverlap(gt)},ut.prototype.getTitleAttrs=function(){var R=this.get("title"),H=R.style,q=R.position,gt=R.offset,kt=R.spacing,Yt=kt===void 0?0:kt,te=R.autoRotate,se=H.fontSize,xe=.5;q==="start"?xe=0:q==="end"&&(xe=1);var Ae=this.getTickPoint(xe),je=this.getSidePoint(Ae,gt||Yt+se/2),qe=(0,x.mix)({x:je.x,y:je.y,text:R.text},H),Ar=R.rotate,Kr=Ar;if((0,x.isNil)(Ar)&&te){var Vr=this.getAxisVector(Ae),En=[1,0];Kr=D.angleTo(Vr,En,!0)}if(Kr){var Pn=W(je,Kr);qe.matrix=Pn}return qe},ut.prototype.drawTitle=function(R){this.addShape(R,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ut.prototype.applyTickStates=function(R,H){var q=this.getItemStates(R);if(q.length){var gt=this.get("tickStates"),kt=this.getElementId("label-"+R.id),Yt=H.findById(kt);if(Yt){var te=me(R,"label",gt);te&&Yt.attr(te)}var se=this.getElementId("tickline-"+R.id),xe=H.findById(se);if(xe){var Ae=me(R,"tickLine",gt);Ae&&xe.attr(Ae)}}},ut.prototype.updateTickStates=function(R){var H=this.getItemStates(R),q=this.get("tickStates"),gt=this.get("label"),kt=this.getElementByLocalId("label-"+R.id),Yt=this.get("tickLine"),te=this.getElementByLocalId("tickline-"+R.id);if(H.length){if(kt){var se=me(R,"label",q);se&&kt.attr(se)}if(te){var xe=me(R,"tickLine",q);xe&&te.attr(xe)}}else kt&&kt.attr(gt.style),te&&te.attr(Yt.style)},ut}(Q),Xe=rr;function fr(Gt,ut,R,H){var q=ut.getChildren(),gt=!1;return(0,x.each)(q,function(kt){var Yt=br(Gt,kt,R,H);gt=gt||Yt}),gt}function Pr(){return Er}function vr(Gt,ut,R){return fr(Gt,ut,R,"head")}function Er(Gt,ut,R){return fr(Gt,ut,R,"tail")}function xr(Gt,ut,R){return fr(Gt,ut,R,"middle")}function Br(Gt){var ut=Gt.attr("matrix");return ut&&ut[0]!==1}function ur(Gt,ut,R,H,q){q===void 0&&(q=!1);var gt=!1;if(Gt)gt=Math.abs(R.y-H.y)<R.height;else if(ut){var kt=q?H.height:R.height;gt=Math.abs(R.x-H.x)<kt}else{var Yt=q?H.width:R.width;gt=Math.abs(R.x-H.x)<Yt}return gt}function Yr(Gt,ut,R){var H=ut.getChildren().slice();if(!H.length)return!1;var q=!1;R&&H.reverse();for(var gt=H.length,kt=H[0],Yt=Br(kt),te=kt.getBBox(),se=1;se<gt;se++){var xe=H[se],Ae=xe.getBBox(),je=ur(Gt,Yt,te,Ae,R);je?(xe.hide(),q=!0):te=Ae}return q}function Jr(){return Zt}function jr(Gt,ut){return Yr(Gt,ut,!1)}function Qr(Gt,ut){return Yr(Gt,ut,!0)}function jt(Gt,ut){var R=ut.getChildren().slice();if(R.length<=2)return!1;for(var H=!1,q=R.length,gt=R[0],kt=R[q-1],Yt=Br(gt),te=gt.getBBox(),se=gt,xe=1;xe<q-1;xe++){var Ae=R[xe],je=Ae.getBBox(),qe=ur(Gt,Yt,te,je);qe?(Ae.hide(),H=!0):(te=je,se=Ae)}var Ar=kt.getBBox(),Kr=ur(Gt,Yt,te,Ar);return Kr&&(se.hide(),H=!0),H}function Zt(Gt,ut){var R=ut.getChildren().slice();if(R.length<2)return!1;var H=!1,q=R[0],gt=q.getBBox(),kt=R[1],Yt=Br(q),te=R.length,se=0;if(Gt){var xe=Math.abs(kt.attr("y")-q.attr("y"));se=gt.height/xe}else if(Yt){var xe=Math.abs(kt.attr("x")-q.attr("x"));se=gt.width/xe}else{var Ae=We(R),xe=Math.abs(kt.attr("x")-q.attr("x"));se=Ae/xe}if(se>1){se=Math.ceil(se);for(var je=0;je<te;je++)je%se!=0&&(R[je].hide(),H=!0)}return H}function ee(Gt,ut){(0,x.each)(Gt,function(R){var H=R.attr("x"),q=R.attr("y"),gt=W({x:H,y:q},ut);R.attr("matrix",gt)})}function ye(Gt,ut,R,H){var q=ut.getChildren();if(!q.length||!Gt&&q.length<2)return!1;var gt=We(q),kt=!1;if(Gt)kt=!!R&&gt>R;else{var Yt=Math.abs(q[1].attr("x")-q[0].attr("x"));kt=gt>Yt}if(kt){var te=H(R,gt);ee(q,te)}return kt}function Ce(){return Le}function Le(Gt,ut,R){return ye(Gt,ut,R,function(){return Gt?pr.verticalAxisRotate:pr.horizontalAxisRotate})}function tr(Gt,ut,R){return ye(Gt,ut,R,function(H,q){if(!H)return Gt?pr.verticalAxisRotate:pr.horizontalAxisRotate;if(Gt)return-Math.acos(H/q);var gt=0;return H>q?gt=Math.PI/4:(gt=Math.asin(H/q),gt>Math.PI/4&&(gt=Math.PI/4)),gt})}var sr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},ut.prototype.getLinePath=function(){var R=this.get("start"),H=this.get("end"),q=[];return q.push(["M",R.x,R.y]),q.push(["L",H.x,H.y]),q},ut.prototype.getInnerLayoutBBox=function(){var R=this.get("start"),H=this.get("end"),q=Gt.prototype.getInnerLayoutBBox.call(this),gt=Math.min(R.x,H.x,q.x),kt=Math.min(R.y,H.y,q.y),Yt=Math.max(R.x,H.x,q.maxX),te=Math.max(R.y,H.y,q.maxY);return{x:gt,y:kt,minX:gt,minY:kt,maxX:Yt,maxY:te,width:Yt-gt,height:te-kt}},ut.prototype.isVertical=function(){var R=this.get("start"),H=this.get("end");return(0,x.isNumberEqual)(R.x,H.x)},ut.prototype.isHorizontal=function(){var R=this.get("start"),H=this.get("end");return(0,x.isNumberEqual)(R.y,H.y)},ut.prototype.getTickPoint=function(R){var H=this,q=H.get("start"),gt=H.get("end"),kt=gt.x-q.x,Yt=gt.y-q.y;return{x:q.x+kt*R,y:q.y+Yt*R}},ut.prototype.getSideVector=function(R){var H=this.getAxisVector(),q=N.normalize([0,0],H),gt=this.get("verticalFactor"),kt=[q[1],q[0]*-1];return N.scale([0,0],kt,R*gt)},ut.prototype.getAxisVector=function(){var R=this.get("start"),H=this.get("end");return[H.x-R.x,H.y-R.y]},ut.prototype.processOverlap=function(R){var H=this,q=this.isVertical(),gt=this.isHorizontal();if(!(!q&&!gt)){var kt=this.get("label"),Yt=this.get("title"),te=this.get("verticalLimitLength"),se=kt.offset,xe=te,Ae=0,je=0;Yt&&(Ae=Yt.style.fontSize,je=Yt.spacing),xe&&(xe=xe-se-je-Ae);var qe=this.get("overlapOrder");if((0,x.each)(qe,function(Vr){kt[Vr]&&H.autoProcessOverlap(Vr,kt[Vr],R,xe)}),Yt){var Ar=R.getBBox(),Kr=q?Ar.width:Ar.height;(0,x.isNil)(Yt.offset)&&(Yt.offset=se+Kr+je+Ae/2)}}},ut.prototype.autoProcessOverlap=function(R,H,q,gt){var kt=this,Yt=this.isVertical(),te=!1,se=P[R];if(H===!0?te=se.getDefault()(Yt,q,gt):(0,x.isFunction)(H)?te=H(Yt,q,gt):se[H]&&(te=se[H](Yt,q,gt)),R==="autoRotate"){if(te){var xe=q.getChildren(),Ae=this.get("verticalFactor");(0,x.each)(xe,function(qe){var Ar=qe.attr("textAlign");if(Ar==="center"){var Kr=Ae>0?"end":"start";qe.attr("textAlign",Kr)}})}}else if(R==="autoHide"){var je=q.getChildren().slice(0);(0,x.each)(je,function(qe){qe.get("visible")||(kt.get("isRegister")&&kt.unregisterElement(qe),qe.remove())})}},ut}(Xe),Gr=sr,Ne=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ut.prototype.getLinePath=function(){var R=this.get("center"),H=R.x,q=R.y,gt=this.get("radius"),kt=gt,Yt=this.get("startAngle"),te=this.get("endAngle"),se=[];if(Math.abs(te-Yt)===Math.PI*2)se=[["M",H,q-kt],["A",gt,kt,0,1,1,H,q+kt],["A",gt,kt,0,1,1,H,q-kt],["Z"]];else{var xe=this.getCirclePoint(Yt),Ae=this.getCirclePoint(te),je=Math.abs(te-Yt)>Math.PI?1:0,qe=Yt>te?0:1;se=[["M",H,q],["L",xe.x,xe.y],["A",gt,kt,0,je,qe,Ae.x,Ae.y],["L",H,q]]}return se},ut.prototype.getTickPoint=function(R){var H=this.get("startAngle"),q=this.get("endAngle"),gt=H+(q-H)*R;return this.getCirclePoint(gt)},ut.prototype.getSideVector=function(R,H){var q=this.get("center"),gt=[H.x-q.x,H.y-q.y],kt=this.get("verticalFactor"),Yt=N.length(gt);return N.scale(gt,gt,kt*R/Yt),gt},ut.prototype.getAxisVector=function(R){var H=this.get("center"),q=[R.x-H.x,R.y-H.y];return[q[1],-1*q[0]]},ut.prototype.getCirclePoint=function(R,H){var q=this.get("center");return H=H||this.get("radius"),{x:q.x+Math.cos(R)*H,y:q.y+Math.sin(R)*H}},ut}(Xe),Lr=Ne,bn=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:pr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:pr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:pr.fontFamily}},textBackground:{padding:5,style:{stroke:pr.lineColor}}}})},ut.prototype.renderInner=function(R){this.get("line")&&this.renderLine(R),this.get("text")&&(this.renderText(R),this.renderBackground(R))},ut.prototype.renderText=function(R){var H=this.get("text"),q=H.style,gt=H.autoRotate,kt=H.content;if(!(0,x.isNil)(kt)){var Yt=this.getTextPoint(),te=null;if(gt){var se=this.getRotateAngle();te=W(Yt,se)}this.addShape(R,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,b.__assign)((0,b.__assign)((0,b.__assign)({},Yt),{text:kt,matrix:te}),q)})}},ut.prototype.renderLine=function(R){var H=this.getLinePath(),q=this.get("line"),gt=q.style;this.addShape(R,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,b.__assign)({path:H},gt)})},ut.prototype.renderBackground=function(R){var H=this.getElementId("text"),q=R.findById(H),gt=this.get("textBackground");if(gt&&q){var kt=q.getBBox(),Yt=vt(gt.padding),te=gt.style,se=this.addShape(R,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,b.__assign)({x:kt.x-Yt[3],y:kt.y-Yt[0],width:kt.width+Yt[1]+Yt[3],height:kt.height+Yt[0]+Yt[2],matrix:q.attr("matrix")},te)});se.toBack()}},ut}(Q),On=bn,vn=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},ut.prototype.getRotateAngle=function(){var R=this.getLocation(),H=R.start,q=R.end,gt=this.get("text").position,kt=Math.atan2(q.y-H.y,q.x-H.x),Yt=gt==="start"?kt-Math.PI/2:kt+Math.PI/2;return Yt},ut.prototype.getTextPoint=function(){var R=this.getLocation(),H=R.start,q=R.end,gt=this.get("text"),kt=gt.position,Yt=gt.offset;return $t(H,q,kt,Yt)},ut.prototype.getLinePath=function(){var R=this.getLocation(),H=R.start,q=R.end;return[["M",H.x,H.y],["L",q.x,q.y]]},ut}(On),wn=vn,fi=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ut.prototype.getRotateAngle=function(){var R=this.getLocation(),H=R.startAngle,q=R.endAngle,gt=this.get("text").position,kt=gt==="start"?H+Math.PI/2:q-Math.PI/2;return kt},ut.prototype.getTextPoint=function(){var R=this.get("text"),H=R.position,q=R.offset,gt=this.getLocation(),kt=gt.center,Yt=gt.radius,te=gt.startAngle,se=gt.endAngle,xe=H==="start"?te:se,Ae=this.getRotateAngle()-Math.PI,je=U(kt,Yt,xe),qe=Math.cos(Ae)*q,Ar=Math.sin(Ae)*q;return{x:je.x+qe,y:je.y+Ar}},ut.prototype.getLinePath=function(){var R=this.getLocation(),H=R.center,q=R.radius,gt=R.startAngle,kt=R.endAngle,Yt=null;if(kt-gt==Math.PI*2){var te=H.x,se=H.y;Yt=[["M",te,se-q],["A",q,q,0,1,1,te,se+q],["A",q,q,0,1,1,te,se-q],["Z"]]}else{var xe=U(H,q,gt),Ae=U(H,q,kt),je=Math.abs(kt-gt)>Math.PI?1:0,qe=gt>kt?0:1;Yt=[["M",xe.x,xe.y],["A",q,q,0,je,qe,Ae.x,Ae.y]]}return Yt},ut}(On),si=fi,bi=d(6056),Gn=d(45442),Hi=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ut.prototype.getContainer=function(){return this.get("container")},ut.prototype.show=function(){var R=this.get("container");R.style.display="",this.set("visible",!0)},ut.prototype.hide=function(){var R=this.get("container");R.style.display="none",this.set("visible",!1)},ut.prototype.setCapture=function(R){var H=this.getContainer(),q=R?"auto":"none";H.style.pointerEvents=q,this.set("capture",R)},ut.prototype.getBBox=function(){var R=this.getContainer(),H=parseFloat(R.style.left)||0,q=parseFloat(R.style.top)||0;return At(H,q,R.clientWidth,R.clientHeight)},ut.prototype.clear=function(){var R=this.get("container");et(R)},ut.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Gt.prototype.destroy.call(this)},ut.prototype.init=function(){Gt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ut.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ut.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ut.prototype.initDom=function(){},ut.prototype.initContainer=function(){var R=this.get("container");if((0,x.isNil)(R)){R=this.createDom();var H=this.get("parent");(0,x.isString)(H)&&(H=document.getElementById(H),this.set("parent",H)),H.appendChild(R),this.set("container",R)}else(0,x.isString)(R)&&(R=document.getElementById(R),this.set("container",R));this.get("parent")||this.set("parent",R.parentNode)},ut.prototype.resetStyles=function(){var R=this.get("domStyles"),H=this.get("defaultStyles");R?R=(0,x.deepMix)({},H,R):R=H,this.set("domStyles",R)},ut.prototype.applyStyles=function(){var R=this.get("domStyles");if(!!R){var H=this.getContainer();this.applyChildrenStyles(H,R);var q=this.get("containerClassName");if(q&&lt(H,q)){var gt=R[q];(0,Gn.Z)(H,gt)}}},ut.prototype.applyChildrenStyles=function(R,H){(0,x.each)(H,function(q,gt){var kt=R.getElementsByClassName(gt);(0,x.each)(kt,function(Yt){(0,Gn.Z)(Yt,q)})})},ut.prototype.applyStyle=function(R,H){var q=this.get("domStyles");(0,Gn.Z)(H,q[R])},ut.prototype.createDom=function(){var R=this.get("containerTpl");return(0,bi.Z)(R)},ut.prototype.initEvent=function(){},ut.prototype.removeDom=function(){var R=this.get("container");R&&R.parentNode.removeChild(R)},ut.prototype.removeEvent=function(){},ut.prototype.updateInner=function(R){(0,x.hasKey)(R,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ut.prototype.resetPosition=function(){},ut}(It),Wi=Hi,Pt="g2-crosshair",xt=Pt+"-line",nt=Pt+"-text",ft,Bt=(ft={},ft[""+Pt]={position:"relative"},ft[""+xt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},ft[""+nt]={position:"absolute",color:pr.textColor,fontFamily:pr.fontFamily},ft),Ut=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Pt+'"></div>',crosshairTpl:'<div class="'+xt+'"></div>',textTpl:'<span class="'+nt+'">{content}</span>',domStyles:null,containerClassName:Pt,defaultStyles:Bt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ut.prototype.render=function(){this.resetText(),this.resetPosition()},ut.prototype.initCrossHair=function(){var R=this.getContainer(),H=this.get("crosshairTpl"),q=(0,bi.Z)(H);R.appendChild(q),this.applyStyle(xt,q),this.set("crosshairEl",q)},ut.prototype.getTextPoint=function(){var R=this.getLocation(),H=R.start,q=R.end,gt=this.get("text"),kt=gt.position,Yt=gt.offset;return $t(H,q,kt,Yt)},ut.prototype.resetText=function(){var R=this.get("text"),H=this.get("textEl");if(R){var q=R.content;if(!H){var gt=this.getContainer(),kt=(0,x.substitute)(this.get("textTpl"),R);H=(0,bi.Z)(kt),gt.appendChild(H),this.applyStyle(nt,H),this.set("textEl",H)}H.innerHTML=q}else H&&H.remove()},ut.prototype.isVertical=function(R,H){return R.x===H.x},ut.prototype.resetPosition=function(){var R=this.get("crosshairEl");R||(this.initCrossHair(),R=this.get("crosshairEl"));var H=this.get("start"),q=this.get("end"),gt=Math.min(H.x,q.x),kt=Math.min(H.y,q.y);this.isVertical(H,q)?(0,Gn.Z)(R,{width:"1px",height:zt(Math.abs(q.y-H.y))}):(0,Gn.Z)(R,{height:"1px",width:zt(Math.abs(q.x-H.x))}),(0,Gn.Z)(R,{top:zt(kt),left:zt(gt)}),this.alignText()},ut.prototype.alignText=function(){var R=this.get("textEl");if(R){var H=this.get("text").align,q=R.clientWidth,gt=this.getTextPoint();switch(H){case"center":gt.x=gt.x-q/2;break;case"right":gt.x=gt.x-q;case"left":break}(0,Gn.Z)(R,{top:zt(gt.y),left:zt(gt.x)})}},ut.prototype.updateInner=function(R){(0,x.hasKey)(R,"text")&&this.resetText(),Gt.prototype.updateInner.call(this,R)},ut}(Wi),ce=Ut,de=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:pr.lineColor}}}})},ut.prototype.getLineType=function(){var R=this.get("line")||this.get("defaultCfg").line;return R.type},ut.prototype.renderInner=function(R){this.drawGrid(R)},ut.prototype.getAlternatePath=function(R,H){var q=this.getGridPath(R),gt=H.slice(0).reverse(),kt=this.getGridPath(gt,!0),Yt=this.get("closed");return Yt?q=q.concat(kt):(kt[0][0]="L",q=q.concat(kt),q.push(["Z"])),q},ut.prototype.getPathStyle=function(){return this.get("line").style},ut.prototype.drawGrid=function(R){var H=this,q=this.get("line"),gt=this.get("items"),kt=this.get("alternateColor"),Yt=null;(0,x.each)(gt,function(te,se){var xe=te.id||se;if(q){var Ae=H.getPathStyle(),je=H.getElementId("line-"+xe),qe=H.getGridPath(te.points);H.addShape(R,{type:"path",name:"grid-line",id:je,attrs:(0,x.mix)({path:qe},Ae)})}if(kt&&se>0){var Ar=H.getElementId("region-"+xe),Kr=se%2==0;if((0,x.isString)(kt))Kr&&H.drawAlternateRegion(Ar,R,Yt.points,te.points,kt);else{var Vr=Kr?kt[1]:kt[0];H.drawAlternateRegion(Ar,R,Yt.points,te.points,Vr)}}Yt=te})},ut.prototype.drawAlternateRegion=function(R,H,q,gt,kt){var Yt=this.getAlternatePath(q,gt);this.addShape(H,{type:"path",id:R,name:"grid-region",attrs:{path:Yt,fill:kt}})},ut}(Q),pe=de;function ze(Gt,ut,R,H){var q=R-Gt,gt=H-ut;return Math.sqrt(q*q+gt*gt)}var Qe=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"circle",center:null,closed:!0})},ut.prototype.getGridPath=function(R,H){var q=this.getLineType(),gt=this.get("closed"),kt=[];if(R.length)if(q==="circle"){var Yt=this.get("center"),te=R[0],se=ze(Yt.x,Yt.y,te.x,te.y),xe=H?0:1;gt?(kt.push(["M",Yt.x,Yt.y-se]),kt.push(["A",se,se,0,0,xe,Yt.x,Yt.y+se]),kt.push(["A",se,se,0,0,xe,Yt.x,Yt.y-se]),kt.push(["Z"])):(0,x.each)(R,function(Ae,je){je===0?kt.push(["M",Ae.x,Ae.y]):kt.push(["A",se,se,0,0,xe,Ae.x,Ae.y])})}else(0,x.each)(R,function(Ae,je){je===0?kt.push(["M",Ae.x,Ae.y]):kt.push(["L",Ae.x,Ae.y])}),gt&&kt.push(["Z"]);return kt},ut}(pe),Ue=Qe,Sr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"line"})},ut.prototype.getGridPath=function(R){var H=[];return(0,x.each)(R,function(q,gt){gt===0?H.push(["M",q.x,q.y]):H.push(["L",q.x,q.y])}),H},ut}(pe),dr=Sr,Ve=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},ut.prototype.getLayoutBBox=function(){var R=Gt.prototype.getLayoutBBox.call(this),H=this.get("x"),q=this.get("y"),gt=this.get("offsetX"),kt=this.get("offsetY"),Yt=this.get("maxWidth"),te=this.get("maxHeight"),se=H+gt,xe=q+kt,Ae=R.maxX-se,je=R.maxY-xe;return Yt&&(Ae=Math.min(Ae,Yt)),te&&(je=Math.min(je,te)),At(se,xe,Ae,je)},ut.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},ut.prototype.resetLocation=function(){var R=this.get("x"),H=this.get("y"),q=this.get("offsetX"),gt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R+q,y:H+gt})},ut.prototype.applyOffset=function(){this.resetLocation()},ut.prototype.getDrawPoint=function(){return this.get("currentPoint")},ut.prototype.setDrawPoint=function(R){return this.set("currentPoint",R)},ut.prototype.renderInner=function(R){this.resetDraw(),this.get("title")&&this.drawTitle(R),this.drawLegendContent(R),this.get("background")&&this.drawBackground(R)},ut.prototype.drawBackground=function(R){var H=this.get("background"),q=R.getBBox(),gt=vt(H.padding),kt=(0,b.__assign)({x:0,y:0,width:q.width+gt[1]+gt[3],height:q.height+gt[0]+gt[2]},H.style),Yt=this.addShape(R,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:kt});Yt.toBack()},ut.prototype.drawTitle=function(R){var H=this.get("currentPoint"),q=this.get("title"),gt=q.spacing,kt=q.style,Yt=q.text,te=this.addShape(R,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,b.__assign)({text:Yt,x:H.x,y:H.y},kt)}),se=te.getBBox();this.set("currentPoint",{x:H.x,y:se.maxY+gt})},ut.prototype.resetDraw=function(){var R=this.get("background"),H={x:0,y:0};if(R){var q=vt(R.padding);H.x=q[3],H.y=q[0]}this.set("currentPoint",H)},ut}(Q),Dr=Ve,qr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){var R=Gt!==null&&Gt.apply(this,arguments)||this;return R.currentPageIndex=1,R.totalPagesCnt=1,R.pageWidth=0,R.pageHeight=0,R.startX=0,R.startY=0,R.onNavigationBack=function(){var H=R.getElementByLocalId("item-group");if(R.currentPageIndex>1){R.currentPageIndex-=1,R.updateNavigation();var q=R.getCurrentNavigationMatrix();R.get("animate")?H.animate({matrix:q},100):H.attr({matrix:q})}},R.onNavigationAfter=function(){var H=R.getElementByLocalId("item-group");if(R.currentPageIndex<R.totalPagesCnt){R.currentPageIndex+=1,R.updateNavigation();var q=R.getCurrentNavigationMatrix();R.get("animate")?H.animate({matrix:q},100):H.attr({matrix:q})}},R}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:pr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:pr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:pr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:pr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:pr.uncheckedColor},markerStyle:{fill:pr.uncheckedColor,stroke:pr.uncheckedColor}},inactive:{nameStyle:{fill:pr.uncheckedColor},markerStyle:{opacity:.2}}}}})},ut.prototype.isList=function(){return!0},ut.prototype.getItems=function(){return this.get("items")},ut.prototype.setItems=function(R){this.update({items:R})},ut.prototype.updateItem=function(R,H){(0,x.mix)(R,H),this.clear(),this.render()},ut.prototype.clearItems=function(){var R=this.getElementByLocalId("item-group");R&&R.clear()},ut.prototype.setItemState=function(R,H,q){R[H]=q;var gt=this.getElementByLocalId("item-"+R.id);if(gt){var kt=this.getItems(),Yt=kt.indexOf(R),te=this.createOffScreenGroup(),se=this.drawItem(R,Yt,this.getItemHeight(),te);this.updateElements(se,gt),this.clearUpdateStatus(gt)}},ut.prototype.hasState=function(R,H){return!!R[H]},ut.prototype.getItemStates=function(R){var H=this.get("itemStates"),q=[];return(0,x.each)(H,function(gt,kt){R[kt]&&q.push(kt)}),q},ut.prototype.clearItemsState=function(R){var H=this,q=this.getItemsByState(R);(0,x.each)(q,function(gt){H.setItemState(gt,R,!1)})},ut.prototype.getItemsByState=function(R){var H=this,q=this.getItems();return(0,x.filter)(q,function(gt){return H.hasState(gt,R)})},ut.prototype.drawLegendContent=function(R){this.processItems(),this.drawItems(R)},ut.prototype.processItems=function(){var R=this.get("items");(0,x.each)(R,function(H){H.id||(H.id=H.name)})},ut.prototype.drawItems=function(R){var H=this,q=this.addGroup(R,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),gt=this.addGroup(q,{id:this.getElementId("item-group"),name:"legend-item-group"}),kt=this.getItemHeight(),Yt=this.get("itemWidth"),te=this.get("itemSpacing"),se=this.get("currentPoint"),xe=se.x,Ae=se.y,je=this.get("layout"),qe=this.get("items"),Ar=!1,Kr=0,Vr=this.get("maxWidth"),En=this.get("maxHeight");(0,x.each)(qe,function(Pn,An){var Lt=H.drawItem(Pn,An,kt,gt),Jt=Lt.getBBox(),ge=Yt||Jt.width;ge>Kr&&(Kr=ge),je==="horizontal"?(Vr&&Vr<se.x+ge-xe&&(Ar=!0,se.x=xe,se.y+=kt),H.moveElementTo(Lt,se),se.x+=ge+te):(En&&En<se.y+kt-Ae&&(Ar=!0,se.x+=Kr+te,se.y=Ae,Kr=0),H.moveElementTo(Lt,se),se.y+=kt)}),Ar&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=xe,this.startY=Ae,this.adjustNavigation(R,gt))},ut.prototype.getItemHeight=function(){var R=this.get("itemHeight");if(!R){var H=this.get("itemName");H&&(R=H.style.fontSize+8)}return R},ut.prototype.drawMarker=function(R,H,q,gt){var kt=(0,b.__assign)((0,b.__assign)((0,b.__assign)({x:0,y:gt/2},H.style),{symbol:(0,x.get)(q.marker,"symbol","circle")}),(0,x.get)(q.marker,"style",{})),Yt=this.addShape(R,{type:"marker",id:this.getElementId("item-"+q.id+"-marker"),name:"legend-item-marker",attrs:kt}),te=Yt.getBBox();Yt.attr("x",te.width/2);var se=Yt.attr(),xe=se.stroke,Ae=se.fill;return xe&&Yt.set("isStroke",!0),Ae&&Yt.set("isFill",!0),Yt},ut.prototype.drawItemText=function(R,H,q,gt,kt,Yt,te){var se=q.formatter,xe=(0,b.__assign)({x:Yt,y:kt/2,text:se?se(gt[H],gt,te):gt[H]},q.style);return this.addShape(R,{type:"text",id:this.getElementId("item-"+gt.id+"-"+H),name:"legend-item-"+H,attrs:xe})},ut.prototype.drawItem=function(R,H,q,gt){var kt="item-"+R.id,Yt=this.addGroup(gt,{name:"legend-item-container",id:this.getElementId("item-container-"+kt),delegateObject:{item:R,index:H}}),te=this.addGroup(Yt,{name:"legend-item",id:this.getElementId(kt),delegateObject:{item:R,index:H}}),se=this.get("marker"),xe=this.get("itemName"),Ae=this.get("itemValue"),je=this.get("itemBackground"),qe=this.getLimitItemWidth(),Ar=0;if(se){var Kr=this.drawMarker(te,se,R,q);Ar=Kr.getBBox().maxX+se.spacing}if(xe){var Vr=this.drawItemText(te,"name",xe,R,q,Ar,H);qe&&br(!0,Vr,(0,x.clamp)(qe-Ar,0,qe)),Ar=Vr.getBBox().maxX+xe.spacing}if(Ae){var En=this.drawItemText(te,"value",Ae,R,q,Ar,H);qe&&(Ae.alignRight?(En.attr({textAlign:"right",x:qe}),br(!0,En,(0,x.clamp)(qe-Ar,0,qe),"head")):br(!0,En,(0,x.clamp)(qe-Ar,0,qe)))}if(je){var Pn=te.getBBox(),An=this.addShape(te,{type:"rect",name:"legend-item-background",id:this.getElementId(kt+"-background"),attrs:(0,b.__assign)({x:0,y:0,width:Pn.width,height:q},je.style)});An.toBack()}return this.applyItemStates(R,te),te},ut.prototype.adjustNavigation=function(R,H){var q=this,gt=this.startX,kt=this.startY,Yt=this.get("layout"),te=H.findAll(function(ge){return ge.get("name")==="legend-item"}),se=this.get("maxWidth"),xe=this.get("maxHeight"),Ae=this.get("itemWidth"),je=this.get("itemSpacing"),qe=this.getItemHeight(),Ar=this.drawNavigation(R,Yt,"00/00",12),Kr=Ar.getBBox(),Vr={x:gt,y:kt},En=1,Pn=0,An=0,Lt=0;if(Yt==="horizontal")this.pageHeight=qe,(0,x.each)(te,function(ge){var we=ge.getBBox(),Ye=Ae||we.width;(Pn&&Pn<Vr.x+Ye+je||se<Vr.x+Ye+je+Kr.width)&&(En===1&&(Pn=Vr.x+je,q.pageWidth=Pn,q.moveElementTo(Ar,{x:se-je-Kr.width-Kr.minX,y:Vr.y+qe/2-Kr.height/2-Kr.minY})),En+=1,Vr.x=gt,Vr.y+=qe),q.moveElementTo(ge,Vr),ge.getParent().setClip({type:"rect",attrs:{x:Vr.x,y:Vr.y,width:Ye+je,height:qe}}),Vr.x+=Ye+je});else{(0,x.each)(te,function(ge){var we=ge.getBBox();we.width>An&&(An=we.width)}),Lt=An,An+=je,se&&(An=Math.min(se,An),Lt=Math.min(se,Lt)),this.pageWidth=An,this.pageHeight=xe-Math.max(Kr.height,qe);var Jt=Math.floor(this.pageHeight/qe);(0,x.each)(te,function(ge,we){we!==0&&we%Jt==0&&(En+=1,Vr.x+=An,Vr.y=kt),q.moveElementTo(ge,Vr),ge.getParent().setClip({type:"rect",attrs:{x:Vr.x,y:Vr.y,width:An,height:qe}}),Vr.y+=qe}),this.totalPagesCnt=En,this.moveElementTo(Ar,{x:gt+Lt/2-Kr.width/2-Kr.minX,y:xe-Kr.height-Kr.minY})}this.pageHeight&&this.pageWidth&&H.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=En,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Ar),H.attr("matrix",this.getCurrentNavigationMatrix())},ut.prototype.drawNavigation=function(R,H,q,gt){var kt={x:0,y:0},Yt=this.addGroup(R,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),te=this.drawArrow(Yt,kt,"navigation-arrow-left",H==="horizontal"?"up":"left",gt);te.on("click",this.onNavigationBack);var se=te.getBBox();kt.x+=se.width+2;var xe=this.addShape(Yt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:kt.x,y:kt.y+gt/2,text:q,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ae=xe.getBBox();kt.x+=Ae.width+2;var je=this.drawArrow(Yt,kt,"navigation-arrow-right",H==="horizontal"?"down":"right",gt);return je.on("click",this.onNavigationAfter),Yt},ut.prototype.updateNavigation=function(R){var H=this.currentPageIndex+"/"+this.totalPagesCnt,q=R?R.getChildren()[1]:this.getElementByLocalId("navigation-text"),gt=R?R.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),kt=R?R.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Yt=q.getBBox();q.attr("text",H);var te=q.getBBox();q.attr("x",q.attr("x")-(te.width-Yt.width)/2),gt.attr("opacity",this.currentPageIndex===1?.45:1),gt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),kt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),kt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},ut.prototype.drawArrow=function(R,H,q,gt,kt){var Yt=H.x,te=H.y,se={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},xe=this.addShape(R,{type:"path",id:this.getElementId(q),name:q,attrs:{path:[["M",Yt+kt/2,te],["L",Yt,te+kt],["L",Yt+kt,te+kt],["Z"]],fill:"#000",cursor:"pointer"}});return xe.attr("matrix",W({x:Yt+kt/2,y:te+kt/2},se[gt])),xe},ut.prototype.getCurrentNavigationMatrix=function(){var R=this,H=R.currentPageIndex,q=R.pageWidth,gt=R.pageHeight,kt=this.get("layout"),Yt=kt==="horizontal"?{x:0,y:gt*(1-H)}:{x:q*(1-H),y:0};return X(Yt)},ut.prototype.applyItemStates=function(R,H){var q=this.getItemStates(R),gt=q.length>0;if(gt){var kt=H.getChildren(),Yt=this.get("itemStates");(0,x.each)(kt,function(te){var se=te.get("name"),xe=se.split("-")[2],Ae=me(R,xe,Yt);Ae&&(te.attr(Ae),xe==="marker"&&!(te.get("isStroke")&&te.get("isFill"))&&(te.get("isStroke")&&te.attr("fill",null),te.get("isFill")&&te.attr("stroke",null)))})}},ut.prototype.getLimitItemWidth=function(){var R=this.get("itemWidth"),H=this.get("maxItemWidth");return H?R&&(H=R<=H?R:H):R&&(H=R),H},ut}(Dr),hn=qr,ln=1.4,Or=.4,hr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:pr.textColor,textBaseline:"middle",fontFamily:pr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:pr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},ut.prototype.isSlider=function(){return!0},ut.prototype.getValue=function(){return this.getCurrentValue()},ut.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},ut.prototype.setRange=function(R,H){this.update({min:R,max:H})},ut.prototype.setValue=function(R){var H=this.getValue();this.set("value",R);var q=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(q),this.delegateEmit("valuechanged",{originValue:H,value:R})},ut.prototype.initEvent=function(){var R=this.get("group");this.bindSliderEvent(R),this.bindRailEvent(R),this.bindTrackEvent(R)},ut.prototype.drawLegendContent=function(R){this.drawRail(R),this.drawLabels(R),this.fixedElements(R),this.resetTrack(R),this.resetTrackClip(R),this.get("slidable")&&this.resetHandlers(R)},ut.prototype.bindSliderEvent=function(R){this.bindHandlersEvent(R)},ut.prototype.bindHandlersEvent=function(R){var H=this;R.on("legend-handler-min:drag",function(q){var gt=H.getValueByCanvasPoint(q.x,q.y),kt=H.getCurrentValue(),Yt=kt[1];Yt<gt&&(Yt=gt),H.setValue([gt,Yt])}),R.on("legend-handler-max:drag",function(q){var gt=H.getValueByCanvasPoint(q.x,q.y),kt=H.getCurrentValue(),Yt=kt[0];Yt>gt&&(Yt=gt),H.setValue([Yt,gt])})},ut.prototype.bindRailEvent=function(R){},ut.prototype.bindTrackEvent=function(R){var H=this,q=null;R.on("legend-track:dragstart",function(gt){q={x:gt.x,y:gt.y}}),R.on("legend-track:drag",function(gt){if(!!q){var kt=H.getValueByCanvasPoint(q.x,q.y),Yt=H.getValueByCanvasPoint(gt.x,gt.y),te=H.getCurrentValue(),se=te[1]-te[0],xe=H.getRange(),Ae=Yt-kt;Ae<0?te[0]+Ae>xe.min?H.setValue([te[0]+Ae,te[1]+Ae]):H.setValue([xe.min,xe.min+se]):Ae>0&&(Ae>0&&te[1]+Ae<xe.max?H.setValue([te[0]+Ae,te[1]+Ae]):H.setValue([xe.max-se,xe.max])),q={x:gt.x,y:gt.y}}}),R.on("legend-track:dragend",function(gt){q=null})},ut.prototype.drawLabels=function(R){this.drawLabel("min",R),this.drawLabel("max",R)},ut.prototype.drawLabel=function(R,H){var q=this.get("label"),gt=q.style,kt=q.align,Yt=this.get(R),te=this.getLabelAlignAttrs(R,kt),se="label-"+R;this.addShape(H,{type:"text",id:this.getElementId(se),name:"legend-label-"+R,attrs:(0,b.__assign)((0,b.__assign)({x:0,y:0,text:Yt},gt),te)})},ut.prototype.getLabelAlignAttrs=function(R,H){var q=this.isVertical(),gt="center",kt="middle";return q?(gt="start",H!=="rail"?R==="min"?kt="top":kt="bottom":kt="top"):H!=="rail"?(kt="top",R==="min"?gt="start":gt="end"):(gt="start",kt="middle"),{textAlign:gt,textBaseline:kt}},ut.prototype.getRailPath=function(R,H,q,gt){var kt=this.get("rail"),Yt=kt.size,te=kt.defaultLength,se=kt.type,xe=this.isVertical(),Ae=te,je=q,qe=gt;je||(je=xe?Yt:Ae),qe||(qe=xe?Ae:Yt);var Ar=[];return se==="color"?(Ar.push(["M",R,H]),Ar.push(["L",R+je,H]),Ar.push(["L",R+je,H+qe]),Ar.push(["L",R,H+qe]),Ar.push(["Z"])):(Ar.push(["M",R+je,H]),Ar.push(["L",R+je,H+qe]),Ar.push(["L",R,H+qe]),Ar.push(["Z"])),Ar},ut.prototype.drawRail=function(R){var H=this.get("rail"),q=H.style;this.addShape(R,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,b.__assign)({path:this.getRailPath(0,0)},q)})},ut.prototype.getTrackColor=function(R){var H=R.length;if(!H)return null;if(H===1)return R[0];var q;this.isVertical()?q="l(90)":q="l(0)";for(var gt=0;gt<H;gt++){var kt=gt/(H-1);q+=" "+kt+":"+R[gt]}return q},ut.prototype.getTrackPath=function(R){var H=this.getRailShape(R),q=H.attr("path");return(0,x.clone)(q)},ut.prototype.getClipTrackAttrs=function(R){var H=this.getCurrentValue(),q=H[0],gt=H[1],kt=this.getRailBBox(R),Yt=this.getPointByValue(q,R),te=this.getPointByValue(gt,R),se=this.isVertical(),xe,Ae,je,qe;return se?(xe=kt.minX,Ae=Yt.y,je=kt.width,qe=te.y-Yt.y):(xe=Yt.x,Ae=kt.minY,je=te.x-Yt.x,qe=kt.height),{x:xe,y:Ae,width:je,height:qe}},ut.prototype.getTrackAttrs=function(R){var H=this.get("track"),q=this.get("colors"),gt=this.getTrackPath(R);return(0,x.mix)({path:gt,fill:this.getTrackColor(q)},H.style)},ut.prototype.resetTrackClip=function(R){var H=R||this.get("group"),q=this.getElementId("track"),gt=H.findById(q),kt=gt.getClip(),Yt=this.getClipTrackAttrs(R);kt?kt.attr(Yt):gt.setClip({type:"rect",attrs:Yt})},ut.prototype.resetTrack=function(R){var H=this.getElementId("track"),q=R.findById(H),gt=this.getTrackAttrs(R);q?q.attr(gt):this.addShape(R,{type:"path",id:H,draggable:this.get("slidable"),name:"legend-track",attrs:gt})},ut.prototype.getPointByValue=function(R,H){var q=this.getRange(),gt=q.min,kt=q.max,Yt=(R-gt)/(kt-gt),te=this.getRailBBox(H),se=this.isVertical(),xe={x:0,y:0};return se?(xe.x=te.minX+te.width/2,xe.y=mt(te.minY,te.maxY,Yt)):(xe.x=mt(te.minX,te.maxX,Yt),xe.y=te.minY+te.height/2),xe},ut.prototype.getRailShape=function(R){var H=R||this.get("group");return H.findById(this.getElementId("rail"))},ut.prototype.getRailBBox=function(R){var H=this.getRailShape(R),q=H.getBBox();return q},ut.prototype.getRailCanvasBBox=function(){var R=this.get("group"),H=R.findById(this.getElementId("rail")),q=H.getCanvasBBox();return q},ut.prototype.isVertical=function(){return this.get("layout")==="vertical"},ut.prototype.getValueByCanvasPoint=function(R,H){var q=this.getRange(),gt=q.min,kt=q.max,Yt=this.getRailCanvasBBox(),te=this.isVertical(),se=this.get("step"),xe;te?xe=(H-Yt.minY)/Yt.height:xe=(R-Yt.minX)/Yt.width;var Ae=mt(gt,kt,xe);if(se){var je=Math.round((Ae-gt)/se);Ae=gt+je*se}return Ae>kt&&(Ae=kt),Ae<gt&&(Ae=gt),Ae},ut.prototype.getCurrentValue=function(){var R=this.get("value");return R||(R=[this.get("min"),this.get("max")]),R},ut.prototype.resetHandlers=function(R){var H=this.getCurrentValue(),q=H[0],gt=H[1];this.resetHandler(R,"min",q),this.resetHandler(R,"max",gt)},ut.prototype.getHandlerPath=function(R,H){var q=this.isVertical(),gt=[],kt=R.size,Yt=H.x,te=H.y,se=kt*ln,xe=kt/2,Ae=kt/6;if(q){var je=Yt+se*Or;gt.push(["M",Yt,te]),gt.push(["L",je,te+xe]),gt.push(["L",Yt+se,te+xe]),gt.push(["L",Yt+se,te-xe]),gt.push(["L",je,te-xe]),gt.push(["Z"]),gt.push(["M",je,te+Ae]),gt.push(["L",Yt+se-2,te+Ae]),gt.push(["M",je,te-Ae]),gt.push(["L",Yt+se-2,te-Ae])}else{var qe=te+se*Or;gt.push(["M",Yt,te]),gt.push(["L",Yt-xe,qe]),gt.push(["L",Yt-xe,te+se]),gt.push(["L",Yt+xe,te+se]),gt.push(["L",Yt+xe,qe]),gt.push(["Z"]),gt.push(["M",Yt-Ae,qe]),gt.push(["L",Yt-Ae,te+se-2]),gt.push(["M",Yt+Ae,qe]),gt.push(["L",Yt+Ae,te+se-2])}return gt},ut.prototype.resetHandler=function(R,H,q){var gt=this.getPointByValue(q,R),kt=this.get("handler"),Yt=this.getHandlerPath(kt,gt),te=this.getElementId("handler-"+H),se=R.findById(te),xe=this.isVertical();se?se.attr("path",Yt):this.addShape(R,{type:"path",name:"legend-handler-"+H,draggable:!0,id:te,attrs:(0,b.__assign)((0,b.__assign)({path:Yt},kt.style),{cursor:xe?"ns-resize":"ew-resize"})})},ut.prototype.fixedElements=function(R){var H=R.findById(this.getElementId("rail")),q=R.findById(this.getElementId("label-min")),gt=R.findById(this.getElementId("label-max")),kt=this.getDrawPoint();this.isVertical()?this.fixedVertail(q,gt,H,kt):this.fixedHorizontal(q,gt,H,kt)},ut.prototype.fitRailLength=function(R,H,q,gt){var kt=this.isVertical(),Yt=kt?"height":"width",te=this.get("label"),se=te.align,xe=te.spacing,Ae=this.get("max"+(0,x.upperFirst)(Yt));if(Ae){var je=se==="rail"?q[Yt]+R[Yt]+H[Yt]+xe*2:q[Yt],qe=je-Ae;qe>0&&this.changeRailLength(gt,Yt,q[Yt]-qe)}},ut.prototype.changeRailLength=function(R,H,q){var gt=R.getBBox(),kt;H==="height"?kt=this.getRailPath(gt.x,gt.y,gt.width,q):kt=this.getRailPath(gt.x,gt.y,q,gt.height),R.attr("path",kt)},ut.prototype.changeRailPosition=function(R,H,q){var gt=R.getBBox(),kt=this.getRailPath(H,q,gt.width,gt.height);R.attr("path",kt)},ut.prototype.fixedHorizontal=function(R,H,q,gt){var kt=this.get("label"),Yt=kt.align,te=kt.spacing,se=q.getBBox(),xe=R.getBBox(),Ae=H.getBBox(),je=se.height;this.fitRailLength(xe,Ae,se,q),se=q.getBBox(),Yt==="rail"?(R.attr({x:gt.x,y:gt.y+je/2}),this.changeRailPosition(q,gt.x+xe.width+te,gt.y),H.attr({x:gt.x+xe.width+se.width+te*2,y:gt.y+je/2})):Yt==="top"?(R.attr({x:gt.x,y:gt.y}),H.attr({x:gt.x+se.width,y:gt.y}),this.changeRailPosition(q,gt.x,gt.y+xe.height+te)):(this.changeRailPosition(q,gt.x,gt.y),R.attr({x:gt.x,y:gt.y+se.height+te}),H.attr({x:gt.x+se.width,y:gt.y+se.height+te}))},ut.prototype.fixedVertail=function(R,H,q,gt){var kt=this.get("label"),Yt=kt.align,te=kt.spacing,se=q.getBBox(),xe=R.getBBox(),Ae=H.getBBox();if(this.fitRailLength(xe,Ae,se,q),se=q.getBBox(),Yt==="rail")R.attr({x:gt.x,y:gt.y}),this.changeRailPosition(q,gt.x,gt.y+xe.height+te),H.attr({x:gt.x,y:gt.y+xe.height+se.height+te*2});else if(Yt==="right")R.attr({x:gt.x+se.width+te,y:gt.y}),this.changeRailPosition(q,gt.x,gt.y),H.attr({x:gt.x+se.width+te,y:gt.y+se.height});else{var je=Math.max(xe.width,Ae.width);R.attr({x:gt.x,y:gt.y}),this.changeRailPosition(q,gt.x+je+te,gt.y),H.attr({x:gt.x,y:gt.y+se.height})}},ut}(Dr),un=hr,Yn=d(55223),$n="g2-tooltip",hi="g2-tooltip-title",Mt="g2-tooltip-list",st="g2-tooltip-list-item",Z="g2-tooltip-marker",rt="g2-tooltip-value",Tt="g2-tooltip-name",Nt="g2-tooltip-crosshair-x",ie="g2-tooltip-crosshair-y",re,le=(re={},re[""+$n]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:pr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},re[""+hi]={marginBottom:"4px"},re[""+Mt]={margin:"0px",listStyleType:"none",padding:"0px"},re[""+st]={listStyleType:"none",marginBottom:"4px"},re[""+Z]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},re[""+rt]={display:"inline-block",float:"right",marginLeft:"30px"},re[""+Nt]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},re[""+ie]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},re);function _e(Gt,ut,R,H,q){var gt={left:Gt<q.x,right:Gt+R>q.x+q.width,top:ut<q.y,bottom:ut+H>q.y+q.height};return gt}function Ie(Gt,ut,R,H,q,gt){var kt=Gt,Yt=ut;switch(gt){case"left":kt=Gt-H-R,Yt=ut-q/2;break;case"right":kt=Gt+R,Yt=ut-q/2;break;case"top":kt=Gt-H/2,Yt=ut-q-R;break;case"bottom":kt=Gt-H/2,Yt=ut+R;break;default:kt=Gt+R,Yt=ut-q-R;break}return{x:kt,y:Yt}}function Fe(Gt,ut,R,H,q,gt,kt){var Yt=Ie(Gt,ut,R,H,q,gt);if(kt){var te=_e(Yt.x,Yt.y,H,q,kt);gt==="auto"?(te.right&&(Yt.x=Math.max(0,Gt-H-R)),te.top&&(Yt.y=Math.max(0,ut-q-R))):gt==="top"||gt==="bottom"?(te.left&&(Yt.x=kt.x),te.right&&(Yt.x=kt.x+kt.width-H),gt==="top"&&te.top&&(Yt.y=ut+R),gt==="bottom"&&te.bottom&&(Yt.y=ut-q-R)):(te.top&&(Yt.y=kt.y),te.bottom&&(Yt.y=kt.y+kt.height-q),gt==="left"&&te.left&&(Yt.x=Gt+R),gt==="right"&&te.right&&(Yt.x=Gt-H-R))}return Yt}function ar(Gt,ut){var R=!1;return(0,x.each)(ut,function(H){if((0,x.hasKey)(Gt,H))return R=!0,!1}),R}var lr=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+$n+'"><div class="'+hi+'"></div><ul class="'+Mt+'"></ul></div>',itemTpl:'<li class="'+st+`" data-index={index}>
          <span class="`+Z+`" style="background:{color}"></span>
          <span class="`+Tt+`">{name}</span>:
          <span class="`+rt+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Nt+'"></div>',yCrosshairTpl:'<div class="'+ie+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:$n,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:le})},ut.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},ut.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},ut.prototype.show=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!0),(0,Gn.Z)(R,{visibility:"visible"}),this.setCrossHairsVisible(!0))},ut.prototype.hide=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!1),(0,Gn.Z)(R,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},ut.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},ut.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetPosition()},ut.prototype.setCrossHairsVisible=function(R){var H=R?"":"none",q=this.get("xCrosshairDom"),gt=this.get("yCrosshairDom");q&&(0,Gn.Z)(q,{display:H}),gt&&(0,Gn.Z)(gt,{display:H})},ut.prototype.initContainer=function(){if(Gt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var R=this.getHtmlContentNode();this.get("parent").appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()}},ut.prototype.updateInner=function(R){this.get("customContent")?this.renderCustomContent():(ar(R,["title","showTitle"])&&this.resetTitle(),(0,x.hasKey)(R,"items")&&this.renderItems()),Gt.prototype.updateInner.call(this,R)},ut.prototype.initDom=function(){this.cacheDoms()},ut.prototype.removeDom=function(){Gt.prototype.removeDom.call(this),this.clearCrosshairs()},ut.prototype.resetPosition=function(){var R=this.get("x"),H=this.get("y"),q=this.get("offset"),gt=this.getOffset(),kt=gt.offsetX,Yt=gt.offsetY,te=this.get("position"),se=this.get("region"),xe=this.getContainer(),Ae=this.getBBox(),je=Ae.width,qe=Ae.height,Ar;se&&(Ar=dt(se));var Kr=Fe(R,H,q,je,qe,te,Ar);(0,Gn.Z)(xe,{left:zt(Kr.x+kt),top:zt(Kr.y+Yt)}),this.resetCrosshairs()},ut.prototype.renderCustomContent=function(){var R=this.getHtmlContentNode(),H=this.get("parent"),q=this.get("container");q&&q.parentNode===H?H.replaceChild(R,q):H.appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()},ut.prototype.getHtmlContentNode=function(){var R,H=this.get("customContent");if(H){var q=H(this.get("title"),this.get("items"));(0,x.isElement)(q)?R=q:R=(0,bi.Z)(q)}return R},ut.prototype.cacheDoms=function(){var R=this.getContainer(),H=R.getElementsByClassName(hi)[0],q=R.getElementsByClassName(Mt)[0];this.set("titleDom",H),this.set("listDom",q)},ut.prototype.resetTitle=function(){var R=this.get("title"),H=this.get("showTitle");H&&R?this.setTitle(R):this.setTitle("")},ut.prototype.setTitle=function(R){var H=this.get("titleDom");H&&(H.innerText=R)},ut.prototype.resetCrosshairs=function(){var R=this.get("crosshairsRegion"),H=this.get("crosshairs");if(!R||!H)this.clearCrosshairs();else{var q=dt(R),gt=this.get("xCrosshairDom"),kt=this.get("yCrosshairDom");H==="x"?(this.resetCrosshair("x",q),kt&&(kt.remove(),this.set("yCrosshairDom",null))):H==="y"?(this.resetCrosshair("y",q),gt&&(gt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",q),this.resetCrosshair("y",q)),this.setCrossHairsVisible(this.get("visible"))}},ut.prototype.resetCrosshair=function(R,H){var q=this.checkCrosshair(R),gt=this.get(R);R==="x"?(0,Gn.Z)(q,{left:zt(gt),top:zt(H.y),height:zt(H.height)}):(0,Gn.Z)(q,{top:zt(gt),left:zt(H.x),width:zt(H.width)})},ut.prototype.checkCrosshair=function(R){var H=R+"CrosshairDom",q=R+"CrosshairTpl",gt="CROSSHAIR_"+R.toUpperCase(),kt=w[gt],Yt=this.get(H),te=this.get("parent");return Yt||(Yt=(0,bi.Z)(this.get(q)),this.applyStyle(kt,Yt),te.appendChild(Yt),this.set(H,Yt)),Yt},ut.prototype.renderItems=function(){this.clearItemDoms();var R=this.get("items"),H=this.get("itemTpl"),q=this.get("listDom");q&&((0,x.each)(R,function(gt){var kt=Yn.default.toCSSGradient(gt.color),Yt=(0,b.__assign)((0,b.__assign)({},gt),{color:kt}),te=(0,x.substitute)(H,Yt),se=(0,bi.Z)(te);q.appendChild(se)}),this.applyChildrenStyles(q,this.get("domStyles")))},ut.prototype.clearItemDoms=function(){this.get("listDom")&&et(this.get("listDom"))},ut.prototype.clearCrosshairs=function(){var R=this.get("xCrosshairDom"),H=this.get("yCrosshairDom");R&&R.remove(),H&&H.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},ut}(Wi),He=lr,Fr={opacity:0},Rr={stroke:"#C5C5C5",strokeOpacity:.85},tn={fill:"#CACED4",opacity:.85},on=d(57350),gr=d(51082);function cr(Gt){return(0,x.map)(Gt,function(ut,R){var H=R===0?"M":"L",q=ut[0],gt=ut[1];return[H,q,gt]})}function nn(Gt){return cr(Gt)}function zn(Gt){if(Gt.length<=2)return nn(Gt);var ut=[];(0,x.each)(Gt,function(kt){(0,x.isEqual)(kt,ut.slice(ut.length-2))||ut.push(kt[0],kt[1])});var R=(0,on.catmullRom2Bezier)(ut,!1),H=(0,x.head)(Gt),q=H[0],gt=H[1];return R.unshift(["M",q,gt]),R}function Qn(Gt,ut,R,H){H===void 0&&(H=!0);var q=new gr.Linear({values:Gt}),gt=new gr.Category({values:(0,x.map)(Gt,function(Yt,te){return te})}),kt=(0,x.map)(Gt,function(Yt,te){return[gt.scale(te)*ut,R-q.scale(Yt)*R]});return H?zn(kt):nn(kt)}function oa(Gt,ut,R){var H=(0,b.__spreadArrays)(Gt);return H.push(["L",ut,0]),H.push(["L",0,R]),H.push(["Z"]),H}var Oa=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Fr,lineStyle:Rr,areaStyle:tn})},ut.prototype.renderInner=function(R){var H=this.cfg,q=H.width,gt=H.height,kt=H.data,Yt=H.smooth,te=H.isArea,se=H.backgroundStyle,xe=H.lineStyle,Ae=H.areaStyle;this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:q,height:gt},se)});var je=Qn(kt,q,gt,Yt);if(this.addShape(R,{id:this.getElementId("line"),type:"path",attrs:(0,b.__assign)({path:je},xe)}),te){var qe=oa(je,q,gt);this.addShape(R,{id:this.getElementId("area"),type:"path",attrs:(0,b.__assign)({path:qe},Ae)})}},ut.prototype.applyOffset=function(){var R=this.cfg,H=R.x,q=R.y;this.moveElementTo(this.get("group"),{x:H,y:q})},ut}(Q),zo=null,Wa={fill:"#416180",opacity:.05},ao={fill:"#5B8FF9",opacity:.15,cursor:"move"},ka=10,Pi={width:ka,height:24},So={textBaseline:"middle",fill:"#000",opacity:.45},Co="sliderchange",ja={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},_a=function(Gt){(0,b.__extends)(ut,Gt);function ut(){return Gt!==null&&Gt.apply(this,arguments)||this}return ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"handler",x:0,y:0,width:10,height:24,style:ja})},ut.prototype.renderInner=function(R){var H=this.cfg,q=H.width,gt=H.height,kt=H.style,Yt=kt.fill,te=kt.stroke,se=kt.radius,xe=kt.opacity,Ae=kt.cursor;this.addShape(R,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:q,height:gt,fill:Yt,stroke:te,radius:se,opacity:xe,cursor:Ae}});var je=1/3*q,qe=2/3*q,Ar=1/4*gt,Kr=3/4*gt;this.addShape(R,{id:this.getElementId("line-left"),type:"line",attrs:{x1:je,y1:Ar,x2:je,y2:Kr,stroke:te,cursor:Ae}}),this.addShape(R,{id:this.getElementId("line-right"),type:"line",attrs:{x1:qe,y1:Ar,x2:qe,y2:Kr,stroke:te,cursor:Ae}})},ut.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ut.prototype.initEvent=function(){this.bindEvents()},ut.prototype.bindEvents=function(){var R=this;this.get("group").on("mouseenter",function(){var H=R.get("style").highLightFill;R.getElementByLocalId("background").attr("fill",H),R.draw()}),this.get("group").on("mouseleave",function(){var H=R.get("style").fill;R.getElementByLocalId("background").attr("fill",H),R.draw()})},ut.prototype.draw=function(){var R=this.get("container").get("canvas");R&&R.draw()},ut}(Q),Wn=null,oo=function(Gt){(0,b.__extends)(ut,Gt);function ut(){var R=Gt!==null&&Gt.apply(this,arguments)||this;return R.onMouseDown=function(H){return function(q){R.currentTarget=H;var gt=q.originalEvent;gt.stopPropagation(),gt.preventDefault(),R.prevX=(0,x.get)(gt,"touches.0.pageX",gt.pageX),R.prevY=(0,x.get)(gt,"touches.0.pageY",gt.pageY);var kt=R.getContainerDOM();kt.addEventListener("mousemove",R.onMouseMove),kt.addEventListener("mouseup",R.onMouseUp),kt.addEventListener("mouseleave",R.onMouseUp),kt.addEventListener("touchmove",R.onMouseMove),kt.addEventListener("touchend",R.onMouseUp),kt.addEventListener("touchcancel",R.onMouseUp)}},R.onMouseMove=function(H){var q=R.cfg.width,gt=[R.get("start"),R.get("end")];H.stopPropagation(),H.preventDefault();var kt=(0,x.get)(H,"touches.0.pageX",H.pageX),Yt=(0,x.get)(H,"touches.0.pageY",H.pageY),te=kt-R.prevX,se=R.adjustOffsetRange(te/q);R.updateStartEnd(se),R.updateUI(R.getElementByLocalId("foreground"),R.getElementByLocalId("minText"),R.getElementByLocalId("maxText")),R.prevX=kt,R.prevY=Yt,R.draw(),R.emit(Co,[R.get("start"),R.get("end")].sort()),R.delegateEmit("valuechanged",{originValue:gt,value:[R.get("start"),R.get("end")]})},R.onMouseUp=function(){R.currentTarget&&(R.currentTarget=void 0);var H=R.getContainerDOM();H&&(H.removeEventListener("mousemove",R.onMouseMove),H.removeEventListener("mouseup",R.onMouseUp),H.removeEventListener("mouseleave",R.onMouseUp),H.removeEventListener("touchmove",R.onMouseMove),H.removeEventListener("touchend",R.onMouseUp),H.removeEventListener("touchcancel",R.onMouseUp))},R}return ut.prototype.setRange=function(R,H){this.set("minLimit",R),this.set("maxLimit",H);var q=this.get("start"),gt=this.get("end"),kt=(0,x.clamp)(q,R,H),Yt=(0,x.clamp)(gt,R,H);!this.get("isInit")&&(q!==kt||gt!==Yt)&&this.setValue([kt,Yt])},ut.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},ut.prototype.setValue=function(R){var H=this.getRange();if((0,x.isArray)(R)&&R.length===2){var q=[this.get("start"),this.get("end")];this.update({start:(0,x.clamp)(R[0],H.min,H.max),end:(0,x.clamp)(R[1],H.min,H.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:q,value:R})}},ut.prototype.getValue=function(){return[this.get("start"),this.get("end")]},ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Wa,foregroundStyle:ao,handlerStyle:Pi,textStyle:So}})},ut.prototype.update=function(R){var H=R.start,q=R.end,gt=(0,b.__assign)({},R);(0,x.isNil)(H)||(gt.start=(0,x.clamp)(H,0,1)),(0,x.isNil)(q)||(gt.end=(0,x.clamp)(q,0,1)),Gt.prototype.update.call(this,gt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},ut.prototype.init=function(){this.set("start",(0,x.clamp)(this.get("start"),0,1)),this.set("end",(0,x.clamp)(this.get("end"),0,1)),Gt.prototype.init.call(this)},ut.prototype.renderInner=function(R){var H=this.cfg,q=H.start,gt=H.end,kt=H.width,Yt=H.height,te=H.trendCfg,se=te===void 0?{}:te,xe=H.minText,Ae=H.maxText,je=H.backgroundStyle,qe=je===void 0?{}:je,Ar=H.foregroundStyle,Kr=Ar===void 0?{}:Ar,Vr=H.textStyle,En=Vr===void 0?{}:Vr,Pn=H.handlerStyle,An=Pn===void 0?{}:Pn,Lt=q*kt,Jt=gt*kt;(0,x.size)((0,x.get)(se,"data"))&&this.addComponent(R,(0,b.__assign)({component:Oa,id:this.getElementId("trend"),x:0,y:0,width:kt,height:Yt},se)),this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,b.__assign)({x:0,y:0,width:kt,height:Yt},qe)});var ge=this.addShape(R,{id:this.getElementId("minText"),type:"text",attrs:(0,b.__assign)({y:Yt/2,textAlign:"right",text:xe,silent:!1},En)}),we=this.addShape(R,{id:this.getElementId("maxText"),type:"text",attrs:(0,b.__assign)({y:Yt/2,textAlign:"left",text:Ae,silent:!1},En)}),Ye=this.addShape(R,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,b.__assign)({y:0,height:Yt},Kr)}),yr=(0,x.get)(An,"height",24);this.minHandler=this.addComponent(R,(0,b.__assign)({component:_a,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Yt-yr)/2,width:kt,height:yr,cursor:"ew-resize"},An)),this.maxHandler=this.addComponent(R,(0,b.__assign)({component:_a,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Yt-yr)/2,width:kt,height:yr,cursor:"ew-resize"},An)),this.updateUI(Ye,ge,we)},ut.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ut.prototype.initEvent=function(){this.bindEvents()},ut.prototype.updateUI=function(R,H,q){var gt=this.cfg,kt=gt.start,Yt=gt.end,te=gt.width,se=gt.minText,xe=gt.maxText,Ae=gt.handlerStyle,je=kt*te,qe=Yt*te;R.attr("x",je),R.attr("width",qe-je);var Ar=(0,x.get)(Ae,"width",ka);H.attr("text",se),q.attr("text",xe);var Kr=this._dodgeText([je,qe],H,q),Vr=Kr[0],En=Kr[1];this.minHandler&&(this.minHandler.update({x:je-Ar/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,x.each)(Vr,function(Pn,An){return H.attr(An,Pn)}),this.maxHandler&&(this.maxHandler.update({x:qe-Ar/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,x.each)(En,function(Pn,An){return q.attr(An,Pn)})},ut.prototype.bindEvents=function(){var R=this.get("group");R.on("handler-min:mousedown",this.onMouseDown("minHandler")),R.on("handler-min:touchstart",this.onMouseDown("minHandler")),R.on("handler-max:mousedown",this.onMouseDown("maxHandler")),R.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var H=R.findById(this.getElementId("foreground"));H.on("mousedown",this.onMouseDown("foreground")),H.on("touchstart",this.onMouseDown("foreground"))},ut.prototype.adjustOffsetRange=function(R){var H=this.cfg,q=H.start,gt=H.end;switch(this.currentTarget){case"minHandler":{var kt=0-q,Yt=1-q;return Math.min(Yt,Math.max(kt,R))}case"maxHandler":{var kt=0-gt,Yt=1-gt;return Math.min(Yt,Math.max(kt,R))}case"foreground":{var kt=0-q,Yt=1-gt;return Math.min(Yt,Math.max(kt,R))}}},ut.prototype.updateStartEnd=function(R){var H=this.cfg,q=H.start,gt=H.end;switch(this.currentTarget){case"minHandler":q+=R;break;case"maxHandler":gt+=R;break;case"foreground":q+=R,gt+=R;break}this.set("start",q),this.set("end",gt)},ut.prototype._dodgeText=function(R,H,q){var gt,kt,Yt=this.cfg,te=Yt.handlerStyle,se=Yt.width,xe=2,Ae=(0,x.get)(te,"width",ka),je=R[0],qe=R[1],Ar=!1;je>qe&&(gt=[qe,je],je=gt[0],qe=gt[1],kt=[q,H],H=kt[0],q=kt[1],Ar=!0);var Kr=H.getBBox(),Vr=q.getBBox(),En=Kr.width>je-xe?{x:je+Ae/2+xe,textAlign:"left"}:{x:je-Ae/2-xe,textAlign:"right"},Pn=Vr.width>se-qe-xe?{x:qe-Ae/2-xe,textAlign:"right"}:{x:qe+Ae/2+xe,textAlign:"left"};return Ar?[Pn,En]:[En,Pn]},ut.prototype.draw=function(){var R=this.get("container"),H=R&&R.get("canvas");H&&H.draw()},ut.prototype.getContainerDOM=function(){var R=this.get("container"),H=R&&R.get("canvas");return H&&H.get("container")},ut}(Q),di=null,Xn=d(57817),Ua={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},Bn={default:Ua,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Fi=function(Gt){(0,b.__extends)(ut,Gt);function ut(){var R=Gt!==null&&Gt.apply(this,arguments)||this;return R.clearEvents=x.noop,R.onStartEvent=function(H){return function(q){R.isMobile=H,q.originalEvent.preventDefault();var gt=H?(0,x.get)(q.originalEvent,"touches.0.clientX"):q.clientX,kt=H?(0,x.get)(q.originalEvent,"touches.0.clientY"):q.clientY;R.startPos=R.cfg.isHorizontal?gt:kt,R.bindLaterEvent()}},R.bindLaterEvent=function(){var H=R.getContainerDOM(),q=[];R.isMobile?q=[(0,Xn.Z)(H,"touchmove",R.onMouseMove),(0,Xn.Z)(H,"touchend",R.onMouseUp),(0,Xn.Z)(H,"touchcancel",R.onMouseUp)]:q=[(0,Xn.Z)(H,"mousemove",R.onMouseMove),(0,Xn.Z)(H,"mouseup",R.onMouseUp),(0,Xn.Z)(H,"mouseleave",R.onMouseUp)],R.clearEvents=function(){q.forEach(function(gt){gt.remove()})}},R.onMouseMove=function(H){var q=R.cfg,gt=q.isHorizontal,kt=q.thumbOffset;H.preventDefault();var Yt=R.isMobile?(0,x.get)(H,"touches.0.clientX"):H.clientX,te=R.isMobile?(0,x.get)(H,"touches.0.clientY"):H.clientY,se=gt?Yt:te,xe=se-R.startPos;R.startPos=se,R.updateThumbOffset(kt+xe)},R.onMouseUp=function(H){H.preventDefault(),R.clearEvents()},R.onTrackClick=function(H){var q=R.cfg,gt=q.isHorizontal,kt=q.x,Yt=q.y,te=q.thumbLen,se=R.getContainerDOM(),xe=se.getBoundingClientRect(),Ae=H.clientX,je=H.clientY,qe=gt?Ae-xe.left-kt-te/2:je-xe.top-Yt-te/2,Ar=R.validateRange(qe);R.updateThumbOffset(Ar)},R.onThumbMouseOver=function(){var H=R.cfg.theme.hover.thumbColor;R.getElementByLocalId("thumb").attr("stroke",H),R.draw()},R.onThumbMouseOut=function(){var H=R.cfg.theme.default.thumbColor;R.getElementByLocalId("thumb").attr("stroke",H),R.draw()},R}return ut.prototype.setRange=function(R,H){this.set("minLimit",R),this.set("maxLimit",H);var q=this.getValue(),gt=(0,x.clamp)(q,R,H);q!==gt&&!this.get("isInit")&&this.setValue(gt)},ut.prototype.getRange=function(){var R=this.get("minLimit")||0,H=this.get("maxLimit")||1;return{min:R,max:H}},ut.prototype.setValue=function(R){var H=this.getRange(),q=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,x.clamp)(R,H.min,H.max)}),this.delegateEmit("valuechange",{originalValue:q,value:this.getValue()})},ut.prototype.getValue=function(){return(0,x.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},ut.prototype.getDefaultCfg=function(){var R=Gt.prototype.getDefaultCfg.call(this);return(0,b.__assign)((0,b.__assign)({},R),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Bn})},ut.prototype.renderInner=function(R){this.renderTrackShape(R),this.renderThumbShape(R)},ut.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ut.prototype.initEvent=function(){this.bindEvents()},ut.prototype.renderTrackShape=function(R){var H=this.cfg,q=H.trackLen,gt=H.theme,kt=gt===void 0?{default:{}}:gt,Yt=kt.default,te=Yt.lineCap,se=Yt.trackColor,xe=Yt.size,Ae=this.get("isHorizontal")?{x1:0+xe/2,y1:xe/2,x2:q-xe/2,y2:xe/2,lineWidth:xe,stroke:se,lineCap:te}:{x1:xe/2,y1:0+xe/2,x2:xe/2,y2:q-xe/2,lineWidth:xe,stroke:se,lineCap:te};return this.addShape(R,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ae})},ut.prototype.renderThumbShape=function(R){var H=this.cfg,q=H.thumbOffset,gt=H.thumbLen,kt=H.theme,Yt=kt===void 0?{default:{}}:kt,te=Yt.default,se=te.size,xe=te.lineCap,Ae=te.thumbColor,je=this.get("isHorizontal")?{x1:q+se/2,y1:se/2,x2:q+gt-se/2,y2:se/2,lineWidth:se,stroke:Ae,lineCap:xe,cursor:"default"}:{x1:se/2,y1:q+se/2,x2:se/2,y2:q+gt-se/2,lineWidth:se,stroke:Ae,lineCap:xe,cursor:"default"};return this.addShape(R,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:je})},ut.prototype.bindEvents=function(){var R=this.get("group");R.on("mousedown",this.onStartEvent(!1)),R.on("mouseup",this.onMouseUp),R.on("touchstart",this.onStartEvent(!0)),R.on("touchend",this.onMouseUp);var H=R.findById(this.getElementId("track"));H.on("click",this.onTrackClick);var q=R.findById(this.getElementId("thumb"));q.on("mouseover",this.onThumbMouseOver),q.on("mouseout",this.onThumbMouseOut)},ut.prototype.getContainerDOM=function(){var R=this.get("container"),H=R&&R.get("canvas");return H&&H.get("container")},ut.prototype.validateRange=function(R){var H=this.cfg,q=H.thumbLen,gt=H.trackLen,kt=R;return R+q>gt?kt=gt-q:R+q<q&&(kt=0),kt},ut.prototype.draw=function(){var R=this.get("container"),H=R&&R.get("canvas");H&&H.draw()},ut.prototype.updateThumbOffset=function(R){var H=this.cfg,q=H.thumbOffset,gt=H.isHorizontal,kt=H.thumbLen,Yt=H.size,te=this.validateRange(R);if(te!==q){var se=this.getElementByLocalId("thumb");gt?se.attr({x1:te+Yt/2,x2:te+kt-Yt/2}):se.attr({y1:te+Yt/2,y2:te+kt-Yt/2}),this.emitOffsetChange(te)}},ut.prototype.emitOffsetChange=function(R){var H=this.cfg,q=H.thumbOffset,gt=H.trackLen,kt=H.thumbLen;this.cfg.thumbOffset=R,this.emit("scrollchange",{thumbOffset:R,ratio:(0,x.clamp)(R/(gt-kt),0,1)}),this.delegateEmit("valuechange",{originalValue:q,value:R})},ut}(Q)},15110:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(62117),I=d(39014),k=d(49242),L={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},P=function(T){m.__extends(M,T);function M(A){var p=T.call(this,A)||this;return p.initCfg(),p}return M.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},M.prototype.clear=function(){},M.prototype.update=function(A){var p=this,w=this.get("defaultCfg");k.each(A,function(y,b){var x=p.get(b),E=y;x!==y&&(k.isObject(y)&&w[b]&&(E=k.deepMix({},w[b],y)),p.set(b,E))}),this.updateInner(A),this.afterUpdate(A)},M.prototype.updateInner=function(A){},M.prototype.afterUpdate=function(A){k.hasKey(A,"visible")&&(A.visible?this.show():this.hide()),k.hasKey(A,"capture")&&this.setCapture(A.capture)},M.prototype.getLayoutBBox=function(){return this.getBBox()},M.prototype.getLocationType=function(){return this.get("locationType")},M.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},M.prototype.setOffset=function(A,p){this.update({offsetX:A,offsetY:p})},M.prototype.setLocation=function(A){var p=m.__assign({},A);this.update(p)},M.prototype.getLocation=function(){var A=this,p={},w=this.get("locationType"),y=L[w];return k.each(y,function(b){p[b]=A.get(b)}),p},M.prototype.isList=function(){return!1},M.prototype.isSlider=function(){return!1},M.prototype.init=function(){},M.prototype.initCfg=function(){var A=this,p=this.get("defaultCfg");k.each(p,function(w,y){var b=A.get(y);if(k.isObject(b)){var x=k.deepMix({},w,b);A.set(y,x)}})},M}(I.Base);S.default=P},51964:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(62117),I=d(80478),k=d(49242),L=d(11594),P=d(15110),T=function(M){m.__extends(A,M);function A(){return M!==null&&M.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var p=M.prototype.getDefaultCfg.call(this);return m.__assign(m.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},A.prototype.getContainer=function(){return this.get("container")},A.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},A.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},A.prototype.setCapture=function(p){var w=this.getContainer(),y=p?"auto":"none";w.style.pointerEvents=y,this.set("capture",p)},A.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return L.createBBox(w,y,p.clientWidth,p.clientHeight)},A.prototype.clear=function(){var p=this.get("container");L.clearDom(p)},A.prototype.destroy=function(){this.removeEvent(),this.removeDom(),M.prototype.destroy.call(this)},A.prototype.init=function(){M.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},A.prototype.initCapture=function(){this.setCapture(this.get("capture"))},A.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},A.prototype.initDom=function(){},A.prototype.initContainer=function(){var p=this.get("container");if(k.isNil(p)){p=this.createDom();var w=this.get("parent");k.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else k.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},A.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=k.deepMix({},w,p):p=w,this.set("domStyles",p)},A.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var y=this.get("containerClassName");if(y&&L.hasClass(w,y)){var b=p[y];I.modifyCSS(w,b)}}},A.prototype.applyChildrenStyles=function(p,w){k.each(w,function(y,b){var x=p.getElementsByClassName(b);k.each(x,function(E){I.modifyCSS(E,y)})})},A.prototype.applyStyle=function(p,w){var y=this.get("domStyles");I.modifyCSS(w,y[p])},A.prototype.createDom=function(){var p=this.get("containerTpl");return I.createDom(p)},A.prototype.initEvent=function(){},A.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},A.prototype.removeEvent=function(){},A.prototype.updateInner=function(p){k.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},A.prototype.resetPosition=function(){},A}(P.default);S.default=T},7755:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(ct,S,d){"use strict";var m;Object.defineProperty(S,"__esModule",{value:!0});var I=d(52782),k=d(7755);S.default=(m={},m[""+k.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:I.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},m[""+k.TITLE_CLASS]={marginBottom:"4px"},m[""+k.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},m[""+k.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},m[""+k.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},m[""+k.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},m[""+k.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m[""+k.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m)},88373:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(62117),k=d(55223),L=d(80478),P=d(49242),T=d(51964),M=d(11594),A=d(7755),p=d(55225),w=d(51227);function y(x,E){var O=!1;return P.each(E,function(D){if(P.hasKey(x,D))return O=!0,!1}),O}var b=function(x){I.__extends(E,x);function E(){return x!==null&&x.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var O=x.prototype.getDefaultCfg.call(this);return I.__assign(I.__assign({},O),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+A.CONTAINER_CLASS+'"><div class="'+A.TITLE_CLASS+'"></div><ul class="'+A.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+A.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+A.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+A.NAME_CLASS+`">{name}</span>:
          <span class="`+A.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+A.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+A.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:A.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},E.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},E.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},E.prototype.show=function(){var O=this.getContainer();!O||this.destroyed||(this.set("visible",!0),L.modifyCSS(O,{visibility:"visible"}),this.setCrossHairsVisible(!0))},E.prototype.hide=function(){var O=this.getContainer();!O||this.destroyed||(this.set("visible",!1),L.modifyCSS(O,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},E.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},E.prototype.setLocation=function(O){this.set("x",O.x),this.set("y",O.y),this.resetPosition()},E.prototype.setCrossHairsVisible=function(O){var D=O?"":"none",N=this.get("xCrosshairDom"),z=this.get("yCrosshairDom");N&&L.modifyCSS(N,{display:D}),z&&L.modifyCSS(z,{display:D})},E.prototype.initContainer=function(){if(x.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var O=this.getHtmlContentNode();this.get("parent").appendChild(O),this.set("container",O),this.resetStyles(),this.applyStyles()}},E.prototype.updateInner=function(O){this.get("customContent")?this.renderCustomContent():(y(O,["title","showTitle"])&&this.resetTitle(),P.hasKey(O,"items")&&this.renderItems()),x.prototype.updateInner.call(this,O)},E.prototype.initDom=function(){this.cacheDoms()},E.prototype.removeDom=function(){x.prototype.removeDom.call(this),this.clearCrosshairs()},E.prototype.resetPosition=function(){var O=this.get("x"),D=this.get("y"),N=this.get("offset"),z=this.getOffset(),W=z.offsetX,X=z.offsetY,j=this.get("position"),tt=this.get("region"),K=this.getContainer(),wt=this.getBBox(),ot=wt.width,vt=wt.height,et;tt&&(et=M.regionToBBox(tt));var lt=w.getAlignPoint(O,D,N,ot,vt,j,et);L.modifyCSS(K,{left:M.toPx(lt.x+W),top:M.toPx(lt.y+X)}),this.resetCrosshairs()},E.prototype.renderCustomContent=function(){var O=this.getHtmlContentNode(),D=this.get("parent"),N=this.get("container");N&&N.parentNode===D?D.replaceChild(O,N):D.appendChild(O),this.set("container",O),this.resetStyles(),this.applyStyles()},E.prototype.getHtmlContentNode=function(){var O,D=this.get("customContent");if(D){var N=D(this.get("title"),this.get("items"));P.isElement(N)?O=N:O=L.createDom(N)}return O},E.prototype.cacheDoms=function(){var O=this.getContainer(),D=O.getElementsByClassName(A.TITLE_CLASS)[0],N=O.getElementsByClassName(A.LIST_CLASS)[0];this.set("titleDom",D),this.set("listDom",N)},E.prototype.resetTitle=function(){var O=this.get("title"),D=this.get("showTitle");D&&O?this.setTitle(O):this.setTitle("")},E.prototype.setTitle=function(O){var D=this.get("titleDom");D&&(D.innerText=O)},E.prototype.resetCrosshairs=function(){var O=this.get("crosshairsRegion"),D=this.get("crosshairs");if(!O||!D)this.clearCrosshairs();else{var N=M.regionToBBox(O),z=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");D==="x"?(this.resetCrosshair("x",N),W&&(W.remove(),this.set("yCrosshairDom",null))):D==="y"?(this.resetCrosshair("y",N),z&&(z.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",N),this.resetCrosshair("y",N)),this.setCrossHairsVisible(this.get("visible"))}},E.prototype.resetCrosshair=function(O,D){var N=this.checkCrosshair(O),z=this.get(O);O==="x"?L.modifyCSS(N,{left:M.toPx(z),top:M.toPx(D.y),height:M.toPx(D.height)}):L.modifyCSS(N,{top:M.toPx(z),left:M.toPx(D.x),width:M.toPx(D.width)})},E.prototype.checkCrosshair=function(O){var D=O+"CrosshairDom",N=O+"CrosshairTpl",z="CROSSHAIR_"+O.toUpperCase(),W=A[z],X=this.get(D),j=this.get("parent");return X||(X=L.createDom(this.get(N)),this.applyStyle(W,X),j.appendChild(X),this.set(D,X)),X},E.prototype.renderItems=function(){this.clearItemDoms();var O=this.get("items"),D=this.get("itemTpl"),N=this.get("listDom");N&&(P.each(O,function(z){var W=k.default.toCSSGradient(z.color),X=I.__assign(I.__assign({},z),{color:W}),j=P.substitute(D,X),tt=L.createDom(j);N.appendChild(tt)}),this.applyChildrenStyles(N,this.get("domStyles")))},E.prototype.clearItemDoms=function(){this.get("listDom")&&M.clearDom(this.get("listDom"))},E.prototype.clearCrosshairs=function(){var O=this.get("xCrosshairDom"),D=this.get("yCrosshairDom");O&&O.remove(),D&&D.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},E}(T.default);S.Z=b},51227:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(k,L,P,T,M){var A={left:k<M.x,right:k+P>M.x+M.width,top:L<M.y,bottom:L+T>M.y+M.height};return A}S.getOutSides=d;function m(k,L,P,T,M,A){var p=k,w=L;switch(A){case"left":p=k-T-P,w=L-M/2;break;case"right":p=k+P,w=L-M/2;break;case"top":p=k-T/2,w=L-M-P;break;case"bottom":p=k-T/2,w=L+P;break;default:p=k+P,w=L-M-P;break}return{x:p,y:w}}S.getPointByPosition=m;function I(k,L,P,T,M,A,p){var w=m(k,L,P,T,M,A);if(p){var y=d(w.x,w.y,T,M,p);A==="auto"?(y.right&&(w.x=Math.max(0,k-T-P)),y.top&&(w.y=Math.max(0,L-M-P))):A==="top"||A==="bottom"?(y.left&&(w.x=p.x),y.right&&(w.x=p.x+p.width-T),A==="top"&&y.top&&(w.y=L+P),A==="bottom"&&y.bottom&&(w.y=L-M-P)):(y.top&&(w.y=p.y),y.bottom&&(w.y=p.y+p.height-M),A==="left"&&y.left&&(w.x=k+P),A==="right"&&y.right&&(w.x=k-T-P))}return w}S.getAlignPoint=I},31207:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var m=d(66192);function I(k,L,P){var T=new m.default(L,P);T.target=k,T.propagationPath.push(k),k.emitDelegation(L,T);for(var M=k.getParent();M;)M.emitDelegation(L,T),T.propagationPath.push(M),M=M.getParent()}S.propagationDelegate=I},52782:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var m=d(49242);function I(N){var z=0,W=0,X=0,j=0;return m.isNumber(N)?z=W=X=j=N:m.isArray(N)&&(z=N[0],X=m.isNil(N[1])?N[0]:N[1],j=m.isNil(N[2])?N[0]:N[2],W=m.isNil(N[3])?X:N[3]),[z,X,j,W]}S.formatPadding=I;function k(N){for(var z=N.childNodes,W=z.length,X=W-1;X>=0;X--)N.removeChild(z[X])}S.clearDom=k;function L(N,z){return!!N.className.match(new RegExp("(\\s|^)"+z+"(\\s|$)"))}S.hasClass=L;function P(N){var z=N.start,W=N.end,X=Math.min(z.x,W.x),j=Math.min(z.y,W.y),tt=Math.max(z.x,W.x),K=Math.max(z.y,W.y);return{x:X,y:j,minX:X,minY:j,maxX:tt,maxY:K,width:tt-X,height:K-j}}S.regionToBBox=P;function T(N){var z=N.map(function(wt){return wt.x}),W=N.map(function(wt){return wt.y}),X=Math.min.apply(Math,z),j=Math.min.apply(Math,W),tt=Math.max.apply(Math,z),K=Math.max.apply(Math,W);return{x:X,y:j,minX:X,minY:j,maxX:tt,maxY:K,width:tt-X,height:K-j}}S.pointsToBBox=T;function M(N,z,W,X){return{x:N,y:z,width:W,height:X,minX:N,minY:z,maxX:N+W,maxY:z+X}}S.createBBox=M;function A(N,z,W){return(1-W)*N+z*W}S.getValueByPercent=A;function p(N,z,W){return{x:N.x+Math.cos(W)*z,y:N.y+Math.sin(W)*z}}S.getCirclePoint=p;function w(N,z){var W=z.x-N.x,X=z.y-N.y;return Math.sqrt(W*W+X*X)}S.distance=w,S.wait=function(N){return new Promise(function(z){setTimeout(z,N)})},S.near=function(N,z){return[N,z].includes(Infinity)?Math.abs(N)===Math.abs(z):Math.abs(N-z)<Math.pow(Number.EPSILON,.5)};function y(N,z){var W=Math.max(N.minX,z.minX),X=Math.max(N.minY,z.minY),j=Math.min(N.maxX,z.maxX),tt=Math.min(N.maxY,z.maxY);return M(W,X,j-W,tt-X)}S.intersectBBox=y;function b(N,z){var W=Math.min(N.minX,z.minX),X=Math.min(N.minY,z.minY),j=Math.max(N.maxX,z.maxX),tt=Math.max(N.maxY,z.maxY);return M(W,X,j-W,tt-X)}S.mergeBBox=b;function x(N){var z=N.getClip(),W=z&&z.getBBox(),X;if(!N.isGroup())X=N.getBBox();else{var j=Infinity,tt=-Infinity,K=Infinity,wt=-Infinity,ot=N.getChildren();ot.length>0?m.each(ot,function(vt){if(vt.get("visible")){if(vt.isGroup()&&vt.get("children").length===0)return!0;var et=x(vt),lt=vt.applyToMatrix([et.minX,et.minY,1]),dt=vt.applyToMatrix([et.minX,et.maxY,1]),it=vt.applyToMatrix([et.maxX,et.minY,1]),At=vt.applyToMatrix([et.maxX,et.maxY,1]),mt=Math.min(lt[0],dt[0],it[0],At[0]),U=Math.max(lt[0],dt[0],it[0],At[0]),V=Math.min(lt[1],dt[1],it[1],At[1]),B=Math.max(lt[1],dt[1],it[1],At[1]);mt<j&&(j=mt),U>tt&&(tt=U),V<K&&(K=V),B>wt&&(wt=B)}}):(j=0,tt=0,K=0,wt=0),X=M(j,K,tt-j,wt-K)}return W?y(X,W):X}S.getBBoxWithClip=x;function E(N,z){if(!(!N.getClip()&&!z.getClip())){var W=z.getClip();if(!W){N.setClip(null);return}var X={type:W.get("type"),attrs:W.attr()};N.setClip(X)}}S.updateClip=E;function O(N){return N+"px"}S.toPx=O;function D(N,z,W,X){var j=w(N,z),tt=X/j,K=0;return W==="start"?K=0-tt:W==="end"&&(K=1+tt),{x:A(N.x,z.x,K),y:A(N.y,z.y,K)}}S.getTextPoint=D},13541:function(ct,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return M},getCoordinate:function(){return D},registerCoordinate:function(){return N}});var m=d(70655),I=d(77160),k=d(35600),L=d(31506),P=d(49242),T=function(){function z(W){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var X=W.start,j=W.end,tt=W.matrix,K=tt===void 0?[1,0,0,0,1,0,0,0,1]:tt,wt=W.isTransposed,ot=wt===void 0?!1:wt;this.start=X,this.end=j,this.matrix=K,this.originalMatrix=(0,m.__spreadArray)([],K),this.isTransposed=ot}return z.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},z.prototype.update=function(W){(0,P.assign)(this,W),this.initial()},z.prototype.convertDim=function(W,X){var j,tt=this[X],K=tt.start,wt=tt.end;return this.isReflect(X)&&(j=[wt,K],K=j[0],wt=j[1]),K+W*(wt-K)},z.prototype.invertDim=function(W,X){var j,tt=this[X],K=tt.start,wt=tt.end;return this.isReflect(X)&&(j=[wt,K],K=j[0],wt=j[1]),(W-K)/(wt-K)},z.prototype.applyMatrix=function(W,X,j){j===void 0&&(j=0);var tt=this.matrix,K=[W,X,j];return I.transformMat3(K,K,tt),K},z.prototype.invertMatrix=function(W,X,j){j===void 0&&(j=0);var tt=this.matrix,K=k.invert([0,0,0,0,0,0,0,0,0],tt),wt=[W,X,j];return K&&I.transformMat3(wt,wt,K),wt},z.prototype.convert=function(W){var X=this.convertPoint(W),j=X.x,tt=X.y,K=this.applyMatrix(j,tt,1);return{x:K[0],y:K[1]}},z.prototype.invert=function(W){var X=this.invertMatrix(W.x,W.y,1);return this.invertPoint({x:X[0],y:X[1]})},z.prototype.rotate=function(W){var X=this.matrix,j=this.center;return L.leftTranslate(X,X,[-j.x,-j.y]),L.leftRotate(X,X,W),L.leftTranslate(X,X,[j.x,j.y]),this},z.prototype.reflect=function(W){return W==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},z.prototype.scale=function(W,X){var j=this.matrix,tt=this.center;return L.leftTranslate(j,j,[-tt.x,-tt.y]),L.leftScale(j,j,[W,X]),L.leftTranslate(j,j,[tt.x,tt.y]),this},z.prototype.translate=function(W,X){var j=this.matrix;return L.leftTranslate(j,j,[W,X]),this},z.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},z.prototype.getCenter=function(){return this.center},z.prototype.getWidth=function(){return this.width},z.prototype.getHeight=function(){return this.height},z.prototype.getRadius=function(){return this.radius},z.prototype.isReflect=function(W){return W==="x"?this.isReflectX:this.isReflectY},z.prototype.resetMatrix=function(W){this.matrix=W||(0,m.__spreadArray)([],this.originalMatrix)},z}(),M=T,A=function(z){(0,m.__extends)(W,z);function W(X){var j=z.call(this,X)||this;return j.isRect=!0,j.type="cartesian",j.initial(),j}return W.prototype.initial=function(){z.prototype.initial.call(this);var X=this.start,j=this.end;this.x={start:X.x,end:j.x},this.y={start:X.y,end:j.y}},W.prototype.convertPoint=function(X){var j,tt=X.x,K=X.y;return this.isTransposed&&(j=[K,tt],tt=j[0],K=j[1]),{x:this.convertDim(tt,"x"),y:this.convertDim(K,"y")}},W.prototype.invertPoint=function(X){var j,tt=this.invertDim(X.x,"x"),K=this.invertDim(X.y,"y");return this.isTransposed&&(j=[K,tt],tt=j[0],K=j[1]),{x:tt,y:K}},W}(M),p=A,w=d(31437),y=function(z){(0,m.__extends)(W,z);function W(X){var j=z.call(this,X)||this;j.isHelix=!0,j.type="helix";var tt=X.startAngle,K=tt===void 0?1.25*Math.PI:tt,wt=X.endAngle,ot=wt===void 0?7.25*Math.PI:wt,vt=X.innerRadius,et=vt===void 0?0:vt,lt=X.radius;return j.startAngle=K,j.endAngle=ot,j.innerRadius=et,j.radius=lt,j.initial(),j}return W.prototype.initial=function(){z.prototype.initial.call(this);var X=(this.endAngle-this.startAngle)/(2*Math.PI)+1,j=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(j=j*this.radius),this.d=Math.floor(j*(1-this.innerRadius)/X),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*j,end:this.innerRadius*j+this.d*.99}},W.prototype.convertPoint=function(X){var j,tt=X.x,K=X.y;this.isTransposed&&(j=[K,tt],tt=j[0],K=j[1]);var wt=this.convertDim(tt,"x"),ot=this.a*wt,vt=this.convertDim(K,"y");return{x:this.center.x+Math.cos(wt)*(ot+vt),y:this.center.y+Math.sin(wt)*(ot+vt)}},W.prototype.invertPoint=function(X){var j,tt=this.d+this.y.start,K=w.subtract([0,0],[X.x,X.y],[this.center.x,this.center.y]),wt=L.angleTo(K,[1,0],!0),ot=wt*this.a;w.length(K)<ot&&(ot=w.length(K));var vt=Math.floor((w.length(K)-ot)/tt);wt=2*vt*Math.PI+wt;var et=this.a*wt,lt=w.length(K)-et;lt=(0,P.isNumberEqual)(lt,0)?0:lt;var dt=this.invertDim(wt,"x"),it=this.invertDim(lt,"y");return dt=(0,P.isNumberEqual)(dt,0)?0:dt,it=(0,P.isNumberEqual)(it,0)?0:it,this.isTransposed&&(j=[it,dt],dt=j[0],it=j[1]),{x:dt,y:it}},W}(M),b=y,x=function(z){(0,m.__extends)(W,z);function W(X){var j=z.call(this,X)||this;j.isPolar=!0,j.type="polar";var tt=X.startAngle,K=tt===void 0?-Math.PI/2:tt,wt=X.endAngle,ot=wt===void 0?Math.PI*3/2:wt,vt=X.innerRadius,et=vt===void 0?0:vt,lt=X.radius;return j.startAngle=K,j.endAngle=ot,j.innerRadius=et,j.radius=lt,j.initial(),j}return W.prototype.initial=function(){for(z.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var X=this.getOneBox(),j=X.maxX-X.minX,tt=X.maxY-X.minY,K=Math.abs(X.minX)/j,wt=Math.abs(X.minY)/tt,ot;this.height/tt>this.width/j?(ot=this.width/j,this.circleCenter={x:this.center.x-(.5-K)*this.width,y:this.center.y-(.5-wt)*ot*tt}):(ot=this.height/tt,this.circleCenter={x:this.center.x-(.5-K)*ot*j,y:this.center.y-(.5-wt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ot*this.radius:(this.radius<=0||this.radius>ot)&&(this.polarRadius=ot):this.polarRadius=ot,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},W.prototype.getRadius=function(){return this.polarRadius},W.prototype.convertPoint=function(X){var j,tt=this.getCenter(),K=X.x,wt=X.y;return this.isTransposed&&(j=[wt,K],K=j[0],wt=j[1]),K=this.convertDim(K,"x"),wt=this.convertDim(wt,"y"),{x:tt.x+Math.cos(K)*wt,y:tt.y+Math.sin(K)*wt}},W.prototype.invertPoint=function(X){var j,tt=this.getCenter(),K=[X.x-tt.x,X.y-tt.y],wt=this,ot=wt.startAngle,vt=wt.endAngle;this.isReflect("x")&&(j=[vt,ot],ot=j[0],vt=j[1]);var et=[1,0,0,0,1,0,0,0,1];L.leftRotate(et,et,ot);var lt=[1,0,0];I.transformMat3(lt,lt,et);var dt=[lt[0],lt[1]],it=L.angleTo(dt,K,vt<ot);(0,P.isNumberEqual)(it,Math.PI*2)&&(it=0);var At=w.length(K),mt=it/(vt-ot);mt=vt-ot>0?mt:-mt;var U=this.invertDim(At,"y"),V={x:0,y:0};return V.x=this.isTransposed?U:mt,V.y=this.isTransposed?mt:U,V},W.prototype.getCenter=function(){return this.circleCenter},W.prototype.getOneBox=function(){var X=this.startAngle,j=this.endAngle;if(Math.abs(j-X)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var tt=[0,Math.cos(X),Math.cos(j)],K=[0,Math.sin(X),Math.sin(j)],wt=Math.min(X,j);wt<Math.max(X,j);wt+=Math.PI/18)tt.push(Math.cos(wt)),K.push(Math.sin(wt));return{minX:Math.min.apply(Math,tt),maxX:Math.max.apply(Math,tt),minY:Math.min.apply(Math,K),maxY:Math.max.apply(Math,K)}},W}(M),E=x,O={},D=function(z){return O[z.toLowerCase()]},N=function(z,W){O[z.toLowerCase()]=W};N("rect",p),N("cartesian",p),N("polar",E),N("helix",b)},57817:function(ct,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(I,k,L){if(I){if(typeof I.addEventListener=="function")return I.addEventListener(k,L,!1),{remove:function(){I.removeEventListener(k,L,!1)}};if(typeof I.attachEvent=="function")return I.attachEvent("on"+k,L),{remove:function(){I.detachEvent("on"+k,L)}}}}},6056:function(ct,S,d){"use strict";d.d(S,{Z:function(){return T}});var m,I,k,L;function P(){m=document.createElement("table"),I=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:I,th:I,"*":document.createElement("div")}}function T(M){m||P();var A=k.test(M)&&RegExp.$1;(!A||!(A in L))&&(A="*");var p=L[A];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(ct,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911);function I(k,L){var P=(0,m.Z)(k,"height",L);return P==="auto"&&(P=k.offsetHeight),parseFloat(P)}},79189:function(ct,S,d){"use strict";d.d(S,{Z:function(){return k}});var m=d(99911),I=d(10430);function k(L,P){var T=(0,I.Z)(L,P),M=parseFloat((0,m.Z)(L,"borderTopWidth"))||0,A=parseFloat((0,m.Z)(L,"paddingTop"))||0,p=parseFloat((0,m.Z)(L,"paddingBottom"))||0,w=parseFloat((0,m.Z)(L,"borderBottomWidth"))||0,y=parseFloat((0,m.Z)(L,"marginTop"))||0,b=parseFloat((0,m.Z)(L,"marginBottom"))||0;return T+M+w+A+p+y+b}},89810:function(ct,S,d){"use strict";d.d(S,{Z:function(){return k}});var m=d(99911),I=d(23408);function k(L,P){var T=(0,I.Z)(L,P),M=parseFloat((0,m.Z)(L,"borderLeftWidth"))||0,A=parseFloat((0,m.Z)(L,"paddingLeft"))||0,p=parseFloat((0,m.Z)(L,"paddingRight"))||0,w=parseFloat((0,m.Z)(L,"borderRightWidth"))||0,y=parseFloat((0,m.Z)(L,"marginRight"))||0,b=parseFloat((0,m.Z)(L,"marginLeft"))||0;return T+M+w+A+p+b+y}},99911:function(ct,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(I,k,L){var P;try{P=window.getComputedStyle?window.getComputedStyle(I,null)[k]:I.style[k]}catch(T){}finally{P=P===void 0?L:P}return P}},23408:function(ct,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911);function I(k,L){var P=(0,m.Z)(k,"width",L);return P==="auto"&&(P=k.offsetWidth),parseFloat(P)}},80478:function(ct,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return m.Z},createDom:function(){return I.Z},getHeight:function(){return k.Z},getOuterHeight:function(){return L.Z},getOuterWidth:function(){return P.Z},getRatio:function(){return T},getStyle:function(){return M.Z},getWidth:function(){return A.Z},modifyCSS:function(){return p.Z}});var m=d(57817),I=d(6056),k=d(10430),L=d(79189),P=d(89810);function T(){return window.devicePixelRatio?window.devicePixelRatio:2}var M=d(99911),A=d(23408),p=d(45442)},45442:function(ct,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(I,k){if(I)for(var L in k)k.hasOwnProperty(L)&&(I.style[L]=k[L]);return I}},73136:function(ct,S){"use strict";var d;d={value:!0};function m(I,k,L){if(I){if(typeof I.addEventListener=="function")return I.addEventListener(k,L,!1),{remove:function(){I.removeEventListener(k,L,!1)}};if(typeof I.attachEvent=="function")return I.attachEvent("on"+k,L),{remove:function(){I.detachEvent("on"+k,L)}}}}S.Z=m},57821:function(ct,S){"use strict";var d;d={value:!0};var m,I,k,L;function P(){m=document.createElement("table"),I=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:I,th:I,"*":document.createElement("div")}}function T(M){m||P();var A=k.test(M)&&RegExp.$1;(!A||!(A in L))&&(A="*");var p=L[A];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}S.Z=T},1513:function(ct,S){"use strict";var d;d={value:!0};function m(I,k){if(I)for(var L in k)k.hasOwnProperty(L)&&(I.style[L]=k[L]);return I}S.Z=m},90494:function(ct,S,d){"use strict";d.r(S);var m="*",I=function(){function k(){this._events={}}return k.prototype.on=function(L,P,T){return this._events[L]||(this._events[L]=[]),this._events[L].push({callback:P,once:!!T}),this},k.prototype.once=function(L,P){return this.on(L,P,!0)},k.prototype.emit=function(L){for(var P=this,T=[],M=1;M<arguments.length;M++)T[M-1]=arguments[M];var A=this._events[L]||[],p=this._events[m]||[],w=function(y){for(var b=y.length,x=0;x<b;x++)if(!!y[x]){var E=y[x],O=E.callback,D=E.once;D&&(y.splice(x,1),y.length===0&&delete P._events[L],b--,x--),O.apply(P,T)}};w(A),w(p)},k.prototype.off=function(L,P){if(!L)this._events={};else if(!P)delete this._events[L];else{for(var T=this._events[L]||[],M=T.length,A=0;A<M;A++)T[A].callback===P&&(T.splice(A,1),M--,A--);T.length===0&&delete this._events[L]}return this},k.prototype.getEvents=function(){return this._events},k}();S.default=I},39014:function(ct,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return wn},AbstractGroup:function(){return si},AbstractShape:function(){return Gn},Base:function(){return Re},Event:function(){return zt},PathUtil:function(){return m},version:function(){return Wi}});var m={};d.r(m),d.d(m,{catmullRomToBezier:function(){return M},fillPath:function(){return mt},fillPathByDiff:function(){return f},formatPath:function(){return Rt},intersection:function(){return lt},parsePathArray:function(){return O},parsePathString:function(){return T},pathToAbsolute:function(){return p},pathToCurve:function(){return x},rectPath:function(){return j}});var I=d(49242),k=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+k+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+k+"]*,?["+k+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+k+"]*,?["+k+"]*","ig"),T=function(Pt){if(!Pt)return null;if((0,I.isArray)(Pt))return Pt;var xt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},nt=[];return String(Pt).replace(L,function(ft,Bt,Ut){var ce=[],de=Bt.toLowerCase();if(Ut.replace(P,function(pe,ze){ze&&ce.push(+ze)}),de==="m"&&ce.length>2&&(nt.push([Bt].concat(ce.splice(0,2))),de="l",Bt=Bt==="m"?"l":"L"),de==="o"&&ce.length===1&&nt.push([Bt,ce[0]]),de==="r")nt.push([Bt].concat(ce));else for(;ce.length>=xt[de]&&(nt.push([Bt].concat(ce.splice(0,xt[de]))),!!xt[de]););return Pt}),nt},M=function(Pt,xt){for(var nt=[],ft=0,Bt=Pt.length;Bt-2*!xt>ft;ft+=2){var Ut=[{x:+Pt[ft-2],y:+Pt[ft-1]},{x:+Pt[ft],y:+Pt[ft+1]},{x:+Pt[ft+2],y:+Pt[ft+3]},{x:+Pt[ft+4],y:+Pt[ft+5]}];xt?ft?Bt-4===ft?Ut[3]={x:+Pt[0],y:+Pt[1]}:Bt-2===ft&&(Ut[2]={x:+Pt[0],y:+Pt[1]},Ut[3]={x:+Pt[2],y:+Pt[3]}):Ut[0]={x:+Pt[Bt-2],y:+Pt[Bt-1]}:Bt-4===ft?Ut[3]=Ut[2]:ft||(Ut[0]={x:+Pt[ft],y:+Pt[ft+1]}),nt.push(["C",(-Ut[0].x+6*Ut[1].x+Ut[2].x)/6,(-Ut[0].y+6*Ut[1].y+Ut[2].y)/6,(Ut[1].x+6*Ut[2].x-Ut[3].x)/6,(Ut[1].y+6*Ut[2].y-Ut[3].y)/6,Ut[2].x,Ut[2].y])}return nt},A=function(Pt,xt,nt,ft,Bt){var Ut=[];if(Bt===null&&ft===null&&(ft=nt),Pt=+Pt,xt=+xt,nt=+nt,ft=+ft,Bt!==null){var ce=Math.PI/180,de=Pt+nt*Math.cos(-ft*ce),pe=Pt+nt*Math.cos(-Bt*ce),ze=xt+nt*Math.sin(-ft*ce),Qe=xt+nt*Math.sin(-Bt*ce);Ut=[["M",de,ze],["A",nt,nt,0,+(Bt-ft>180),0,pe,Qe]]}else Ut=[["M",Pt,xt],["m",0,-ft],["a",nt,ft,0,1,1,0,2*ft],["a",nt,ft,0,1,1,0,-2*ft],["z"]];return Ut},p=function(Pt){if(Pt=T(Pt),!Pt||!Pt.length)return[["M",0,0]];var xt=[],nt=0,ft=0,Bt=0,Ut=0,ce=0,de,pe;Pt[0][0]==="M"&&(nt=+Pt[0][1],ft=+Pt[0][2],Bt=nt,Ut=ft,ce++,xt[0]=["M",nt,ft]);for(var ze=Pt.length===3&&Pt[0][0]==="M"&&Pt[1][0].toUpperCase()==="R"&&Pt[2][0].toUpperCase()==="Z",Qe=void 0,Ue=void 0,Sr=ce,dr=Pt.length;Sr<dr;Sr++){if(xt.push(Qe=[]),Ue=Pt[Sr],de=Ue[0],de!==de.toUpperCase())switch(Qe[0]=de.toUpperCase(),Qe[0]){case"A":Qe[1]=Ue[1],Qe[2]=Ue[2],Qe[3]=Ue[3],Qe[4]=Ue[4],Qe[5]=Ue[5],Qe[6]=+Ue[6]+nt,Qe[7]=+Ue[7]+ft;break;case"V":Qe[1]=+Ue[1]+ft;break;case"H":Qe[1]=+Ue[1]+nt;break;case"R":pe=[nt,ft].concat(Ue.slice(1));for(var Ve=2,Dr=pe.length;Ve<Dr;Ve++)pe[Ve]=+pe[Ve]+nt,pe[++Ve]=+pe[Ve]+ft;xt.pop(),xt=xt.concat(M(pe,ze));break;case"O":xt.pop(),pe=A(nt,ft,Ue[1],Ue[2]),pe.push(pe[0]),xt=xt.concat(pe);break;case"U":xt.pop(),xt=xt.concat(A(nt,ft,Ue[1],Ue[2],Ue[3])),Qe=["U"].concat(xt[xt.length-1].slice(-2));break;case"M":Bt=+Ue[1]+nt,Ut=+Ue[2]+ft;break;default:for(var Ve=1,Dr=Ue.length;Ve<Dr;Ve++)Qe[Ve]=+Ue[Ve]+(Ve%2?nt:ft)}else if(de==="R")pe=[nt,ft].concat(Ue.slice(1)),xt.pop(),xt=xt.concat(M(pe,ze)),Qe=["R"].concat(Ue.slice(-2));else if(de==="O")xt.pop(),pe=A(nt,ft,Ue[1],Ue[2]),pe.push(pe[0]),xt=xt.concat(pe);else if(de==="U")xt.pop(),xt=xt.concat(A(nt,ft,Ue[1],Ue[2],Ue[3])),Qe=["U"].concat(xt[xt.length-1].slice(-2));else for(var qr=0,hn=Ue.length;qr<hn;qr++)Qe[qr]=Ue[qr];if(de=de.toUpperCase(),de!=="O")switch(Qe[0]){case"Z":nt=+Bt,ft=+Ut;break;case"H":nt=Qe[1];break;case"V":ft=Qe[1];break;case"M":Bt=Qe[Qe.length-2],Ut=Qe[Qe.length-1];break;default:nt=Qe[Qe.length-2],ft=Qe[Qe.length-1]}}return xt},w=function(Pt,xt,nt,ft){return[Pt,xt,nt,ft,nt,ft]},y=function(Pt,xt,nt,ft,Bt,Ut){var ce=1/3,de=2/3;return[ce*Pt+de*nt,ce*xt+de*ft,ce*Bt+de*nt,ce*Ut+de*ft,Bt,Ut]},b=function(Pt,xt,nt,ft,Bt,Ut,ce,de,pe,ze){nt===ft&&(nt+=1);var Qe=Math.PI*120/180,Ue=Math.PI/180*(+Bt||0),Sr=[],dr,Ve,Dr,qr,hn,ln=function(on,gr,cr){var nn=on*Math.cos(cr)-gr*Math.sin(cr),zn=on*Math.sin(cr)+gr*Math.cos(cr);return{x:nn,y:zn}};if(ze)Ve=ze[0],Dr=ze[1],qr=ze[2],hn=ze[3];else{dr=ln(Pt,xt,-Ue),Pt=dr.x,xt=dr.y,dr=ln(de,pe,-Ue),de=dr.x,pe=dr.y,Pt===de&&xt===pe&&(de+=1,pe+=1);var Or=(Pt-de)/2,hr=(xt-pe)/2,un=Or*Or/(nt*nt)+hr*hr/(ft*ft);un>1&&(un=Math.sqrt(un),nt=un*nt,ft=un*ft);var Yn=nt*nt,$n=ft*ft,hi=(Ut===ce?-1:1)*Math.sqrt(Math.abs((Yn*$n-Yn*hr*hr-$n*Or*Or)/(Yn*hr*hr+$n*Or*Or)));qr=hi*nt*hr/ft+(Pt+de)/2,hn=hi*-ft*Or/nt+(xt+pe)/2,Ve=Math.asin(((xt-hn)/ft).toFixed(9)),Dr=Math.asin(((pe-hn)/ft).toFixed(9)),Ve=Pt<qr?Math.PI-Ve:Ve,Dr=de<qr?Math.PI-Dr:Dr,Ve<0&&(Ve=Math.PI*2+Ve),Dr<0&&(Dr=Math.PI*2+Dr),ce&&Ve>Dr&&(Ve=Ve-Math.PI*2),!ce&&Dr>Ve&&(Dr=Dr-Math.PI*2)}var Mt=Dr-Ve;if(Math.abs(Mt)>Qe){var st=Dr,Z=de,rt=pe;Dr=Ve+Qe*(ce&&Dr>Ve?1:-1),de=qr+nt*Math.cos(Dr),pe=hn+ft*Math.sin(Dr),Sr=b(de,pe,nt,ft,Bt,0,ce,Z,rt,[Dr,st,qr,hn])}Mt=Dr-Ve;var Tt=Math.cos(Ve),Nt=Math.sin(Ve),ie=Math.cos(Dr),re=Math.sin(Dr),le=Math.tan(Mt/4),_e=4/3*nt*le,Ie=4/3*ft*le,Fe=[Pt,xt],ar=[Pt+_e*Nt,xt-Ie*Tt],lr=[de+_e*re,pe-Ie*ie],He=[de,pe];if(ar[0]=2*Fe[0]-ar[0],ar[1]=2*Fe[1]-ar[1],ze)return[ar,lr,He].concat(Sr);Sr=[ar,lr,He].concat(Sr).join().split(",");for(var Fr=[],Rr=0,tn=Sr.length;Rr<tn;Rr++)Fr[Rr]=Rr%2?ln(Sr[Rr-1],Sr[Rr],Ue).y:ln(Sr[Rr],Sr[Rr+1],Ue).x;return Fr},x=function(Pt,xt){var nt=p(Pt),ft=xt&&p(xt),Bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ut={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ce=[],de=[],pe="",ze="",Qe,Ue=function(Or,hr,un){var Yn,$n;if(!Or)return["C",hr.x,hr.y,hr.x,hr.y,hr.x,hr.y];switch(!(Or[0]in{T:1,Q:1})&&(hr.qx=hr.qy=null),Or[0]){case"M":hr.X=Or[1],hr.Y=Or[2];break;case"A":Or=["C"].concat(b.apply(0,[hr.x,hr.y].concat(Or.slice(1))));break;case"S":un==="C"||un==="S"?(Yn=hr.x*2-hr.bx,$n=hr.y*2-hr.by):(Yn=hr.x,$n=hr.y),Or=["C",Yn,$n].concat(Or.slice(1));break;case"T":un==="Q"||un==="T"?(hr.qx=hr.x*2-hr.qx,hr.qy=hr.y*2-hr.qy):(hr.qx=hr.x,hr.qy=hr.y),Or=["C"].concat(y(hr.x,hr.y,hr.qx,hr.qy,Or[1],Or[2]));break;case"Q":hr.qx=Or[1],hr.qy=Or[2],Or=["C"].concat(y(hr.x,hr.y,Or[1],Or[2],Or[3],Or[4]));break;case"L":Or=["C"].concat(w(hr.x,hr.y,Or[1],Or[2]));break;case"H":Or=["C"].concat(w(hr.x,hr.y,Or[1],hr.y));break;case"V":Or=["C"].concat(w(hr.x,hr.y,hr.x,Or[1]));break;case"Z":Or=["C"].concat(w(hr.x,hr.y,hr.X,hr.Y));break;default:break}return Or},Sr=function(Or,hr){if(Or[hr].length>7){Or[hr].shift();for(var un=Or[hr];un.length;)ce[hr]="A",ft&&(de[hr]="A"),Or.splice(hr++,0,["C"].concat(un.splice(0,6)));Or.splice(hr,1),Qe=Math.max(nt.length,ft&&ft.length||0)}},dr=function(Or,hr,un,Yn,$n){Or&&hr&&Or[$n][0]==="M"&&hr[$n][0]!=="M"&&(hr.splice($n,0,["M",Yn.x,Yn.y]),un.bx=0,un.by=0,un.x=Or[$n][1],un.y=Or[$n][2],Qe=Math.max(nt.length,ft&&ft.length||0))};Qe=Math.max(nt.length,ft&&ft.length||0);for(var Ve=0;Ve<Qe;Ve++){nt[Ve]&&(pe=nt[Ve][0]),pe!=="C"&&(ce[Ve]=pe,Ve&&(ze=ce[Ve-1])),nt[Ve]=Ue(nt[Ve],Bt,ze),ce[Ve]!=="A"&&pe==="C"&&(ce[Ve]="C"),Sr(nt,Ve),ft&&(ft[Ve]&&(pe=ft[Ve][0]),pe!=="C"&&(de[Ve]=pe,Ve&&(ze=de[Ve-1])),ft[Ve]=Ue(ft[Ve],Ut,ze),de[Ve]!=="A"&&pe==="C"&&(de[Ve]="C"),Sr(ft,Ve)),dr(nt,ft,Bt,Ut,Ve),dr(ft,nt,Ut,Bt,Ve);var Dr=nt[Ve],qr=ft&&ft[Ve],hn=Dr.length,ln=ft&&qr.length;Bt.x=Dr[hn-2],Bt.y=Dr[hn-1],Bt.bx=parseFloat(Dr[hn-4])||Bt.x,Bt.by=parseFloat(Dr[hn-3])||Bt.y,Ut.bx=ft&&(parseFloat(qr[ln-4])||Ut.x),Ut.by=ft&&(parseFloat(qr[ln-3])||Ut.y),Ut.x=ft&&qr[ln-2],Ut.y=ft&&qr[ln-1]}return ft?[nt,ft]:nt},E=/,?([a-z]),?/gi,O=function(Pt){return Pt.join(",").replace(E,"$1")},D=function(Pt,xt,nt,ft,Bt){var Ut=-3*xt+9*nt-9*ft+3*Bt,ce=Pt*Ut+6*xt-12*nt+6*ft;return Pt*ce-3*xt+3*nt},N=function(Pt,xt,nt,ft,Bt,Ut,ce,de,pe){pe===null&&(pe=1),pe=pe>1?1:pe<0?0:pe;for(var ze=pe/2,Qe=12,Ue=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Sr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],dr=0,Ve=0;Ve<Qe;Ve++){var Dr=ze*Ue[Ve]+ze,qr=D(Dr,Pt,nt,Bt,ce),hn=D(Dr,xt,ft,Ut,de),ln=qr*qr+hn*hn;dr+=Sr[Ve]*Math.sqrt(ln)}return ze*dr},z=function(Pt,xt,nt,ft,Bt,Ut,ce,de){for(var pe=[],ze=[[],[]],Qe,Ue,Sr,dr,Ve=0;Ve<2;++Ve){if(Ve===0?(Ue=6*Pt-12*nt+6*Bt,Qe=-3*Pt+9*nt-9*Bt+3*ce,Sr=3*nt-3*Pt):(Ue=6*xt-12*ft+6*Ut,Qe=-3*xt+9*ft-9*Ut+3*de,Sr=3*ft-3*xt),Math.abs(Qe)<1e-12){if(Math.abs(Ue)<1e-12)continue;dr=-Sr/Ue,dr>0&&dr<1&&pe.push(dr);continue}var Dr=Ue*Ue-4*Sr*Qe,qr=Math.sqrt(Dr);if(!(Dr<0)){var hn=(-Ue+qr)/(2*Qe);hn>0&&hn<1&&pe.push(hn);var ln=(-Ue-qr)/(2*Qe);ln>0&&ln<1&&pe.push(ln)}}for(var Or=pe.length,hr=Or,un;Or--;)dr=pe[Or],un=1-dr,ze[0][Or]=un*un*un*Pt+3*un*un*dr*nt+3*un*dr*dr*Bt+dr*dr*dr*ce,ze[1][Or]=un*un*un*xt+3*un*un*dr*ft+3*un*dr*dr*Ut+dr*dr*dr*de;return ze[0][hr]=Pt,ze[1][hr]=xt,ze[0][hr+1]=ce,ze[1][hr+1]=de,ze[0].length=ze[1].length=hr+2,{min:{x:Math.min.apply(0,ze[0]),y:Math.min.apply(0,ze[1])},max:{x:Math.max.apply(0,ze[0]),y:Math.max.apply(0,ze[1])}}},W=function(Pt,xt,nt,ft,Bt,Ut,ce,de){if(!(Math.max(Pt,nt)<Math.min(Bt,ce)||Math.min(Pt,nt)>Math.max(Bt,ce)||Math.max(xt,ft)<Math.min(Ut,de)||Math.min(xt,ft)>Math.max(Ut,de))){var pe=(Pt*ft-xt*nt)*(Bt-ce)-(Pt-nt)*(Bt*de-Ut*ce),ze=(Pt*ft-xt*nt)*(Ut-de)-(xt-ft)*(Bt*de-Ut*ce),Qe=(Pt-nt)*(Ut-de)-(xt-ft)*(Bt-ce);if(!!Qe){var Ue=pe/Qe,Sr=ze/Qe,dr=+Ue.toFixed(2),Ve=+Sr.toFixed(2);if(!(dr<+Math.min(Pt,nt).toFixed(2)||dr>+Math.max(Pt,nt).toFixed(2)||dr<+Math.min(Bt,ce).toFixed(2)||dr>+Math.max(Bt,ce).toFixed(2)||Ve<+Math.min(xt,ft).toFixed(2)||Ve>+Math.max(xt,ft).toFixed(2)||Ve<+Math.min(Ut,de).toFixed(2)||Ve>+Math.max(Ut,de).toFixed(2)))return{x:Ue,y:Sr}}}},X=function(Pt,xt,nt){return xt>=Pt.x&&xt<=Pt.x+Pt.width&&nt>=Pt.y&&nt<=Pt.y+Pt.height},j=function(Pt,xt,nt,ft,Bt){if(Bt)return[["M",+Pt+ +Bt,xt],["l",nt-Bt*2,0],["a",Bt,Bt,0,0,1,Bt,Bt],["l",0,ft-Bt*2],["a",Bt,Bt,0,0,1,-Bt,Bt],["l",Bt*2-nt,0],["a",Bt,Bt,0,0,1,-Bt,-Bt],["l",0,Bt*2-ft],["a",Bt,Bt,0,0,1,Bt,-Bt],["z"]];var Ut=[["M",Pt,xt],["l",nt,0],["l",0,ft],["l",-nt,0],["z"]];return Ut.parsePathArray=O,Ut},tt=function(Pt,xt,nt,ft){return Pt===null&&(Pt=xt=nt=ft=0),xt===null&&(xt=Pt.y,nt=Pt.width,ft=Pt.height,Pt=Pt.x),{x:Pt,y:xt,width:nt,w:nt,height:ft,h:ft,x2:Pt+nt,y2:xt+ft,cx:Pt+nt/2,cy:xt+ft/2,r1:Math.min(nt,ft)/2,r2:Math.max(nt,ft)/2,r0:Math.sqrt(nt*nt+ft*ft)/2,path:j(Pt,xt,nt,ft),vb:[Pt,xt,nt,ft].join(" ")}},K=function(Pt,xt){return Pt=tt(Pt),xt=tt(xt),X(xt,Pt.x,Pt.y)||X(xt,Pt.x2,Pt.y)||X(xt,Pt.x,Pt.y2)||X(xt,Pt.x2,Pt.y2)||X(Pt,xt.x,xt.y)||X(Pt,xt.x2,xt.y)||X(Pt,xt.x,xt.y2)||X(Pt,xt.x2,xt.y2)||(Pt.x<xt.x2&&Pt.x>xt.x||xt.x<Pt.x2&&xt.x>Pt.x)&&(Pt.y<xt.y2&&Pt.y>xt.y||xt.y<Pt.y2&&xt.y>Pt.y)},wt=function(Pt,xt,nt,ft,Bt,Ut,ce,de){(0,I.isArray)(Pt)||(Pt=[Pt,xt,nt,ft,Bt,Ut,ce,de]);var pe=z.apply(null,Pt);return tt(pe.min.x,pe.min.y,pe.max.x-pe.min.x,pe.max.y-pe.min.y)},ot=function(Pt,xt,nt,ft,Bt,Ut,ce,de,pe){var ze=1-pe,Qe=Math.pow(ze,3),Ue=Math.pow(ze,2),Sr=pe*pe,dr=Sr*pe,Ve=Qe*Pt+Ue*3*pe*nt+ze*3*pe*pe*Bt+dr*ce,Dr=Qe*xt+Ue*3*pe*ft+ze*3*pe*pe*Ut+dr*de,qr=Pt+2*pe*(nt-Pt)+Sr*(Bt-2*nt+Pt),hn=xt+2*pe*(ft-xt)+Sr*(Ut-2*ft+xt),ln=nt+2*pe*(Bt-nt)+Sr*(ce-2*Bt+nt),Or=ft+2*pe*(Ut-ft)+Sr*(de-2*Ut+ft),hr=ze*Pt+pe*nt,un=ze*xt+pe*ft,Yn=ze*Bt+pe*ce,$n=ze*Ut+pe*de,hi=90-Math.atan2(qr-ln,hn-Or)*180/Math.PI;return{x:Ve,y:Dr,m:{x:qr,y:hn},n:{x:ln,y:Or},start:{x:hr,y:un},end:{x:Yn,y:$n},alpha:hi}},vt=function(Pt,xt,nt){var ft=wt(Pt),Bt=wt(xt);if(!K(ft,Bt))return nt?0:[];for(var Ut=N.apply(0,Pt),ce=N.apply(0,xt),de=~~(Ut/8),pe=~~(ce/8),ze=[],Qe=[],Ue={},Sr=nt?0:[],dr=0;dr<de+1;dr++){var Ve=ot.apply(0,Pt.concat(dr/de));ze.push({x:Ve.x,y:Ve.y,t:dr/de})}for(var dr=0;dr<pe+1;dr++){var Ve=ot.apply(0,xt.concat(dr/pe));Qe.push({x:Ve.x,y:Ve.y,t:dr/pe})}for(var dr=0;dr<de;dr++)for(var Dr=0;Dr<pe;Dr++){var qr=ze[dr],hn=ze[dr+1],ln=Qe[Dr],Or=Qe[Dr+1],hr=Math.abs(hn.x-qr.x)<.001?"y":"x",un=Math.abs(Or.x-ln.x)<.001?"y":"x",Yn=W(qr.x,qr.y,hn.x,hn.y,ln.x,ln.y,Or.x,Or.y);if(Yn){if(Ue[Yn.x.toFixed(4)]===Yn.y.toFixed(4))continue;Ue[Yn.x.toFixed(4)]=Yn.y.toFixed(4);var $n=qr.t+Math.abs((Yn[hr]-qr[hr])/(hn[hr]-qr[hr]))*(hn.t-qr.t),hi=ln.t+Math.abs((Yn[un]-ln[un])/(Or[un]-ln[un]))*(Or.t-ln.t);$n>=0&&$n<=1&&hi>=0&&hi<=1&&(nt?Sr+=1:Sr.push({x:Yn.x,y:Yn.y,t1:$n,t2:hi}))}}return Sr},et=function(Pt,xt,nt){Pt=x(Pt),xt=x(xt);for(var ft,Bt,Ut,ce,de,pe,ze,Qe,Ue,Sr,dr=nt?0:[],Ve=0,Dr=Pt.length;Ve<Dr;Ve++){var qr=Pt[Ve];if(qr[0]==="M")ft=de=qr[1],Bt=pe=qr[2];else{qr[0]==="C"?(Ue=[ft,Bt].concat(qr.slice(1)),ft=Ue[6],Bt=Ue[7]):(Ue=[ft,Bt,ft,Bt,de,pe,de,pe],ft=de,Bt=pe);for(var hn=0,ln=xt.length;hn<ln;hn++){var Or=xt[hn];if(Or[0]==="M")Ut=ze=Or[1],ce=Qe=Or[2];else{Or[0]==="C"?(Sr=[Ut,ce].concat(Or.slice(1)),Ut=Sr[6],ce=Sr[7]):(Sr=[Ut,ce,Ut,ce,ze,Qe,ze,Qe],Ut=ze,ce=Qe);var hr=vt(Ue,Sr,nt);if(nt)dr+=hr;else{for(var un=0,Yn=hr.length;un<Yn;un++)hr[un].segment1=Ve,hr[un].segment2=hn,hr[un].bez1=Ue,hr[un].bez2=Sr;dr=dr.concat(hr)}}}}}return dr},lt=function(Pt,xt){return et(Pt,xt)};function dt(Pt,xt){var nt=[],ft=[];function Bt(Ut,ce){if(Ut.length===1)nt.push(Ut[0]),ft.push(Ut[0]);else{for(var de=[],pe=0;pe<Ut.length-1;pe++)pe===0&&nt.push(Ut[0]),pe===Ut.length-2&&ft.push(Ut[pe+1]),de[pe]=[(1-ce)*Ut[pe][0]+ce*Ut[pe+1][0],(1-ce)*Ut[pe][1]+ce*Ut[pe+1][1]];Bt(de,ce)}}return Pt.length&&Bt(Pt,xt),{left:nt,right:ft.reverse()}}function it(Pt,xt,nt){var ft=[[Pt[1],Pt[2]]];nt=nt||2;var Bt=[];xt[0]==="A"?(ft.push(xt[6]),ft.push(xt[7])):xt[0]==="C"?(ft.push([xt[1],xt[2]]),ft.push([xt[3],xt[4]]),ft.push([xt[5],xt[6]])):xt[0]==="S"||xt[0]==="Q"?(ft.push([xt[1],xt[2]]),ft.push([xt[3],xt[4]])):ft.push([xt[1],xt[2]]);for(var Ut=ft,ce=1/nt,de=0;de<nt-1;de++){var pe=ce/(1-ce*de),ze=dt(Ut,pe);Bt.push(ze.left),Ut=ze.right}Bt.push(Ut);var Qe=Bt.map(function(Ue){var Sr=[];return Ue.length===4&&(Sr.push("C"),Sr=Sr.concat(Ue[2])),Ue.length>=3&&(Ue.length===3&&Sr.push("Q"),Sr=Sr.concat(Ue[1])),Ue.length===2&&Sr.push("L"),Sr=Sr.concat(Ue[Ue.length-1]),Sr});return Qe}var At=function(Pt,xt,nt){if(nt===1)return[[].concat(Pt)];var ft=[];if(xt[0]==="L"||xt[0]==="C"||xt[0]==="Q")ft=ft.concat(it(Pt,xt,nt));else{var Bt=[].concat(Pt);Bt[0]==="M"&&(Bt[0]="L");for(var Ut=0;Ut<=nt-1;Ut++)ft.push(Bt)}return ft},mt=function(Pt,xt){if(Pt.length===1)return Pt;var nt=Pt.length-1,ft=xt.length-1,Bt=nt/ft,Ut=[];if(Pt.length===1&&Pt[0][0]==="M"){for(var ce=0;ce<ft-nt;ce++)Pt.push(Pt[0]);return Pt}for(var ce=0;ce<ft;ce++){var de=Math.floor(Bt*ce);Ut[de]=(Ut[de]||0)+1}var pe=Ut.reduce(function(ze,Qe,Ue){return Ue===nt?ze.concat(Pt[nt]):ze.concat(At(Pt[Ue],Pt[Ue+1],Qe))},[]);return pe.unshift(Pt[0]),(xt[ft]==="Z"||xt[ft]==="z")&&pe.push("Z"),pe},U=function(Pt,xt){if(Pt.length!==xt.length)return!1;var nt=!0;return(0,I.each)(Pt,function(ft,Bt){if(ft!==xt[Bt])return nt=!1,!1}),nt};function V(Pt,xt,nt){var ft=null,Bt=nt;return xt<Bt&&(Bt=xt,ft="add"),Pt<Bt&&(Bt=Pt,ft="del"),{type:ft,min:Bt}}var B=function(Pt,xt){var nt=Pt.length,ft=xt.length,Bt,Ut,ce=0;if(nt===0||ft===0)return null;for(var de=[],pe=0;pe<=nt;pe++)de[pe]=[],de[pe][0]={min:pe};for(var ze=0;ze<=ft;ze++)de[0][ze]={min:ze};for(var pe=1;pe<=nt;pe++){Bt=Pt[pe-1];for(var ze=1;ze<=ft;ze++){Ut=xt[ze-1],U(Bt,Ut)?ce=0:ce=1;var Qe=de[pe-1][ze].min+1,Ue=de[pe][ze-1].min+1,Sr=de[pe-1][ze-1].min+ce;de[pe][ze]=V(Qe,Ue,Sr)}}return de},f=function(Pt,xt){var nt=B(Pt,xt),ft=Pt.length,Bt=xt.length,Ut=[],ce=1,de=1;if(nt[ft][Bt].min!==ft){for(var pe=1;pe<=ft;pe++){var ze=nt[pe][pe].min;de=pe;for(var Qe=ce;Qe<=Bt;Qe++)nt[pe][Qe].min<ze&&(ze=nt[pe][Qe].min,de=Qe);ce=de,nt[pe][ce].type&&Ut.push({index:pe-1,type:nt[pe][ce].type})}for(var pe=Ut.length-1;pe>=0;pe--)ce=Ut[pe].index,Ut[pe].type==="add"?Pt.splice(ce,0,[].concat(Pt[ce])):Pt.splice(ce,1)}ft=Pt.length;var Ue=Bt-ft;if(ft<Bt)for(var pe=0;pe<Ue;pe++)Pt[ft-1][0]==="z"||Pt[ft-1][0]==="Z"?Pt.splice(ft-2,0,Pt[ft-2]):Pt.push(Pt[ft-1]),ft+=1;return Pt};function yt(Pt,xt,nt){for(var ft=[].concat(Pt),Bt,Ut=1/(nt+1),ce=St(xt)[0],de=1;de<=nt;de++)Ut*=de,Bt=Math.floor(Pt.length*Ut),Bt===0?ft.unshift([ce[0]*Ut+Pt[Bt][0]*(1-Ut),ce[1]*Ut+Pt[Bt][1]*(1-Ut)]):ft.splice(Bt,0,[ce[0]*Ut+Pt[Bt][0]*(1-Ut),ce[1]*Ut+Pt[Bt][1]*(1-Ut)]);return ft}function St(Pt){var xt=[];switch(Pt[0]){case"M":xt.push([Pt[1],Pt[2]]);break;case"L":xt.push([Pt[1],Pt[2]]);break;case"A":xt.push([Pt[6],Pt[7]]);break;case"Q":xt.push([Pt[3],Pt[4]]),xt.push([Pt[1],Pt[2]]);break;case"T":xt.push([Pt[1],Pt[2]]);break;case"C":xt.push([Pt[5],Pt[6]]),xt.push([Pt[1],Pt[2]]),xt.push([Pt[3],Pt[4]]);break;case"S":xt.push([Pt[3],Pt[4]]),xt.push([Pt[1],Pt[2]]);break;case"H":xt.push([Pt[1],Pt[1]]);break;case"V":xt.push([Pt[1],Pt[1]]);break;default:}return xt}var Rt=function(Pt,xt){if(Pt.length<=1)return Pt;for(var nt,ft=0;ft<xt.length;ft++)if(Pt[ft][0]!==xt[ft][0])switch(nt=St(Pt[ft]),xt[ft][0]){case"M":Pt[ft]=["M"].concat(nt[0]);break;case"L":Pt[ft]=["L"].concat(nt[0]);break;case"A":Pt[ft]=[].concat(xt[ft]),Pt[ft][6]=nt[0][0],Pt[ft][7]=nt[0][1];break;case"Q":if(nt.length<2)if(ft>0)nt=yt(nt,Pt[ft-1],1);else{Pt[ft]=xt[ft];break}Pt[ft]=["Q"].concat(nt.reduce(function(Bt,Ut){return Bt.concat(Ut)},[]));break;case"T":Pt[ft]=["T"].concat(nt[0]);break;case"C":if(nt.length<3)if(ft>0)nt=yt(nt,Pt[ft-1],2);else{Pt[ft]=xt[ft];break}Pt[ft]=["C"].concat(nt.reduce(function(Bt,Ut){return Bt.concat(Ut)},[]));break;case"S":if(nt.length<2)if(ft>0)nt=yt(nt,Pt[ft-1],1);else{Pt[ft]=xt[ft];break}Pt[ft]=["S"].concat(nt.reduce(function(Bt,Ut){return Bt.concat(Ut)},[]));break;default:Pt[ft]=xt[ft]}return Pt},Qt=function(){function Pt(xt,nt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=xt,this.name=xt,this.originalEvent=nt,this.timeStamp=nt.timeStamp}return Pt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Pt.prototype.stopPropagation=function(){this.propagationStopped=!0},Pt.prototype.toString=function(){var xt=this.type;return"[Event (type="+xt+")]"},Pt.prototype.save=function(){},Pt.prototype.restore=function(){},Pt}(),zt=Qt,$t=d(70655),ne=d(90494),ae=d(73890),Wt=d(46812),It=d(21830),Ct=d(33643),ht=d(66631),Et=d(66974),at=d(27154),Q=d(85260);function bt(Pt,xt){var nt=Pt.indexOf(xt);nt!==-1&&Pt.splice(nt,1)}var Ot=typeof window!="undefined"&&typeof window.document!="undefined";function Vt(Pt,xt){if(Pt.isCanvas())return!0;for(var nt=xt.getParent(),ft=!1;nt;){if(nt===Pt){ft=!0;break}nt=nt.getParent()}return ft}function ue(Pt){return Pt.cfg.visible&&Pt.cfg.capture}var Se=function(Pt){(0,$t.__extends)(xt,Pt);function xt(nt){var ft=Pt.call(this)||this;ft.destroyed=!1;var Bt=ft.getDefaultCfg();return ft.cfg=(0,Et.default)(Bt,nt),ft}return xt.prototype.getDefaultCfg=function(){return{}},xt.prototype.get=function(nt){return this.cfg[nt]},xt.prototype.set=function(nt,ft){this.cfg[nt]=ft},xt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},xt}(ne.default),Re=Se,We=d(43631),mr=d(31506);function wr(Pt,xt){var nt=[],ft=Pt[0],Bt=Pt[1],Ut=Pt[2],ce=Pt[3],de=Pt[4],pe=Pt[5],ze=Pt[6],Qe=Pt[7],Ue=Pt[8],Sr=xt[0],dr=xt[1],Ve=xt[2],Dr=xt[3],qr=xt[4],hn=xt[5],ln=xt[6],Or=xt[7],hr=xt[8];return nt[0]=Sr*ft+dr*ce+Ve*ze,nt[1]=Sr*Bt+dr*de+Ve*Qe,nt[2]=Sr*Ut+dr*pe+Ve*Ue,nt[3]=Dr*ft+qr*ce+hn*ze,nt[4]=Dr*Bt+qr*de+hn*Qe,nt[5]=Dr*Ut+qr*pe+hn*Ue,nt[6]=ln*ft+Or*ce+hr*ze,nt[7]=ln*Bt+Or*de+hr*Qe,nt[8]=ln*Ut+Or*pe+hr*Ue,nt}function br(Pt,xt){var nt=[],ft=xt[0],Bt=xt[1];return nt[0]=Pt[0]*ft+Pt[3]*Bt+Pt[6],nt[1]=Pt[1]*ft+Pt[4]*Bt+Pt[7],nt}function zr(Pt){var xt=[],nt=Pt[0],ft=Pt[1],Bt=Pt[2],Ut=Pt[3],ce=Pt[4],de=Pt[5],pe=Pt[6],ze=Pt[7],Qe=Pt[8],Ue=Qe*ce-de*ze,Sr=-Qe*Ut+de*pe,dr=ze*Ut-ce*pe,Ve=nt*Ue+ft*Sr+Bt*dr;return Ve?(Ve=1/Ve,xt[0]=Ue*Ve,xt[1]=(-Qe*ft+Bt*ze)*Ve,xt[2]=(de*ft-Bt*ce)*Ve,xt[3]=Sr*Ve,xt[4]=(Qe*nt-Bt*pe)*Ve,xt[5]=(-de*nt+Bt*Ut)*Ve,xt[6]=dr*Ve,xt[7]=(-ze*nt+ft*pe)*Ve,xt[8]=(ce*nt-ft*Ut)*Ve,xt):null}var pr="matrix",an=["zIndex","capture","visible","type"],Tn=["repeat"],rn=":",Mn="*";function Si(Pt){for(var xt=[],nt=0;nt<Pt.length;nt++)(0,I.isArray)(Pt[nt])?xt.push([].concat(Pt[nt])):xt.push(Pt[nt]);return xt}function Ti(Pt,xt){var nt={},ft=xt.attrs;for(var Bt in Pt)nt[Bt]=ft[Bt];return nt}function Di(Pt,xt){var nt={},ft=xt.attr();return(0,I.each)(Pt,function(Bt,Ut){Tn.indexOf(Ut)===-1&&!(0,I.isEqual)(ft[Ut],Bt)&&(nt[Ut]=Bt)}),nt}function Vi(Pt,xt){if(xt.onFrame)return Pt;var nt=xt.startTime,ft=xt.delay,Bt=xt.duration,Ut=Object.prototype.hasOwnProperty;return(0,I.each)(Pt,function(ce){nt+ft<ce.startTime+ce.delay+ce.duration&&Bt>ce.delay&&(0,I.each)(xt.toAttrs,function(de,pe){Ut.call(ce.toAttrs,pe)&&(delete ce.toAttrs[pe],delete ce.fromAttrs[pe])})}),Pt}var Xt=function(Pt){(0,$t.__extends)(xt,Pt);function xt(nt){var ft=Pt.call(this,nt)||this;ft.attrs={};var Bt=ft.getDefaultAttrs();return(0,I.mix)(Bt,nt.attrs),ft.attrs=Bt,ft.initAttrs(Bt),ft.initAnimate(),ft}return xt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},xt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},xt.prototype.onCanvasChange=function(nt){},xt.prototype.initAttrs=function(nt){},xt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},xt.prototype.isGroup=function(){return!1},xt.prototype.getParent=function(){return this.get("parent")},xt.prototype.getCanvas=function(){return this.get("canvas")},xt.prototype.attr=function(){for(var nt,ft=[],Bt=0;Bt<arguments.length;Bt++)ft[Bt]=arguments[Bt];var Ut=ft[0],ce=ft[1];if(!Ut)return this.attrs;if((0,I.isObject)(Ut)){for(var de in Ut)this.setAttr(de,Ut[de]);return this.afterAttrsChange(Ut),this}return ft.length===2?(this.setAttr(Ut,ce),this.afterAttrsChange((nt={},nt[Ut]=ce,nt)),this):this.attrs[Ut]},xt.prototype.isClipped=function(nt,ft){var Bt=this.getClip();return Bt&&!Bt.isHit(nt,ft)},xt.prototype.setAttr=function(nt,ft){var Bt=this.attrs[nt];Bt!==ft&&(this.attrs[nt]=ft,this.onAttrChange(nt,ft,Bt))},xt.prototype.onAttrChange=function(nt,ft,Bt){nt==="matrix"&&this.set("totalMatrix",null)},xt.prototype.afterAttrsChange=function(nt){this.onCanvasChange("attr")},xt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},xt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},xt.prototype.setZIndex=function(nt){this.set("zIndex",nt);var ft=this.getParent();return ft&&ft.sort(),this},xt.prototype.toFront=function(){var nt=this.getParent();if(!!nt){var ft=nt.getChildren(),Bt=this.get("el"),Ut=ft.indexOf(this);ft.splice(Ut,1),ft.push(this),this.onCanvasChange("zIndex")}},xt.prototype.toBack=function(){var nt=this.getParent();if(!!nt){var ft=nt.getChildren(),Bt=this.get("el"),Ut=ft.indexOf(this);ft.splice(Ut,1),ft.unshift(this),this.onCanvasChange("zIndex")}},xt.prototype.remove=function(nt){nt===void 0&&(nt=!0);var ft=this.getParent();ft?(bt(ft.getChildren(),this),ft.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),nt&&this.destroy()},xt.prototype.resetMatrix=function(){this.attr(pr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},xt.prototype.getMatrix=function(){return this.attr(pr)},xt.prototype.setMatrix=function(nt){this.attr(pr,nt),this.onCanvasChange("matrix")},xt.prototype.getTotalMatrix=function(){var nt=this.get("totalMatrix");if(!nt){var ft=this.attr("matrix"),Bt=this.get("parentMatrix");Bt&&ft?nt=wr(Bt,ft):nt=ft||Bt,this.set("totalMatrix",nt)}return nt},xt.prototype.applyMatrix=function(nt){var ft=this.attr("matrix"),Bt=null;nt&&ft?Bt=wr(nt,ft):Bt=ft||nt,this.set("totalMatrix",Bt),this.set("parentMatrix",nt)},xt.prototype.getDefaultMatrix=function(){return null},xt.prototype.applyToMatrix=function(nt){var ft=this.attr("matrix");return ft?br(ft,nt):nt},xt.prototype.invertFromMatrix=function(nt){var ft=this.attr("matrix");if(ft){var Bt=zr(ft);if(Bt)return br(Bt,nt)}return nt},xt.prototype.setClip=function(nt){var ft=this.getCanvas(),Bt=null;if(nt){var Ut=this.getShapeBase(),ce=(0,I.upperFirst)(nt.type),de=Ut[ce];de&&(Bt=new de({type:nt.type,isClipShape:!0,attrs:nt.attrs,canvas:ft}))}return this.set("clipShape",Bt),this.onCanvasChange("clip"),Bt},xt.prototype.getClip=function(){var nt=this.cfg.clipShape;return nt||null},xt.prototype.clone=function(){var nt=this,ft=this.attrs,Bt={};(0,I.each)(ft,function(de,pe){(0,I.isArray)(ft[pe])?Bt[pe]=Si(ft[pe]):Bt[pe]=ft[pe]});var Ut=this.constructor,ce=new Ut({attrs:Bt});return(0,I.each)(an,function(de){ce.set(de,nt.get(de))}),ce},xt.prototype.destroy=function(){var nt=this.destroyed;nt||(this.attrs={},Pt.prototype.destroy.call(this))},xt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},xt.prototype.animate=function(){for(var nt=[],ft=0;ft<arguments.length;ft++)nt[ft]=arguments[ft];this.set("animating",!0);var Bt=this.get("timeline");Bt||(Bt=this.get("canvas").get("timeline"),this.set("timeline",Bt));var Ut=this.get("animations")||[];Bt.timer||Bt.initTimer();var ce=nt[0],de=nt[1],pe=nt[2],ze=pe===void 0?"easeLinear":pe,Qe=nt[3],Ue=Qe===void 0?I.noop:Qe,Sr=nt[4],dr=Sr===void 0?0:Sr,Ve,Dr,qr,hn,ln;(0,I.isFunction)(ce)?(Ve=ce,ce={}):(0,I.isObject)(ce)&&ce.onFrame&&(Ve=ce.onFrame,Dr=ce.repeat),(0,I.isObject)(de)?(ln=de,de=ln.duration,ze=ln.easing||"easeLinear",dr=ln.delay||0,Dr=ln.repeat||Dr||!1,Ue=ln.callback||I.noop,qr=ln.pauseCallback||I.noop,hn=ln.resumeCallback||I.noop):((0,I.isNumber)(Ue)&&(dr=Ue,Ue=null),(0,I.isFunction)(ze)?(Ue=ze,ze="easeLinear"):ze=ze||"easeLinear");var Or=Di(ce,this),hr={fromAttrs:Ti(Or,this),toAttrs:Or,duration:de,easing:ze,repeat:Dr,callback:Ue,pauseCallback:qr,resumeCallback:hn,delay:dr,startTime:Bt.getTime(),id:(0,I.uniqueId)(),onFrame:Ve,pathFormatted:!1};Ut.length>0?Ut=Vi(Ut,hr):Bt.addAnimator(this),Ut.push(hr),this.set("animations",Ut),this.set("_pause",{isPaused:!1})},xt.prototype.stopAnimate=function(nt){var ft=this;nt===void 0&&(nt=!0);var Bt=this.get("animations");(0,I.each)(Bt,function(Ut){nt&&(Ut.onFrame?ft.attr(Ut.onFrame(1)):ft.attr(Ut.toAttrs)),Ut.callback&&Ut.callback()}),this.set("animating",!1),this.set("animations",[])},xt.prototype.pauseAnimate=function(){var nt=this.get("timeline"),ft=this.get("animations"),Bt=nt.getTime();return(0,I.each)(ft,function(Ut){Ut._paused=!0,Ut._pauseTime=Bt,Ut.pauseCallback&&Ut.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Bt}),this},xt.prototype.resumeAnimate=function(){var nt=this.get("timeline"),ft=nt.getTime(),Bt=this.get("animations"),Ut=this.get("_pause").pauseTime;return(0,I.each)(Bt,function(ce){ce.startTime=ce.startTime+(ft-Ut),ce._paused=!1,ce._pauseTime=null,ce.resumeCallback&&ce.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Bt),this},xt.prototype.emitDelegation=function(nt,ft){var Bt=this,Ut=ft.propagationPath,ce=this.getEvents(),de;nt==="mouseenter"?de=ft.fromShape:nt==="mouseleave"&&(de=ft.toShape);for(var pe=function(Sr){var dr=Ut[Sr],Ve=dr.get("name");if(Ve){if((dr.isGroup()||dr.isCanvas&&dr.isCanvas())&&de&&Vt(dr,de))return"break";(0,I.isArray)(Ve)?(0,I.each)(Ve,function(Dr){Bt.emitDelegateEvent(dr,Dr,ft)}):ze.emitDelegateEvent(dr,Ve,ft)}},ze=this,Qe=0;Qe<Ut.length;Qe++){var Ue=pe(Qe);if(Ue==="break")break}},xt.prototype.emitDelegateEvent=function(nt,ft,Bt){var Ut=this.getEvents(),ce=ft+rn+Bt.type;(Ut[ce]||Ut[Mn])&&(Bt.name=ce,Bt.currentTarget=nt,Bt.delegateTarget=this,Bt.delegateObject=nt.get("delegateObject"),this.emit(ce,Bt))},xt.prototype.translate=function(nt,ft){nt===void 0&&(nt=0),ft===void 0&&(ft=0);var Bt=this.getMatrix(),Ut=mr.transform(Bt,[["t",nt,ft]]);return this.setMatrix(Ut),this},xt.prototype.move=function(nt,ft){var Bt=this.attr("x")||0,Ut=this.attr("y")||0;return this.translate(nt-Bt,ft-Ut),this},xt.prototype.moveTo=function(nt,ft){return this.move(nt,ft)},xt.prototype.scale=function(nt,ft){var Bt=this.getMatrix(),Ut=mr.transform(Bt,[["s",nt,ft||nt]]);return this.setMatrix(Ut),this},xt.prototype.rotate=function(nt){var ft=this.getMatrix(),Bt=mr.transform(ft,[["r",nt]]);return this.setMatrix(Bt),this},xt.prototype.rotateAtStart=function(nt){var ft=this.attr(),Bt=ft.x,Ut=ft.y,ce=this.getMatrix(),de=mr.transform(ce,[["t",-Bt,-Ut],["r",nt],["t",Bt,Ut]]);return this.setMatrix(de),this},xt.prototype.rotateAtPoint=function(nt,ft,Bt){var Ut=this.getMatrix(),ce=mr.transform(Ut,[["t",-nt,-ft],["r",Bt],["t",nt,ft]]);return this.setMatrix(ce),this},xt}(Re),Kt=Xt,oe={},he="_INDEX";function be(Pt){Pt.isGroup()?(Pt.isEntityGroup()||Pt.get("children").length)&&Pt.onCanvasChange("add"):Pt.onCanvasChange("add")}function Ee(Pt,xt){if(Pt.set("canvas",xt),Pt.isGroup()){var nt=Pt.get("children");nt.length&&nt.forEach(function(ft){Ee(ft,xt)})}}function Pe(Pt,xt){if(Pt.set("timeline",xt),Pt.isGroup()){var nt=Pt.get("children");nt.length&&nt.forEach(function(ft){Pe(ft,xt)})}}function Oe(Pt,xt){var nt=Pt.getChildren();return nt.indexOf(xt)>=0}function me(Pt,xt,nt){nt===void 0&&(nt=!0),nt?xt.destroy():(xt.set("parent",null),xt.set("canvas",null)),bt(Pt.getChildren(),xt)}function rr(Pt){return function(xt,nt){var ft=Pt(xt,nt);return ft===0?xt[he]-nt[he]:ft}}var Xe=function(Pt){(0,$t.__extends)(xt,Pt);function xt(){return Pt!==null&&Pt.apply(this,arguments)||this}return xt.prototype.isCanvas=function(){return!1},xt.prototype.getBBox=function(){var nt=Infinity,ft=-Infinity,Bt=Infinity,Ut=-Infinity,ce=[],de=[],pe=this.getChildren().filter(function(Qe){return Qe.get("visible")&&(!Qe.isGroup()||Qe.isGroup()&&Qe.getChildren().length>0)});pe.length>0?((0,at.default)(pe,function(Qe){var Ue=Qe.getBBox();ce.push(Ue.minX,Ue.maxX),de.push(Ue.minY,Ue.maxY)}),nt=Math.min.apply(null,ce),ft=Math.max.apply(null,ce),Bt=Math.min.apply(null,de),Ut=Math.max.apply(null,de)):(nt=0,ft=0,Bt=0,Ut=0);var ze={x:nt,y:Bt,minX:nt,minY:Bt,maxX:ft,maxY:Ut,width:ft-nt,height:Ut-Bt};return ze},xt.prototype.getCanvasBBox=function(){var nt=Infinity,ft=-Infinity,Bt=Infinity,Ut=-Infinity,ce=[],de=[],pe=this.getChildren().filter(function(Qe){return Qe.get("visible")&&(!Qe.isGroup()||Qe.isGroup()&&Qe.getChildren().length>0)});pe.length>0?((0,at.default)(pe,function(Qe){var Ue=Qe.getCanvasBBox();ce.push(Ue.minX,Ue.maxX),de.push(Ue.minY,Ue.maxY)}),nt=Math.min.apply(null,ce),ft=Math.max.apply(null,ce),Bt=Math.min.apply(null,de),Ut=Math.max.apply(null,de)):(nt=0,ft=0,Bt=0,Ut=0);var ze={x:nt,y:Bt,minX:nt,minY:Bt,maxX:ft,maxY:Ut,width:ft-nt,height:Ut-Bt};return ze},xt.prototype.getDefaultCfg=function(){var nt=Pt.prototype.getDefaultCfg.call(this);return nt.children=[],nt},xt.prototype.onAttrChange=function(nt,ft,Bt){if(Pt.prototype.onAttrChange.call(this,nt,ft,Bt),nt==="matrix"){var Ut=this.getTotalMatrix();this._applyChildrenMarix(Ut)}},xt.prototype.applyMatrix=function(nt){var ft=this.getTotalMatrix();Pt.prototype.applyMatrix.call(this,nt);var Bt=this.getTotalMatrix();Bt!==ft&&this._applyChildrenMarix(Bt)},xt.prototype._applyChildrenMarix=function(nt){var ft=this.getChildren();(0,at.default)(ft,function(Bt){Bt.applyMatrix(nt)})},xt.prototype.addShape=function(){for(var nt=[],ft=0;ft<arguments.length;ft++)nt[ft]=arguments[ft];var Bt=nt[0],Ut=nt[1];(0,Ct.default)(Bt)?Ut=Bt:Ut.type=Bt;var ce=oe[Ut.type];ce||(ce=(0,Q.default)(Ut.type),oe[Ut.type]=ce);var de=this.getShapeBase(),pe=new de[ce](Ut);return this.add(pe),pe},xt.prototype.addGroup=function(){for(var nt=[],ft=0;ft<arguments.length;ft++)nt[ft]=arguments[ft];var Bt=nt[0],Ut=nt[1],ce;if((0,Wt.default)(Bt))Ut?ce=new Bt(Ut):ce=new Bt({parent:this});else{var de=Bt||{},pe=this.getGroupBase();ce=new pe(de)}return this.add(ce),ce},xt.prototype.getCanvas=function(){var nt;return this.isCanvas()?nt=this:nt=this.get("canvas"),nt},xt.prototype.getShape=function(nt,ft,Bt){if(!ue(this))return null;var Ut=this.getChildren(),ce;if(this.isCanvas())ce=this._findShape(Ut,nt,ft,Bt);else{var de=[nt,ft,1];de=this.invertFromMatrix(de),this.isClipped(de[0],de[1])||(ce=this._findShape(Ut,de[0],de[1],Bt))}return ce},xt.prototype._findShape=function(nt,ft,Bt,Ut){for(var ce=null,de=nt.length-1;de>=0;de--){var pe=nt[de];if(ue(pe)&&(pe.isGroup()?ce=pe.getShape(ft,Bt,Ut):pe.isHit(ft,Bt)&&(ce=pe)),ce)break}return ce},xt.prototype.add=function(nt){var ft=this.getCanvas(),Bt=this.getChildren(),Ut=this.get("timeline"),ce=nt.getParent();ce&&me(ce,nt,!1),nt.set("parent",this),ft&&Ee(nt,ft),Ut&&Pe(nt,Ut),Bt.push(nt),be(nt),this._applyElementMatrix(nt)},xt.prototype._applyElementMatrix=function(nt){var ft=this.getTotalMatrix();ft&&nt.applyMatrix(ft)},xt.prototype.getChildren=function(){return this.get("children")},xt.prototype.sort=function(){var nt=this.getChildren();(0,at.default)(nt,function(ft,Bt){return ft[he]=Bt,ft}),nt.sort(rr(function(ft,Bt){return ft.get("zIndex")-Bt.get("zIndex")})),this.onCanvasChange("sort")},xt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var nt=this.getChildren(),ft=nt.length-1;ft>=0;ft--)nt[ft].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},xt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Pt.prototype.destroy.call(this))},xt.prototype.getFirst=function(){return this.getChildByIndex(0)},xt.prototype.getLast=function(){var nt=this.getChildren();return this.getChildByIndex(nt.length-1)},xt.prototype.getChildByIndex=function(nt){var ft=this.getChildren();return ft[nt]},xt.prototype.getCount=function(){var nt=this.getChildren();return nt.length},xt.prototype.contain=function(nt){var ft=this.getChildren();return ft.indexOf(nt)>-1},xt.prototype.removeChild=function(nt,ft){ft===void 0&&(ft=!0),this.contain(nt)&&nt.remove(ft)},xt.prototype.findAll=function(nt){var ft=[],Bt=this.getChildren();return(0,at.default)(Bt,function(Ut){nt(Ut)&&ft.push(Ut),Ut.isGroup()&&(ft=ft.concat(Ut.findAll(nt)))}),ft},xt.prototype.find=function(nt){var ft=null,Bt=this.getChildren();return(0,at.default)(Bt,function(Ut){if(nt(Ut)?ft=Ut:Ut.isGroup()&&(ft=Ut.find(nt)),ft)return!1}),ft},xt.prototype.findById=function(nt){return this.find(function(ft){return ft.get("id")===nt})},xt.prototype.findByClassName=function(nt){return this.find(function(ft){return ft.get("className")===nt})},xt.prototype.findAllByName=function(nt){return this.findAll(function(ft){return ft.get("name")===nt})},xt}(Kt),fr=Xe,Pr=d(35374),vr=d(13681),Er=d(26257),xr=d(88122),Br=function(Pt){return["fill","stroke","fillStyle","strokeStyle"].includes(Pt)},ur=function(Pt){return/^[r,R,L,l]{1}[\s]*\(/.test(Pt)},Yr=[1,0,0,0,1,0,0,0,1];function Jr(Pt,xt,nt){var ft={},Bt=xt.fromAttrs,Ut=xt.toAttrs;if(!Pt.destroyed){var ce;for(var de in Ut)if(!(0,I.isEqual)(Bt[de],Ut[de]))if(de==="path"){var pe=Ut[de],ze=Bt[de];pe.length>ze.length?(pe=T(Ut[de]),ze=T(Bt[de]),ze=f(ze,pe),ze=Rt(ze,pe),xt.fromAttrs.path=ze,xt.toAttrs.path=pe):xt.pathFormatted||(pe=T(Ut[de]),ze=T(Bt[de]),ze=Rt(ze,pe),xt.fromAttrs.path=ze,xt.toAttrs.path=pe,xt.pathFormatted=!0),ft[de]=[];for(var Qe=0;Qe<pe.length;Qe++){for(var Ue=pe[Qe],Sr=ze[Qe],dr=[],Ve=0;Ve<Ue.length;Ve++)(0,I.isNumber)(Ue[Ve])&&Sr&&(0,I.isNumber)(Sr[Ve])?(ce=(0,Er.Z)(Sr[Ve],Ue[Ve]),dr.push(ce(nt))):dr.push(Ue[Ve]);ft[de].push(dr)}}else if(de==="matrix"){var Dr=(0,xr.Z)(Bt[de]||Yr,Ut[de]||Yr),qr=Dr(nt);ft[de]=qr}else Br(de)&&ur(Ut[de])?ft[de]=Ut[de]:(0,I.isFunction)(Ut[de])||(ce=(0,Er.Z)(Bt[de],Ut[de]),ft[de]=ce(nt));Pt.attr(ft)}}function jr(Pt,xt,nt){var ft=xt.startTime,Bt=xt.delay;if(nt<ft+Bt||xt._paused)return!1;var Ut,ce=xt.duration,de=xt.easing;if(nt=nt-ft-xt.delay,xt.repeat)Ut=nt%ce/ce,Ut=vr[de](Ut);else if(Ut=nt/ce,Ut<1)Ut=vr[de](Ut);else return xt.onFrame?Pt.attr(xt.onFrame(1)):Pt.attr(xt.toAttrs),!0;if(xt.onFrame){var pe=xt.onFrame(Ut);Pt.attr(pe)}else Jr(Pt,xt,Ut);return!1}var Qr=function(){function Pt(xt){this.animators=[],this.current=0,this.timer=null,this.canvas=xt}return Pt.prototype.initTimer=function(){var xt=this,nt=!1,ft,Bt,Ut;this.timer=Pr.HT(function(ce){if(xt.current=ce,xt.animators.length>0){for(var de=xt.animators.length-1;de>=0;de--){if(ft=xt.animators[de],ft.destroyed){xt.removeAnimator(de);continue}if(!ft.isAnimatePaused()){Bt=ft.get("animations");for(var pe=Bt.length-1;pe>=0;pe--)Ut=Bt[pe],nt=jr(ft,Ut,ce),nt&&(Bt.splice(pe,1),nt=!1,Ut.callback&&Ut.callback())}Bt.length===0&&xt.removeAnimator(de)}var ze=xt.canvas.get("autoDraw");ze||xt.canvas.draw()}})},Pt.prototype.addAnimator=function(xt){this.animators.push(xt)},Pt.prototype.removeAnimator=function(xt){this.animators.splice(xt,1)},Pt.prototype.isAnimating=function(){return!!this.animators.length},Pt.prototype.stop=function(){this.timer&&this.timer.stop()},Pt.prototype.stopAllAnimations=function(xt){xt===void 0&&(xt=!0),this.animators.forEach(function(nt){nt.stopAnimate(xt)}),this.animators=[],this.canvas.draw()},Pt.prototype.getTime=function(){return this.current},Pt}(),jt=Qr,Zt=40,ee=0,ye=":",Ce=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Le(Pt,xt){for(var nt in Pt)if(Pt.hasOwnProperty(nt)&&nt.indexOf(ye+xt)>=0)return!0;return!1}function tr(Pt,xt,nt){nt.name=xt,nt.target=Pt,nt.currentTarget=Pt,nt.delegateTarget=Pt,Pt.emit(xt,nt)}function sr(Pt,xt,nt){if(nt.bubbles){var ft=void 0,Bt=!1;if(xt==="mouseenter"?(ft=nt.fromShape,Bt=!0):xt==="mouseleave"&&(Bt=!0,ft=nt.toShape),Pt.isCanvas()&&Bt)return;if(ft&&Vt(Pt,ft)){nt.bubbles=!1;return}nt.name=xt,nt.currentTarget=Pt,nt.delegateTarget=Pt,Pt.emit(xt,nt)}}var Gr=function(){function Pt(xt){var nt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ft){var Bt=ft.type;nt._triggerEvent(Bt,ft)},this._onDocumentMove=function(ft){var Bt=nt.canvas,Ut=Bt.get("el");if(Ut!==ft.target&&(nt.dragging||nt.currentShape)){var ce=nt._getPointInfo(ft);nt.dragging&&nt._emitEvent("drag",ft,ce,nt.draggingShape)}},this._onDocumentMouseUp=function(ft){var Bt=nt.canvas,Ut=Bt.get("el");if(Ut!==ft.target&&nt.dragging){var ce=nt._getPointInfo(ft);nt.draggingShape&&nt._emitEvent("drop",ft,ce,null),nt._emitEvent("dragend",ft,ce,nt.draggingShape),nt._afterDrag(nt.draggingShape,ce,ft)}},this.canvas=xt.canvas}return Pt.prototype.init=function(){this._bindEvents()},Pt.prototype._bindEvents=function(){var xt=this,nt=this.canvas.get("el");(0,at.default)(Ce,function(ft){nt.addEventListener(ft,xt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Pt.prototype._clearEvents=function(){var xt=this,nt=this.canvas.get("el");(0,at.default)(Ce,function(ft){nt.removeEventListener(ft,xt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Pt.prototype._getEventObj=function(xt,nt,ft,Bt,Ut,ce){var de=new zt(xt,nt);return de.fromShape=Ut,de.toShape=ce,de.x=ft.x,de.y=ft.y,de.clientX=ft.clientX,de.clientY=ft.clientY,de.propagationPath.push(Bt),de},Pt.prototype._getShape=function(xt,nt){return this.canvas.getShape(xt.x,xt.y,nt)},Pt.prototype._getPointInfo=function(xt){var nt=this.canvas,ft=nt.getClientByEvent(xt),Bt=nt.getPointByEvent(xt);return{x:Bt.x,y:Bt.y,clientX:ft.x,clientY:ft.y}},Pt.prototype._triggerEvent=function(xt,nt){var ft=this._getPointInfo(nt),Bt=this._getShape(ft,nt),Ut=this["_on"+xt],ce=!1;if(Ut)Ut.call(this,ft,Bt,nt);else{var de=this.currentShape;xt==="mouseenter"||xt==="dragenter"||xt==="mouseover"?(this._emitEvent(xt,nt,ft,null,null,Bt),Bt&&this._emitEvent(xt,nt,ft,Bt,null,Bt),xt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",nt,ft,null)):xt==="mouseleave"||xt==="dragleave"||xt==="mouseout"?(ce=!0,de&&this._emitEvent(xt,nt,ft,de,de,null),this._emitEvent(xt,nt,ft,null,de,null),xt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",nt,ft,null)):this._emitEvent(xt,nt,ft,Bt,null,null)}if(ce||(this.currentShape=Bt),Bt&&!Bt.get("destroyed")){var pe=this.canvas,ze=pe.get("el");ze.style.cursor=Bt.attr("cursor")||pe.get("cursor")}},Pt.prototype._onmousedown=function(xt,nt,ft){ft.button===ee&&(this.mousedownShape=nt,this.mousedownPoint=xt,this.mousedownTimeStamp=ft.timeStamp),this._emitEvent("mousedown",ft,xt,nt,null,null)},Pt.prototype._emitMouseoverEvents=function(xt,nt,ft,Bt){var Ut=this.canvas.get("el");ft!==Bt&&(ft&&(this._emitEvent("mouseout",xt,nt,ft,ft,Bt),this._emitEvent("mouseleave",xt,nt,ft,ft,Bt),(!Bt||Bt.get("destroyed"))&&(Ut.style.cursor=this.canvas.get("cursor"))),Bt&&(this._emitEvent("mouseover",xt,nt,Bt,ft,Bt),this._emitEvent("mouseenter",xt,nt,Bt,ft,Bt)))},Pt.prototype._emitDragoverEvents=function(xt,nt,ft,Bt,Ut){Bt?(Bt!==ft&&(ft&&this._emitEvent("dragleave",xt,nt,ft,ft,Bt),this._emitEvent("dragenter",xt,nt,Bt,ft,Bt)),Ut||this._emitEvent("dragover",xt,nt,Bt)):ft&&this._emitEvent("dragleave",xt,nt,ft,ft,Bt),Ut&&this._emitEvent("dragover",xt,nt,Bt)},Pt.prototype._afterDrag=function(xt,nt,ft){xt&&(xt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Bt=this._getShape(nt,ft);Bt!==xt&&this._emitMouseoverEvents(ft,nt,xt,Bt),this.currentShape=Bt},Pt.prototype._onmouseup=function(xt,nt,ft){if(ft.button===ee){var Bt=this.draggingShape;this.dragging?(Bt&&this._emitEvent("drop",ft,xt,nt),this._emitEvent("dragend",ft,xt,Bt),this._afterDrag(Bt,xt,ft)):(this._emitEvent("mouseup",ft,xt,nt),nt===this.mousedownShape&&this._emitEvent("click",ft,xt,nt),this.mousedownShape=null,this.mousedownPoint=null)}},Pt.prototype._ondragover=function(xt,nt,ft){ft.preventDefault();var Bt=this.currentShape;this._emitDragoverEvents(ft,xt,Bt,nt,!0)},Pt.prototype._onmousemove=function(xt,nt,ft){var Bt=this.canvas,Ut=this.currentShape,ce=this.draggingShape;if(this.dragging)ce&&this._emitDragoverEvents(ft,xt,Ut,nt,!1),this._emitEvent("drag",ft,xt,ce);else{var de=this.mousedownPoint;if(de){var pe=this.mousedownShape,ze=ft.timeStamp,Qe=ze-this.mousedownTimeStamp,Ue=de.clientX-xt.clientX,Sr=de.clientY-xt.clientY,dr=Ue*Ue+Sr*Sr;Qe>120||dr>Zt?pe&&pe.get("draggable")?(ce=this.mousedownShape,ce.set("capture",!1),this.draggingShape=ce,this.dragging=!0,this._emitEvent("dragstart",ft,xt,ce),this.mousedownShape=null,this.mousedownPoint=null):!pe&&Bt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ft,xt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ft,xt,Ut,nt),this._emitEvent("mousemove",ft,xt,nt)):(this._emitMouseoverEvents(ft,xt,Ut,nt),this._emitEvent("mousemove",ft,xt,nt))}else this._emitMouseoverEvents(ft,xt,Ut,nt),this._emitEvent("mousemove",ft,xt,nt)}},Pt.prototype._emitEvent=function(xt,nt,ft,Bt,Ut,ce){var de=this._getEventObj(xt,nt,ft,Bt,Ut,ce);if(Bt){de.shape=Bt,tr(Bt,xt,de);for(var pe=Bt.getParent();pe;)pe.emitDelegation(xt,de),de.propagationStopped||sr(pe,xt,de),de.propagationPath.push(pe),pe=pe.getParent()}else{var ze=this.canvas;tr(ze,xt,de)}},Pt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Pt}(),Ne=Gr,Lr="px",bn=(0,We.detect)(),On=bn&&bn.name==="firefox",vn=function(Pt){(0,$t.__extends)(xt,Pt);function xt(nt){var ft=Pt.call(this,nt)||this;return ft.initContainer(),ft.initDom(),ft.initEvents(),ft.initTimeline(),ft}return xt.prototype.getDefaultCfg=function(){var nt=Pt.prototype.getDefaultCfg.call(this);return nt.cursor="default",nt.supportCSSTransform=!1,nt},xt.prototype.initContainer=function(){var nt=this.get("container");(0,It.default)(nt)&&(nt=document.getElementById(nt),this.set("container",nt))},xt.prototype.initDom=function(){var nt=this.createDom();this.set("el",nt);var ft=this.get("container");ft.appendChild(nt),this.setDOMSize(this.get("width"),this.get("height"))},xt.prototype.initEvents=function(){var nt=new Ne({canvas:this});nt.init(),this.set("eventController",nt)},xt.prototype.initTimeline=function(){var nt=new jt(this);this.set("timeline",nt)},xt.prototype.setDOMSize=function(nt,ft){var Bt=this.get("el");Ot&&(Bt.style.width=nt+Lr,Bt.style.height=ft+Lr)},xt.prototype.changeSize=function(nt,ft){this.setDOMSize(nt,ft),this.set("width",nt),this.set("height",ft),this.onCanvasChange("changeSize")},xt.prototype.getRenderer=function(){return this.get("renderer")},xt.prototype.getCursor=function(){return this.get("cursor")},xt.prototype.setCursor=function(nt){this.set("cursor",nt);var ft=this.get("el");Ot&&ft&&(ft.style.cursor=nt)},xt.prototype.getPointByEvent=function(nt){var ft=this.get("supportCSSTransform");if(ft){if(On&&!(0,ae.default)(nt.layerX)&&nt.layerX!==nt.offsetX)return{x:nt.layerX,y:nt.layerY};if(!(0,ae.default)(nt.offsetX))return{x:nt.offsetX,y:nt.offsetY}}var Bt=this.getClientByEvent(nt),Ut=Bt.x,ce=Bt.y;return this.getPointByClient(Ut,ce)},xt.prototype.getClientByEvent=function(nt){var ft=nt;return nt.touches&&(nt.type==="touchend"?ft=nt.changedTouches[0]:ft=nt.touches[0]),{x:ft.clientX,y:ft.clientY}},xt.prototype.getPointByClient=function(nt,ft){var Bt=this.get("el"),Ut=Bt.getBoundingClientRect();return{x:nt-Ut.left,y:ft-Ut.top}},xt.prototype.getClientByPoint=function(nt,ft){var Bt=this.get("el"),Ut=Bt.getBoundingClientRect();return{x:nt+Ut.left,y:ft+Ut.top}},xt.prototype.draw=function(){},xt.prototype.removeDom=function(){var nt=this.get("el");nt.parentNode.removeChild(nt)},xt.prototype.clearEvents=function(){var nt=this.get("eventController");nt.destroy()},xt.prototype.isCanvas=function(){return!0},xt.prototype.getParent=function(){return null},xt.prototype.destroy=function(){var nt=this.get("timeline");this.get("destroyed")||(this.clear(),nt&&nt.stop(),this.clearEvents(),this.removeDom(),Pt.prototype.destroy.call(this))},xt}(fr),wn=vn,fi=function(Pt){(0,$t.__extends)(xt,Pt);function xt(){return Pt!==null&&Pt.apply(this,arguments)||this}return xt.prototype.isGroup=function(){return!0},xt.prototype.isEntityGroup=function(){return!1},xt.prototype.clone=function(){for(var nt=Pt.prototype.clone.call(this),ft=this.getChildren(),Bt=0;Bt<ft.length;Bt++){var Ut=ft[Bt];nt.add(Ut.clone())}return nt},xt}(fr),si=fi,bi=function(Pt){(0,$t.__extends)(xt,Pt);function xt(nt){return Pt.call(this,nt)||this}return xt.prototype._isInBBox=function(nt,ft){var Bt=this.getBBox();return Bt.minX<=nt&&Bt.maxX>=nt&&Bt.minY<=ft&&Bt.maxY>=ft},xt.prototype.afterAttrsChange=function(nt){Pt.prototype.afterAttrsChange.call(this,nt),this.clearCacheBBox()},xt.prototype.getBBox=function(){var nt=this.get("bbox");return nt||(nt=this.calculateBBox(),this.set("bbox",nt)),nt},xt.prototype.getCanvasBBox=function(){var nt=this.get("canvasBox");return nt||(nt=this.calculateCanvasBBox(),this.set("canvasBox",nt)),nt},xt.prototype.applyMatrix=function(nt){Pt.prototype.applyMatrix.call(this,nt),this.set("canvasBox",null)},xt.prototype.calculateCanvasBBox=function(){var nt=this.getBBox(),ft=this.getTotalMatrix(),Bt=nt.minX,Ut=nt.minY,ce=nt.maxX,de=nt.maxY;if(ft){var pe=br(ft,[nt.minX,nt.minY]),ze=br(ft,[nt.maxX,nt.minY]),Qe=br(ft,[nt.minX,nt.maxY]),Ue=br(ft,[nt.maxX,nt.maxY]);Bt=Math.min(pe[0],ze[0],Qe[0],Ue[0]),ce=Math.max(pe[0],ze[0],Qe[0],Ue[0]),Ut=Math.min(pe[1],ze[1],Qe[1],Ue[1]),de=Math.max(pe[1],ze[1],Qe[1],Ue[1])}var Sr=this.attrs;if(Sr.shadowColor){var dr=Sr.shadowBlur,Ve=dr===void 0?0:dr,Dr=Sr.shadowOffsetX,qr=Dr===void 0?0:Dr,hn=Sr.shadowOffsetY,ln=hn===void 0?0:hn,Or=Bt-Ve+qr,hr=ce+Ve+qr,un=Ut-Ve+ln,Yn=de+Ve+ln;Bt=Math.min(Bt,Or),ce=Math.max(ce,hr),Ut=Math.min(Ut,un),de=Math.max(de,Yn)}return{x:Bt,y:Ut,minX:Bt,minY:Ut,maxX:ce,maxY:de,width:ce-Bt,height:de-Ut}},xt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},xt.prototype.isClipShape=function(){return this.get("isClipShape")},xt.prototype.isInShape=function(nt,ft){return!1},xt.prototype.isOnlyHitBox=function(){return!1},xt.prototype.isHit=function(nt,ft){var Bt=this.get("startArrowShape"),Ut=this.get("endArrowShape"),ce=[nt,ft,1];ce=this.invertFromMatrix(ce);var de=ce[0],pe=ce[1],ze=this._isInBBox(de,pe);return this.isOnlyHitBox()?ze:!!(ze&&!this.isClipped(de,pe)&&(this.isInShape(de,pe)||Bt&&Bt.isHit(de,pe)||Ut&&Ut.isHit(de,pe)))},xt}(Kt),Gn=bi,Hi=d(76062),Wi=Hi.version},40455:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var I=m.attr(),k=I.x,L=I.y,P=I.r;return{x:k-P,y:L-P,width:P*2,height:P*2}}S.default=d},27633:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var I=m.attr(),k=I.x,L=I.y,P=I.rx,T=I.ry;return{x:k-P,y:L-T,width:P*2,height:T*2}}S.default=d},41056:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(28648);S.b=I.getMethod;var k=d(3541),L=d(40455),P=d(10687),T=d(19914),M=d(92933),A=d(89372),p=d(74461),w=d(27633);I.register("rect",k.default),I.register("image",k.default),I.register("circle",L.default),I.register("marker",L.default),I.register("polyline",P.default),I.register("polygon",T.default),I.register("text",M.default),I.register("path",A.default),I.register("line",p.default),I.register("ellipse",w.default)},74461:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(3406);function I(k){var L=k.attr(),P=L.x1,T=L.y1,M=L.x2,A=L.y2,p=Math.min(P,M),w=Math.max(P,M),y=Math.min(T,A),b=Math.max(T,A),x={minX:p,maxX:w,minY:y,maxY:b};return x=m.mergeArrowBBox(k,x),{x:x.minX,y:x.minY,width:x.maxX-x.minX,height:x.maxY-x.minY}}S.default=I},89372:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(2879),I=d(15730),k=d(33418),L=d(49274),P=d(39984),T=d(3406);function M(w,y){for(var b=[],x=[],E=[],O=0;O<w.length;O++){var D=w[O],N=D.currentPoint,z=D.params,W=D.prePoint,X=void 0;switch(D.command){case"Q":X=m.default.box(W[0],W[1],z[1],z[2],z[3],z[4]);break;case"C":X=I.default.box(W[0],W[1],z[1],z[2],z[3],z[4],z[5],z[6]);break;case"A":var j=D.arcParams;X=k.default.box(j.cx,j.cy,j.rx,j.ry,j.xRotation,j.startAngle,j.endAngle);break;default:b.push(N[0]),x.push(N[1]);break}X&&(D.box=X,b.push(X.x,X.x+X.width),x.push(X.y,X.y+X.height)),y&&(D.command==="L"||D.command==="M")&&D.prePoint&&D.nextPoint&&E.push(D)}b=b.filter(function(et){return!Number.isNaN(et)}),x=x.filter(function(et){return!Number.isNaN(et)});var tt=Math.min.apply(null,b),K=Math.min.apply(null,x),wt=Math.max.apply(null,b),ot=Math.max.apply(null,x);if(E.length===0)return{x:tt,y:K,width:wt-tt,height:ot-K};for(var O=0;O<E.length;O++){var D=E[O],N=D.currentPoint,vt=void 0;N[0]===tt?(vt=A(D,y),tt=tt-vt.xExtra):N[0]===wt&&(vt=A(D,y),wt=wt+vt.xExtra),N[1]===K?(vt=A(D,y),K=K-vt.yExtra):N[1]===ot&&(vt=A(D,y),ot=ot+vt.yExtra)}return{x:tt,y:K,width:wt-tt,height:ot-K}}function A(w,y){var b=w.prePoint,x=w.currentPoint,E=w.nextPoint,O=Math.pow(x[0]-b[0],2)+Math.pow(x[1]-b[1],2),D=Math.pow(x[0]-E[0],2)+Math.pow(x[1]-E[1],2),N=Math.pow(b[0]-E[0],2)+Math.pow(b[1]-E[1],2),z=Math.acos((O+D-N)/(2*Math.sqrt(O)*Math.sqrt(D)));if(!z||Math.sin(z)===0||P.default(z,0))return{xExtra:0,yExtra:0};var W=Math.abs(Math.atan2(E[1]-x[1],E[0]-x[0])),X=Math.abs(Math.atan2(E[0]-x[0],E[1]-x[1]));W=W>Math.PI/2?Math.PI-W:W,X=X>Math.PI/2?Math.PI-X:X;var j={xExtra:Math.cos(z/2-W)*(y/2*(1/Math.sin(z/2)))-y/2||0,yExtra:Math.cos(X-z/2)*(y/2*(1/Math.sin(z/2)))-y/2||0};return j}function p(w){var y=w.attr(),b=y.path,x=y.stroke,E=x?y.lineWidth:0,O=w.get("segments")||L.default(b),D=M(O,E),N=D.x,z=D.y,W=D.width,X=D.height,j={minX:N,minY:z,maxX:N+W,maxY:z+X};return j=T.mergeArrowBBox(w,j),{x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY}}S.default=p},19914:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function I(k){for(var L=k.attr(),P=L.points,T=[],M=[],A=0;A<P.length;A++){var p=P[A];T.push(p[0]),M.push(p[1])}return m.getBBoxByArray(T,M)}S.default=I},10687:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),I=d(3406);function k(L){for(var P=L.attr(),T=P.points,M=[],A=[],p=0;p<T.length;p++){var w=T[p];M.push(w[0]),A.push(w[1])}var y=m.getBBoxByArray(M,A),b=y.x,x=y.y,E=y.width,O=y.height,D={minX:b,minY:x,maxX:b+E,maxY:x+O};return D=I.mergeArrowBBox(L,D),{x:D.minX,y:D.minY,width:D.maxX-D.minX,height:D.maxY-D.minY}}S.default=k},3541:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var I=m.attr(),k=I.x,L=I.y,P=I.width,T=I.height;return{x:k,y:L,width:P,height:T}}S.default=d},28648:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function m(k,L){d.set(k,L)}S.register=m;function I(k){return d.get(k)}S.getMethod=I},92933:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(8914);function I(k){var L=k.attr(),P=L.x,T=L.y,M=L.text,A=L.fontSize,p=L.lineHeight,w=L.font;w||(w=m.assembleFont(L));var y=m.getTextWidth(M,w),b;if(!y)b={x:P,y:T,width:0,height:0};else{var x=L.textAlign,E=L.textBaseline,O=m.getTextHeight(M,A,p),D={x:P,y:T-O};x&&(x==="end"||x==="right"?D.x-=y:x==="center"&&(D.x-=y/2)),E&&(E==="top"?D.y+=O:E==="middle"&&(D.y+=O/2)),b={x:D.x,y:D.y,width:y,height:O}}return b}S.default=I},3406:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(I,k){return!I||!k?I||k:{minX:Math.min(I.minX,k.minX),minY:Math.min(I.minY,k.minY),maxX:Math.max(I.maxX,k.maxX),maxY:Math.max(I.maxY,k.maxY)}}S.mergeBBox=d;function m(I,k){var L=I.get("startArrowShape"),P=I.get("endArrowShape"),T=null,M=null;return L&&(T=L.getCanvasBBox(),k=d(k,T)),P&&(M=P.getCanvasBBox(),k=d(k,M)),k}S.mergeArrowBBox=m},66192:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(I,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=k,this.timeStamp=k.timeStamp}return m.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},m.prototype.stopPropagation=function(){this.propagationStopped=!0},m.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},m.prototype.save=function(){},m.prototype.restore=function(){},m}();S.default=d},85424:function(ct,S){"use strict";var d;d={value:!0}},4555:function(ct,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(ct,S){"use strict";var d;d={value:!0};function m(L,P){var T=[],M=L[0],A=L[1],p=L[2],w=L[3],y=L[4],b=L[5],x=L[6],E=L[7],O=L[8],D=P[0],N=P[1],z=P[2],W=P[3],X=P[4],j=P[5],tt=P[6],K=P[7],wt=P[8];return T[0]=D*M+N*w+z*x,T[1]=D*A+N*y+z*E,T[2]=D*p+N*b+z*O,T[3]=W*M+X*w+j*x,T[4]=W*A+X*y+j*E,T[5]=W*p+X*b+j*O,T[6]=tt*M+K*w+wt*x,T[7]=tt*A+K*y+wt*E,T[8]=tt*p+K*b+wt*O,T}d=m;function I(L,P){var T=[],M=P[0],A=P[1];return T[0]=L[0]*M+L[3]*A+L[6],T[1]=L[1]*M+L[4]*A+L[7],T}S.rG=I;function k(L){var P=[],T=L[0],M=L[1],A=L[2],p=L[3],w=L[4],y=L[5],b=L[6],x=L[7],E=L[8],O=E*w-y*x,D=-E*p+y*b,N=x*p-w*b,z=T*O+M*D+A*N;return z?(z=1/z,P[0]=O*z,P[1]=(-E*M+A*x)*z,P[2]=(y*M-A*w)*z,P[3]=D*z,P[4]=(E*T-A*b)*z,P[5]=(-y*T+A*p)*z,P[6]=N*z,P[7]=(-x*T+M*b)*z,P[8]=(w*T-M*p)*z,P):null}S.U_=k},26632:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function m(){if(!d){var I=document.createElement("canvas");I.width=1,I.height=1,d=I.getContext("2d")}return d}S.getOffScreenContext=m},8914:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(22487),I=d(26632);function k(M,A,p){var w=1;if(m.isString(M)&&(w=M.split(`
`).length),w>1){var y=L(A,p);return A*w+y*(w-1)}return A}S.getTextHeight=k;function L(M,A){return A?A-M:M*.14}S.getLineSpaceing=L;function P(M,A){var p=I.getOffScreenContext(),w=0;if(m.isNil(M)||M==="")return w;if(p.save(),p.font=A,m.isString(M)&&M.includes(`
`)){var y=M.split(`
`);m.each(y,function(b){var x=p.measureText(b).width;w<x&&(w=x)})}else w=p.measureText(M).width;return p.restore(),w}S.getTextWidth=P;function T(M){var A=M.fontSize,p=M.fontFamily,w=M.fontWeight,y=M.fontStyle,b=M.fontVariant;return[y,b,w,A+"px",p].join(" ").trim()}S.assembleFont=T},22487:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function m(b,x){var E=b.indexOf(x);E!==-1&&b.splice(E,1)}S.removeFromArray=m,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var I=d(73890);S.isNil=I.default;var k=d(46812);S.isFunction=k.default;var L=d(21830);S.isString=L.default;var P=d(33643);S.isObject=P.default;var T=d(66631);S.isArray=T.default;var M=d(66974);S.mix=M.default;var A=d(27154);S.each=A.default;var p=d(85260);S.upperFirst=p.default;function w(b,x){if(b.isCanvas())return!0;for(var E=x.getParent(),O=!1;E;){if(E===b){O=!0;break}E=E.getParent()}return O}S.isParent=w;function y(b){return b.cfg.visible&&b.cfg.capture}S.isAllowCapture=y},76062:function(ct){"use strict";ct.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-base@0.4.7","E:\\\\node\\\\antd-pro\\\\myapp_complete"]],"_from":"@antv/g-base@0.4.7","_id":"@antv/g-base@0.4.7","_inBundle":false,"_integrity":"sha512-wKSpS3/M1slU92iOgi2QV4MCd82J1d2PyPcQArqSFRUZU0KnVMIl95v79dG0Be4YvFaZ3bVrT6Ns1Czr8oplhA==","_location":"/@antv/g-base","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-base@0.4.7","name":"@antv/g-base","escapedName":"@antv%2fg-base","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@antv/component","/@antv/g-canvas","/@antv/g-svg","/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmmirror.com/@antv/g-base/-/g-base-0.4.7.tgz","_spec":"0.4.7","_where":"E:\\\\node\\\\antd-pro\\\\myapp_complete","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/util/issues"},"dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"description":"A common util collection for antv projects","devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"files":["package.json","esm","lib","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/util#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-base","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","clean":"rm -rf esm lib","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc"},"types":"lib/index.d.ts","version":"0.4.7"}')},84909:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(48465);function k(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function L(M,A){return k(M)*k(A)?(M[0]*A[0]+M[1]*A[1])/(k(M)*k(A)):1}function P(M,A){return(M[0]*A[1]<M[1]*A[0]?-1:1)*Math.acos(L(M,A))}function T(M,A){var p=A[1],w=A[2],y=I.mod(I.toRadian(A[3]),Math.PI*2),b=A[4],x=A[5],E=M[0],O=M[1],D=A[6],N=A[7],z=Math.cos(y)*(E-D)/2+Math.sin(y)*(O-N)/2,W=-1*Math.sin(y)*(E-D)/2+Math.cos(y)*(O-N)/2,X=z*z/(p*p)+W*W/(w*w);X>1&&(p*=Math.sqrt(X),w*=Math.sqrt(X));var j=p*p*(W*W)+w*w*(z*z),tt=j?Math.sqrt((p*p*(w*w)-j)/j):1;b===x&&(tt*=-1),isNaN(tt)&&(tt=0);var K=w?tt*p*W/w:0,wt=p?tt*-w*z/p:0,ot=(E+D)/2+Math.cos(y)*K-Math.sin(y)*wt,vt=(O+N)/2+Math.sin(y)*K+Math.cos(y)*wt,et=[(z-K)/p,(W-wt)/w],lt=[(-1*z-K)/p,(-1*W-wt)/w],dt=P([1,0],et),it=P(et,lt);return L(et,lt)<=-1&&(it=Math.PI),L(et,lt)>=1&&(it=0),x===0&&it>0&&(it=it-2*Math.PI),x===1&&it<0&&(it=it+2*Math.PI),{cx:ot,cy:vt,rx:I.isSamePoint(M,[D,N])?0:p,ry:I.isSamePoint(M,[D,N])?0:w,startAngle:dt,endAngle:dt+it,xRotation:y,arcFlag:b,sweepFlag:x}}S.Z=T},48465:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function I(N,z,W,X){var j=N-W,tt=z-X;return Math.sqrt(j*j+tt*tt)}S.distance=I;function k(N,z,W,X,j,tt){return j>=N&&j<=N+W&&tt>=z&&tt<=z+X}S.inBox=k;function L(N,z){return!(z.minX>N.maxX||z.maxX<N.minX||z.minY>N.maxY||z.maxY<N.minY)}S.intersectRect=L;function P(N,z){return!N||!z?N||z:{minX:Math.min(N.minX,z.minX),minY:Math.min(N.minY,z.minY),maxX:Math.max(N.maxX,z.maxX),maxY:Math.max(N.maxY,z.maxY)}}S.mergeRegion=P;function T(N,z){return N[0]===z[0]&&N[1]===z[1]}S.isSamePoint=T;var M=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.default}});var A=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return A.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return w.default}});var y=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var b=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return b.default}});var x=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return x.default}});var E=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return E.default}});var O=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return O.default}});var D=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return D.default}})},71270:function(ct){"use strict";ct.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-canvas@0.4.15","E:\\\\node\\\\antd-pro\\\\myapp_complete"]],"_from":"@antv/g-canvas@0.4.15","_id":"@antv/g-canvas@0.4.15","_inBundle":false,"_integrity":"sha512-+Du37T7dhU1F8GiaWu+EMtBDHoYOg8UzCoVBFD+cUEs/joLaOVkup3drvGC/6MSyLiI32y/ZHuuc08pZIP7PzA==","_location":"/@antv/g-canvas","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-canvas@0.4.15","name":"@antv/g-canvas","escapedName":"@antv%2fg-canvas","scope":"@antv","rawSpec":"0.4.15","saveSpec":null,"fetchSpec":"0.4.15"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmmirror.com/@antv/g-canvas/-/g-canvas-0.4.15.tgz","_spec":"0.4.15","_where":"E:\\\\node\\\\antd-pro\\\\myapp_complete","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-canvas","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","dist":"webpack --config webpack.config.js --mode production","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.15"}')},89838:function(ct,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return yt},Cubic:function(){return ot},Line:function(){return w},Polygon:function(){return Wt},Polyline:function(){return ne},Quad:function(){return W},Util:function(){return m}});var m={};d.r(m),d.d(m,{distance:function(){return L},getBBoxByArray:function(){return T},getBBoxRange:function(){return M},isNumberEqual:function(){return P},piMod:function(){return A}});function I(It){return Math.min.apply(null,It)}function k(It){return Math.max.apply(null,It)}function L(It,Ct,ht,Et){var at=It-ht,Q=Ct-Et;return Math.sqrt(at*at+Q*Q)}function P(It,Ct){return Math.abs(It-Ct)<.001}function T(It,Ct){var ht=I(It),Et=I(Ct),at=k(It),Q=k(Ct);return{x:ht,y:Et,width:at-ht,height:Q-Et}}function M(It,Ct,ht,Et){return{minX:I([It,ht]),maxX:k([It,ht]),minY:I([Ct,Et]),maxY:k([Ct,Et])}}function A(It){return(It+Math.PI*2)%(Math.PI*2)}var p=d(31437),w={box:function(It,Ct,ht,Et){return T([It,ht],[Ct,Et])},length:function(It,Ct,ht,Et){return L(It,Ct,ht,Et)},pointAt:function(It,Ct,ht,Et,at){return{x:(1-at)*It+at*ht,y:(1-at)*Ct+at*Et}},pointDistance:function(It,Ct,ht,Et,at,Q){var bt=(ht-It)*(at-It)+(Et-Ct)*(Q-Ct);if(bt<0)return L(It,Ct,at,Q);var Ot=(ht-It)*(ht-It)+(Et-Ct)*(Et-Ct);return bt>Ot?L(ht,Et,at,Q):this.pointToLine(It,Ct,ht,Et,at,Q)},pointToLine:function(It,Ct,ht,Et,at,Q){var bt=[ht-It,Et-Ct];if(p.exactEquals(bt,[0,0]))return Math.sqrt((at-It)*(at-It)+(Q-Ct)*(Q-Ct));var Ot=[-bt[1],bt[0]];p.normalize(Ot,Ot);var Vt=[at-It,Q-Ct];return Math.abs(p.dot(Vt,Ot))},tangentAngle:function(It,Ct,ht,Et){return Math.atan2(Et-Ct,ht-It)}},y=1e-4;function b(It,Ct,ht,Et,at,Q){var bt,Ot=Infinity,Vt=[ht,Et],ue=20;Q&&Q>200&&(ue=Q/10);for(var Se=1/ue,Re=Se/10,We=0;We<=ue;We++){var mr=We*Se,wr=[at.apply(null,It.concat([mr])),at.apply(null,Ct.concat([mr]))],br=L(Vt[0],Vt[1],wr[0],wr[1]);br<Ot&&(bt=mr,Ot=br)}if(bt===0)return{x:It[0],y:Ct[0]};if(bt===1){var zr=It.length;return{x:It[zr-1],y:Ct[zr-1]}}Ot=Infinity;for(var We=0;We<32&&!(Re<y);We++){var pr=bt-Re,an=bt+Re,wr=[at.apply(null,It.concat([pr])),at.apply(null,Ct.concat([pr]))],br=L(Vt[0],Vt[1],wr[0],wr[1]);if(pr>=0&&br<Ot)bt=pr,Ot=br;else{var Tn=[at.apply(null,It.concat([an])),at.apply(null,Ct.concat([an]))],rn=L(Vt[0],Vt[1],Tn[0],Tn[1]);an<=1&&rn<Ot?(bt=an,Ot=rn):Re*=.5}}return{x:at.apply(null,It.concat([bt])),y:at.apply(null,Ct.concat([bt]))}}function x(It,Ct){for(var ht=0,Et=It.length,at=0;at<Et;at++){var Q=It[at],bt=Ct[at],Ot=It[(at+1)%Et],Vt=Ct[(at+1)%Et];ht+=L(Q,bt,Ot,Vt)}return ht/2}function E(It,Ct,ht,Et){var at=1-Et;return at*at*It+2*Et*at*Ct+Et*Et*ht}function O(It,Ct,ht){var Et=It+ht-2*Ct;if(P(Et,0))return[.5];var at=(It-Ct)/Et;return at<=1&&at>=0?[at]:[]}function D(It,Ct,ht,Et){return 2*(1-Et)*(Ct-It)+2*Et*(ht-Ct)}function N(It,Ct,ht,Et,at,Q,bt){var Ot=E(It,ht,at,bt),Vt=E(Ct,Et,Q,bt),ue=w.pointAt(It,Ct,ht,Et,bt),Se=w.pointAt(ht,Et,at,Q,bt);return[[It,Ct,ue.x,ue.y,Ot,Vt],[Ot,Vt,Se.x,Se.y,at,Q]]}function z(It,Ct,ht,Et,at,Q,bt){if(bt===0)return(L(It,Ct,ht,Et)+L(ht,Et,at,Q)+L(It,Ct,at,Q))/2;var Ot=N(It,Ct,ht,Et,at,Q,.5),Vt=Ot[0],ue=Ot[1];return Vt.push(bt-1),ue.push(bt-1),z.apply(null,Vt)+z.apply(null,ue)}var W={box:function(It,Ct,ht,Et,at,Q){var bt=O(It,ht,at)[0],Ot=O(Ct,Et,Q)[0],Vt=[It,at],ue=[Ct,Q];return bt!==void 0&&Vt.push(E(It,ht,at,bt)),Ot!==void 0&&ue.push(E(Ct,Et,Q,Ot)),T(Vt,ue)},length:function(It,Ct,ht,Et,at,Q){return z(It,Ct,ht,Et,at,Q,3)},nearestPoint:function(It,Ct,ht,Et,at,Q,bt,Ot){return b([It,ht,at],[Ct,Et,Q],bt,Ot,E)},pointDistance:function(It,Ct,ht,Et,at,Q,bt,Ot){var Vt=this.nearestPoint(It,Ct,ht,Et,at,Q,bt,Ot);return L(Vt.x,Vt.y,bt,Ot)},interpolationAt:E,pointAt:function(It,Ct,ht,Et,at,Q,bt){return{x:E(It,ht,at,bt),y:E(Ct,Et,Q,bt)}},divide:function(It,Ct,ht,Et,at,Q,bt){return N(It,Ct,ht,Et,at,Q,bt)},tangentAngle:function(It,Ct,ht,Et,at,Q,bt){var Ot=D(It,ht,at,bt),Vt=D(Ct,Et,Q,bt),ue=Math.atan2(Vt,Ot);return A(ue)}};function X(It,Ct,ht,Et,at){var Q=1-at;return Q*Q*Q*It+3*Ct*at*Q*Q+3*ht*at*at*Q+Et*at*at*at}function j(It,Ct,ht,Et,at){var Q=1-at;return 3*(Q*Q*(Ct-It)+2*Q*at*(ht-Ct)+at*at*(Et-ht))}function tt(It,Ct,ht,Et){var at=-3*It+9*Ct-9*ht+3*Et,Q=6*It-12*Ct+6*ht,bt=3*Ct-3*It,Ot=[],Vt,ue,Se;if(P(at,0))P(Q,0)||(Vt=-bt/Q,Vt>=0&&Vt<=1&&Ot.push(Vt));else{var Re=Q*Q-4*at*bt;P(Re,0)?Ot.push(-Q/(2*at)):Re>0&&(Se=Math.sqrt(Re),Vt=(-Q+Se)/(2*at),ue=(-Q-Se)/(2*at),Vt>=0&&Vt<=1&&Ot.push(Vt),ue>=0&&ue<=1&&Ot.push(ue))}return Ot}function K(It,Ct,ht,Et,at,Q,bt,Ot,Vt){var ue=X(It,ht,at,bt,Vt),Se=X(Ct,Et,Q,Ot,Vt),Re=w.pointAt(It,Ct,ht,Et,Vt),We=w.pointAt(ht,Et,at,Q,Vt),mr=w.pointAt(at,Q,bt,Ot,Vt),wr=w.pointAt(Re.x,Re.y,We.x,We.y,Vt),br=w.pointAt(We.x,We.y,mr.x,mr.y,Vt);return[[It,Ct,Re.x,Re.y,wr.x,wr.y,ue,Se],[ue,Se,br.x,br.y,mr.x,mr.y,bt,Ot]]}function wt(It,Ct,ht,Et,at,Q,bt,Ot,Vt){if(Vt===0)return x([It,ht,at,bt],[Ct,Et,Q,Ot]);var ue=K(It,Ct,ht,Et,at,Q,bt,Ot,.5),Se=ue[0],Re=ue[1];return Se.push(Vt-1),Re.push(Vt-1),wt.apply(null,Se)+wt.apply(null,Re)}var ot={extrema:tt,box:function(It,Ct,ht,Et,at,Q,bt,Ot){for(var Vt=[It,bt],ue=[Ct,Ot],Se=tt(It,ht,at,bt),Re=tt(Ct,Et,Q,Ot),We=0;We<Se.length;We++)Vt.push(X(It,ht,at,bt,Se[We]));for(var We=0;We<Re.length;We++)ue.push(X(Ct,Et,Q,Ot,Re[We]));return T(Vt,ue)},length:function(It,Ct,ht,Et,at,Q,bt,Ot){return wt(It,Ct,ht,Et,at,Q,bt,Ot,3)},nearestPoint:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt,ue,Se){return b([It,ht,at,bt],[Ct,Et,Q,Ot],Vt,ue,X,Se)},pointDistance:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt,ue,Se){var Re=this.nearestPoint(It,Ct,ht,Et,at,Q,bt,Ot,Vt,ue,Se);return L(Re.x,Re.y,Vt,ue)},interpolationAt:X,pointAt:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt){return{x:X(It,ht,at,bt,Vt),y:X(Ct,Et,Q,Ot,Vt)}},divide:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt){return K(It,Ct,ht,Et,at,Q,bt,Ot,Vt)},tangentAngle:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt){var ue=j(It,ht,at,bt,Vt),Se=j(Ct,Et,Q,Ot,Vt);return A(Math.atan2(Se,ue))}};function vt(It,Ct){var ht=Math.abs(It);return Ct>0?ht:ht*-1}var et={box:function(It,Ct,ht,Et){return{x:It-ht,y:Ct-Et,width:ht*2,height:Et*2}},length:function(It,Ct,ht,Et){return Math.PI*(3*(ht+Et)-Math.sqrt((3*ht+Et)*(ht+3*Et)))},nearestPoint:function(It,Ct,ht,Et,at,Q){var bt=ht,Ot=Et;if(bt===0||Ot===0)return{x:It,y:Ct};for(var Vt=at-It,ue=Q-Ct,Se=Math.abs(Vt),Re=Math.abs(ue),We=bt*bt,mr=Ot*Ot,wr=Math.PI/4,br,zr,pr=0;pr<4;pr++){br=bt*Math.cos(wr),zr=Ot*Math.sin(wr);var an=(We-mr)*Math.pow(Math.cos(wr),3)/bt,Tn=(mr-We)*Math.pow(Math.sin(wr),3)/Ot,rn=br-an,Mn=zr-Tn,Si=Se-an,Ti=Re-Tn,Di=Math.hypot(Mn,rn),Vi=Math.hypot(Ti,Si),Xt=Di*Math.asin((rn*Ti-Mn*Si)/(Di*Vi)),Kt=Xt/Math.sqrt(We+mr-br*br-zr*zr);wr+=Kt,wr=Math.min(Math.PI/2,Math.max(0,wr))}return{x:It+vt(br,Vt),y:Ct+vt(zr,ue)}},pointDistance:function(It,Ct,ht,Et,at,Q){var bt=this.nearestPoint(It,Ct,ht,Et,at,Q);return L(bt.x,bt.y,at,Q)},pointAt:function(It,Ct,ht,Et,at){var Q=2*Math.PI*at;return{x:It+ht*Math.cos(Q),y:Ct+Et*Math.sin(Q)}},tangentAngle:function(It,Ct,ht,Et,at){var Q=2*Math.PI*at,bt=Math.atan2(Et*Math.cos(Q),-ht*Math.sin(Q));return A(bt)}};function lt(It,Ct,ht,Et,at,Q,bt,Ot){return-1*ht*Math.cos(at)*Math.sin(Ot)-Et*Math.sin(at)*Math.cos(Ot)}function dt(It,Ct,ht,Et,at,Q,bt,Ot){return-1*ht*Math.sin(at)*Math.sin(Ot)+Et*Math.cos(at)*Math.cos(Ot)}function it(It,Ct,ht){return Math.atan(-Ct/It*Math.tan(ht))}function At(It,Ct,ht){return Math.atan(Ct/(It*Math.tan(ht)))}function mt(It,Ct,ht,Et,at,Q){return ht*Math.cos(at)*Math.cos(Q)-Et*Math.sin(at)*Math.sin(Q)+It}function U(It,Ct,ht,Et,at,Q){return ht*Math.sin(at)*Math.cos(Q)+Et*Math.cos(at)*Math.sin(Q)+Ct}function V(It,Ct,ht,Et){var at=Math.atan2(Et*It,ht*Ct);return(at+Math.PI*2)%(Math.PI*2)}function B(It,Ct,ht){return{x:It*Math.cos(ht),y:Ct*Math.sin(ht)}}function f(It,Ct,ht){var Et=Math.cos(ht),at=Math.sin(ht);return[It*Et-Ct*at,It*at+Ct*Et]}var yt={box:function(It,Ct,ht,Et,at,Q,bt){for(var Ot=it(ht,Et,at),Vt=Infinity,ue=-Infinity,Se=[Q,bt],Re=-Math.PI*2;Re<=Math.PI*2;Re+=Math.PI){var We=Ot+Re;Q<bt?Q<We&&We<bt&&Se.push(We):bt<We&&We<Q&&Se.push(We)}for(var Re=0;Re<Se.length;Re++){var mr=mt(It,Ct,ht,Et,at,Se[Re]);mr<Vt&&(Vt=mr),mr>ue&&(ue=mr)}for(var wr=At(ht,Et,at),br=Infinity,zr=-Infinity,pr=[Q,bt],Re=-Math.PI*2;Re<=Math.PI*2;Re+=Math.PI){var an=wr+Re;Q<bt?Q<an&&an<bt&&pr.push(an):bt<an&&an<Q&&pr.push(an)}for(var Re=0;Re<pr.length;Re++){var Tn=U(It,Ct,ht,Et,at,pr[Re]);Tn<br&&(br=Tn),Tn>zr&&(zr=Tn)}return{x:Vt,y:br,width:ue-Vt,height:zr-br}},length:function(It,Ct,ht,Et,at,Q,bt){},nearestPoint:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt){var ue=f(Ot-It,Vt-Ct,-at),Se=ue[0],Re=ue[1],We=et.nearestPoint(0,0,ht,Et,Se,Re),mr=V(ht,Et,We.x,We.y);mr<Q?We=B(ht,Et,Q):mr>bt&&(We=B(ht,Et,bt));var wr=f(We.x,We.y,at);return{x:wr[0]+It,y:wr[1]+Ct}},pointDistance:function(It,Ct,ht,Et,at,Q,bt,Ot,Vt){var ue=this.nearestPoint(It,Ct,ht,Et,Ot,Vt);return L(ue.x,ue.y,Ot,Vt)},pointAt:function(It,Ct,ht,Et,at,Q,bt,Ot){var Vt=(bt-Q)*Ot+Q;return{x:mt(It,Ct,ht,Et,at,Vt),y:U(It,Ct,ht,Et,at,Vt)}},tangentAngle:function(It,Ct,ht,Et,at,Q,bt,Ot){var Vt=(bt-Q)*Ot+Q,ue=lt(It,Ct,ht,Et,at,Q,bt,Vt),Se=dt(It,Ct,ht,Et,at,Q,bt,Vt);return A(Math.atan2(Se,ue))}};function St(It){for(var Ct=0,ht=[],Et=0;Et<It.length-1;Et++){var at=It[Et],Q=It[Et+1],bt=L(at[0],at[1],Q[0],Q[1]),Ot={from:at,to:Q,length:bt};ht.push(Ot),Ct+=bt}return{segments:ht,totalLength:Ct}}function Rt(It){if(It.length<2)return 0;for(var Ct=0,ht=0;ht<It.length-1;ht++){var Et=It[ht],at=It[ht+1];Ct+=L(Et[0],Et[1],at[0],at[1])}return Ct}function Qt(It,Ct){if(Ct>1||Ct<0||It.length<2)return null;var ht=St(It),Et=ht.segments,at=ht.totalLength;if(at===0)return{x:It[0][0],y:It[0][1]};for(var Q=0,bt=null,Ot=0;Ot<Et.length;Ot++){var Vt=Et[Ot],ue=Vt.from,Se=Vt.to,Re=Vt.length/at;if(Ct>=Q&&Ct<=Q+Re){var We=(Ct-Q)/Re;bt=w.pointAt(ue[0],ue[1],Se[0],Se[1],We);break}Q+=Re}return bt}function zt(It,Ct){if(Ct>1||Ct<0||It.length<2)return 0;for(var ht=St(It),Et=ht.segments,at=ht.totalLength,Q=0,bt=0,Ot=0;Ot<Et.length;Ot++){var Vt=Et[Ot],ue=Vt.from,Se=Vt.to,Re=Vt.length/at;if(Ct>=Q&&Ct<=Q+Re){bt=Math.atan2(Se[1]-ue[1],Se[0]-ue[0]);break}Q+=Re}return bt}function $t(It,Ct,ht){for(var Et=Infinity,at=0;at<It.length-1;at++){var Q=It[at],bt=It[at+1],Ot=w.pointDistance(Q[0],Q[1],bt[0],bt[1],Ct,ht);Ot<Et&&(Et=Ot)}return Et}var ne={box:function(It){for(var Ct=[],ht=[],Et=0;Et<It.length;Et++){var at=It[Et];Ct.push(at[0]),ht.push(at[1])}return T(Ct,ht)},length:function(It){return Rt(It)},pointAt:function(It,Ct){return Qt(It,Ct)},pointDistance:function(It,Ct,ht){return $t(It,Ct,ht)},tangentAngle:function(It,Ct){return zt(It,Ct)}};function ae(It){var Ct=It.slice(0);return It.length&&Ct.push(It[0]),Ct}var Wt={box:function(It){return ne.box(It)},length:function(It){return Rt(ae(It))},pointAt:function(It,Ct){return Qt(ae(It),Ct)},pointDistance:function(It,Ct,ht){return $t(ae(It),Ct,ht)},tangentAngle:function(It,Ct){return zt(ae(It),Ct)}}},33418:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),I=d(55397);function k(b,x,E,O,D,N,z,W){return-1*E*Math.cos(D)*Math.sin(W)-O*Math.sin(D)*Math.cos(W)}function L(b,x,E,O,D,N,z,W){return-1*E*Math.sin(D)*Math.sin(W)+O*Math.cos(D)*Math.cos(W)}function P(b,x,E){return Math.atan(-x/b*Math.tan(E))}function T(b,x,E){return Math.atan(x/(b*Math.tan(E)))}function M(b,x,E,O,D,N){return E*Math.cos(D)*Math.cos(N)-O*Math.sin(D)*Math.sin(N)+b}function A(b,x,E,O,D,N){return E*Math.sin(D)*Math.cos(N)+O*Math.cos(D)*Math.sin(N)+x}function p(b,x,E,O){var D=Math.atan2(O*b,E*x);return(D+Math.PI*2)%(Math.PI*2)}function w(b,x,E){return{x:b*Math.cos(E),y:x*Math.sin(E)}}function y(b,x,E){var O=Math.cos(E),D=Math.sin(E);return[b*O-x*D,b*D+x*O]}S.default={box:function(b,x,E,O,D,N,z){for(var W=P(E,O,D),X=Infinity,j=-Infinity,tt=[N,z],K=-Math.PI*2;K<=Math.PI*2;K+=Math.PI){var wt=W+K;N<z?N<wt&&wt<z&&tt.push(wt):z<wt&&wt<N&&tt.push(wt)}for(var K=0;K<tt.length;K++){var ot=M(b,x,E,O,D,tt[K]);ot<X&&(X=ot),ot>j&&(j=ot)}for(var vt=T(E,O,D),et=Infinity,lt=-Infinity,dt=[N,z],K=-Math.PI*2;K<=Math.PI*2;K+=Math.PI){var it=vt+K;N<z?N<it&&it<z&&dt.push(it):z<it&&it<N&&dt.push(it)}for(var K=0;K<dt.length;K++){var At=A(b,x,E,O,D,dt[K]);At<et&&(et=At),At>lt&&(lt=At)}return{x:X,y:et,width:j-X,height:lt-et}},length:function(b,x,E,O,D,N,z){},nearestPoint:function(b,x,E,O,D,N,z,W,X){var j=y(W-b,X-x,-D),tt=j[0],K=j[1],wt=I.default.nearestPoint(0,0,E,O,tt,K),ot=p(E,O,wt.x,wt.y);ot<N?wt=w(E,O,N):ot>z&&(wt=w(E,O,z));var vt=y(wt.x,wt.y,D);return{x:vt[0]+b,y:vt[1]+x}},pointDistance:function(b,x,E,O,D,N,z,W,X){var j=this.nearestPoint(b,x,E,O,W,X);return m.distance(j.x,j.y,W,X)},pointAt:function(b,x,E,O,D,N,z,W){var X=(z-N)*W+N;return{x:M(b,x,E,O,D,X),y:A(b,x,E,O,D,X)}},tangentAngle:function(b,x,E,O,D,N,z,W){var X=(z-N)*W+N,j=k(b,x,E,O,D,N,z,X),tt=L(b,x,E,O,D,N,z,X);return m.piMod(Math.atan2(tt,j))}}},87335:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var m=d(76256),I=1e-4;function k(P,T,M,A,p,w){var y,b=Infinity,x=[M,A],E=20;w&&w>200&&(E=w/10);for(var O=1/E,D=O/10,N=0;N<=E;N++){var z=N*O,W=[p.apply(null,P.concat([z])),p.apply(null,T.concat([z]))],X=m.distance(x[0],x[1],W[0],W[1]);X<b&&(y=z,b=X)}if(y===0)return{x:P[0],y:T[0]};if(y===1){var j=P.length;return{x:P[j-1],y:T[j-1]}}b=Infinity;for(var N=0;N<32&&!(D<I);N++){var tt=y-D,K=y+D,W=[p.apply(null,P.concat([tt])),p.apply(null,T.concat([tt]))],X=m.distance(x[0],x[1],W[0],W[1]);if(tt>=0&&X<b)y=tt,b=X;else{var wt=[p.apply(null,P.concat([K])),p.apply(null,T.concat([K]))],ot=m.distance(x[0],x[1],wt[0],wt[1]);K<=1&&ot<b?(y=K,b=ot):D*=.5}}return{x:p.apply(null,P.concat([y])),y:p.apply(null,T.concat([y]))}}S.nearestPoint=k;function L(P,T){for(var M=0,A=P.length,p=0;p<A;p++){var w=P[p],y=T[p],b=P[(p+1)%A],x=T[(p+1)%A];M+=m.distance(w,y,b,x)}return M/2}S.snapLength=L},15730:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),I=d(68366),k=d(87335);function L(p,w,y,b,x){var E=1-x;return E*E*E*p+3*w*x*E*E+3*y*x*x*E+b*x*x*x}function P(p,w,y,b,x){var E=1-x;return 3*(E*E*(w-p)+2*E*x*(y-w)+x*x*(b-y))}function T(p,w,y,b){var x=-3*p+9*w-9*y+3*b,E=6*p-12*w+6*y,O=3*w-3*p,D=[],N,z,W;if(m.isNumberEqual(x,0))m.isNumberEqual(E,0)||(N=-O/E,N>=0&&N<=1&&D.push(N));else{var X=E*E-4*x*O;m.isNumberEqual(X,0)?D.push(-E/(2*x)):X>0&&(W=Math.sqrt(X),N=(-E+W)/(2*x),z=(-E-W)/(2*x),N>=0&&N<=1&&D.push(N),z>=0&&z<=1&&D.push(z))}return D}function M(p,w,y,b,x,E,O,D,N){var z=L(p,y,x,O,N),W=L(w,b,E,D,N),X=I.default.pointAt(p,w,y,b,N),j=I.default.pointAt(y,b,x,E,N),tt=I.default.pointAt(x,E,O,D,N),K=I.default.pointAt(X.x,X.y,j.x,j.y,N),wt=I.default.pointAt(j.x,j.y,tt.x,tt.y,N);return[[p,w,X.x,X.y,K.x,K.y,z,W],[z,W,wt.x,wt.y,tt.x,tt.y,O,D]]}function A(p,w,y,b,x,E,O,D,N){if(N===0)return k.snapLength([p,y,x,O],[w,b,E,D]);var z=M(p,w,y,b,x,E,O,D,.5),W=z[0],X=z[1];return W.push(N-1),X.push(N-1),A.apply(null,W)+A.apply(null,X)}S.default={extrema:T,box:function(p,w,y,b,x,E,O,D){for(var N=[p,O],z=[w,D],W=T(p,y,x,O),X=T(w,b,E,D),j=0;j<W.length;j++)N.push(L(p,y,x,O,W[j]));for(var j=0;j<X.length;j++)z.push(L(w,b,E,D,X[j]));return m.getBBoxByArray(N,z)},length:function(p,w,y,b,x,E,O,D){return A(p,w,y,b,x,E,O,D,3)},nearestPoint:function(p,w,y,b,x,E,O,D,N,z,W){return k.nearestPoint([p,y,x,O],[w,b,E,D],N,z,L,W)},pointDistance:function(p,w,y,b,x,E,O,D,N,z,W){var X=this.nearestPoint(p,w,y,b,x,E,O,D,N,z,W);return m.distance(X.x,X.y,N,z)},interpolationAt:L,pointAt:function(p,w,y,b,x,E,O,D,N){return{x:L(p,y,x,O,N),y:L(w,b,E,D,N)}},divide:function(p,w,y,b,x,E,O,D,N){return M(p,w,y,b,x,E,O,D,N)},tangentAngle:function(p,w,y,b,x,E,O,D,N){var z=P(p,y,x,O,N),W=P(w,b,E,D,N);return m.piMod(Math.atan2(W,z))}}},55397:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function I(k,L){var P=Math.abs(k);return L>0?P:P*-1}S.default={box:function(k,L,P,T){return{x:k-P,y:L-T,width:P*2,height:T*2}},length:function(k,L,P,T){return Math.PI*(3*(P+T)-Math.sqrt((3*P+T)*(P+3*T)))},nearestPoint:function(k,L,P,T,M,A){var p=P,w=T;if(p===0||w===0)return{x:k,y:L};for(var y=M-k,b=A-L,x=Math.abs(y),E=Math.abs(b),O=p*p,D=w*w,N=Math.PI/4,z,W,X=0;X<4;X++){z=p*Math.cos(N),W=w*Math.sin(N);var j=(O-D)*Math.pow(Math.cos(N),3)/p,tt=(D-O)*Math.pow(Math.sin(N),3)/w,K=z-j,wt=W-tt,ot=x-j,vt=E-tt,et=Math.hypot(wt,K),lt=Math.hypot(vt,ot),dt=et*Math.asin((K*vt-wt*ot)/(et*lt)),it=dt/Math.sqrt(O+D-z*z-W*W);N+=it,N=Math.min(Math.PI/2,Math.max(0,N))}return{x:k+I(z,y),y:L+I(W,b)}},pointDistance:function(k,L,P,T,M,A){var p=this.nearestPoint(k,L,P,T,M,A);return m.distance(p.x,p.y,M,A)},pointAt:function(k,L,P,T,M){var A=2*Math.PI*M;return{x:k+P*Math.cos(A),y:L+T*Math.sin(A)}},tangentAngle:function(k,L,P,T,M){var A=2*Math.PI*M,p=Math.atan2(T*Math.cos(A),-P*Math.sin(A));return m.piMod(p)}}},68366:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),I=d(31437);S.default={box:function(k,L,P,T){return m.getBBoxByArray([k,P],[L,T])},length:function(k,L,P,T){return m.distance(k,L,P,T)},pointAt:function(k,L,P,T,M){return{x:(1-M)*k+M*P,y:(1-M)*L+M*T}},pointDistance:function(k,L,P,T,M,A){var p=(P-k)*(M-k)+(T-L)*(A-L);if(p<0)return m.distance(k,L,M,A);var w=(P-k)*(P-k)+(T-L)*(T-L);return p>w?m.distance(P,T,M,A):this.pointToLine(k,L,P,T,M,A)},pointToLine:function(k,L,P,T,M,A){var p=[P-k,T-L];if(I.exactEquals(p,[0,0]))return Math.sqrt((M-k)*(M-k)+(A-L)*(A-L));var w=[-p[1],p[0]];I.normalize(w,w);var y=[M-k,A-L];return Math.abs(I.dot(y,w))},tangentAngle:function(k,L,P,T){return Math.atan2(T-L,P-k)}}},65386:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(28171),k=d(76256);S.Z={box:function(L){for(var P=[],T=[],M=0;M<L.length;M++){var A=L[M];P.push(A[0]),T.push(A[1])}return k.getBBoxByArray(P,T)},length:function(L){return I.lengthOfSegment(L)},pointAt:function(L,P){return I.pointAtSegments(L,P)},pointDistance:function(L,P,T){return I.distanceAtSegment(L,P,T)},tangentAngle:function(L,P){return I.angleAtSegments(L,P)}}},2879:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(68366),I=d(76256),k=d(87335);function L(p,w,y,b){var x=1-b;return x*x*p+2*b*x*w+b*b*y}function P(p,w,y){var b=p+y-2*w;if(I.isNumberEqual(b,0))return[.5];var x=(p-w)/b;return x<=1&&x>=0?[x]:[]}function T(p,w,y,b){return 2*(1-b)*(w-p)+2*b*(y-w)}function M(p,w,y,b,x,E,O){var D=L(p,y,x,O),N=L(w,b,E,O),z=m.default.pointAt(p,w,y,b,O),W=m.default.pointAt(y,b,x,E,O);return[[p,w,z.x,z.y,D,N],[D,N,W.x,W.y,x,E]]}function A(p,w,y,b,x,E,O){if(O===0)return(I.distance(p,w,y,b)+I.distance(y,b,x,E)+I.distance(p,w,x,E))/2;var D=M(p,w,y,b,x,E,.5),N=D[0],z=D[1];return N.push(O-1),z.push(O-1),A.apply(null,N)+A.apply(null,z)}S.default={box:function(p,w,y,b,x,E){var O=P(p,y,x)[0],D=P(w,b,E)[0],N=[p,x],z=[w,E];return O!==void 0&&N.push(L(p,y,x,O)),D!==void 0&&z.push(L(w,b,E,D)),I.getBBoxByArray(N,z)},length:function(p,w,y,b,x,E){return A(p,w,y,b,x,E,3)},nearestPoint:function(p,w,y,b,x,E,O,D){return k.nearestPoint([p,y,x],[w,b,E],O,D,L)},pointDistance:function(p,w,y,b,x,E,O,D){var N=this.nearestPoint(p,w,y,b,x,E,O,D);return I.distance(N.x,N.y,O,D)},interpolationAt:L,pointAt:function(p,w,y,b,x,E,O){return{x:L(p,y,x,O),y:L(w,b,E,O)}},divide:function(p,w,y,b,x,E,O){return M(p,w,y,b,x,E,O)},tangentAngle:function(p,w,y,b,x,E,O){var D=T(p,y,x,O),N=T(w,b,E,O),z=Math.atan2(N,D);return I.piMod(z)}}},28171:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var m=d(68366),I=d(76256);function k(A){for(var p=0,w=[],y=0;y<A.length-1;y++){var b=A[y],x=A[y+1],E=I.distance(b[0],b[1],x[0],x[1]),O={from:b,to:x,length:E};w.push(O),p+=E}return{segments:w,totalLength:p}}function L(A){if(A.length<2)return 0;for(var p=0,w=0;w<A.length-1;w++){var y=A[w],b=A[w+1];p+=I.distance(y[0],y[1],b[0],b[1])}return p}S.lengthOfSegment=L;function P(A,p){if(p>1||p<0||A.length<2)return null;var w=k(A),y=w.segments,b=w.totalLength;if(b===0)return{x:A[0][0],y:A[0][1]};for(var x=0,E=null,O=0;O<y.length;O++){var D=y[O],N=D.from,z=D.to,W=D.length/b;if(p>=x&&p<=x+W){var X=(p-x)/W;E=m.default.pointAt(N[0],N[1],z[0],z[1],X);break}x+=W}return E}S.pointAtSegments=P;function T(A,p){if(p>1||p<0||A.length<2)return 0;for(var w=k(A),y=w.segments,b=w.totalLength,x=0,E=0,O=0;O<y.length;O++){var D=y[O],N=D.from,z=D.to,W=D.length/b;if(p>=x&&p<=x+W){E=Math.atan2(z[1]-N[1],z[0]-N[0]);break}x+=W}return E}S.angleAtSegments=T;function M(A,p,w){for(var y=Infinity,b=0;b<A.length-1;b++){var x=A[b],E=A[b+1],O=m.default.pointDistance(x[0],x[1],E[0],E[1],p,w);O<y&&(y=O)}return y}S.distanceAtSegment=M},76256:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(M){return Math.min.apply(null,M)}function m(M){return Math.max.apply(null,M)}function I(M,A,p,w){var y=M-p,b=A-w;return Math.sqrt(y*y+b*b)}S.distance=I;function k(M,A){return Math.abs(M-A)<.001}S.isNumberEqual=k;function L(M,A){var p=d(M),w=d(A),y=m(M),b=m(A);return{x:p,y:w,width:y-p,height:b-w}}S.getBBoxByArray=L;function P(M,A,p,w){return{minX:d([M,p]),maxX:m([M,p]),minY:d([A,w]),maxY:m([A,w])}}S.getBBoxRange=P;function T(M){return(M+Math.PI*2)%(Math.PI*2)}S.piMod=T},56463:function(ct,S,d){"use strict";var m=d(34155),I=this&&this.__spreadArrays||function(){for(var D=0,N=0,z=arguments.length;N<z;N++)D+=arguments[N].length;for(var W=Array(D),X=0,N=0;N<z;N++)for(var j=arguments[N],tt=0,K=j.length;tt<K;tt++,X++)W[X]=j[tt];return W};Object.defineProperty(S,"__esModule",{value:!0});var k=function(){function D(N,z,W){this.name=N,this.version=z,this.os=W}return D}();S.BrowserInfo=k;var L=function(){function D(N){this.version=N,this.name="node",this.os=m.platform}return D}();S.NodeInfo=L;var P=function(){function D(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return D}();S.BotInfo=P;var T=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,M=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,A=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",T]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",M]];function y(D){return D?b(D):typeof navigator!="undefined"?b(navigator.userAgent):E()}S.detect=y;function b(D){var N=D!==""&&p.reduce(function(j,tt){var K=tt[0],wt=tt[1];if(j)return j;var ot=wt.exec(D);return!!ot&&[K,ot]},!1);if(!N)return null;var z=N[0],W=N[1];if(z==="searchbot")return new P;var X=W[1]&&W[1].split(/[._]/).slice(0,3);return X?X.length<A&&(X=I(X,O(A-X.length))):X=[],new k(z,X.join("."),x(D))}S.parseUserAgent=b;function x(D){for(var N=0,z=w.length;N<z;N++){var W=w[N],X=W[0],j=W[1],tt=j.test(D);if(tt)return X}return null}S.detectOS=x;function E(){var D=typeof m!="undefined"&&m.version;return D?new L(m.version.slice(1)):null}S.getNodeVersion=E;function O(D){for(var N=[],z=0;z<D;z++)N.push("0");return N}},23231:function(ct){"use strict";ct.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-svg@0.4.7","E:\\\\node\\\\antd-pro\\\\myapp_complete"]],"_from":"@antv/g-svg@0.4.7","_id":"@antv/g-svg@0.4.7","_inBundle":false,"_integrity":"sha512-+lqlBK+qylP4t/vyUgEaPthp1XmTiImfkPl/ZmRp3L1knH64OI9XTfOGGuBUFAt3JBt7VHKf6t0L/MCf0BR88Q==","_location":"/@antv/g-svg","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-svg@0.4.7","name":"@antv/g-svg","escapedName":"@antv%2fg-svg","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmmirror.com/@antv/g-svg/-/g-svg-0.4.7.tgz","_spec":"0.4.7","_where":"E:\\\\node\\\\antd-pro\\\\myapp_complete","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-svg","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.7"}')},66002:function(){},92762:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function m(k){return d[k.toLowerCase()]}S.getAnimation=m;function I(k,L){d[k.toLowerCase()]=L}S.registerAnimation=I},27978:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var m=d(70655),I=d(49242),k=d(29583),L=d(92762);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var P={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},T={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var b;return y.isRect?b=y.isTransposed?"grow-in-x":"grow-in-y":(b="grow-in-xy",y.isPolar&&y.isTransposed&&(b="wave-in")),{animation:b}},schema:function(y){var b;return y.isRect?b=y.isTransposed?"grow-in-x":"grow-in-y":b="grow-in-xy",{animation:b}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function M(y,b){return{delay:I.isFunction(y.delay)?y.delay(b):y.delay,easing:I.isFunction(y.easing)?y.easing(b):y.easing,duration:I.isFunction(y.duration)?y.duration(b):y.duration,callback:y.callback}}function A(y,b,x){var E=P[y];return E&&(I.isFunction(E)&&(E=E(b)),E=I.deepMix({},S.DEFAULT_ANIMATE_CFG,E),x)?E[x]:E}S.getDefaultAnimateCfg=A;function p(y,b,x){var E=I.get(y.get("origin"),"data",k.FIELD_ORIGIN),O=b.animation,D=M(b,E);if(O){var N=L.getAnimation(O);N&&N(y,D,x)}else y.animate(x.toAttrs,D)}S.doAnimate=p;function w(y,b,x,E,O){if(T[x]){var D=T[x](E),N=L.getAnimation(I.get(D,"animation",""));if(N){var z=m.__assign(m.__assign(m.__assign({},S.DEFAULT_ANIMATE_CFG.appear),D),b);y.stopAnimate(),N(y,z,{coordinate:E,minYPoint:O,toAttrs:null})}}}S.doGroupAppearAnimate=w},29515:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=m.__importDefault(d(90494)),k=function(L){m.__extends(P,L);function P(T){var M=L.call(this)||this;M.destroyed=!1;var A=T.visible,p=A===void 0?!0:A;return M.visible=p,M}return P.prototype.show=function(){var T=this.visible;T||this.changeVisible(!0)},P.prototype.hide=function(){var T=this.visible;T&&this.changeVisible(!1)},P.prototype.destroy=function(){this.off(),this.destroyed=!0},P.prototype.changeVisible=function(T){this.visible!==T&&(this.visible=T)},P}(I.default);S.default=k},17916:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var m=d(49242),I=function(){function k(L){this.visible=!0,this.components=[],this.view=L}return k.prototype.clear=function(){m.each(this.components,function(L){L.component.destroy()}),this.components=[]},k.prototype.destroy=function(){this.clear()},k.prototype.getComponents=function(){return this.components},k.prototype.changeVisible=function(L){this.visible!==L&&(this.components.forEach(function(P){L?P.component.show():P.component.hide()}),this.visible=L)},k}();S.Controller=I},45687:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(17916),L=250,P=function(w,y){var b=y.x-w.x,x=y.y-w.y;return Math.abs(b)>Math.abs(x)?b>0?"right":"left":x>0?"down":"up"},T=function(w,y){var b=Math.abs(y.x-w.x),x=Math.abs(y.y-w.y);return Math.sqrt(b*b+x*x)},M=function(w,y){var b=(w.x+y.x)/2,x=(w.y+y.y)/2;return{x:b,y:x}},A=function(w,y){if(!!w){for(var b=[],x=w.length,E=0;E<x;E++){var O=w[E],D=O.clientX,N=O.clientY,z=y.getPointByClient(D,N);b.push(z)}return b}},p=function(w){I.__extends(y,w);function y(b){var x=w.call(this,b)||this;return x.processEvent={},x.touchStart=function(E){var O=A(E.originalEvent.touches,x.canvas);!O||(E.points=O,x.reset(),x.startTime=Date.now(),x.startPoints=O,O.length>1?(x.startDistance=T(O[0],O[1]),x.center=M(O[0],O[1])):x.pressTimeout=setTimeout(function(){var D="press";E.direction="none",x.emitStart(D,E),x.emitEvent(D,E),x.eventType=D},L))},x.touchMove=function(E){var O=A(E.originalEvent.touches,x.canvas);if(!!O){x.clearPressTimeout(),E.points=O;var D=x.startPoints;if(!!D)if(O.length>1){var N=x.startDistance,z=T(O[0],O[1]);E.zoom=z/N,E.center=x.center,x.emitStart("pinch",E),x.emitEvent("pinch",E)}else{var W=O[0].x-D[0].x,X=O[0].y-D[0].y,j=x.direction||P(D[0],O[0]);x.direction=j;var tt=x.getEventType(O);E.direction=j,E.deltaX=W,E.deltaY=X,x.emitStart(tt,E),x.emitEvent(tt,E);var K=x.lastMoveTime,wt=Date.now();wt-K>0&&(x.prevMoveTime=K,x.prevMovePoints=x.lastMovePoints,x.lastMoveTime=wt,x.lastMovePoints=O)}}},x.touchEnd=function(E){x.emitEnd(E);var O=x.lastMoveTime,D=Date.now();if(D-O<100){var N=x.prevMoveTime||x.startTime,z=O-N;if(z>0){var W=x.prevMovePoints||x.startPoints,X=x.lastMovePoints,j=T(W[0],X[0])/z;j>.3&&(E.velocity=j,E.direction=P(W[0],X[0]),x.emitEvent("swipe",E))}}x.reset();var tt=E.touches;tt&&tt.length>0&&x.touchStart(E)},x.canvas=b.getCanvas(),x.delegateEvent(),x.processEvent={},x}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(b,x){var E=this.view;E.emit(b,x)},y.prototype.emitStart=function(b,x){this.isProcess(b)||(this.enable(b),this.emitEvent(b+"start",x))},y.prototype.emitEnd=function(b){var x=this,E=this.processEvent;Object.keys(E).forEach(function(O){x.emitEvent(O+"end",b),delete E[O]})},y.prototype.enable=function(b){this.processEvent[b]=!0},y.prototype.isProcess=function(b){return this.processEvent[b]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(b){var x=this,E=x.eventType,O=x.view,D=x.startTime,N=x.startPoints;if(E)return E;var z,W=O.getEvents().pan;if(!W||!W.length)z="press";else{var X=Date.now();X-D>L&&T(N[0],b[0])<10?z="press":z="pan"}return this.eventType=z,z},y}(k.Controller);S.Z=p},64815:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(49242),L=d(57029),P=d(22514),T=d(42770),M=d(99677),A=d(17916);function p(y){for(var b=[],x=function(O){var D=y[O],N=k.find(b,function(z){return z.color===D.color&&z.name===D.name&&z.value===D.value&&z.title===D.title});N||b.push(D)},E=0;E<y.length;E++)x(E);return b}var w=function(y){I.__extends(b,y);function b(){var x=y!==null&&y.apply(this,arguments)||this;return x.isLocked=!1,x}return Object.defineProperty(b.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),b.prototype.init=function(){},b.prototype.isVisible=function(){var x=this.view.getOptions().tooltip;return x!==!1},b.prototype.render=function(){},b.prototype.showTooltip=function(x){if(this.point=x,!!this.isVisible()){var E=this.view,O=this.getTooltipItems(x);if(!O.length){this.hideTooltip();return}var D=this.getTitle(O),N={x:O[0].x,y:O[0].y};E.emit("tooltip:show",I.__assign({items:O,title:D},x));var z=this.getTooltipCfg(),W=z.follow,X=z.showMarkers,j=z.showCrosshairs,tt=z.showContent,K=z.marker,wt=this.items,ot=this.title;if(!k.isEqual(ot,D)||!k.isEqual(wt,O)?(E.emit("tooltip:change",I.__assign({items:O,title:D},x)),tt&&(this.tooltip||this.renderTooltip(),this.tooltip.update(k.mix({},z,{items:O,title:D},W?x:{})),this.tooltip.show()),X&&this.renderTooltipMarkers(O,K)):(this.tooltip&&W&&(this.tooltip.update(x),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=O,this.title=D,j){var vt=k.get(z,["crosshairs","follow"],!1);this.renderCrosshairs(vt?x:N,z)}}},b.prototype.hideTooltip=function(){var x=this.getTooltipCfg().follow;if(!x){this.point=null;return}var E=this.tooltipMarkersGroup;E&&E.hide();var O=this.xCrosshair,D=this.yCrosshair;O&&O.hide(),D&&D.hide();var N=this.tooltip;N&&N.hide(),this.view.emit("tooltip:hide",{}),this.point=null},b.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},b.prototype.unlockTooltip=function(){this.isLocked=!1;var x=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(x.capture)},b.prototype.isTooltipLocked=function(){return this.isLocked},b.prototype.clear=function(){var x=this,E=x.tooltip,O=x.xCrosshair,D=x.yCrosshair,N=x.tooltipMarkersGroup;E&&(E.hide(),E.clear()),O&&O.clear(),D&&D.clear(),N&&N.clear()},b.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},b.prototype.changeVisible=function(x){if(this.visible!==x){var E=this,O=E.tooltip,D=E.tooltipMarkersGroup,N=E.xCrosshair,z=E.yCrosshair;x?(O&&O.show(),D&&D.show(),N&&N.show(),z&&z.show()):(O&&O.hide(),D&&D.hide(),N&&N.hide(),z&&z.hide()),this.visible=x}},b.prototype.getTooltipItems=function(x){var E=this.findItemsFromView(this.view,x);if(E.length){E=k.flatten(E);for(var O=0,D=E;O<D.length;O++)for(var N=D[O],z=0,W=N;z<W.length;z++){var X=W[z],j=X.mappingData,tt=j.x,K=j.y;X.x=k.isArray(tt)?tt[tt.length-1]:tt,X.y=k.isArray(K)?K[K.length-1]:K}var wt=this.getTooltipCfg().shared;if(wt===!1&&E.length>1){for(var ot=E[0],vt=Math.abs(x.y-ot[0].y),et=0,lt=E;et<lt.length;et++){var dt=lt[et],it=Math.abs(x.y-dt[0].y);it<=vt&&(ot=dt,vt=it)}E=[ot]}return p(k.flatten(E))}return[]},b.prototype.layout=function(){},b.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var x=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}})}},b.prototype.getTooltipCfg=function(){var x=this.view,E=x.getOptions().tooltip,O=x.getTheme(),D=k.get(O,["components","tooltip"],{}),N=k.isUndefined(k.get(E,"enterable"))?D.enterable:k.get(E,"enterable");return k.deepMix({},D,E,{capture:!!(N||this.isLocked)})},b.prototype.getTitle=function(x){var E=x[0].title||x[0].name;return this.title=E,E},b.prototype.renderTooltip=function(){var x=this.view.getCanvas(),E={start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}},O=this.getTooltipCfg(),D=new L.HtmlTooltip(I.__assign(I.__assign({parent:x.get("el").parentNode,region:E},O),{visible:!1,crosshairs:null}));D.init(),this.tooltip=D},b.prototype.renderTooltipMarkers=function(x,E){for(var O=this.getTooltipMarkersGroup(),D=0,N=x;D<N.length;D++){var z=N[D],W=z.x,X=z.y,j=I.__assign(I.__assign({fill:z.color,symbol:"circle",shadowColor:z.color},E),{x:W,y:X});O.addShape("marker",{attrs:j})}},b.prototype.renderCrosshairs=function(x,E){var O=k.get(E,["crosshairs","type"],"x");O==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(x,E)):O==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(x,E)):O==="xy"&&(this.renderXCrosshairs(x,E),this.renderYCrosshairs(x,E))},b.prototype.renderXCrosshairs=function(x,E){var O=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(O,x)){var D,N;if(O.isRect)O.isTransposed?(D={x:O.start.x,y:x.y},N={x:O.end.x,y:x.y}):(D={x:x.x,y:O.end.y},N={x:x.x,y:O.start.y});else{var z=P.getAngleByPoint(O,x),W=O.getCenter(),X=O.getRadius();N=T.polarToCartesian(W.x,W.y,X,z),D=W}var j=k.deepMix({start:D,end:N,container:this.getTooltipCrosshairsGroup()},k.get(E,"crosshairs",{}),this.getCrosshairsText("x",x,E));delete j.type;var tt=this.xCrosshair;tt?tt.update(j):(tt=new L.Crosshair.Line(j),tt.init()),tt.render(),tt.show(),this.xCrosshair=tt}},b.prototype.renderYCrosshairs=function(x,E){var O=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(O,x)){var D,N;if(O.isRect){var z=void 0,W=void 0;O.isTransposed?(z={x:x.x,y:O.end.y},W={x:x.x,y:O.start.y}):(z={x:O.start.x,y:x.y},W={x:O.end.x,y:x.y}),D={start:z,end:W},N="Line"}else D={center:O.getCenter(),radius:P.getDistanceToCenter(O,x),startAngle:O.startAngle,endAngle:O.endAngle},N="Circle";D=k.deepMix({container:this.getTooltipCrosshairsGroup()},D,k.get(E,"crosshairs",{}),this.getCrosshairsText("y",x,E)),delete D.type;var X=this.yCrosshair;X?O.isRect&&X.get("type")==="circle"||!O.isRect&&X.get("type")==="line"?(X=new L.Crosshair[N](D),X.init()):X.update(D):(X=new L.Crosshair[N](D),X.init()),X.render(),X.show(),this.yCrosshair=X}},b.prototype.getCrosshairsText=function(x,E,O){var D=k.get(O,["crosshairs","text"]),N=k.get(O,["crosshairs","follow"]),z=this.items;if(D){var W=this.getViewWithGeometry(this.view),X=z[0],j=W.getXScale(),tt=W.getYScales()[0],K=void 0,wt=void 0;if(N){var ot=this.view.getCoordinate().invert(E);K=j.invert(ot.x),wt=tt.invert(ot.y)}else K=X.data[j.field],wt=X.data[tt.field];var vt=x==="x"?K:wt;return k.isFunction(D)?D=D(x,vt,z,E):D.content=vt,{text:D}}},b.prototype.getGuideGroup=function(){if(!this.guideGroup){var x=this.view.foregroundGroup;this.guideGroup=x.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},b.prototype.getTooltipMarkersGroup=function(){var x=this.tooltipMarkersGroup;return x&&!x.destroyed?(x.clear(),x.show()):(x=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),x.toFront(),this.tooltipMarkersGroup=x),x},b.prototype.getTooltipCrosshairsGroup=function(){var x=this.tooltipCrosshairsGroup;return x||(x=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),x.toBack(),this.tooltipCrosshairsGroup=x),x},b.prototype.getTooltipItemsByHitShape=function(x,E,O){var D=[],N=x.container,z=N.getShape(E.x,E.y);if(z&&z.get("visible")&&z.get("origin")){var W=z.get("origin").mappingData,X=M.getTooltipItems(W,x,O);X.length&&D.push(X)}return D},b.prototype.getTooltipItemsByFindData=function(x,E,O){var D=[],N=x.dataArray;x.sort(N);for(var z=0,W=N;z<W.length;z++){var X=W[z],j=M.findDataByPoint(E,X,x);if(j){var tt=x.getElementId(j),K=x.elementsMap[tt];if(x.type==="heatmap"||K.visible){var wt=M.getTooltipItems(j,x,O);wt.length&&D.push(wt)}}}return D},b.prototype.findItemsFromView=function(x,E){if(x.getOptions().tooltip===!1)return[];for(var O=[],D=x.geometries,N=this.getTooltipCfg(),z=N.shared,W=N.title,X=0,j=D;X<j.length;X++){var tt=j[X];if(tt.visible&&tt.tooltipOption!==!1){var K=tt.type,wt=void 0;["point","edge","polygon"].includes(K)?wt=this.getTooltipItemsByHitShape(tt,E,W):["area","line","path","heatmap"].includes(K)?wt=this.getTooltipItemsByFindData(tt,E,W):z!==!1?wt=this.getTooltipItemsByFindData(tt,E,W):wt=this.getTooltipItemsByHitShape(tt,E,W),wt.length&&O.push(wt)}}for(var ot=0,vt=x.views;ot<vt.length;ot++){var et=vt[ot];O=O.concat(this.findItemsFromView(et,E))}return O},b.prototype.getViewWithGeometry=function(x){var E=this;return x.geometries.length?x:k.find(x.views,function(O){return E.getViewWithGeometry(O)})},b}(A.Controller);S.Z=w},29583:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(T){T.FORE="fore",T.MID="mid",T.BG="bg"})(d=S.LAYER||(S.LAYER={}));var m;(function(T){T.TOP="top",T.TOP_LEFT="top-left",T.TOP_RIGHT="top-right",T.RIGHT="right",T.RIGHT_TOP="right-top",T.RIGHT_BOTTOM="right-bottom",T.LEFT="left",T.LEFT_TOP="left-top",T.LEFT_BOTTOM="left-bottom",T.BOTTOM="bottom",T.BOTTOM_LEFT="bottom-left",T.BOTTOM_RIGHT="bottom-right",T.RADIUS="radius",T.CIRCLE="circle",T.NONE="none"})(m=S.DIRECTION||(S.DIRECTION={}));var I;(function(T){T.AXIS="axis",T.GRID="grid",T.LEGEND="legend",T.TOOLTIP="tooltip",T.ANNOTATION="annotation",T.OTHER="other"})(I=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var k;(function(T){T.BEFORE_RENDER="beforerender",T.AFTER_RENDER="afterrender",T.BEFORE_PAINT="beforepaint",T.AFTER_PAINT="afterpaint",T.BEFORE_CHANGE_DATA="beforechangedata",T.AFTER_CHANGE_DATA="afterchangedata",T.BEFORE_CLEAR="beforeclear",T.AFTER_CLEAR="afterclear",T.BEFORE_DESTROY="beforedestroy"})(k=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var L;(function(T){T.MOUSE_ENTER="plot:mouseenter",T.MOUSE_DOWN="plot:mousedown",T.MOUSE_MOVE="plot:mousemove",T.MOUSE_UP="plot:mouseup",T.MOUSE_LEAVE="plot:mouseleave",T.TOUCH_START="plot:touchstart",T.TOUCH_MOVE="plot:touchmove",T.TOUCH_END="plot:touchend",T.TOUCH_CANCEL="plot:touchcancel",T.CLICK="plot:click",T.DBLCLICK="plot:dblclick",T.CONTEXTMENU="plot:contextmenu",T.LEAVE="plot:leave",T.ENTER="plot:enter"})(L=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var P;(function(T){T.ACTIVE="active",T.INACTIVE="inactive",T.SELECTED="selected",T.DEFAULT="default"})(P=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var m=d(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return m.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return m.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return m.AbstractShape}});var I=d(28014);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return I.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return I.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return I.Adjust}});var k=d(24796);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return k.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return k.Attribute}});var L=d(21392);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return L.Color}});var P=d(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return P.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return P.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return P.Coordinate}});var T=d(51082);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return T.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return T.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return T.Scale}});var M=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return M.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return M.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return M.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return M.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return M.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return M.Slider}});var A=M.Axis.Line,p=M.Axis.Circle;S.LineAxis=A,S.CircleAxis=p;var w=M.Grid.Line,y=M.Grid.Circle;S.LineGrid=w,S.CircleGrid=y;var b=M.Legend.Category,x=M.Legend.Continuous;S.CategoryLegend=b,S.ContinuousLegend=x;var E=M.Tooltip.Html;S.HtmlTooltip=E},38700:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(49242),L=d(27978),P=I.__importDefault(d(29515)),T=d(42770),M=d(31207),A=function(p){I.__extends(w,p);function w(y){var b=p.call(this,y)||this;b.states=[];var x=y.shapeFactory,E=y.container,O=y.offscreenGroup,D=y.visible,N=D===void 0?!0:D;return b.shapeFactory=x,b.container=E,b.offscreenGroup=O,b.visible=N,b}return w.prototype.draw=function(y,b){b===void 0&&(b=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,b),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(y){var b=this,x=b.shapeFactory,E=b.shape;if(!!E){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(E,y);var O=this.getOffscreenGroup(),D=x.drawShape(this.shapeType,y,O);D.cfg.data=this.data,D.cfg.origin=y,this.syncShapeStyle(E,D,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var y=this,b=y.shapeFactory,x=y.shape;if(x){var E=this.getAnimateCfg("leave");E?L.doAnimate(x,E,{coordinate:b.coordinate,toAttrs:I.__assign({},x.attr())}):x.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(b){b.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(b){b.hide()}))},w.prototype.setState=function(y,b){var x=this,E=this,O=E.states,D=E.shapeFactory,N=E.model,z=E.shape,W=E.shapeType,X=O.indexOf(y);if(b){if(X>-1)return;O.push(y),(y==="active"||y==="selected")&&z.toFront()}else{if(X===-1)return;O.splice(X,1),(y==="active"||y==="selected")&&z.toBack()}var j=D.drawShape(W,N,this.getOffscreenGroup());O.length?O.forEach(function(K){x.syncShapeStyle(z,j,K,null)}):this.syncShapeStyle(z,j,"reset",null),j.remove(!0);var tt={state:y,stateStatus:b,element:this,target:this.container};this.container.emit("statechange",tt),M.propagationDelegate(this.shape,"statechange",tt)},w.prototype.clearStates=function(){var y=this,b=this.states;k.each(b,function(x){y.setState(x,!1)}),this.states=[]},w.prototype.hasState=function(y){return this.states.includes(y)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var y=this,b=y.shape,x=y.labelShape,E={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return b&&(E=b.getCanvasBBox()),x&&x.forEach(function(O){var D=O.getCanvasBBox();E.x=Math.min(D.x,E.x),E.y=Math.min(D.y,E.y),E.minX=Math.min(D.minX,E.minX),E.minY=Math.min(D.minY,E.minY),E.maxX=Math.max(D.maxX,E.maxX),E.maxY=Math.max(D.maxY,E.maxY)}),E.width=E.maxX-E.minX,E.height=E.maxY-E.minY,E},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,b=y.shapeType,x=y.geometry,E=y.shapeFactory,O=x.stateOption,D=E.defaultShapeType,N=E.theme[b]||E.theme[D];this.statesStyle=k.deepMix({},N,O)}return this.statesStyle},w.prototype.getStateStyle=function(y,b){var x=this.getStatesStyle(),E=k.get(x,[y,"style"],{}),O=E[b]||E;return k.isFunction(O)?O(this):O},w.prototype.getAnimateCfg=function(y){var b=this.animate;return b?b[y]:null},w.prototype.drawShape=function(y,b){b===void 0&&(b=!1);var x=this,E=x.shapeFactory,O=x.container,D=x.shapeType;if(this.shape=E.drawShape(D,y,O),this.shape){this.setShapeInfo(this.shape,y);var N=this.shape.cfg.name;N?k.isString(N)&&(this.shape.cfg.name=["element",N]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var z=b?"enter":"appear",W=this.getAnimateCfg(z);W&&L.doAnimate(this.shape,W,{coordinate:E.coordinate,toAttrs:I.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(y,b){var x=this;if(y.cfg.origin=b,y.cfg.element=this,y.isGroup()){var E=y.get("children");E.forEach(function(O){x.setShapeInfo(O,b)})}},w.prototype.syncShapeStyle=function(y,b,x,E,O){if(x===void 0&&(x=""),O===void 0&&(O=0),y.isGroup())for(var D=y.get("children"),N=b.get("children"),z=0;z<D.length;z++)this.syncShapeStyle(D[z],N[z],x,E,O+z);else{if(x&&x!=="reset"){var W=y.get("name");k.isArray(W)&&(W=W[1]);var X=this.getStateStyle(x,W||O);b.attr(X)}var j=T.getReplaceAttrs(y,b);this.animate?E?L.doAnimate(y,E,{coordinate:this.shapeFactory.coordinate,toAttrs:j,shapeModel:this.model}):x?(y.stopAnimate(),y.animate(j,{duration:300})):y.attr(j):y.attr(j)}},w.prototype.getShapeType=function(y){var b=k.get(y,"shape");return k.isArray(b)?b[0]:b},w}(P.default);m=A},75564:function(ct,S,d){"use strict";var m;m={value:!0},S.iV=m=m=void 0;var I=d(70655),k=d(6750),L=d(26485);m=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],m=["cross","tick","plus","hyphen","line"];function P(T,M,A,p,w){var y=L.getStyle(M,w,!w,"r"),b=T.parsePoints(M.points),x=b[0];if(M.isStack)x=b[1];else if(b.length>1){for(var E=A.addGroup(),O=0,D=b;O<D.length;O++){var N=D[O];E.addShape({type:"marker",attrs:I.__assign(I.__assign(I.__assign({},y),{symbol:k.MarkerSymbols[p]||p}),N)})}return E}return A.addShape({type:"marker",attrs:I.__assign(I.__assign(I.__assign({},y),{symbol:k.MarkerSymbols[p]||p}),x)})}S.iV=P},26485:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var m=d(70655),I=d(49242);function k(L,P,T,M){M===void 0&&(M="");var A=L.style,p=A===void 0?{}:A,w=L.defaultStyle,y=L.color,b=L.size,x=m.__assign(m.__assign({},w),p);return y&&(P&&(p.stroke||(x.stroke=y)),T&&(p.fill||(x.fill=y))),M&&I.isNil(p[M])&&!I.isNil(b)&&(x[M]=b),x}S.getStyle=k},36758:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var m=d(43567),I=d(49242),k=d(22514);function L(x,E){var O=[];if(x.length){O.push(["M",x[0].x,x[0].y]);for(var D=1,N=x.length;D<N;D+=1){var z=x[D];O.push(["L",z.x,z.y])}E&&O.push(["Z"])}return O}function P(x,E){for(var O=[x[0]],D=1,N=x.length;D<N;D=D+2){var z=E.convert({x:x[D],y:x[D+1]});O.push(z.x,z.y)}return O}function T(x,E,O){var D=O.isTransposed,N=O.startAngle,z=O.endAngle,W={x:x[1],y:x[2]},X={x:E[1],y:E[2]},j=[],tt=D?"y":"x",K=Math.abs(X[tt]-W[tt])*(z-N),wt=X[tt]>=W[tt]?1:0,ot=K>Math.PI?1:0,vt=O.convert(X),et=k.getDistanceToCenter(O,vt);if(et>=.5)if(K===Math.PI*2){var lt={x:(X.x+W.x)/2,y:(X.y+W.y)/2},dt=O.convert(lt);j.push(["A",et,et,0,ot,wt,dt.x,dt.y]),j.push(["A",et,et,0,ot,wt,vt.x,vt.y])}else j.push(["A",et,et,0,ot,wt,vt.x,vt.y]);return j}function M(x){I.each(x,function(E,O){var D=E;if(D[0].toLowerCase()==="a"){var N=x[O-1],z=x[O+1];z&&z[0].toLowerCase()==="a"?N&&N[0].toLowerCase()==="l"&&(N[0]="M"):N&&N[0].toLowerCase()==="a"&&z&&z[0].toLowerCase()==="l"&&(z[0]="M")}})}S.smoothBezier=function(x,E,O,D){var N=[],z,W,X=!!D,j,tt;if(X){j=[Infinity,Infinity],tt=[-Infinity,-Infinity];for(var K=0,wt=x.length;K<wt;K++){var ot=x[K];j=m.vec2.min([0,0],j,ot),tt=m.vec2.max([0,0],tt,ot)}j=m.vec2.min([0,0],j,D[0]),tt=m.vec2.max([0,0],tt,D[1])}for(var K=0,vt=x.length;K<vt;K++){var ot=x[K];if(O)z=x[K?K-1:vt-1],W=x[(K+1)%vt];else if(K===0||K===vt-1){N.push(ot);continue}else z=x[K-1],W=x[K+1];var et=[0,0];et=m.vec2.sub(et,W,z),et=m.vec2.scale(et,et,E);var lt=m.vec2.distance(ot,z),dt=m.vec2.distance(ot,W),it=lt+dt;it!==0&&(lt/=it,dt/=it);var At=m.vec2.scale([0,0],et,-lt),mt=m.vec2.scale([0,0],et,dt),U=m.vec2.add([0,0],ot,At),V=m.vec2.add([0,0],ot,mt);X&&(U=m.vec2.max([0,0],U,j),U=m.vec2.min([0,0],U,tt),V=m.vec2.max([0,0],V,j),V=m.vec2.min([0,0],V,tt)),N.push(U),N.push(V)}return O&&N.push(N.shift()),N};function A(x,E,O){for(var D=!!E,N=[],z=0,W=x.length;z<W;z+=2)N.push([x[z],x[z+1]]);for(var X=S.smoothBezier(N,.4,D,O),j=N.length,tt=[],K,wt,ot,z=0;z<j-1;z++)K=X[z*2],wt=X[z*2+1],ot=N[z+1],tt.push(["C",K[0],K[1],wt[0],wt[1],ot[0],ot[1]]);return D&&(K=X[j],wt=X[j+1],ot=N[0],tt.push(["C",K[0],K[1],wt[0],wt[1],ot[0],ot[1]])),tt}S.catmullRom2bezier=A;function p(x,E){return L(x,E)}S.getLinePath=p;function w(x,E,O){var D=[],N=x[0],z=null;if(x.length<=2)return p(x,E);for(var W=0,X=x.length;W<X;W++){var j=x[W];(!z||!(z.x===j.x&&z.y===j.y))&&(D.push(j.x),D.push(j.y),z=j)}var tt=O||[[0,0],[1,1]],K=A(D,E,tt);return K.unshift(["M",N.x,N.y]),K}S.getSplinePath=w;function y(x,E){var O=[];return I.each(E,function(D){var N=D[0];switch(N.toLowerCase()){case"m":case"l":case"c":O.push(P(D,x));break;case"z":default:O.push(D);break}}),O}S.convertNormalPath=y;function b(x,E){var O=[],D,N,z,W;return I.each(E,function(X,j){var tt=X[0];switch(tt.toLowerCase()){case"m":case"c":case"q":O.push(P(X,x));break;case"l":D=E[j-1],N=X,z=x.isTransposed,W=z?D[D.length-2]===N[1]:D[D.length-1]===N[2],W?O=O.concat(T(D,N,x)):O.push(P(X,x));break;case"z":default:O.push(X);break}}),M(O),O}S.convertPolarPath=b},33242:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=function(){function k(L,P){this.context=L,this.cfg=P,L.addAction(this)}return k.prototype.applyCfg=function(L){m.assign(this,L)},k.prototype.init=function(){this.applyCfg(this.cfg)},k.prototype.destroy=function(){this.context.removeAction(this),this.context=null},k}();S.default=I},68842:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=m.__importDefault(d(33242)),k=function(L){m.__extends(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.execute=function(){this.callback&&this.callback(this.context)},P.prototype.destroy=function(){L.prototype.destroy.call(this),this.callback=null},P}(I.default);S.default=k},93359:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var m=d(70655),I=m.__importDefault(d(68842)),k=d(49242),L={};function P(w,y){var b=L[w],x=null;if(b){var E=b.ActionClass,O=b.cfg;x=new E(y,O),x.name=w,x.init()}return x}S.createAction=P;function T(w){var y=L[w];return k.get(y,"ActionClass")}S.getActionClass=T;function M(w,y,b){L[w]={ActionClass:y,cfg:b}}S.registerAction=M;function A(w){delete L[w]}S.unregisterAction=A;function p(w,y){var b=new I.default(y);return b.callback=w,b.name="callback",b}S.createCallbackAction=p},31882:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var m=d(70655),I=d(49242),k=d(36758),L=d(85800),P=m.__importDefault(d(70146));function T(U,V){var B=U.event,f=B.target,yt=f.getCanvasBBox();return yt.width>=V||yt.height>=V?yt:null}function M(U,V){var B=U.event,f=B.target,yt=f.getCanvasBBox();return yt.width>=V||yt.height>=V?f.attr("path"):null}function A(U){var V=U.event,B,f=V.target;return f&&(B=f.get("element")),B}S.getCurrentElement=A;function p(U){var V=U.event,B=V.target,f;return B&&(f=B.get("delegateObject")),f}S.getDelegationObject=p;function w(U){var V=U.event.gEvent;return!(V&&V.fromShape&&V.toShape&&V.fromShape.get("element")===V.toShape.get("element"))}S.isElementChange=w;function y(U){return U&&U.component&&U.component.isList()}S.isList=y;function b(U){return U&&U.component&&U.component.isSlider()}S.isSlider=b;function x(U){var V=U.event,B=V.target;return B&&B.get("name")==="mask"}S.isMask=x;function E(U,V){var B=U.event.target;if(B.get("type")==="path"){var f=M(U,V);return f?K(U.view,f):void 0}var yt=T(U,V);return yt?j(U.view,yt):null}S.getMaskedElements=E;function O(U,V,B){var f=T(U,B);if(!f)return null;var yt=U.view,St=it(yt,V,{x:f.x,y:f.y}),Rt=it(yt,V,{x:f.maxX,y:f.maxY}),Qt={minX:St.x,minY:St.y,maxX:Rt.x,maxY:Rt.y};return j(V,Qt)}S.getSiblingMaskElements=O;function D(U){var V=U.geometries,B=[];return I.each(V,function(f){var yt=f.elements;B=B.concat(yt)}),U.views&&U.views.length&&I.each(U.views,function(f){B=B.concat(D(f))}),B}S.getElements=D;function N(U,V,B){var f=D(U);return f.filter(function(yt){return W(yt,V)===B})}S.getElementsByField=N;function z(U,V){var B=U.geometries,f=[];return I.each(B,function(yt){var St=yt.getElementsBy(function(Rt){return Rt.hasState(V)});f=f.concat(St)}),f}S.getElementsByState=z;function W(U,V){var B=U.getModel(),f=B.data,yt;return I.isArray(f)?yt=f[0][V]:yt=f[V],yt}S.getElementValue=W;function X(U,V){return!(V.minX>U.maxX||V.maxX<U.minX||V.minY>U.maxY||V.maxY<U.minY)}S.intersectRect=X;function j(U,V){var B=D(U),f=[];return I.each(B,function(yt){var St=yt.shape,Rt=St.getCanvasBBox();X(V,Rt)&&f.push(yt)}),f}S.getIntersectElements=j;function tt(U){var V=[];return I.each(U,function(B){var f=B[0];if(f!=="A")for(var yt=1;yt<B.length;yt=yt+2)V.push([B[yt],B[yt+1]]);else{var St=B.length;V.push([B[St-2],B[St-1]])}}),V}function K(U,V){var B=D(U),f=tt(V),yt=B.filter(function(St){var Rt=St.shape,Qt;if(Rt.get("type")==="path")Qt=tt(Rt.attr("path"));else{var zt=Rt.getCanvasBBox();Qt=L.toPoints(zt)}return P.default(f,Qt)});return yt}S.getElementsByPath=K;function wt(U){return U.getComponents().map(function(V){return V.component})}S.getComponents=wt;function ot(U,V){var B=V.x-U.x,f=V.y-U.y;return Math.sqrt(B*B+f*f)}S.distance=ot;function vt(U,V){if(U.length<=2)return k.getLinePath(U,!1);var B=U[0],f=[];I.each(U,function(St){f.push(St.x),f.push(St.y)});var yt=k.catmullRom2bezier(f,V,null);return yt.unshift(["M",B.x,B.y]),yt}S.getSpline=vt;function et(U,V){return U.x<=V.x&&U.maxX>=V.x&&U.y<=V.y&&U.maxY>V.y}S.isInBox=et;function lt(U){var V=U.parent,B=null;return V&&(B=V.views.filter(function(f){return f!==U})),B}S.getSilbings=lt;function dt(U,V){var B=U.getCoordinate();return B.invert(V)}function it(U,V,B){var f=dt(U,B);return V.getCoordinate().convert(f)}S.getSiblingPoint=it;function At(U,V,B,f){var yt=!1;return I.each(U,function(St){if(St[B]===V[B]&&St[f]===V[f])return yt=!0,!1}),yt}S.isInRecords=At;function mt(U,V){var B=U.getScaleByField(V);return!B&&U.views&&I.each(U.views,function(f){if(B=mt(f,V),B)return!1}),B}S.getScaleByField=mt},43273:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(31882),k=function(){function L(P){this.actions=[],this.event=null,this.cacheMap={},this.view=P}return L.prototype.cache=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(P.length===1)return this.cacheMap[P[0]];P.length===2&&(this.cacheMap[P[0]]=P[1])},L.prototype.getAction=function(P){return this.actions.find(function(T){return T.name===P})},L.prototype.addAction=function(P){this.actions.push(P)},L.prototype.removeAction=function(P){var T=this.actions,M=this.actions.indexOf(P);M>=0&&T.splice(M,1)},L.prototype.getCurrentPoint=function(){var P=this.event;if(P)if(P.target instanceof HTMLElement){var T=this.view.getCanvas(),M=T.getPointByClient(P.clientX,P.clientY);return M}else return{x:P.x,y:P.y};return null},L.prototype.getCurrentShape=function(){return m.get(this.event,["gEvent","shape"])},L.prototype.isInPlot=function(){var P=this.getCurrentPoint();return P?this.view.isPointInPlot(P):!1},L.prototype.isInShape=function(P){var T=this.getCurrentShape();return T?T.get("name")===P:!1},L.prototype.isInComponent=function(P){var T=I.getComponents(this.view),M=this.getCurrentPoint();return M?!!T.find(function(A){var p=A.getBBox();return P?A.get("name")===P&&I.isInBox(p,M):I.isInBox(p,M)}):!1},L.prototype.destroy=function(){this.view=null,this.event=null,m.each(this.actions.slice(),function(P){P.destroy()}),this.actions=null,this.cacheMap=null},L}();S.default=k},61058:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(49242),L=d(93359),P=I.__importDefault(d(43273)),T=I.__importDefault(d(91513));function M(y,b){var x=y.split(":"),E=x[0],O=b.getAction(E)||L.createAction(E,b);if(!O)throw new Error("There is no action named "+E);var D=x[1];return{action:O,methodName:D}}function A(y){var b=y.action,x=y.methodName;if(b[x])b[x]();else throw new Error("Action("+b.name+") doesn't have a method called "+x)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(y){I.__extends(b,y);function b(x,E){var O=y.call(this,x,E)||this;return O.callbackCaches={},O.emitCaches={},O.steps=E,O}return b.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},b.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},b.prototype.initEvents=function(){var x=this;k.each(this.steps,function(E,O){k.each(E,function(D){var N=x.getActionCallback(O,D);N&&x.bindEvent(D.trigger,N)})})},b.prototype.clearEvents=function(){var x=this;k.each(this.steps,function(E,O){k.each(E,function(D){var N=x.getActionCallback(O,D);N&&x.offEvent(D.trigger,N)})})},b.prototype.initContext=function(){var x=this.view,E=new P.default(x);this.context=E;var O=this.steps;k.each(O,function(D){k.each(D,function(N){if(k.isFunction(N.action))N.actionObject={action:L.createCallbackAction(N.action,E),methodName:"execute"};else if(k.isString(N.action))N.actionObject=M(N.action,E);else if(k.isArray(N.action)){var z=N.action;N.actionObject=[],k.each(z,function(W){N.actionObject.push(M(W,E))})}})})},b.prototype.isAllowStep=function(x){var E=this.currentStepName,O=this.steps;if(E===x||x===p.SHOW_ENABLE)return!0;if(x===p.PROCESSING)return E===p.START;if(x===p.START)return E!==p.PROCESSING;if(x===p.END)return E===p.PROCESSING||E===p.START;if(x===p.ROLLBACK){if(O[p.END])return E===p.END;if(E===p.START)return!0}return!1},b.prototype.isAllowExcute=function(x,E){if(this.isAllowStep(x)){var O=this.getKey(x,E);return E.once&&this.emitCaches[O]?!1:E.isEnable?E.isEnable(this.context):!0}return!1},b.prototype.enterStep=function(x){this.currentStepName=x,this.emitCaches={}},b.prototype.afterExecute=function(x,E){x!==p.SHOW_ENABLE&&this.currentStepName!==x&&this.enterStep(x);var O=this.getKey(x,E);this.emitCaches[O]=!0},b.prototype.getKey=function(x,E){return x+E.trigger+E.action},b.prototype.getActionCallback=function(x,E){var O=this,D=this.context,N=this.callbackCaches,z=E.actionObject;if(E.action&&z){var W=this.getKey(x,E);if(!N[W]){var X=function(j){D.event=j,O.isAllowExcute(x,E)?(k.isArray(z)?k.each(z,function(tt){D.event=j,A(tt)}):(D.event=j,A(z)),O.afterExecute(x,E),E.callback&&(D.event=j,E.callback(D))):D.event=null};E.debounce?N[W]=k.debounce(X,E.debounce.wait,E.debounce.immediate):E.throttle?N[W]=k.throttle(X,E.throttle.wait,{leading:E.throttle.leading,trailing:E.throttle.trailing}):N[W]=X}return N[W]}return null},b.prototype.bindEvent=function(x,E){var O=x.split(":");O[0]==="window"?window.addEventListener(O[1],E):O[0]==="document"?document.addEventListener(O[1],E):this.view.on(x,E)},b.prototype.offEvent=function(x,E){var O=x.split(":");O[0]==="window"?window.removeEventListener(O[1],E):O[0]==="document"?document.removeEventListener(O[1],E):this.view.off(x,E)},b}(T.default);m=w},91513:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(I,k){this.view=I,this.cfg=k}return m.prototype.init=function(){this.initEvents()},m.prototype.initEvents=function(){},m.prototype.clearEvents=function(){},m.prototype.destroy=function(){this.clearEvents()},m}();S.default=d},85800:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var m=d(49242),I=d(29583),k=function(){function P(T,M,A,p){T===void 0&&(T=0),M===void 0&&(M=0),A===void 0&&(A=0),p===void 0&&(p=0),this.x=T,this.y=M,this.height=p,this.width=A}return P.fromRange=function(T,M,A,p){return new P(T,M,A-T,p-M)},Object.defineProperty(P.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),P.prototype.isEqual=function(T){return this.x===T.x&&this.y===T.y&&this.width===T.width&&this.height===T.height},P.prototype.clone=function(){return new P(this.x,this.y,this.width,this.height)},P.prototype.add=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var A=this.clone();return m.each(T,function(p){A.x=Math.min(p.x,A.x),A.y=Math.min(p.y,A.y),A.width=Math.max(p.maxX,A.maxX)-A.x,A.height=Math.max(p.maxY,A.maxY)-A.y}),A},P.prototype.merge=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];var A=this.clone();return m.each(T,function(p){A.x=Math.max(p.x,A.x),A.y=Math.max(p.y,A.y),A.width=Math.min(p.maxX,A.maxX)-A.x,A.height=Math.min(p.maxY,A.maxY)-A.y}),A},P.prototype.cut=function(T,M){var A=T.width,p=T.height;switch(M){case I.DIRECTION.TOP:case I.DIRECTION.TOP_LEFT:case I.DIRECTION.TOP_RIGHT:return P.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case I.DIRECTION.RIGHT:case I.DIRECTION.RIGHT_TOP:case I.DIRECTION.RIGHT_BOTTOM:return P.fromRange(this.minX,this.minY,this.maxX-A,this.maxY);case I.DIRECTION.BOTTOM:case I.DIRECTION.BOTTOM_LEFT:case I.DIRECTION.BOTTOM_RIGHT:return P.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case I.DIRECTION.LEFT:case I.DIRECTION.LEFT_TOP:case I.DIRECTION.LEFT_BOTTOM:return P.fromRange(this.minX+A,this.minY,this.maxX,this.maxY);default:return this}},P.prototype.shrink=function(T){var M=T[0],A=T[1],p=T[2],w=T[3];return new P(this.x+w,this.y+M,this.width-w-A,this.height-M-p)},P.prototype.exceed=function(T){return[Math.max(-this.minY+T.minY,0),Math.max(this.maxX-T.maxX,0),Math.max(this.maxY-T.maxY,0),Math.max(-this.minX+T.minX,0)]},P.prototype.size=function(){return this.width*this.height},P}();S.BBox=k,S.getRegionBBox=function(P,T){var M=T.start,A=T.end;return new k(P.x+P.width*M.x,P.y+P.height*M.y,P.width*Math.abs(A.x-M.x),P.height*Math.abs(A.y-M.y))};function L(P){return[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY]]}S.toPoints=L},22514:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var m=d(42770),I=d(86630);function k(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-w.x,2)+Math.pow(y.y-w.y,2))}S.getXDimensionLength=k;function L(p){if(p.isPolar){var w=p.startAngle,y=p.endAngle;return y-w==Math.PI*2}return!1}S.isFullCircle=L;function P(p,w){var y=p.getCenter();return Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}S.getDistanceToCenter=P;function T(p,w){var y=!1;if(p)if(p.type==="theta"){var b=p.start,x=p.end;y=I.isBetween(w.x,b.x,x.x)&&I.isBetween(w.y,b.y,x.y)}else{var E=p.invert(w);y=I.isBetween(E.x,0,1)&&I.isBetween(E.y,0,1)}return y}S.isPointInCoordinate=T;function M(p,w){var y=p.getCenter();return Math.atan2(w.y-y.y,w.x-y.x)}S.getAngleByPoint=M;function A(p,w){w===void 0&&(w=0);var y=p.start,b=p.end,x=p.getWidth(),E=p.getHeight();if(p.isPolar){var O=p.startAngle,D=p.endAngle,N=p.getCenter(),z=p.getRadius();return{type:"path",startState:{path:m.getSectorPath(N.x,N.y,z+w,O,O)},endState:function(X){var j=(D-O)*X+O,tt=m.getSectorPath(N.x,N.y,z+w,O,j);return{path:tt}},attrs:{path:m.getSectorPath(N.x,N.y,z+w,O,D)}}}var W;return p.isTransposed?W={height:E+w*2}:W={width:x+w*2},{type:"rect",startState:{x:y.x-w,y:b.y-w,width:p.isTransposed?x+w*2:0,height:p.isTransposed?0:E+w*2},endState:W,attrs:{x:y.x-w,y:b.y-w,width:x+w*2,height:E+w*2}}}S.getCoordinateClipCfg=A},42770:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var m=d(49242);function I(p){if(m.isEmpty(p))return null;var w=p[0].x,y=p[0].x,b=p[0].y,x=p[0].y;return m.each(p,function(E){w=w>E.x?E.x:w,y=y<E.x?E.x:y,b=b>E.y?E.y:b,x=x<E.y?E.y:x}),{minX:w,maxX:y,minY:b,maxY:x,centerX:(w+y)/2,centerY:(b+x)/2}}function k(p,w,y,b){return{x:p+y*Math.cos(b),y:w+y*Math.sin(b)}}S.polarToCartesian=k;function L(p,w,y,b,x,E){E===void 0&&(E=0);var O=k(p,w,y,b),D=k(p,w,y,x),N=k(p,w,E,b),z=k(p,w,E,x);if(x-b==Math.PI*2){var W=k(p,w,y,b+Math.PI),X=k(p,w,E,b+Math.PI),j=[["M",O.x,O.y],["A",y,y,0,1,1,W.x,W.y],["A",y,y,0,1,1,D.x,D.y],["M",N.x,N.y]];return E&&(j.push(["A",E,E,0,1,0,X.x,X.y]),j.push(["A",E,E,0,1,0,z.x,z.y])),j.push(["M",O.x,O.y]),j.push(["Z"]),j}var tt=x-b<=Math.PI?0:1,K=[["M",O.x,O.y],["A",y,y,0,tt,1,D.x,D.y],["L",z.x,z.y]];return E&&K.push(["A",E,E,0,tt,0,N.x,N.y]),K.push(["L",O.x,O.y]),K.push(["Z"]),K}S.getSectorPath=L;function P(p,w,y,b,x){var E=k(p,w,y,b),O=k(p,w,y,x);if(m.isNumberEqual(x-b,Math.PI*2)){var D=k(p,w,y,b+Math.PI);return[["M",E.x,E.y],["A",y,y,0,1,1,D.x,D.y],["A",y,y,0,1,1,E.x,E.y],["A",y,y,0,1,0,D.x,D.y],["A",y,y,0,1,0,E.x,E.y],["Z"]]}var N=x-b<=Math.PI?0:1;return[["M",E.x,E.y],["A",y,y,0,N,1,O.x,O.y]]}S.getArcPath=P;function T(p,w){var y=p.points,b=I(y),x,E,O=w.startAngle,D=w.endAngle,N=D-O;return w.isTransposed?(x=b.maxY*N,E=b.minY*N):(x=b.maxX*N,E=b.minX*N),x+=O,E+=O,{startAngle:E,endAngle:x}}S.getAngle=T;function M(p,w){if(m.isNumber(p)&&m.isNumber(w))return[p,w];for(var y=-1,b=0,x=0,E,O=p.length-1,D,N=0;++y<p.length;)E=O,O=y,N+=D=p[E]*w[O]-p[O]*w[E],b+=(p[E]+p[O])*D,x+=(w[E]+w[O])*D;return N*=3,[b/N,x/N]}S.getPolygonCentroid=M;function A(p,w){var y=p.attr(),b=w.attr();return m.each(y,function(x,E){b[E]===void 0&&(b[E]=void 0)}),b}S.getReplaceAttrs=A},86630:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var m=d(49242);function I(T,M,A){var p=Math.min(M,A),w=Math.max(M,A);return T>=p&&T<=w}S.isBetween=I;function k(T,M,A){if(m.isString(T))return T.padEnd(M,A);if(m.isArray(T)){var p=T.length;if(p<M)for(var w=M-p,y=0;y<w;y++)T.push(A)}return T}S.padEnd=k;function L(T,M){return M.forEach(function(A){delete T[A]}),T}S.omit=L;function P(T,M,A){M===void 0&&(M=[]),A===void 0&&(A={});for(var p=0,w=T;p<w.length;p++){var y=w[p];A[y]||(M.push(y),A[y]=!0)}return M}S.uniq=P},6750:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,m,I){var k=I/2*Math.sqrt(3);return[["M",d,m-I],["L",d+k,m-I/2],["L",d+k,m+I/2],["L",d,m+I],["L",d-k,m+I/2],["L",d-k,m-I/2],["Z"]]},bowtie:function(d,m,I){var k=I-1.5;return[["M",d-I,m-k],["L",d+I,m+k],["L",d+I,m-k],["L",d-I,m+k],["Z"]]},cross:function(d,m,I){return[["M",d-I,m-I],["L",d+I,m+I],["M",d+I,m-I],["L",d-I,m+I]]},tick:function(d,m,I){return[["M",d-I/2,m-I],["L",d+I/2,m-I],["M",d,m-I],["L",d,m+I],["M",d-I/2,m+I],["L",d+I/2,m+I]]},plus:function(d,m,I){return[["M",d-I,m],["L",d+I,m],["M",d,m-I],["L",d,m+I]]},hyphen:function(d,m,I){return[["M",d-I,m],["L",d+I,m]]},line:function(d,m,I){return[["M",d,m-I],["L",d,m+I]]}}},16854:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var m=d(70655),I=d(49242),k=d(57029),L=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function P(p){var w="linear";return L.test(p)?w="time":I.isString(p)&&(w="cat"),w}function T(p,w,y){var b=w||[];if(I.isNumber(p)||I.isNil(I.firstValue(b,p))&&I.isEmpty(y)){var x=k.getScale("identity");return new x({field:p.toString(),values:[p]})}var E=I.valuesOfKey(b,p),O=I.get(y,"type",P(E[0])),D=k.getScale(O);return new D(m.__assign({field:p,values:E},y))}S.createScaleByField=T;function M(p,w){if(p.type!=="identity"&&w.type!=="identity"){var y={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(y[b]=w[b]);p.change(y)}}S.syncScale=M;function A(p){return p.alias||p.field}S.getName=A},99677:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var m=d(70655),I=d(49242),k=d(29583),L=d(16854);function P(D,N,z){var W=z.translate(D),X=z.translate(N);return I.isNumberEqual(W,X)}function T(D,N){var z=N.coordinate,W=N.getXScale(),X=W.range,j=X[X.length-1],tt=X[0],K=z.invert(D),wt=K.x;return z.isPolar&&wt>(1+j)/2&&(wt=tt),W.translate(W.invert(wt))}function M(D,N,z){var W=z.coordinate,X=z.getYScale(),j=X.field,tt=W.invert(N),K=X.invert(tt.y),wt=I.find(D,function(ot){var vt=ot[k.FIELD_ORIGIN];return vt[j][0]<=K&&vt[j][1]>=K});return wt||D[D.length-1]}var A=I.memoize(function(D){if(D.isCategory)return 1;for(var N=D.values,z=N.length,W=D.translate(N[0]),X=W,j=0;j<z;j++){var tt=N[j],K=D.translate(tt);K<W&&(W=K),K>X&&(X=K)}return(X-W)/(z-1)});function p(D,N,z){var W=z;if(!z){var X=N.getAttribute("position"),j=X.getFields();W=j[0]}var tt=N.scales;return tt[W]?tt[W].getText(D[W]):I.hasKey(D,W)?D[W]:W}function w(D){var N=I.values(D.attributes);return I.filter(N,function(z){return I.contains(k.GROUP_ATTRS,z.type)})}function y(D){for(var N=w(D),z,W=0,X=N;W<X.length;W++){var j=X[W],tt=j.getScale(j.type);if(tt&&tt.isLinear){z=tt;break}}var K=D.getXScale(),wt=D.getYScale();return z||wt||K}function b(D,N){var z=N.field,W=D[z];if(I.isArray(W)){var X=W.map(function(j){return N.getText(j)});return X.join("-")}return N.getText(W)}function x(D,N){var z,W=N.getGroupScales();if(W.length&&(z=W[0]),z){var X=z.field;return z.getText(D[X])}var j=y(N);return L.getName(j)}function E(D,N,z){if(N.length===0)return null;var W=z.type,X=z.getXScale(),j=z.getYScale(),tt=X.field,K=j.field,wt=null;if(W==="heatmap"||W==="point"){for(var ot=z.coordinate,vt=ot.invert(D),et=X.invert(vt.x),lt=j.invert(vt.y),dt=Infinity,it=0;it<N.length;it++){var At=N[it],mt=At[k.FIELD_ORIGIN],U=Math.pow(mt[tt]-et,2)+Math.pow(mt[K]-lt,2);U<dt&&(dt=U,wt=At)}return wt}var V=N[0],B=N[N.length-1],f=T(D,z),yt=V[k.FIELD_ORIGIN][tt],St=V[k.FIELD_ORIGIN][K],Rt=B[k.FIELD_ORIGIN][tt],Qt=j.isLinear&&I.isArray(St);if(I.isArray(yt)){for(var it=0;it<N.length;it++){var zt=N[it],mt=zt[k.FIELD_ORIGIN];if(X.translate(mt[tt][0])<=f&&X.translate(mt[tt][1])>=f)if(Qt)I.isArray(wt)||(wt=[]),wt.push(zt);else{wt=zt;break}}I.isArray(wt)&&(wt=M(wt,D,z))}else{var $t=void 0;if(!X.isLinear&&X.type!=="timeCat"){for(var it=0;it<N.length;it++){var zt=N[it],mt=zt[k.FIELD_ORIGIN];if(P(mt[tt],f,X))if(Qt)I.isArray(wt)||(wt=[]),wt.push(zt);else{wt=zt;break}else X.translate(mt[tt])<=f&&(B=zt,$t=N[it+1])}I.isArray(wt)&&(wt=M(wt,D,z))}else{if((f>X.translate(Rt)||f<X.translate(yt))&&(f>X.max||f<X.min))return null;for(var ne=0,ae=N.length-1,Wt=void 0;ne<=ae;){Wt=Math.floor((ne+ae)/2);var It=N[Wt][k.FIELD_ORIGIN][tt];if(P(It,f,X))return N[Wt];X.translate(It)<=X.translate(f)?(ne=Wt+1,B=N[Wt],$t=N[Wt+1]):(ae===0&&(B=N[0]),ae=Wt-1)}}B&&$t&&Math.abs(X.translate(B[k.FIELD_ORIGIN][tt])-f)>Math.abs(X.translate($t[k.FIELD_ORIGIN][tt])-f)&&(B=$t)}var Ct=A(z.getXScale());return!wt&&Math.abs(X.translate(B[k.FIELD_ORIGIN][tt])-f)<=Ct/2&&(wt=B),wt}S.findDataByPoint=E;function O(D,N,z){z===void 0&&(z="");var W=D[k.FIELD_ORIGIN],X=p(W,N,z),j=N.tooltipOption,tt=N.theme.defaultColor,K=[],wt,ot;function vt(St,Rt){if(!I.isNil(Rt)&&Rt!==""){var Qt={title:X,data:W,mappingData:D,name:St,value:Rt,color:D.color||tt,marker:!0};K.push(Qt)}}if(I.isObject(j)){var et=j.fields,lt=j.callback;if(lt){var dt=et.map(function(St){return D[k.FIELD_ORIGIN][St]}),it=lt.apply(void 0,dt),At=m.__assign({data:D[k.FIELD_ORIGIN],mappingData:D,title:X,color:D.color||tt,marker:!0},it);K.push(At)}else for(var mt=N.scales,U=0,V=et;U<V.length;U++){var B=V[U];if(!I.isNil(W[B])){var f=mt[B];wt=L.getName(f),ot=f.getText(W[B]),vt(wt,ot)}}}else{var yt=y(N);I.isNil(W[yt.field])||(ot=b(W,yt),wt=x(W,N),vt(wt,ot))}return K}S.getTooltipItems=O},62113:function(ct,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return bi},AbstractGroup:function(){return Hi},AbstractShape:function(){return Pt},Base:function(){return Et},Event:function(){return zt},PathUtil:function(){return m},assembleFont:function(){return qr},getBBoxMethod:function(){return ft},getOffScreenContext:function(){return Sr},getTextHeight:function(){return dr},invert:function(){return zr},isAllowCapture:function(){return Ct},multiplyVec2:function(){return br},registerBBox:function(){return nt},registerEasing:function(){return Yr},version:function(){return hi}});var m={};d.r(m),d.d(m,{catmullRomToBezier:function(){return M},fillPath:function(){return mt},fillPathByDiff:function(){return f},formatPath:function(){return Rt},intersection:function(){return lt},parsePathArray:function(){return O},parsePathString:function(){return T},pathToAbsolute:function(){return p},pathToCurve:function(){return x},rectPath:function(){return j}});var I=d(49242),k=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+k+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+k+"]*,?["+k+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+k+"]*,?["+k+"]*","ig"),T=function(Mt){if(!Mt)return null;if((0,I.isArray)(Mt))return Mt;var st={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Z=[];return String(Mt).replace(L,function(rt,Tt,Nt){var ie=[],re=Tt.toLowerCase();if(Nt.replace(P,function(le,_e){_e&&ie.push(+_e)}),re==="m"&&ie.length>2&&(Z.push([Tt].concat(ie.splice(0,2))),re="l",Tt=Tt==="m"?"l":"L"),re==="o"&&ie.length===1&&Z.push([Tt,ie[0]]),re==="r")Z.push([Tt].concat(ie));else for(;ie.length>=st[re]&&(Z.push([Tt].concat(ie.splice(0,st[re]))),!!st[re]););return Mt}),Z},M=function(Mt,st){for(var Z=[],rt=0,Tt=Mt.length;Tt-2*!st>rt;rt+=2){var Nt=[{x:+Mt[rt-2],y:+Mt[rt-1]},{x:+Mt[rt],y:+Mt[rt+1]},{x:+Mt[rt+2],y:+Mt[rt+3]},{x:+Mt[rt+4],y:+Mt[rt+5]}];st?rt?Tt-4===rt?Nt[3]={x:+Mt[0],y:+Mt[1]}:Tt-2===rt&&(Nt[2]={x:+Mt[0],y:+Mt[1]},Nt[3]={x:+Mt[2],y:+Mt[3]}):Nt[0]={x:+Mt[Tt-2],y:+Mt[Tt-1]}:Tt-4===rt?Nt[3]=Nt[2]:rt||(Nt[0]={x:+Mt[rt],y:+Mt[rt+1]}),Z.push(["C",(-Nt[0].x+6*Nt[1].x+Nt[2].x)/6,(-Nt[0].y+6*Nt[1].y+Nt[2].y)/6,(Nt[1].x+6*Nt[2].x-Nt[3].x)/6,(Nt[1].y+6*Nt[2].y-Nt[3].y)/6,Nt[2].x,Nt[2].y])}return Z},A=function(Mt,st,Z,rt,Tt){var Nt=[];if(Tt===null&&rt===null&&(rt=Z),Mt=+Mt,st=+st,Z=+Z,rt=+rt,Tt!==null){var ie=Math.PI/180,re=Mt+Z*Math.cos(-rt*ie),le=Mt+Z*Math.cos(-Tt*ie),_e=st+Z*Math.sin(-rt*ie),Ie=st+Z*Math.sin(-Tt*ie);Nt=[["M",re,_e],["A",Z,Z,0,+(Tt-rt>180),0,le,Ie]]}else Nt=[["M",Mt,st],["m",0,-rt],["a",Z,rt,0,1,1,0,2*rt],["a",Z,rt,0,1,1,0,-2*rt],["z"]];return Nt},p=function(Mt){if(Mt=T(Mt),!Mt||!Mt.length)return[["M",0,0]];var st=[],Z=0,rt=0,Tt=0,Nt=0,ie=0,re,le;Mt[0][0]==="M"&&(Z=+Mt[0][1],rt=+Mt[0][2],Tt=Z,Nt=rt,ie++,st[0]=["M",Z,rt]);for(var _e=Mt.length===3&&Mt[0][0]==="M"&&Mt[1][0].toUpperCase()==="R"&&Mt[2][0].toUpperCase()==="Z",Ie=void 0,Fe=void 0,ar=ie,lr=Mt.length;ar<lr;ar++){if(st.push(Ie=[]),Fe=Mt[ar],re=Fe[0],re!==re.toUpperCase())switch(Ie[0]=re.toUpperCase(),Ie[0]){case"A":Ie[1]=Fe[1],Ie[2]=Fe[2],Ie[3]=Fe[3],Ie[4]=Fe[4],Ie[5]=Fe[5],Ie[6]=+Fe[6]+Z,Ie[7]=+Fe[7]+rt;break;case"V":Ie[1]=+Fe[1]+rt;break;case"H":Ie[1]=+Fe[1]+Z;break;case"R":le=[Z,rt].concat(Fe.slice(1));for(var He=2,Fr=le.length;He<Fr;He++)le[He]=+le[He]+Z,le[++He]=+le[He]+rt;st.pop(),st=st.concat(M(le,_e));break;case"O":st.pop(),le=A(Z,rt,Fe[1],Fe[2]),le.push(le[0]),st=st.concat(le);break;case"U":st.pop(),st=st.concat(A(Z,rt,Fe[1],Fe[2],Fe[3])),Ie=["U"].concat(st[st.length-1].slice(-2));break;case"M":Tt=+Fe[1]+Z,Nt=+Fe[2]+rt;break;default:for(var He=1,Fr=Fe.length;He<Fr;He++)Ie[He]=+Fe[He]+(He%2?Z:rt)}else if(re==="R")le=[Z,rt].concat(Fe.slice(1)),st.pop(),st=st.concat(M(le,_e)),Ie=["R"].concat(Fe.slice(-2));else if(re==="O")st.pop(),le=A(Z,rt,Fe[1],Fe[2]),le.push(le[0]),st=st.concat(le);else if(re==="U")st.pop(),st=st.concat(A(Z,rt,Fe[1],Fe[2],Fe[3])),Ie=["U"].concat(st[st.length-1].slice(-2));else for(var Rr=0,tn=Fe.length;Rr<tn;Rr++)Ie[Rr]=Fe[Rr];if(re=re.toUpperCase(),re!=="O")switch(Ie[0]){case"Z":Z=+Tt,rt=+Nt;break;case"H":Z=Ie[1];break;case"V":rt=Ie[1];break;case"M":Tt=Ie[Ie.length-2],Nt=Ie[Ie.length-1];break;default:Z=Ie[Ie.length-2],rt=Ie[Ie.length-1]}}return st},w=function(Mt,st,Z,rt){return[Mt,st,Z,rt,Z,rt]},y=function(Mt,st,Z,rt,Tt,Nt){var ie=1/3,re=2/3;return[ie*Mt+re*Z,ie*st+re*rt,ie*Tt+re*Z,ie*Nt+re*rt,Tt,Nt]},b=function(Mt,st,Z,rt,Tt,Nt,ie,re,le,_e){Z===rt&&(Z+=1);var Ie=Math.PI*120/180,Fe=Math.PI/180*(+Tt||0),ar=[],lr,He,Fr,Rr,tn,on=function(ut,R,H){var q=ut*Math.cos(H)-R*Math.sin(H),gt=ut*Math.sin(H)+R*Math.cos(H);return{x:q,y:gt}};if(_e)He=_e[0],Fr=_e[1],Rr=_e[2],tn=_e[3];else{lr=on(Mt,st,-Fe),Mt=lr.x,st=lr.y,lr=on(re,le,-Fe),re=lr.x,le=lr.y,Mt===re&&st===le&&(re+=1,le+=1);var gr=(Mt-re)/2,cr=(st-le)/2,nn=gr*gr/(Z*Z)+cr*cr/(rt*rt);nn>1&&(nn=Math.sqrt(nn),Z=nn*Z,rt=nn*rt);var zn=Z*Z,Qn=rt*rt,oa=(Nt===ie?-1:1)*Math.sqrt(Math.abs((zn*Qn-zn*cr*cr-Qn*gr*gr)/(zn*cr*cr+Qn*gr*gr)));Rr=oa*Z*cr/rt+(Mt+re)/2,tn=oa*-rt*gr/Z+(st+le)/2,He=Math.asin(((st-tn)/rt).toFixed(9)),Fr=Math.asin(((le-tn)/rt).toFixed(9)),He=Mt<Rr?Math.PI-He:He,Fr=re<Rr?Math.PI-Fr:Fr,He<0&&(He=Math.PI*2+He),Fr<0&&(Fr=Math.PI*2+Fr),ie&&He>Fr&&(He=He-Math.PI*2),!ie&&Fr>He&&(Fr=Fr-Math.PI*2)}var Oa=Fr-He;if(Math.abs(Oa)>Ie){var zo=Fr,Wa=re,ao=le;Fr=He+Ie*(ie&&Fr>He?1:-1),re=Rr+Z*Math.cos(Fr),le=tn+rt*Math.sin(Fr),ar=b(re,le,Z,rt,Tt,0,ie,Wa,ao,[Fr,zo,Rr,tn])}Oa=Fr-He;var ka=Math.cos(He),Pi=Math.sin(He),So=Math.cos(Fr),Co=Math.sin(Fr),ja=Math.tan(Oa/4),_a=4/3*Z*ja,Wn=4/3*rt*ja,oo=[Mt,st],di=[Mt+_a*Pi,st-Wn*ka],Xn=[re+_a*Co,le-Wn*So],Ua=[re,le];if(di[0]=2*oo[0]-di[0],di[1]=2*oo[1]-di[1],_e)return[di,Xn,Ua].concat(ar);ar=[di,Xn,Ua].concat(ar).join().split(",");for(var Bn=[],Fi=0,Gt=ar.length;Fi<Gt;Fi++)Bn[Fi]=Fi%2?on(ar[Fi-1],ar[Fi],Fe).y:on(ar[Fi],ar[Fi+1],Fe).x;return Bn},x=function(Mt,st){var Z=p(Mt),rt=st&&p(st),Tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],re=[],le="",_e="",Ie,Fe=function(gr,cr,nn){var zn,Qn;if(!gr)return["C",cr.x,cr.y,cr.x,cr.y,cr.x,cr.y];switch(!(gr[0]in{T:1,Q:1})&&(cr.qx=cr.qy=null),gr[0]){case"M":cr.X=gr[1],cr.Y=gr[2];break;case"A":gr=["C"].concat(b.apply(0,[cr.x,cr.y].concat(gr.slice(1))));break;case"S":nn==="C"||nn==="S"?(zn=cr.x*2-cr.bx,Qn=cr.y*2-cr.by):(zn=cr.x,Qn=cr.y),gr=["C",zn,Qn].concat(gr.slice(1));break;case"T":nn==="Q"||nn==="T"?(cr.qx=cr.x*2-cr.qx,cr.qy=cr.y*2-cr.qy):(cr.qx=cr.x,cr.qy=cr.y),gr=["C"].concat(y(cr.x,cr.y,cr.qx,cr.qy,gr[1],gr[2]));break;case"Q":cr.qx=gr[1],cr.qy=gr[2],gr=["C"].concat(y(cr.x,cr.y,gr[1],gr[2],gr[3],gr[4]));break;case"L":gr=["C"].concat(w(cr.x,cr.y,gr[1],gr[2]));break;case"H":gr=["C"].concat(w(cr.x,cr.y,gr[1],cr.y));break;case"V":gr=["C"].concat(w(cr.x,cr.y,cr.x,gr[1]));break;case"Z":gr=["C"].concat(w(cr.x,cr.y,cr.X,cr.Y));break;default:break}return gr},ar=function(gr,cr){if(gr[cr].length>7){gr[cr].shift();for(var nn=gr[cr];nn.length;)ie[cr]="A",rt&&(re[cr]="A"),gr.splice(cr++,0,["C"].concat(nn.splice(0,6)));gr.splice(cr,1),Ie=Math.max(Z.length,rt&&rt.length||0)}},lr=function(gr,cr,nn,zn,Qn){gr&&cr&&gr[Qn][0]==="M"&&cr[Qn][0]!=="M"&&(cr.splice(Qn,0,["M",zn.x,zn.y]),nn.bx=0,nn.by=0,nn.x=gr[Qn][1],nn.y=gr[Qn][2],Ie=Math.max(Z.length,rt&&rt.length||0))};Ie=Math.max(Z.length,rt&&rt.length||0);for(var He=0;He<Ie;He++){Z[He]&&(le=Z[He][0]),le!=="C"&&(ie[He]=le,He&&(_e=ie[He-1])),Z[He]=Fe(Z[He],Tt,_e),ie[He]!=="A"&&le==="C"&&(ie[He]="C"),ar(Z,He),rt&&(rt[He]&&(le=rt[He][0]),le!=="C"&&(re[He]=le,He&&(_e=re[He-1])),rt[He]=Fe(rt[He],Nt,_e),re[He]!=="A"&&le==="C"&&(re[He]="C"),ar(rt,He)),lr(Z,rt,Tt,Nt,He),lr(rt,Z,Nt,Tt,He);var Fr=Z[He],Rr=rt&&rt[He],tn=Fr.length,on=rt&&Rr.length;Tt.x=Fr[tn-2],Tt.y=Fr[tn-1],Tt.bx=parseFloat(Fr[tn-4])||Tt.x,Tt.by=parseFloat(Fr[tn-3])||Tt.y,Nt.bx=rt&&(parseFloat(Rr[on-4])||Nt.x),Nt.by=rt&&(parseFloat(Rr[on-3])||Nt.y),Nt.x=rt&&Rr[on-2],Nt.y=rt&&Rr[on-1]}return rt?[Z,rt]:Z},E=/,?([a-z]),?/gi,O=function(Mt){return Mt.join(",").replace(E,"$1")},D=function(Mt,st,Z,rt,Tt){var Nt=-3*st+9*Z-9*rt+3*Tt,ie=Mt*Nt+6*st-12*Z+6*rt;return Mt*ie-3*st+3*Z},N=function(Mt,st,Z,rt,Tt,Nt,ie,re,le){le===null&&(le=1),le=le>1?1:le<0?0:le;for(var _e=le/2,Ie=12,Fe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ar=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],lr=0,He=0;He<Ie;He++){var Fr=_e*Fe[He]+_e,Rr=D(Fr,Mt,Z,Tt,ie),tn=D(Fr,st,rt,Nt,re),on=Rr*Rr+tn*tn;lr+=ar[He]*Math.sqrt(on)}return _e*lr},z=function(Mt,st,Z,rt,Tt,Nt,ie,re){for(var le=[],_e=[[],[]],Ie,Fe,ar,lr,He=0;He<2;++He){if(He===0?(Fe=6*Mt-12*Z+6*Tt,Ie=-3*Mt+9*Z-9*Tt+3*ie,ar=3*Z-3*Mt):(Fe=6*st-12*rt+6*Nt,Ie=-3*st+9*rt-9*Nt+3*re,ar=3*rt-3*st),Math.abs(Ie)<1e-12){if(Math.abs(Fe)<1e-12)continue;lr=-ar/Fe,lr>0&&lr<1&&le.push(lr);continue}var Fr=Fe*Fe-4*ar*Ie,Rr=Math.sqrt(Fr);if(!(Fr<0)){var tn=(-Fe+Rr)/(2*Ie);tn>0&&tn<1&&le.push(tn);var on=(-Fe-Rr)/(2*Ie);on>0&&on<1&&le.push(on)}}for(var gr=le.length,cr=gr,nn;gr--;)lr=le[gr],nn=1-lr,_e[0][gr]=nn*nn*nn*Mt+3*nn*nn*lr*Z+3*nn*lr*lr*Tt+lr*lr*lr*ie,_e[1][gr]=nn*nn*nn*st+3*nn*nn*lr*rt+3*nn*lr*lr*Nt+lr*lr*lr*re;return _e[0][cr]=Mt,_e[1][cr]=st,_e[0][cr+1]=ie,_e[1][cr+1]=re,_e[0].length=_e[1].length=cr+2,{min:{x:Math.min.apply(0,_e[0]),y:Math.min.apply(0,_e[1])},max:{x:Math.max.apply(0,_e[0]),y:Math.max.apply(0,_e[1])}}},W=function(Mt,st,Z,rt,Tt,Nt,ie,re){if(!(Math.max(Mt,Z)<Math.min(Tt,ie)||Math.min(Mt,Z)>Math.max(Tt,ie)||Math.max(st,rt)<Math.min(Nt,re)||Math.min(st,rt)>Math.max(Nt,re))){var le=(Mt*rt-st*Z)*(Tt-ie)-(Mt-Z)*(Tt*re-Nt*ie),_e=(Mt*rt-st*Z)*(Nt-re)-(st-rt)*(Tt*re-Nt*ie),Ie=(Mt-Z)*(Nt-re)-(st-rt)*(Tt-ie);if(!!Ie){var Fe=le/Ie,ar=_e/Ie,lr=+Fe.toFixed(2),He=+ar.toFixed(2);if(!(lr<+Math.min(Mt,Z).toFixed(2)||lr>+Math.max(Mt,Z).toFixed(2)||lr<+Math.min(Tt,ie).toFixed(2)||lr>+Math.max(Tt,ie).toFixed(2)||He<+Math.min(st,rt).toFixed(2)||He>+Math.max(st,rt).toFixed(2)||He<+Math.min(Nt,re).toFixed(2)||He>+Math.max(Nt,re).toFixed(2)))return{x:Fe,y:ar}}}},X=function(Mt,st,Z){return st>=Mt.x&&st<=Mt.x+Mt.width&&Z>=Mt.y&&Z<=Mt.y+Mt.height},j=function(Mt,st,Z,rt,Tt){if(Tt)return[["M",+Mt+ +Tt,st],["l",Z-Tt*2,0],["a",Tt,Tt,0,0,1,Tt,Tt],["l",0,rt-Tt*2],["a",Tt,Tt,0,0,1,-Tt,Tt],["l",Tt*2-Z,0],["a",Tt,Tt,0,0,1,-Tt,-Tt],["l",0,Tt*2-rt],["a",Tt,Tt,0,0,1,Tt,-Tt],["z"]];var Nt=[["M",Mt,st],["l",Z,0],["l",0,rt],["l",-Z,0],["z"]];return Nt.parsePathArray=O,Nt},tt=function(Mt,st,Z,rt){return Mt===null&&(Mt=st=Z=rt=0),st===null&&(st=Mt.y,Z=Mt.width,rt=Mt.height,Mt=Mt.x),{x:Mt,y:st,width:Z,w:Z,height:rt,h:rt,x2:Mt+Z,y2:st+rt,cx:Mt+Z/2,cy:st+rt/2,r1:Math.min(Z,rt)/2,r2:Math.max(Z,rt)/2,r0:Math.sqrt(Z*Z+rt*rt)/2,path:j(Mt,st,Z,rt),vb:[Mt,st,Z,rt].join(" ")}},K=function(Mt,st){return Mt=tt(Mt),st=tt(st),X(st,Mt.x,Mt.y)||X(st,Mt.x2,Mt.y)||X(st,Mt.x,Mt.y2)||X(st,Mt.x2,Mt.y2)||X(Mt,st.x,st.y)||X(Mt,st.x2,st.y)||X(Mt,st.x,st.y2)||X(Mt,st.x2,st.y2)||(Mt.x<st.x2&&Mt.x>st.x||st.x<Mt.x2&&st.x>Mt.x)&&(Mt.y<st.y2&&Mt.y>st.y||st.y<Mt.y2&&st.y>Mt.y)},wt=function(Mt,st,Z,rt,Tt,Nt,ie,re){(0,I.isArray)(Mt)||(Mt=[Mt,st,Z,rt,Tt,Nt,ie,re]);var le=z.apply(null,Mt);return tt(le.min.x,le.min.y,le.max.x-le.min.x,le.max.y-le.min.y)},ot=function(Mt,st,Z,rt,Tt,Nt,ie,re,le){var _e=1-le,Ie=Math.pow(_e,3),Fe=Math.pow(_e,2),ar=le*le,lr=ar*le,He=Ie*Mt+Fe*3*le*Z+_e*3*le*le*Tt+lr*ie,Fr=Ie*st+Fe*3*le*rt+_e*3*le*le*Nt+lr*re,Rr=Mt+2*le*(Z-Mt)+ar*(Tt-2*Z+Mt),tn=st+2*le*(rt-st)+ar*(Nt-2*rt+st),on=Z+2*le*(Tt-Z)+ar*(ie-2*Tt+Z),gr=rt+2*le*(Nt-rt)+ar*(re-2*Nt+rt),cr=_e*Mt+le*Z,nn=_e*st+le*rt,zn=_e*Tt+le*ie,Qn=_e*Nt+le*re,oa=90-Math.atan2(Rr-on,tn-gr)*180/Math.PI;return{x:He,y:Fr,m:{x:Rr,y:tn},n:{x:on,y:gr},start:{x:cr,y:nn},end:{x:zn,y:Qn},alpha:oa}},vt=function(Mt,st,Z){var rt=wt(Mt),Tt=wt(st);if(!K(rt,Tt))return Z?0:[];for(var Nt=N.apply(0,Mt),ie=N.apply(0,st),re=~~(Nt/8),le=~~(ie/8),_e=[],Ie=[],Fe={},ar=Z?0:[],lr=0;lr<re+1;lr++){var He=ot.apply(0,Mt.concat(lr/re));_e.push({x:He.x,y:He.y,t:lr/re})}for(var lr=0;lr<le+1;lr++){var He=ot.apply(0,st.concat(lr/le));Ie.push({x:He.x,y:He.y,t:lr/le})}for(var lr=0;lr<re;lr++)for(var Fr=0;Fr<le;Fr++){var Rr=_e[lr],tn=_e[lr+1],on=Ie[Fr],gr=Ie[Fr+1],cr=Math.abs(tn.x-Rr.x)<.001?"y":"x",nn=Math.abs(gr.x-on.x)<.001?"y":"x",zn=W(Rr.x,Rr.y,tn.x,tn.y,on.x,on.y,gr.x,gr.y);if(zn){if(Fe[zn.x.toFixed(4)]===zn.y.toFixed(4))continue;Fe[zn.x.toFixed(4)]=zn.y.toFixed(4);var Qn=Rr.t+Math.abs((zn[cr]-Rr[cr])/(tn[cr]-Rr[cr]))*(tn.t-Rr.t),oa=on.t+Math.abs((zn[nn]-on[nn])/(gr[nn]-on[nn]))*(gr.t-on.t);Qn>=0&&Qn<=1&&oa>=0&&oa<=1&&(Z?ar+=1:ar.push({x:zn.x,y:zn.y,t1:Qn,t2:oa}))}}return ar},et=function(Mt,st,Z){Mt=x(Mt),st=x(st);for(var rt,Tt,Nt,ie,re,le,_e,Ie,Fe,ar,lr=Z?0:[],He=0,Fr=Mt.length;He<Fr;He++){var Rr=Mt[He];if(Rr[0]==="M")rt=re=Rr[1],Tt=le=Rr[2];else{Rr[0]==="C"?(Fe=[rt,Tt].concat(Rr.slice(1)),rt=Fe[6],Tt=Fe[7]):(Fe=[rt,Tt,rt,Tt,re,le,re,le],rt=re,Tt=le);for(var tn=0,on=st.length;tn<on;tn++){var gr=st[tn];if(gr[0]==="M")Nt=_e=gr[1],ie=Ie=gr[2];else{gr[0]==="C"?(ar=[Nt,ie].concat(gr.slice(1)),Nt=ar[6],ie=ar[7]):(ar=[Nt,ie,Nt,ie,_e,Ie,_e,Ie],Nt=_e,ie=Ie);var cr=vt(Fe,ar,Z);if(Z)lr+=cr;else{for(var nn=0,zn=cr.length;nn<zn;nn++)cr[nn].segment1=He,cr[nn].segment2=tn,cr[nn].bez1=Fe,cr[nn].bez2=ar;lr=lr.concat(cr)}}}}}return lr},lt=function(Mt,st){return et(Mt,st)};function dt(Mt,st){var Z=[],rt=[];function Tt(Nt,ie){if(Nt.length===1)Z.push(Nt[0]),rt.push(Nt[0]);else{for(var re=[],le=0;le<Nt.length-1;le++)le===0&&Z.push(Nt[0]),le===Nt.length-2&&rt.push(Nt[le+1]),re[le]=[(1-ie)*Nt[le][0]+ie*Nt[le+1][0],(1-ie)*Nt[le][1]+ie*Nt[le+1][1]];Tt(re,ie)}}return Mt.length&&Tt(Mt,st),{left:Z,right:rt.reverse()}}function it(Mt,st,Z){var rt=[[Mt[1],Mt[2]]];Z=Z||2;var Tt=[];st[0]==="A"?(rt.push(st[6]),rt.push(st[7])):st[0]==="C"?(rt.push([st[1],st[2]]),rt.push([st[3],st[4]]),rt.push([st[5],st[6]])):st[0]==="S"||st[0]==="Q"?(rt.push([st[1],st[2]]),rt.push([st[3],st[4]])):rt.push([st[1],st[2]]);for(var Nt=rt,ie=1/Z,re=0;re<Z-1;re++){var le=ie/(1-ie*re),_e=dt(Nt,le);Tt.push(_e.left),Nt=_e.right}Tt.push(Nt);var Ie=Tt.map(function(Fe){var ar=[];return Fe.length===4&&(ar.push("C"),ar=ar.concat(Fe[2])),Fe.length>=3&&(Fe.length===3&&ar.push("Q"),ar=ar.concat(Fe[1])),Fe.length===2&&ar.push("L"),ar=ar.concat(Fe[Fe.length-1]),ar});return Ie}var At=function(Mt,st,Z){if(Z===1)return[[].concat(Mt)];var rt=[];if(st[0]==="L"||st[0]==="C"||st[0]==="Q")rt=rt.concat(it(Mt,st,Z));else{var Tt=[].concat(Mt);Tt[0]==="M"&&(Tt[0]="L");for(var Nt=0;Nt<=Z-1;Nt++)rt.push(Tt)}return rt},mt=function(Mt,st){if(Mt.length===1)return Mt;var Z=Mt.length-1,rt=st.length-1,Tt=Z/rt,Nt=[];if(Mt.length===1&&Mt[0][0]==="M"){for(var ie=0;ie<rt-Z;ie++)Mt.push(Mt[0]);return Mt}for(var ie=0;ie<rt;ie++){var re=Math.floor(Tt*ie);Nt[re]=(Nt[re]||0)+1}var le=Nt.reduce(function(_e,Ie,Fe){return Fe===Z?_e.concat(Mt[Z]):_e.concat(At(Mt[Fe],Mt[Fe+1],Ie))},[]);return le.unshift(Mt[0]),(st[rt]==="Z"||st[rt]==="z")&&le.push("Z"),le},U=function(Mt,st){if(Mt.length!==st.length)return!1;var Z=!0;return(0,I.each)(Mt,function(rt,Tt){if(rt!==st[Tt])return Z=!1,!1}),Z};function V(Mt,st,Z){var rt=null,Tt=Z;return st<Tt&&(Tt=st,rt="add"),Mt<Tt&&(Tt=Mt,rt="del"),{type:rt,min:Tt}}var B=function(Mt,st){var Z=Mt.length,rt=st.length,Tt,Nt,ie=0;if(Z===0||rt===0)return null;for(var re=[],le=0;le<=Z;le++)re[le]=[],re[le][0]={min:le};for(var _e=0;_e<=rt;_e++)re[0][_e]={min:_e};for(var le=1;le<=Z;le++){Tt=Mt[le-1];for(var _e=1;_e<=rt;_e++){Nt=st[_e-1],U(Tt,Nt)?ie=0:ie=1;var Ie=re[le-1][_e].min+1,Fe=re[le][_e-1].min+1,ar=re[le-1][_e-1].min+ie;re[le][_e]=V(Ie,Fe,ar)}}return re},f=function(Mt,st){var Z=B(Mt,st),rt=Mt.length,Tt=st.length,Nt=[],ie=1,re=1;if(Z[rt][Tt].min!==rt){for(var le=1;le<=rt;le++){var _e=Z[le][le].min;re=le;for(var Ie=ie;Ie<=Tt;Ie++)Z[le][Ie].min<_e&&(_e=Z[le][Ie].min,re=Ie);ie=re,Z[le][ie].type&&Nt.push({index:le-1,type:Z[le][ie].type})}for(var le=Nt.length-1;le>=0;le--)ie=Nt[le].index,Nt[le].type==="add"?Mt.splice(ie,0,[].concat(Mt[ie])):Mt.splice(ie,1)}rt=Mt.length;var Fe=Tt-rt;if(rt<Tt)for(var le=0;le<Fe;le++)Mt[rt-1][0]==="z"||Mt[rt-1][0]==="Z"?Mt.splice(rt-2,0,Mt[rt-2]):Mt.push(Mt[rt-1]),rt+=1;return Mt};function yt(Mt,st,Z){for(var rt=[].concat(Mt),Tt,Nt=1/(Z+1),ie=St(st)[0],re=1;re<=Z;re++)Nt*=re,Tt=Math.floor(Mt.length*Nt),Tt===0?rt.unshift([ie[0]*Nt+Mt[Tt][0]*(1-Nt),ie[1]*Nt+Mt[Tt][1]*(1-Nt)]):rt.splice(Tt,0,[ie[0]*Nt+Mt[Tt][0]*(1-Nt),ie[1]*Nt+Mt[Tt][1]*(1-Nt)]);return rt}function St(Mt){var st=[];switch(Mt[0]){case"M":st.push([Mt[1],Mt[2]]);break;case"L":st.push([Mt[1],Mt[2]]);break;case"A":st.push([Mt[6],Mt[7]]);break;case"Q":st.push([Mt[3],Mt[4]]),st.push([Mt[1],Mt[2]]);break;case"T":st.push([Mt[1],Mt[2]]);break;case"C":st.push([Mt[5],Mt[6]]),st.push([Mt[1],Mt[2]]),st.push([Mt[3],Mt[4]]);break;case"S":st.push([Mt[3],Mt[4]]),st.push([Mt[1],Mt[2]]);break;case"H":st.push([Mt[1],Mt[1]]);break;case"V":st.push([Mt[1],Mt[1]]);break;default:}return st}var Rt=function(Mt,st){if(Mt.length<=1)return Mt;for(var Z,rt=0;rt<st.length;rt++)if(Mt[rt][0]!==st[rt][0])switch(Z=St(Mt[rt]),st[rt][0]){case"M":Mt[rt]=["M"].concat(Z[0]);break;case"L":Mt[rt]=["L"].concat(Z[0]);break;case"A":Mt[rt]=[].concat(st[rt]),Mt[rt][6]=Z[0][0],Mt[rt][7]=Z[0][1];break;case"Q":if(Z.length<2)if(rt>0)Z=yt(Z,Mt[rt-1],1);else{Mt[rt]=st[rt];break}Mt[rt]=["Q"].concat(Z.reduce(function(Tt,Nt){return Tt.concat(Nt)},[]));break;case"T":Mt[rt]=["T"].concat(Z[0]);break;case"C":if(Z.length<3)if(rt>0)Z=yt(Z,Mt[rt-1],2);else{Mt[rt]=st[rt];break}Mt[rt]=["C"].concat(Z.reduce(function(Tt,Nt){return Tt.concat(Nt)},[]));break;case"S":if(Z.length<2)if(rt>0)Z=yt(Z,Mt[rt-1],1);else{Mt[rt]=st[rt];break}Mt[rt]=["S"].concat(Z.reduce(function(Tt,Nt){return Tt.concat(Nt)},[]));break;default:Mt[rt]=st[rt]}return Mt},Qt=function(){function Mt(st,Z){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=st,this.name=st,this.originalEvent=Z,this.timeStamp=Z.timeStamp}return Mt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Mt.prototype.stopPropagation=function(){this.propagationStopped=!0},Mt.prototype.toString=function(){var st=this.type;return"[Event (type="+st+")]"},Mt.prototype.save=function(){},Mt.prototype.restore=function(){},Mt}(),zt=Qt,$t=d(70655),ne=d(90494);function ae(Mt,st){var Z=Mt.indexOf(st);Z!==-1&&Mt.splice(Z,1)}var Wt=typeof window!="undefined"&&typeof window.document!="undefined";function It(Mt,st){if(Mt.isCanvas())return!0;for(var Z=st.getParent(),rt=!1;Z;){if(Z===Mt){rt=!0;break}Z=Z.getParent()}return rt}function Ct(Mt){return Mt.cfg.visible&&Mt.cfg.capture}var ht=function(Mt){(0,$t.__extends)(st,Mt);function st(Z){var rt=Mt.call(this)||this;rt.destroyed=!1;var Tt=rt.getDefaultCfg();return rt.cfg=(0,I.mix)(Tt,Z),rt}return st.prototype.getDefaultCfg=function(){return{}},st.prototype.get=function(Z){return this.cfg[Z]},st.prototype.set=function(Z,rt){this.cfg[Z]=rt},st.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},st}(ne.default),Et=ht,at=d(43631),Q=d(35600);function bt(Mt,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return Q.fromTranslation(rt,Z),Q.multiply(Mt,rt,st)}function Ot(Mt,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return Q.fromRotation(rt,Z),Q.multiply(Mt,rt,st)}function Vt(Mt,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return Q.fromScaling(rt,Z),Q.multiply(Mt,rt,st)}function ue(Mt,st,Z){return Q.multiply(Mt,Z,st)}function Se(Mt,st){for(var Z=Mt?[].concat(Mt):[1,0,0,0,1,0,0,0,1],rt=0,Tt=st.length;rt<Tt;rt++){var Nt=st[rt];switch(Nt[0]){case"t":bt(Z,Z,[Nt[1],Nt[2]]);break;case"s":Vt(Z,Z,[Nt[1],Nt[2]]);break;case"r":Ot(Z,Z,Nt[1]);break;case"m":ue(Z,Z,Nt[1]);break;default:break}}return Z}function Re(Mt,st){return Mt[0]*st[1]-st[0]*Mt[1]}function We(Mt,st,Z){var rt=vec2.angle(Mt,st),Tt=Re(Mt,st)>=0;return Z?Tt?Math.PI*2-rt:rt:Tt?rt:Math.PI*2-rt}function mr(Mt,st,Z){return Z?(Mt[0]=st[1],Mt[1]=-1*st[0]):(Mt[0]=-1*st[1],Mt[1]=st[0]),Mt}function wr(Mt,st){var Z=[],rt=Mt[0],Tt=Mt[1],Nt=Mt[2],ie=Mt[3],re=Mt[4],le=Mt[5],_e=Mt[6],Ie=Mt[7],Fe=Mt[8],ar=st[0],lr=st[1],He=st[2],Fr=st[3],Rr=st[4],tn=st[5],on=st[6],gr=st[7],cr=st[8];return Z[0]=ar*rt+lr*ie+He*_e,Z[1]=ar*Tt+lr*re+He*Ie,Z[2]=ar*Nt+lr*le+He*Fe,Z[3]=Fr*rt+Rr*ie+tn*_e,Z[4]=Fr*Tt+Rr*re+tn*Ie,Z[5]=Fr*Nt+Rr*le+tn*Fe,Z[6]=on*rt+gr*ie+cr*_e,Z[7]=on*Tt+gr*re+cr*Ie,Z[8]=on*Nt+gr*le+cr*Fe,Z}function br(Mt,st){var Z=[],rt=st[0],Tt=st[1];return Z[0]=Mt[0]*rt+Mt[3]*Tt+Mt[6],Z[1]=Mt[1]*rt+Mt[4]*Tt+Mt[7],Z}function zr(Mt){var st=[],Z=Mt[0],rt=Mt[1],Tt=Mt[2],Nt=Mt[3],ie=Mt[4],re=Mt[5],le=Mt[6],_e=Mt[7],Ie=Mt[8],Fe=Ie*ie-re*_e,ar=-Ie*Nt+re*le,lr=_e*Nt-ie*le,He=Z*Fe+rt*ar+Tt*lr;return He?(He=1/He,st[0]=Fe*He,st[1]=(-Ie*rt+Tt*_e)*He,st[2]=(re*rt-Tt*ie)*He,st[3]=ar*He,st[4]=(Ie*Z-Tt*le)*He,st[5]=(-re*Z+Tt*Nt)*He,st[6]=lr*He,st[7]=(-_e*Z+rt*le)*He,st[8]=(ie*Z-rt*Nt)*He,st):null}var pr=Se,an="matrix",Tn=["zIndex","capture","visible","type"],rn=["repeat"],Mn=":",Si="*";function Ti(Mt){for(var st=[],Z=0;Z<Mt.length;Z++)(0,I.isArray)(Mt[Z])?st.push([].concat(Mt[Z])):st.push(Mt[Z]);return st}function Di(Mt,st){var Z={},rt=st.attrs;for(var Tt in Mt)Z[Tt]=rt[Tt];return Z}function Vi(Mt,st){var Z={},rt=st.attr();return(0,I.each)(Mt,function(Tt,Nt){rn.indexOf(Nt)===-1&&!(0,I.isEqual)(rt[Nt],Tt)&&(Z[Nt]=Tt)}),Z}function Xt(Mt,st){if(st.onFrame)return Mt;var Z=st.startTime,rt=st.delay,Tt=st.duration,Nt=Object.prototype.hasOwnProperty;return(0,I.each)(Mt,function(ie){Z+rt<ie.startTime+ie.delay+ie.duration&&Tt>ie.delay&&(0,I.each)(st.toAttrs,function(re,le){Nt.call(ie.toAttrs,le)&&(delete ie.toAttrs[le],delete ie.fromAttrs[le])})}),Mt}var Kt=function(Mt){(0,$t.__extends)(st,Mt);function st(Z){var rt=Mt.call(this,Z)||this;rt.attrs={};var Tt=rt.getDefaultAttrs();return(0,I.mix)(Tt,Z.attrs),rt.attrs=Tt,rt.initAttrs(Tt),rt.initAnimate(),rt}return st.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},st.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},st.prototype.onCanvasChange=function(Z){},st.prototype.initAttrs=function(Z){},st.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},st.prototype.isGroup=function(){return!1},st.prototype.getParent=function(){return this.get("parent")},st.prototype.getCanvas=function(){return this.get("canvas")},st.prototype.attr=function(){for(var Z,rt=[],Tt=0;Tt<arguments.length;Tt++)rt[Tt]=arguments[Tt];var Nt=rt[0],ie=rt[1];if(!Nt)return this.attrs;if((0,I.isObject)(Nt)){for(var re in Nt)this.setAttr(re,Nt[re]);return this.afterAttrsChange(Nt),this}return rt.length===2?(this.setAttr(Nt,ie),this.afterAttrsChange((Z={},Z[Nt]=ie,Z)),this):this.attrs[Nt]},st.prototype.isClipped=function(Z,rt){var Tt=this.getClip();return Tt&&!Tt.isHit(Z,rt)},st.prototype.setAttr=function(Z,rt){var Tt=this.attrs[Z];Tt!==rt&&(this.attrs[Z]=rt,this.onAttrChange(Z,rt,Tt))},st.prototype.onAttrChange=function(Z,rt,Tt){Z==="matrix"&&this.set("totalMatrix",null)},st.prototype.afterAttrsChange=function(Z){if(this.cfg.isClipShape){var rt=this.cfg.applyTo;rt&&rt.onCanvasChange("clip")}else this.onCanvasChange("attr")},st.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},st.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},st.prototype.setZIndex=function(Z){this.set("zIndex",Z);var rt=this.getParent();return rt&&rt.sort(),this},st.prototype.toFront=function(){var Z=this.getParent();if(!!Z){var rt=Z.getChildren(),Tt=this.get("el"),Nt=rt.indexOf(this);rt.splice(Nt,1),rt.push(this),this.onCanvasChange("zIndex")}},st.prototype.toBack=function(){var Z=this.getParent();if(!!Z){var rt=Z.getChildren(),Tt=this.get("el"),Nt=rt.indexOf(this);rt.splice(Nt,1),rt.unshift(this),this.onCanvasChange("zIndex")}},st.prototype.remove=function(Z){Z===void 0&&(Z=!0);var rt=this.getParent();rt?(ae(rt.getChildren(),this),rt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),Z&&this.destroy()},st.prototype.resetMatrix=function(){this.attr(an,this.getDefaultMatrix()),this.onCanvasChange("matrix")},st.prototype.getMatrix=function(){return this.attr(an)},st.prototype.setMatrix=function(Z){this.attr(an,Z),this.onCanvasChange("matrix")},st.prototype.getTotalMatrix=function(){var Z=this.cfg.totalMatrix;if(!Z){var rt=this.attr("matrix"),Tt=this.cfg.parentMatrix;Tt&&rt?Z=wr(Tt,rt):Z=rt||Tt,this.set("totalMatrix",Z)}return Z},st.prototype.applyMatrix=function(Z){var rt=this.attr("matrix"),Tt=null;Z&&rt?Tt=wr(Z,rt):Tt=rt||Z,this.set("totalMatrix",Tt),this.set("parentMatrix",Z)},st.prototype.getDefaultMatrix=function(){return null},st.prototype.applyToMatrix=function(Z){var rt=this.attr("matrix");return rt?br(rt,Z):Z},st.prototype.invertFromMatrix=function(Z){var rt=this.attr("matrix");if(rt){var Tt=zr(rt);if(Tt)return br(Tt,Z)}return Z},st.prototype.setClip=function(Z){var rt=this.getCanvas(),Tt=null;if(Z){var Nt=this.getShapeBase(),ie=(0,I.upperFirst)(Z.type),re=Nt[ie];re&&(Tt=new re({type:Z.type,isClipShape:!0,applyTo:this,attrs:Z.attrs,canvas:rt}))}return this.set("clipShape",Tt),this.onCanvasChange("clip"),Tt},st.prototype.getClip=function(){var Z=this.cfg.clipShape;return Z||null},st.prototype.clone=function(){var Z=this,rt=this.attrs,Tt={};(0,I.each)(rt,function(re,le){(0,I.isArray)(rt[le])?Tt[le]=Ti(rt[le]):Tt[le]=rt[le]});var Nt=this.constructor,ie=new Nt({attrs:Tt});return(0,I.each)(Tn,function(re){ie.set(re,Z.get(re))}),ie},st.prototype.destroy=function(){var Z=this.destroyed;Z||(this.attrs={},Mt.prototype.destroy.call(this))},st.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},st.prototype.animate=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Tt=this.get("timeline");Tt||(Tt=this.get("canvas").get("timeline"),this.set("timeline",Tt));var Nt=this.get("animations")||[];Tt.timer||Tt.initTimer();var ie=Z[0],re=Z[1],le=Z[2],_e=le===void 0?"easeLinear":le,Ie=Z[3],Fe=Ie===void 0?I.noop:Ie,ar=Z[4],lr=ar===void 0?0:ar,He,Fr,Rr,tn,on;(0,I.isFunction)(ie)?(He=ie,ie={}):(0,I.isObject)(ie)&&ie.onFrame&&(He=ie.onFrame,Fr=ie.repeat),(0,I.isObject)(re)?(on=re,re=on.duration,_e=on.easing||"easeLinear",lr=on.delay||0,Fr=on.repeat||Fr||!1,Fe=on.callback||I.noop,Rr=on.pauseCallback||I.noop,tn=on.resumeCallback||I.noop):((0,I.isNumber)(Fe)&&(lr=Fe,Fe=null),(0,I.isFunction)(_e)?(Fe=_e,_e="easeLinear"):_e=_e||"easeLinear");var gr=Vi(ie,this),cr={fromAttrs:Di(gr,this),toAttrs:gr,duration:re,easing:_e,repeat:Fr,callback:Fe,pauseCallback:Rr,resumeCallback:tn,delay:lr,startTime:Tt.getTime(),id:(0,I.uniqueId)(),onFrame:He,pathFormatted:!1};Nt.length>0?Nt=Xt(Nt,cr):Tt.addAnimator(this),Nt.push(cr),this.set("animations",Nt),this.set("_pause",{isPaused:!1})}},st.prototype.stopAnimate=function(Z){var rt=this;Z===void 0&&(Z=!0);var Tt=this.get("animations");(0,I.each)(Tt,function(Nt){Z&&(Nt.onFrame?rt.attr(Nt.onFrame(1)):rt.attr(Nt.toAttrs)),Nt.callback&&Nt.callback()}),this.set("animating",!1),this.set("animations",[])},st.prototype.pauseAnimate=function(){var Z=this.get("timeline"),rt=this.get("animations"),Tt=Z.getTime();return(0,I.each)(rt,function(Nt){Nt._paused=!0,Nt._pauseTime=Tt,Nt.pauseCallback&&Nt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Tt}),this},st.prototype.resumeAnimate=function(){var Z=this.get("timeline"),rt=Z.getTime(),Tt=this.get("animations"),Nt=this.get("_pause").pauseTime;return(0,I.each)(Tt,function(ie){ie.startTime=ie.startTime+(rt-Nt),ie._paused=!1,ie._pauseTime=null,ie.resumeCallback&&ie.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Tt),this},st.prototype.emitDelegation=function(Z,rt){var Tt=this,Nt=rt.propagationPath,ie=this.getEvents(),re;Z==="mouseenter"?re=rt.fromShape:Z==="mouseleave"&&(re=rt.toShape);for(var le=function(ar){var lr=Nt[ar],He=lr.get("name");if(He){if((lr.isGroup()||lr.isCanvas&&lr.isCanvas())&&re&&It(lr,re))return"break";(0,I.isArray)(He)?(0,I.each)(He,function(Fr){Tt.emitDelegateEvent(lr,Fr,rt)}):_e.emitDelegateEvent(lr,He,rt)}},_e=this,Ie=0;Ie<Nt.length;Ie++){var Fe=le(Ie);if(Fe==="break")break}},st.prototype.emitDelegateEvent=function(Z,rt,Tt){var Nt=this.getEvents(),ie=rt+Mn+Tt.type;(Nt[ie]||Nt[Si])&&(Tt.name=ie,Tt.currentTarget=Z,Tt.delegateTarget=this,Tt.delegateObject=Z.get("delegateObject"),this.emit(ie,Tt))},st.prototype.translate=function(Z,rt){Z===void 0&&(Z=0),rt===void 0&&(rt=0);var Tt=this.getMatrix(),Nt=pr(Tt,[["t",Z,rt]]);return this.setMatrix(Nt),this},st.prototype.move=function(Z,rt){var Tt=this.attr("x")||0,Nt=this.attr("y")||0;return this.translate(Z-Tt,rt-Nt),this},st.prototype.moveTo=function(Z,rt){return this.move(Z,rt)},st.prototype.scale=function(Z,rt){var Tt=this.getMatrix(),Nt=pr(Tt,[["s",Z,rt||Z]]);return this.setMatrix(Nt),this},st.prototype.rotate=function(Z){var rt=this.getMatrix(),Tt=pr(rt,[["r",Z]]);return this.setMatrix(Tt),this},st.prototype.rotateAtStart=function(Z){var rt=this.attr(),Tt=rt.x,Nt=rt.y,ie=this.getMatrix(),re=pr(ie,[["t",-Tt,-Nt],["r",Z],["t",Tt,Nt]]);return this.setMatrix(re),this},st.prototype.rotateAtPoint=function(Z,rt,Tt){var Nt=this.getMatrix(),ie=pr(Nt,[["t",-Z,-rt],["r",Tt],["t",Z,rt]]);return this.setMatrix(ie),this},st}(Et),oe=Kt,he={},be="_INDEX";function Ee(Mt,st){if(Mt.set("canvas",st),Mt.isGroup()){var Z=Mt.get("children");Z.length&&Z.forEach(function(rt){Ee(rt,st)})}}function Pe(Mt,st){if(Mt.set("timeline",st),Mt.isGroup()){var Z=Mt.get("children");Z.length&&Z.forEach(function(rt){Pe(rt,st)})}}function Oe(Mt,st){var Z=Mt.getChildren();return Z.indexOf(st)>=0}function me(Mt,st,Z){Z===void 0&&(Z=!0),Z?st.destroy():(st.set("parent",null),st.set("canvas",null)),ae(Mt.getChildren(),st)}function rr(Mt){return function(st,Z){var rt=Mt(st,Z);return rt===0?st[be]-Z[be]:rt}}var Xe=function(Mt){(0,$t.__extends)(st,Mt);function st(){return Mt!==null&&Mt.apply(this,arguments)||this}return st.prototype.isCanvas=function(){return!1},st.prototype.getBBox=function(){var Z=Infinity,rt=-Infinity,Tt=Infinity,Nt=-Infinity,ie=[],re=[],le=this.getChildren().filter(function(Ie){return Ie.get("visible")&&(!Ie.isGroup()||Ie.isGroup()&&Ie.getChildren().length>0)});le.length>0?((0,I.each)(le,function(Ie){var Fe=Ie.getBBox();ie.push(Fe.minX,Fe.maxX),re.push(Fe.minY,Fe.maxY)}),Z=(0,I.min)(ie),rt=(0,I.max)(ie),Tt=(0,I.min)(re),Nt=(0,I.max)(re)):(Z=0,rt=0,Tt=0,Nt=0);var _e={x:Z,y:Tt,minX:Z,minY:Tt,maxX:rt,maxY:Nt,width:rt-Z,height:Nt-Tt};return _e},st.prototype.getCanvasBBox=function(){var Z=Infinity,rt=-Infinity,Tt=Infinity,Nt=-Infinity,ie=[],re=[],le=this.getChildren().filter(function(Ie){return Ie.get("visible")&&(!Ie.isGroup()||Ie.isGroup()&&Ie.getChildren().length>0)});le.length>0?((0,I.each)(le,function(Ie){var Fe=Ie.getCanvasBBox();ie.push(Fe.minX,Fe.maxX),re.push(Fe.minY,Fe.maxY)}),Z=(0,I.min)(ie),rt=(0,I.max)(ie),Tt=(0,I.min)(re),Nt=(0,I.max)(re)):(Z=0,rt=0,Tt=0,Nt=0);var _e={x:Z,y:Tt,minX:Z,minY:Tt,maxX:rt,maxY:Nt,width:rt-Z,height:Nt-Tt};return _e},st.prototype.getDefaultCfg=function(){var Z=Mt.prototype.getDefaultCfg.call(this);return Z.children=[],Z},st.prototype.onAttrChange=function(Z,rt,Tt){if(Mt.prototype.onAttrChange.call(this,Z,rt,Tt),Z==="matrix"){var Nt=this.getTotalMatrix();this._applyChildrenMarix(Nt)}},st.prototype.applyMatrix=function(Z){var rt=this.getTotalMatrix();Mt.prototype.applyMatrix.call(this,Z);var Tt=this.getTotalMatrix();Tt!==rt&&this._applyChildrenMarix(Tt)},st.prototype._applyChildrenMarix=function(Z){var rt=this.getChildren();(0,I.each)(rt,function(Tt){Tt.applyMatrix(Z)})},st.prototype.addShape=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];var Tt=Z[0],Nt=Z[1];(0,I.isObject)(Tt)?Nt=Tt:Nt.type=Tt;var ie=he[Nt.type];ie||(ie=(0,I.upperFirst)(Nt.type),he[Nt.type]=ie);var re=this.getShapeBase(),le=new re[ie](Nt);return this.add(le),le},st.prototype.addGroup=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];var Tt=Z[0],Nt=Z[1],ie;if((0,I.isFunction)(Tt))Nt?ie=new Tt(Nt):ie=new Tt({parent:this});else{var re=Tt||{},le=this.getGroupBase();ie=new le(re)}return this.add(ie),ie},st.prototype.getCanvas=function(){var Z;return this.isCanvas()?Z=this:Z=this.get("canvas"),Z},st.prototype.getShape=function(Z,rt,Tt){if(!Ct(this))return null;var Nt=this.getChildren(),ie;if(this.isCanvas())ie=this._findShape(Nt,Z,rt,Tt);else{var re=[Z,rt,1];re=this.invertFromMatrix(re),this.isClipped(re[0],re[1])||(ie=this._findShape(Nt,re[0],re[1],Tt))}return ie},st.prototype._findShape=function(Z,rt,Tt,Nt){for(var ie=null,re=Z.length-1;re>=0;re--){var le=Z[re];if(Ct(le)&&(le.isGroup()?ie=le.getShape(rt,Tt,Nt):le.isHit(rt,Tt)&&(ie=le)),ie)break}return ie},st.prototype.add=function(Z){var rt=this.getCanvas(),Tt=this.getChildren(),Nt=this.get("timeline"),ie=Z.getParent();ie&&me(ie,Z,!1),Z.set("parent",this),rt&&Ee(Z,rt),Nt&&Pe(Z,Nt),Tt.push(Z),Z.onCanvasChange("add"),this._applyElementMatrix(Z)},st.prototype._applyElementMatrix=function(Z){var rt=this.getTotalMatrix();rt&&Z.applyMatrix(rt)},st.prototype.getChildren=function(){return this.get("children")},st.prototype.sort=function(){var Z=this.getChildren();(0,I.each)(Z,function(rt,Tt){return rt[be]=Tt,rt}),Z.sort(rr(function(rt,Tt){return rt.get("zIndex")-Tt.get("zIndex")})),this.onCanvasChange("sort")},st.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var Z=this.getChildren(),rt=Z.length-1;rt>=0;rt--)Z[rt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},st.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Mt.prototype.destroy.call(this))},st.prototype.getFirst=function(){return this.getChildByIndex(0)},st.prototype.getLast=function(){var Z=this.getChildren();return this.getChildByIndex(Z.length-1)},st.prototype.getChildByIndex=function(Z){var rt=this.getChildren();return rt[Z]},st.prototype.getCount=function(){var Z=this.getChildren();return Z.length},st.prototype.contain=function(Z){var rt=this.getChildren();return rt.indexOf(Z)>-1},st.prototype.removeChild=function(Z,rt){rt===void 0&&(rt=!0),this.contain(Z)&&Z.remove(rt)},st.prototype.findAll=function(Z){var rt=[],Tt=this.getChildren();return(0,I.each)(Tt,function(Nt){Z(Nt)&&rt.push(Nt),Nt.isGroup()&&(rt=rt.concat(Nt.findAll(Z)))}),rt},st.prototype.find=function(Z){var rt=null,Tt=this.getChildren();return(0,I.each)(Tt,function(Nt){if(Z(Nt)?rt=Nt:Nt.isGroup()&&(rt=Nt.find(Z)),rt)return!1}),rt},st.prototype.findById=function(Z){return this.find(function(rt){return rt.get("id")===Z})},st.prototype.findByClassName=function(Z){return this.find(function(rt){return rt.get("className")===Z})},st.prototype.findAllByName=function(Z){return this.findAll(function(rt){return rt.get("name")===Z})},st}(oe),fr=Xe,Pr=d(35374),vr=d(26257),Er=d(88122),xr=d(13681),Br={};function ur(Mt){return Br[Mt.toLowerCase()]||xr[Mt]}function Yr(Mt,st){Br[Mt.toLowerCase()]=st}var Jr=function(Mt){return["fill","stroke","fillStyle","strokeStyle"].includes(Mt)},jr=function(Mt){return/^[r,R,L,l]{1}[\s]*\(/.test(Mt)},Qr=[1,0,0,0,1,0,0,0,1];function jt(Mt,st,Z){var rt={},Tt=st.fromAttrs,Nt=st.toAttrs;if(!Mt.destroyed){var ie;for(var re in Nt)if(!(0,I.isEqual)(Tt[re],Nt[re]))if(re==="path"){var le=Nt[re],_e=Tt[re];le.length>_e.length?(le=T(Nt[re]),_e=T(Tt[re]),_e=f(_e,le),_e=Rt(_e,le),st.fromAttrs.path=_e,st.toAttrs.path=le):st.pathFormatted||(le=T(Nt[re]),_e=T(Tt[re]),_e=Rt(_e,le),st.fromAttrs.path=_e,st.toAttrs.path=le,st.pathFormatted=!0),rt[re]=[];for(var Ie=0;Ie<le.length;Ie++){for(var Fe=le[Ie],ar=_e[Ie],lr=[],He=0;He<Fe.length;He++)(0,I.isNumber)(Fe[He])&&ar&&(0,I.isNumber)(ar[He])?(ie=(0,vr.Z)(ar[He],Fe[He]),lr.push(ie(Z))):lr.push(Fe[He]);rt[re].push(lr)}}else if(re==="matrix"){var Fr=(0,Er.Z)(Tt[re]||Qr,Nt[re]||Qr),Rr=Fr(Z);rt[re]=Rr}else Jr(re)&&jr(Nt[re])?rt[re]=Nt[re]:(0,I.isFunction)(Nt[re])||(ie=(0,vr.Z)(Tt[re],Nt[re]),rt[re]=ie(Z));Mt.attr(rt)}}function Zt(Mt,st,Z){var rt=st.startTime,Tt=st.delay;if(Z<rt+Tt||st._paused)return!1;var Nt,ie=st.duration,re=st.easing,le=ur(re);if(Z=Z-rt-st.delay,st.repeat)Nt=Z%ie/ie,Nt=le(Nt);else if(Nt=Z/ie,Nt<1)Nt=le(Nt);else return st.onFrame?Mt.attr(st.onFrame(1)):Mt.attr(st.toAttrs),!0;if(st.onFrame){var _e=st.onFrame(Nt);Mt.attr(_e)}else jt(Mt,st,Nt);return!1}var ee=function(){function Mt(st){this.animators=[],this.current=0,this.timer=null,this.canvas=st}return Mt.prototype.initTimer=function(){var st=this,Z=!1,rt,Tt,Nt;this.timer=Pr.HT(function(ie){if(st.current=ie,st.animators.length>0){for(var re=st.animators.length-1;re>=0;re--){if(rt=st.animators[re],rt.destroyed){st.removeAnimator(re);continue}if(!rt.isAnimatePaused()){Tt=rt.get("animations");for(var le=Tt.length-1;le>=0;le--)Nt=Tt[le],Z=Zt(rt,Nt,ie),Z&&(Tt.splice(le,1),Z=!1,Nt.callback&&Nt.callback())}Tt.length===0&&st.removeAnimator(re)}var _e=st.canvas.get("autoDraw");_e||st.canvas.draw()}})},Mt.prototype.addAnimator=function(st){this.animators.push(st)},Mt.prototype.removeAnimator=function(st){this.animators.splice(st,1)},Mt.prototype.isAnimating=function(){return!!this.animators.length},Mt.prototype.stop=function(){this.timer&&this.timer.stop()},Mt.prototype.stopAllAnimations=function(st){st===void 0&&(st=!0),this.animators.forEach(function(Z){Z.stopAnimate(st)}),this.animators=[],this.canvas.draw()},Mt.prototype.getTime=function(){return this.current},Mt}(),ye=ee,Ce=40,Le=0,tr=":",sr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Gr(Mt,st){for(var Z in Mt)if(Mt.hasOwnProperty(Z)&&Z.indexOf(tr+st)>=0)return!0;return!1}function Ne(Mt,st,Z){Z.name=st,Z.target=Mt,Z.currentTarget=Mt,Z.delegateTarget=Mt,Mt.emit(st,Z)}function Lr(Mt,st,Z){if(Z.bubbles){var rt=void 0,Tt=!1;if(st==="mouseenter"?(rt=Z.fromShape,Tt=!0):st==="mouseleave"&&(Tt=!0,rt=Z.toShape),Mt.isCanvas()&&Tt)return;if(rt&&It(Mt,rt)){Z.bubbles=!1;return}Z.name=st,Z.currentTarget=Mt,Z.delegateTarget=Mt,Mt.emit(st,Z)}}var bn=function(){function Mt(st){var Z=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(rt){var Tt=rt.type;Z._triggerEvent(Tt,rt)},this._onDocumentMove=function(rt){var Tt=Z.canvas,Nt=Tt.get("el");if(Nt!==rt.target&&(Z.dragging||Z.currentShape)){var ie=Z._getPointInfo(rt);Z.dragging&&Z._emitEvent("drag",rt,ie,Z.draggingShape)}},this._onDocumentMouseUp=function(rt){var Tt=Z.canvas,Nt=Tt.get("el");if(Nt!==rt.target&&Z.dragging){var ie=Z._getPointInfo(rt);Z.draggingShape&&Z._emitEvent("drop",rt,ie,null),Z._emitEvent("dragend",rt,ie,Z.draggingShape),Z._afterDrag(Z.draggingShape,ie,rt)}},this.canvas=st.canvas}return Mt.prototype.init=function(){this._bindEvents()},Mt.prototype._bindEvents=function(){var st=this,Z=this.canvas.get("el");(0,I.each)(sr,function(rt){Z.addEventListener(rt,st._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Mt.prototype._clearEvents=function(){var st=this,Z=this.canvas.get("el");(0,I.each)(sr,function(rt){Z.removeEventListener(rt,st._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Mt.prototype._getEventObj=function(st,Z,rt,Tt,Nt,ie){var re=new zt(st,Z);return re.fromShape=Nt,re.toShape=ie,re.x=rt.x,re.y=rt.y,re.clientX=rt.clientX,re.clientY=rt.clientY,re.propagationPath.push(Tt),re},Mt.prototype._getShape=function(st,Z){return this.canvas.getShape(st.x,st.y,Z)},Mt.prototype._getPointInfo=function(st){var Z=this.canvas,rt=Z.getClientByEvent(st),Tt=Z.getPointByEvent(st);return{x:Tt.x,y:Tt.y,clientX:rt.x,clientY:rt.y}},Mt.prototype._triggerEvent=function(st,Z){var rt=this._getPointInfo(Z),Tt=this._getShape(rt,Z),Nt=this["_on"+st],ie=!1;if(Nt)Nt.call(this,rt,Tt,Z);else{var re=this.currentShape;st==="mouseenter"||st==="dragenter"||st==="mouseover"?(this._emitEvent(st,Z,rt,null,null,Tt),Tt&&this._emitEvent(st,Z,rt,Tt,null,Tt),st==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Z,rt,null)):st==="mouseleave"||st==="dragleave"||st==="mouseout"?(ie=!0,re&&this._emitEvent(st,Z,rt,re,re,null),this._emitEvent(st,Z,rt,null,re,null),st==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Z,rt,null)):this._emitEvent(st,Z,rt,Tt,null,null)}if(ie||(this.currentShape=Tt),Tt&&!Tt.get("destroyed")){var le=this.canvas,_e=le.get("el");_e.style.cursor=Tt.attr("cursor")||le.get("cursor")}},Mt.prototype._onmousedown=function(st,Z,rt){rt.button===Le&&(this.mousedownShape=Z,this.mousedownPoint=st,this.mousedownTimeStamp=rt.timeStamp),this._emitEvent("mousedown",rt,st,Z,null,null)},Mt.prototype._emitMouseoverEvents=function(st,Z,rt,Tt){var Nt=this.canvas.get("el");rt!==Tt&&(rt&&(this._emitEvent("mouseout",st,Z,rt,rt,Tt),this._emitEvent("mouseleave",st,Z,rt,rt,Tt),(!Tt||Tt.get("destroyed"))&&(Nt.style.cursor=this.canvas.get("cursor"))),Tt&&(this._emitEvent("mouseover",st,Z,Tt,rt,Tt),this._emitEvent("mouseenter",st,Z,Tt,rt,Tt)))},Mt.prototype._emitDragoverEvents=function(st,Z,rt,Tt,Nt){Tt?(Tt!==rt&&(rt&&this._emitEvent("dragleave",st,Z,rt,rt,Tt),this._emitEvent("dragenter",st,Z,Tt,rt,Tt)),Nt||this._emitEvent("dragover",st,Z,Tt)):rt&&this._emitEvent("dragleave",st,Z,rt,rt,Tt),Nt&&this._emitEvent("dragover",st,Z,Tt)},Mt.prototype._afterDrag=function(st,Z,rt){st&&(st.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Tt=this._getShape(Z,rt);Tt!==st&&this._emitMouseoverEvents(rt,Z,st,Tt),this.currentShape=Tt},Mt.prototype._onmouseup=function(st,Z,rt){if(rt.button===Le){var Tt=this.draggingShape;this.dragging?(Tt&&this._emitEvent("drop",rt,st,Z),this._emitEvent("dragend",rt,st,Tt),this._afterDrag(Tt,st,rt)):(this._emitEvent("mouseup",rt,st,Z),Z===this.mousedownShape&&this._emitEvent("click",rt,st,Z),this.mousedownShape=null,this.mousedownPoint=null)}},Mt.prototype._ondragover=function(st,Z,rt){rt.preventDefault();var Tt=this.currentShape;this._emitDragoverEvents(rt,st,Tt,Z,!0)},Mt.prototype._onmousemove=function(st,Z,rt){var Tt=this.canvas,Nt=this.currentShape,ie=this.draggingShape;if(this.dragging)ie&&this._emitDragoverEvents(rt,st,Nt,Z,!1),this._emitEvent("drag",rt,st,ie);else{var re=this.mousedownPoint;if(re){var le=this.mousedownShape,_e=rt.timeStamp,Ie=_e-this.mousedownTimeStamp,Fe=re.clientX-st.clientX,ar=re.clientY-st.clientY,lr=Fe*Fe+ar*ar;Ie>120||lr>Ce?le&&le.get("draggable")?(ie=this.mousedownShape,ie.set("capture",!1),this.draggingShape=ie,this.dragging=!0,this._emitEvent("dragstart",rt,st,ie),this.mousedownShape=null,this.mousedownPoint=null):!le&&Tt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",rt,st,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(rt,st,Nt,Z),this._emitEvent("mousemove",rt,st,Z)):(this._emitMouseoverEvents(rt,st,Nt,Z),this._emitEvent("mousemove",rt,st,Z))}else this._emitMouseoverEvents(rt,st,Nt,Z),this._emitEvent("mousemove",rt,st,Z)}},Mt.prototype._emitEvent=function(st,Z,rt,Tt,Nt,ie){var re=this._getEventObj(st,Z,rt,Tt,Nt,ie);if(Tt){re.shape=Tt,Ne(Tt,st,re);for(var le=Tt.getParent();le;)le.emitDelegation(st,re),re.propagationStopped||Lr(le,st,re),re.propagationPath.push(le),le=le.getParent()}else{var _e=this.canvas;Ne(_e,st,re)}},Mt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Mt}(),On=bn,vn="px",wn=(0,at.detect)(),fi=wn&&wn.name==="firefox",si=function(Mt){(0,$t.__extends)(st,Mt);function st(Z){var rt=Mt.call(this,Z)||this;return rt.initContainer(),rt.initDom(),rt.initEvents(),rt.initTimeline(),rt}return st.prototype.getDefaultCfg=function(){var Z=Mt.prototype.getDefaultCfg.call(this);return Z.cursor="default",Z.supportCSSTransform=!1,Z},st.prototype.initContainer=function(){var Z=this.get("container");(0,I.isString)(Z)&&(Z=document.getElementById(Z),this.set("container",Z))},st.prototype.initDom=function(){var Z=this.createDom();this.set("el",Z);var rt=this.get("container");rt.appendChild(Z),this.setDOMSize(this.get("width"),this.get("height"))},st.prototype.initEvents=function(){var Z=new On({canvas:this});Z.init(),this.set("eventController",Z)},st.prototype.initTimeline=function(){var Z=new ye(this);this.set("timeline",Z)},st.prototype.setDOMSize=function(Z,rt){var Tt=this.get("el");Wt&&(Tt.style.width=Z+vn,Tt.style.height=rt+vn)},st.prototype.changeSize=function(Z,rt){this.setDOMSize(Z,rt),this.set("width",Z),this.set("height",rt),this.onCanvasChange("changeSize")},st.prototype.getRenderer=function(){return this.get("renderer")},st.prototype.getCursor=function(){return this.get("cursor")},st.prototype.setCursor=function(Z){this.set("cursor",Z);var rt=this.get("el");Wt&&rt&&(rt.style.cursor=Z)},st.prototype.getPointByEvent=function(Z){var rt=this.get("supportCSSTransform");if(rt){if(fi&&!(0,I.isNil)(Z.layerX)&&Z.layerX!==Z.offsetX)return{x:Z.layerX,y:Z.layerY};if(!(0,I.isNil)(Z.offsetX))return{x:Z.offsetX,y:Z.offsetY}}var Tt=this.getClientByEvent(Z),Nt=Tt.x,ie=Tt.y;return this.getPointByClient(Nt,ie)},st.prototype.getClientByEvent=function(Z){var rt=Z;return Z.touches&&(Z.type==="touchend"?rt=Z.changedTouches[0]:rt=Z.touches[0]),{x:rt.clientX,y:rt.clientY}},st.prototype.getPointByClient=function(Z,rt){var Tt=this.get("el"),Nt=Tt.getBoundingClientRect();return{x:Z-Nt.left,y:rt-Nt.top}},st.prototype.getClientByPoint=function(Z,rt){var Tt=this.get("el"),Nt=Tt.getBoundingClientRect();return{x:Z+Nt.left,y:rt+Nt.top}},st.prototype.draw=function(){},st.prototype.removeDom=function(){var Z=this.get("el");Z.parentNode.removeChild(Z)},st.prototype.clearEvents=function(){var Z=this.get("eventController");Z.destroy()},st.prototype.isCanvas=function(){return!0},st.prototype.getParent=function(){return null},st.prototype.destroy=function(){var Z=this.get("timeline");this.get("destroyed")||(this.clear(),Z&&Z.stop(),this.clearEvents(),this.removeDom(),Mt.prototype.destroy.call(this))},st}(fr),bi=si,Gn=function(Mt){(0,$t.__extends)(st,Mt);function st(){return Mt!==null&&Mt.apply(this,arguments)||this}return st.prototype.isGroup=function(){return!0},st.prototype.isEntityGroup=function(){return!1},st.prototype.clone=function(){for(var Z=Mt.prototype.clone.call(this),rt=this.getChildren(),Tt=0;Tt<rt.length;Tt++){var Nt=rt[Tt];Z.add(Nt.clone())}return Z},st}(fr),Hi=Gn,Wi=function(Mt){(0,$t.__extends)(st,Mt);function st(Z){return Mt.call(this,Z)||this}return st.prototype._isInBBox=function(Z,rt){var Tt=this.getBBox();return Tt.minX<=Z&&Tt.maxX>=Z&&Tt.minY<=rt&&Tt.maxY>=rt},st.prototype.afterAttrsChange=function(Z){Mt.prototype.afterAttrsChange.call(this,Z),this.clearCacheBBox()},st.prototype.getBBox=function(){var Z=this.cfg.bbox;return Z||(Z=this.calculateBBox(),this.set("bbox",Z)),Z},st.prototype.getCanvasBBox=function(){var Z=this.cfg.canvasBBox;return Z||(Z=this.calculateCanvasBBox(),this.set("canvasBBox",Z)),Z},st.prototype.applyMatrix=function(Z){Mt.prototype.applyMatrix.call(this,Z),this.set("canvasBBox",null)},st.prototype.calculateCanvasBBox=function(){var Z=this.getBBox(),rt=this.getTotalMatrix(),Tt=Z.minX,Nt=Z.minY,ie=Z.maxX,re=Z.maxY;if(rt){var le=br(rt,[Z.minX,Z.minY]),_e=br(rt,[Z.maxX,Z.minY]),Ie=br(rt,[Z.minX,Z.maxY]),Fe=br(rt,[Z.maxX,Z.maxY]);Tt=Math.min(le[0],_e[0],Ie[0],Fe[0]),ie=Math.max(le[0],_e[0],Ie[0],Fe[0]),Nt=Math.min(le[1],_e[1],Ie[1],Fe[1]),re=Math.max(le[1],_e[1],Ie[1],Fe[1])}var ar=this.attrs;if(ar.shadowColor){var lr=ar.shadowBlur,He=lr===void 0?0:lr,Fr=ar.shadowOffsetX,Rr=Fr===void 0?0:Fr,tn=ar.shadowOffsetY,on=tn===void 0?0:tn,gr=Tt-He+Rr,cr=ie+He+Rr,nn=Nt-He+on,zn=re+He+on;Tt=Math.min(Tt,gr),ie=Math.max(ie,cr),Nt=Math.min(Nt,nn),re=Math.max(re,zn)}return{x:Tt,y:Nt,minX:Tt,minY:Nt,maxX:ie,maxY:re,width:ie-Tt,height:re-Nt}},st.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},st.prototype.isClipShape=function(){return this.get("isClipShape")},st.prototype.isInShape=function(Z,rt){return!1},st.prototype.isOnlyHitBox=function(){return!1},st.prototype.isHit=function(Z,rt){var Tt=this.get("startArrowShape"),Nt=this.get("endArrowShape"),ie=[Z,rt,1];ie=this.invertFromMatrix(ie);var re=ie[0],le=ie[1],_e=this._isInBBox(re,le);return this.isOnlyHitBox()?_e:!!(_e&&!this.isClipped(re,le)&&(this.isInShape(re,le)||Tt&&Tt.isHit(re,le)||Nt&&Nt.isHit(re,le)))},st}(oe),Pt=Wi,xt=new Map;function nt(Mt,st){xt.set(Mt,st)}function ft(Mt){return xt.get(Mt)}function Bt(Mt){var st=Mt.attr(),Z=st.x,rt=st.y,Tt=st.width,Nt=st.height;return{x:Z,y:rt,width:Tt,height:Nt}}function Ut(Mt){var st=Mt.attr(),Z=st.x,rt=st.y,Tt=st.r;return{x:Z-Tt,y:rt-Tt,width:Tt*2,height:Tt*2}}var ce=d(89838);function de(Mt,st){return!Mt||!st?Mt||st:{minX:Math.min(Mt.minX,st.minX),minY:Math.min(Mt.minY,st.minY),maxX:Math.max(Mt.maxX,st.maxX),maxY:Math.max(Mt.maxY,st.maxY)}}function pe(Mt,st){var Z=Mt.get("startArrowShape"),rt=Mt.get("endArrowShape"),Tt=null,Nt=null;return Z&&(Tt=Z.getCanvasBBox(),st=de(st,Tt)),rt&&(Nt=rt.getCanvasBBox(),st=de(st,Nt)),st}function ze(Mt){for(var st=Mt.attr(),Z=st.points,rt=[],Tt=[],Nt=0;Nt<Z.length;Nt++){var ie=Z[Nt];rt.push(ie[0]),Tt.push(ie[1])}var re=ce.Util.getBBoxByArray(rt,Tt),le=re.x,_e=re.y,Ie=re.width,Fe=re.height,ar={minX:le,minY:_e,maxX:le+Ie,maxY:_e+Fe};return ar=pe(Mt,ar),{x:ar.minX,y:ar.minY,width:ar.maxX-ar.minX,height:ar.maxY-ar.minY}}function Qe(Mt){for(var st=Mt.attr(),Z=st.points,rt=[],Tt=[],Nt=0;Nt<Z.length;Nt++){var ie=Z[Nt];rt.push(ie[0]),Tt.push(ie[1])}return ce.Util.getBBoxByArray(rt,Tt)}var Ue=null;function Sr(){if(!Ue){var Mt=document.createElement("canvas");Mt.width=1,Mt.height=1,Ue=Mt.getContext("2d")}return Ue}function dr(Mt,st,Z){var rt=1;if((0,I.isString)(Mt)&&(rt=Mt.split(`
`).length),rt>1){var Tt=Ve(st,Z);return st*rt+Tt*(rt-1)}return st}function Ve(Mt,st){return st?st-Mt:Mt*.14}function Dr(Mt,st){var Z=Sr(),rt=0;if((0,I.isNil)(Mt)||Mt==="")return rt;if(Z.save(),Z.font=st,(0,I.isString)(Mt)&&Mt.includes(`
`)){var Tt=Mt.split(`
`);(0,I.each)(Tt,function(Nt){var ie=Z.measureText(Nt).width;rt<ie&&(rt=ie)})}else rt=Z.measureText(Mt).width;return Z.restore(),rt}function qr(Mt){var st=Mt.fontSize,Z=Mt.fontFamily,rt=Mt.fontWeight,Tt=Mt.fontStyle,Nt=Mt.fontVariant;return[Tt,Nt,rt,st+"px",Z].join(" ").trim()}function hn(Mt){var st=Mt.attr(),Z=st.x,rt=st.y,Tt=st.text,Nt=st.fontSize,ie=st.lineHeight,re=st.font;re||(re=qr(st));var le=Dr(Tt,re),_e;if(!le)_e={x:Z,y:rt,width:0,height:0};else{var Ie=st.textAlign,Fe=st.textBaseline,ar=dr(Tt,Nt,ie),lr={x:Z,y:rt-ar};Ie&&(Ie==="end"||Ie==="right"?lr.x-=le:Ie==="center"&&(lr.x-=le/2)),Fe&&(Fe==="top"?lr.y+=ar:Fe==="middle"&&(lr.y+=ar/2)),_e={x:lr.x,y:lr.y,width:le,height:ar}}return _e}var ln=d(57350);function Or(Mt,st){for(var Z=[],rt=[],Tt=[],Nt=0;Nt<Mt.length;Nt++){var ie=Mt[Nt],re=ie.currentPoint,le=ie.params,_e=ie.prePoint,Ie=void 0;switch(ie.command){case"Q":Ie=ce.Quad.box(_e[0],_e[1],le[1],le[2],le[3],le[4]);break;case"C":Ie=ce.Cubic.box(_e[0],_e[1],le[1],le[2],le[3],le[4],le[5],le[6]);break;case"A":var Fe=ie.arcParams;Ie=ce.Arc.box(Fe.cx,Fe.cy,Fe.rx,Fe.ry,Fe.xRotation,Fe.startAngle,Fe.endAngle);break;default:Z.push(re[0]),rt.push(re[1]);break}Ie&&(ie.box=Ie,Z.push(Ie.x,Ie.x+Ie.width),rt.push(Ie.y,Ie.y+Ie.height)),st&&(ie.command==="L"||ie.command==="M")&&ie.prePoint&&ie.nextPoint&&Tt.push(ie)}Z=Z.filter(function(tn){return!Number.isNaN(tn)&&tn!==Infinity&&tn!==-Infinity}),rt=rt.filter(function(tn){return!Number.isNaN(tn)&&tn!==Infinity&&tn!==-Infinity});var ar=(0,I.min)(Z),lr=(0,I.min)(rt),He=(0,I.max)(Z),Fr=(0,I.max)(rt);if(Tt.length===0)return{x:ar,y:lr,width:He-ar,height:Fr-lr};for(var Nt=0;Nt<Tt.length;Nt++){var ie=Tt[Nt],re=ie.currentPoint,Rr=void 0;re[0]===ar?(Rr=hr(ie,st),ar=ar-Rr.xExtra):re[0]===He&&(Rr=hr(ie,st),He=He+Rr.xExtra),re[1]===lr?(Rr=hr(ie,st),lr=lr-Rr.yExtra):re[1]===Fr&&(Rr=hr(ie,st),Fr=Fr+Rr.yExtra)}return{x:ar,y:lr,width:He-ar,height:Fr-lr}}function hr(Mt,st){var Z=Mt.prePoint,rt=Mt.currentPoint,Tt=Mt.nextPoint,Nt=Math.pow(rt[0]-Z[0],2)+Math.pow(rt[1]-Z[1],2),ie=Math.pow(rt[0]-Tt[0],2)+Math.pow(rt[1]-Tt[1],2),re=Math.pow(Z[0]-Tt[0],2)+Math.pow(Z[1]-Tt[1],2),le=Math.acos((Nt+ie-re)/(2*Math.sqrt(Nt)*Math.sqrt(ie)));if(!le||Math.sin(le)===0||(0,I.isNumberEqual)(le,0))return{xExtra:0,yExtra:0};var _e=Math.abs(Math.atan2(Tt[1]-rt[1],Tt[0]-rt[0])),Ie=Math.abs(Math.atan2(Tt[0]-rt[0],Tt[1]-rt[1]));_e=_e>Math.PI/2?Math.PI-_e:_e,Ie=Ie>Math.PI/2?Math.PI-Ie:Ie;var Fe={xExtra:Math.cos(le/2-_e)*(st/2*(1/Math.sin(le/2)))-st/2||0,yExtra:Math.cos(Ie-le/2)*(st/2*(1/Math.sin(le/2)))-st/2||0};return Fe}function un(Mt){var st=Mt.attr(),Z=st.path,rt=st.stroke,Tt=rt?st.lineWidth:0,Nt=Mt.get("segments")||(0,ln.path2Segments)(Z),ie=Or(Nt,Tt),re=ie.x,le=ie.y,_e=ie.width,Ie=ie.height,Fe={minX:re,minY:le,maxX:re+_e,maxY:le+Ie};return Fe=pe(Mt,Fe),{x:Fe.minX,y:Fe.minY,width:Fe.maxX-Fe.minX,height:Fe.maxY-Fe.minY}}function Yn(Mt){var st=Mt.attr(),Z=st.x1,rt=st.y1,Tt=st.x2,Nt=st.y2,ie=Math.min(Z,Tt),re=Math.max(Z,Tt),le=Math.min(rt,Nt),_e=Math.max(rt,Nt),Ie={minX:ie,maxX:re,minY:le,maxY:_e};return Ie=pe(Mt,Ie),{x:Ie.minX,y:Ie.minY,width:Ie.maxX-Ie.minX,height:Ie.maxY-Ie.minY}}function $n(Mt){var st=Mt.attr(),Z=st.x,rt=st.y,Tt=st.rx,Nt=st.ry;return{x:Z-Tt,y:rt-Nt,width:Tt*2,height:Nt*2}}nt("rect",Bt),nt("image",Bt),nt("circle",Ut),nt("marker",Ut),nt("polyline",ze),nt("polygon",Qe),nt("text",hn),nt("path",un),nt("line",Yn),nt("ellipse",$n);var hi="0.5.11"},21885:function(ct,S){"use strict";var d;d={value:!0};var m=function(){function I(k,L){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=k,this.name=k,this.originalEvent=L,this.timeStamp=L.timeStamp}return I.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},I.prototype.stopPropagation=function(){this.propagationStopped=!0},I.prototype.toString=function(){var k=this.type;return"[Event (type="+k+")]"},I.prototype.save=function(){},I.prototype.restore=function(){},I}();S.Z=m},19083:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(62113),L=d(24818),P=d(15483),T=d(73074),M=d(29350),A=d(73906),p=function(w){I.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var b=w.prototype.getDefaultCfg.call(this);return b.renderer="canvas",b.autoDraw=!0,b.localRefresh=!0,b.refreshElements=[],b.clipView=!0,b.quickHit=!1,b},y.prototype.onCanvasChange=function(b){(b==="attr"||b==="sort"||b==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return P},y.prototype.getGroupBase=function(){return T.default},y.prototype.getPixelRatio=function(){var b=this.get("pixelRatio")||M.getPixelRatio();return b>=1?Math.ceil(b):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var b=document.createElement("canvas"),x=b.getContext("2d");return this.set("context",x),b},y.prototype.setDOMSize=function(b,x){w.prototype.setDOMSize.call(this,b,x);var E=this.get("context"),O=this.get("el"),D=this.getPixelRatio();O.width=D*b,O.height=D*x,D>1&&E.scale(D,D)},y.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var b=this.get("context"),x=this.get("el");b.clearRect(0,0,x.width,x.height)},y.prototype.getShape=function(b,x){var E;return this.get("quickHit")?E=L.getShape(this,b,x):E=w.prototype.getShape.call(this,b,x,null),E},y.prototype._getRefreshRegion=function(){var b=this.get("refreshElements"),x=this.getViewRange(),E;if(b.length&&b[0]===this)E=x;else if(E=A.getMergedRegion(b),E){E.minX=Math.floor(E.minX),E.minY=Math.floor(E.minY),E.maxX=Math.ceil(E.maxX),E.maxY=Math.ceil(E.maxY),E.maxY+=1;var O=this.get("clipView");O&&(E=A.mergeView(E,x))}return E},y.prototype.refreshElement=function(b){var x=this.get("refreshElements");x.push(b)},y.prototype._clearFrame=function(){var b=this.get("drawFrame");b&&(M.clearAnimationFrame(b),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var b=this.get("drawFrame");this.get("autoDraw")&&b||this._startDraw()},y.prototype._drawAll=function(){var b=this.get("context"),x=this.get("el"),E=this.getChildren();b.clearRect(0,0,x.width,x.height),A.applyAttrsToContext(b,this),A.drawChildren(b,E),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var b=this.get("context"),x=this.get("refreshElements"),E=this.getChildren(),O=this._getRefreshRegion();O?(b.clearRect(O.minX,O.minY,O.maxX-O.minX,O.maxY-O.minY),b.save(),b.beginPath(),b.rect(O.minX,O.minY,O.maxX-O.minX,O.maxY-O.minY),b.clip(),A.applyAttrsToContext(b,this),A.checkRefresh(this,E,O),A.drawChildren(b,E,O),b.restore()):x.length&&A.clearChanged(x),M.each(x,function(D){D.get("hasChanged")&&D.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var b=this,x=this.get("drawFrame");x||(x=M.requestAnimationFrame(function(){b.get("localRefresh")?b._drawRegion():b._drawAll(),b.set("drawFrame",null)}),this.set("drawFrame",x))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var b=this.get("el");b.width=0,b.height=0,b.parentNode.removeChild(b)},y}(k.AbstractCanvas);S.Z=p},73074:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(62113),k=d(15483),L=d(73906),P=d(49242),T=d(29350),M=function(A){m.__extends(p,A);function p(){return A!==null&&A.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){L.refreshElement(this,w)},p.prototype.getShapeBase=function(){return k},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,y){y&&(w.save(),L.applyAttrsToContext(w,y),y.createPath(w),w.restore(),w.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,y=[],b=[];P.each(w,function(X){var j=X.cfg.cacheCanvasBBox;j&&X.cfg.isInView&&(y.push(j.minX,j.maxX),b.push(j.minY,j.maxY))});var x=null;if(y.length){var E=P.min(y),O=P.max(y),D=P.min(b),N=P.max(b);x={minX:E,minY:D,x:E,y:D,maxX:O,maxY:N,width:O-E,height:N-D};var z=this.cfg.canvas;if(z){var W=z.getViewRange();this.set("isInView",T.intersectRect(x,W))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",x)},p.prototype.draw=function(w,y){var b=this.cfg.children,x=y?this.cfg.refresh:!0;b.length&&x&&(w.save(),L.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),L.drawChildren(w,b,y),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(I.AbstractGroup);S.default=M},74460:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(62113),k=d(29350),L=d(73906),P=d(62113),T=d(15483),M=d(73074),A=function(p){m.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return T},w.prototype.getGroupBase=function(){return M.default},w.prototype.onCanvasChange=function(y){L.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("type"),b=this.getHitLineWidth(),x=P.getBBoxMethod(y),E=x(this),O=b/2,D=E.x-O,N=E.y-O,z=E.x+E.width+O,W=E.y+E.height+O;return{x:D,minX:D,y:N,minY:N,width:E.width+b,height:E.height+b,maxX:z,maxY:W}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(y,b){b&&(y.save(),L.applyAttrsToContext(y,b),b.createPath(y),y.restore(),y.clip(),b._afterDraw())},w.prototype.draw=function(y,b){var x=this.cfg.clipShape;if(b){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var E=this.getCanvasBBox();if(!k.intersectRect(b,E)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),L.applyAttrsToContext(y,this),this._applyClip(y,x),this.drawPath(y),y.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var b=this.getCanvasBBox(),x=k.intersectRect(b,y);this.set("isInView",x),x?this.set("cacheCanvasBBox",b):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},w.prototype.fill=function(y){y.fill()},w.prototype.stroke=function(y){y.stroke()},w.prototype.strokeAndFill=function(y){var b=this.attrs,x=b.lineWidth,E=b.opacity,O=b.strokeOpacity,D=b.fillOpacity;this.isFill()&&(!k.isNil(D)&&D!==1?(y.globalAlpha=D,this.fill(y),y.globalAlpha=E):this.fill(y)),this.isStroke()&&x>0&&(!k.isNil(O)&&O!==1&&(y.globalAlpha=O),this.stroke(y)),this.afterDrawPath(y)},w.prototype.createPath=function(y){},w.prototype.afterDrawPath=function(y){},w.prototype.isInShape=function(y,b){var x=this.isStroke(),E=this.isFill(),O=this.getHitLineWidth();return this.isInStrokeOrPath(y,b,x,E,O)},w.prototype.isInStrokeOrPath=function(y,b,x,E,O){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},w}(I.AbstractShape);S.default=A},66778:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460),k=d(29350),L=function(P){m.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var M=P.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},M),{x:0,y:0,r:0})},T.prototype.isInStrokeOrPath=function(M,A,p,w,y){var b=this.attr(),x=b.x,E=b.y,O=b.r,D=y/2,N=k.distance(x,E,M,A);return w&&p?N<=O+D:w?N<=O:p?N>=O-D&&N<=O+D:!1},T.prototype.createPath=function(M){var A=this.attr(),p=A.x,w=A.y,y=A.r;M.beginPath(),M.arc(p,w,y,0,Math.PI*2,!1),M.closePath()},T}(I.default);S.default=L},21421:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460);function k(P,T,M,A){return P/(M*M)+T/(A*A)}var L=function(P){m.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.getDefaultAttrs=function(){var M=P.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},M),{x:0,y:0,rx:0,ry:0})},T.prototype.isInStrokeOrPath=function(M,A,p,w,y){var b=this.attr(),x=y/2,E=b.x,O=b.y,D=b.rx,N=b.ry,z=(M-E)*(M-E),W=(A-O)*(A-O);return w&&p?k(z,W,D+x,N+x)<=1:w?k(z,W,D,N)<=1:p?k(z,W,D-x,N-x)>=1&&k(z,W,D+x,N+x)<=1:!1},T.prototype.createPath=function(M){var A=this.attr(),p=A.x,w=A.y,y=A.rx,b=A.ry;if(M.beginPath(),M.ellipse)M.ellipse(p,w,y,b,0,0,Math.PI*2,!1);else{var x=y>b?y:b,E=y>b?1:y/b,O=y>b?b/y:1;M.save(),M.translate(p,w),M.scale(E,O),M.arc(0,0,x,0,Math.PI*2),M.restore(),M.closePath()}},T}(I.default);S.default=L},89473:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460),k=d(29350);function L(T){return T instanceof HTMLElement&&k.isString(T.nodeName)&&T.nodeName.toUpperCase()==="CANVAS"}var P=function(T){m.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,width:0,height:0})},M.prototype.initAttrs=function(A){this._setImage(A.img)},M.prototype.isStroke=function(){return!1},M.prototype.isOnlyHitBox=function(){return!0},M.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var A=this.get("canvas");A?A.draw():this.createPath(this.get("context"))}},M.prototype._setImage=function(A){var p=this,w=this.attrs;if(k.isString(A)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var b=p.get("callback");b&&b.call(p)},y.crossOrigin="Anonymous",y.src=A,this.set("loading",!0)}else A instanceof Image?(w.width||(w.width=A.width),w.height||(w.height=A.height)):L(A)&&(w.width||(w.width=Number(A.getAttribute("width"))),w.height||(w.height,Number(A.getAttribute("height"))))},M.prototype.onAttrChange=function(A,p,w){T.prototype.onAttrChange.call(this,A,p,w),A==="img"&&this._setImage(p)},M.prototype.createPath=function(A){if(this.get("loading")){this.set("toDraw",!0),this.set("context",A);return}var p=this.attr(),w=p.x,y=p.y,b=p.width,x=p.height,E=p.sx,O=p.sy,D=p.swidth,N=p.sheight,z=p.img;(z instanceof Image||L(z))&&(!k.isNil(E)&&!k.isNil(O)&&!k.isNil(D)&&!k.isNil(N)?A.drawImage(z,E,O,D,N,w,y,b,x):A.drawImage(z,w,y,b,x))},M}(I.default);S.default=P},15483:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var m=d(74460);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var I=d(66778);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return I.default}});var k=d(21421);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return k.default}});var L=d(89473);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return L.default}});var P=d(32766);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return P.default}});var T=d(50796);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return T.default}});var M=d(90780);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return M.default}});var A=d(51567);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return A.default}});var p=d(54423);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(83095);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return w.default}});var y=d(17860);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},32766:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(89838),k=d(74460),L=d(63131),P=d(87200),T=function(M){m.__extends(A,M);function A(){return M!==null&&M.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},A.prototype.initAttrs=function(p){this.setArrow()},A.prototype.onAttrChange=function(p,w,y){M.prototype.onAttrChange.call(this,p,w,y),this.setArrow()},A.prototype.setArrow=function(){var p=this.attr(),w=p.x1,y=p.y1,b=p.x2,x=p.y2,E=p.startArrow,O=p.endArrow;E&&P.addStartArrow(this,p,b,x,w,y),O&&P.addEndArrow(this,p,w,y,b,x)},A.prototype.isInStrokeOrPath=function(p,w,y,b,x){if(!y||!x)return!1;var E=this.attr(),O=E.x1,D=E.y1,N=E.x2,z=E.y2;return L.default(O,D,N,z,x,p,w)},A.prototype.createPath=function(p){var w=this.attr(),y=w.x1,b=w.y1,x=w.x2,E=w.y2,O=w.startArrow,D=w.endArrow,N={dx:0,dy:0},z={dx:0,dy:0};O&&O.d&&(N=P.getShortenOffset(y,b,x,E,w.startArrow.d)),D&&D.d&&(z=P.getShortenOffset(y,b,x,E,w.endArrow.d)),p.beginPath(),p.moveTo(y+N.dx,b+N.dy),p.lineTo(x-z.dx,E-z.dy)},A.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(p),y&&y.draw(p)},A.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,b=p.x2,x=p.y2;return I.Line.length(w,y,b,x)},A.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,b=w.y1,x=w.x2,E=w.y2;return I.Line.pointAt(y,b,x,E,p)},A}(k.default);S.default=T},50796:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(57350),L=d(74460),P=d(29350),T=d(73906),M={circle:function(p,w,y){return[["M",p-y,w],["A",y,y,0,1,0,p+y,w],["A",y,y,0,1,0,p-y,w]]},square:function(p,w,y){return[["M",p-y,w-y],["L",p+y,w-y],["L",p+y,w+y],["L",p-y,w+y],["Z"]]},diamond:function(p,w,y){return[["M",p-y,w],["L",p,w-y],["L",p+y,w],["L",p,w+y],["Z"]]},triangle:function(p,w,y){var b=y*Math.sin(1/3*Math.PI);return[["M",p-y,w+b],["L",p,w-b],["L",p+y,w+b],["Z"]]},"triangle-down":function(p,w,y){var b=y*Math.sin(1/3*Math.PI);return[["M",p-y,w-b],["L",p+y,w-b],["L",p,w+b],["Z"]]}},A=function(p){m.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(y){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(y,b,x){p.prototype.onAttrChange.call(this,y,b,x),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(y){return I.isNil(y.r)?y.radius:y.r},w.prototype._getPath=function(){var y=this.attr(),b=y.x,x=y.y,E=y.symbol||"circle",O=this._getR(y),D,N;if(P.isFunction(E))D=E,N=D(b,x,O),N=k.path2Absolute(N);else{if(D=w.Symbols[E],!D)return console.warn(E+" marker is not supported."),null;N=D(b,x,O)}return N},w.prototype.createPath=function(y){var b=this._getPath(),x=this.get("paramsCache");T.drawPath(this,y,{path:b},x)},w.Symbols=M,w}(L.default);S.default=A},90780:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(89838),k=d(49242),L=d(74460),P=d(57350),T=d(73906),M=d(55978),A=d(4043),p=d(32460),w=d(87200);function y(x,E,O){for(var D=!1,N=0;N<x.length;N++){var z=x[N];if(D=A.default(z,E,O),D)break}return D}var b=function(x){m.__extends(E,x);function E(){return x!==null&&x.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var O=x.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},O),{startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(O){this._setPathArr(O.path),this.setArrow()},E.prototype.onAttrChange=function(O,D,N){x.prototype.onAttrChange.call(this,O,D,N),O==="path"&&this._setPathArr(D),this.setArrow()},E.prototype._setPathArr=function(O){this.attrs.path=P.path2Absolute(O);var D=p.default.hasArc(O);this.set("hasArc",D),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},E.prototype.getSegments=function(){var O=this.get("segements");return O||(O=P.path2Segments(this.attr("path")),this.set("segments",O)),O},E.prototype.setArrow=function(){var O=this.attr(),D=O.startArrow,N=O.endArrow;if(D){var z=this.getStartTangent();w.addStartArrow(this,O,z[0][0],z[0][1],z[1][0],z[1][1])}if(N){var z=this.getEndTangent();w.addEndArrow(this,O,z[0][0],z[0][1],z[1][0],z[1][1])}},E.prototype.isInStrokeOrPath=function(O,D,N,z,W){var X=this.getSegments(),j=this.get("hasArc"),tt=!1;if(N){var K=this.getTotalLength();tt=p.default.isPointInStroke(X,W,O,D,K)}if(!tt&&z)if(j)tt=M.default(this,O,D);else{var wt=this.attr("path"),ot=p.default.extractPolygons(wt);tt=y(ot.polygons,O,D)||y(ot.polylines,O,D)}return tt},E.prototype.createPath=function(O){var D=this.attr(),N=this.get("paramsCache");T.drawPath(this,O,D,N)},E.prototype.afterDrawPath=function(O){var D=this.get("startArrowShape"),N=this.get("endArrowShape");D&&D.draw(O),N&&N.draw(O)},E.prototype.getTotalLength=function(){var O=this.get("totalLength");return k.isNil(O)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):O},E.prototype.getPoint=function(O){var D=this.get("tCache");D||(this._calculateCurve(),this._setTcache(),D=this.get("tCache"));var N,z,W=this.get("curve");if(!D||D.length===0)return W?{x:W[0][1],y:W[0][2]}:null;k.each(D,function(K,wt){O>=K[0]&&O<=K[1]&&(N=(O-K[0])/(K[1]-K[0]),z=wt)});var X=W[z];if(k.isNil(X)||k.isNil(z))return null;var j=X.length,tt=W[z+1];return I.Cubic.pointAt(X[j-2],X[j-1],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],N)},E.prototype._calculateCurve=function(){var O=this.attr().path;this.set("curve",p.default.pathToCurve(O))},E.prototype._setTcache=function(){var O=0,D=0,N=[],z,W,X,j,tt=this.get("curve");if(!!tt){if(k.each(tt,function(K,wt){X=tt[wt+1],j=K.length,X&&(O+=I.Cubic.length(K[j-2],K[j-1],X[1],X[2],X[3],X[4],X[5],X[6])||0)}),this.set("totalLength",O),O===0){this.set("tCache",[]);return}k.each(tt,function(K,wt){X=tt[wt+1],j=K.length,X&&(z=[],z[0]=D/O,W=I.Cubic.length(K[j-2],K[j-1],X[1],X[2],X[3],X[4],X[5],X[6]),D+=W||0,z[1]=D/O,N.push(z))}),this.set("tCache",N)}},E.prototype.getStartTangent=function(){var O=this.getSegments(),D;if(O.length>1){var N=O[0].currentPoint,z=O[1].currentPoint,W=O[1].startTangent;D=[],W?(D.push([N[0]-W[0],N[1]-W[1]]),D.push([N[0],N[1]])):(D.push([z[0],z[1]]),D.push([N[0],N[1]]))}return D},E.prototype.getEndTangent=function(){var O=this.getSegments(),D=O.length,N;if(D>1){var z=O[D-2].currentPoint,W=O[D-1].currentPoint,X=O[D-1].endTangent;N=[],X?(N.push([W[0]-X[0],W[1]-X[1]]),N.push([W[0],W[1]])):(N.push([z[0],z[1]]),N.push([W[0],W[1]]))}return N},E}(L.default);S.default=b},51567:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460),k=d(70625),L=d(4043),P=function(T){m.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.isInStrokeOrPath=function(A,p,w,y,b){var x=this.attr().points,E=!1;return w&&(E=k.default(x,b,A,p,!0)),!E&&y&&(E=L.default(x,A,p)),E},M.prototype.createPath=function(A){var p=this.attr(),w=p.points;if(!(w.length<2)){A.beginPath();for(var y=0;y<w.length;y++){var b=w[y];y===0?A.moveTo(b[0],b[1]):A.lineTo(b[0],b[1])}A.closePath()}},M}(I.default);S.default=P},54423:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(89838),k=d(89838),L=d(49242),P=d(74460),T=d(70625),M=d(87200),A=function(p){m.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(y){this.setArrow()},w.prototype.onAttrChange=function(y,b,x){p.prototype.onAttrChange.call(this,y,b,x),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var y=this.attr(),b=this.attrs,x=b.points,E=b.startArrow,O=b.endArrow,D=x.length,N=x[0][0],z=x[0][1],W=x[D-1][0],X=x[D-1][1];E&&M.addStartArrow(this,y,x[1][0],x[1][1],N,z),O&&M.addEndArrow(this,y,x[D-2][0],x[D-2][1],W,X)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(y,b,x,E,O){if(!x||!O)return!1;var D=this.attr().points;return T.default(D,O,y,b,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(y){var b=this.attr(),x=b.points,E=b.startArrow,O=b.endArrow,D=x.length;if(!(x.length<2)){var N=x[0][0],z=x[0][1],W=x[D-1][0],X=x[D-1][1];if(E&&E.d){var j=M.getShortenOffset(N,z,x[1][0],x[1][1],E.d);N+=j.dx,z+=j.dy}if(O&&O.d){var j=M.getShortenOffset(x[D-2][0],x[D-2][1],W,X,O.d);W-=j.dx,X-=j.dy}y.beginPath(),y.moveTo(N,z);for(var tt=0;tt<D-1;tt++){var K=x[tt];y.lineTo(K[0],K[1])}y.lineTo(W,X)}},w.prototype.afterDrawPath=function(y){var b=this.get("startArrowShape"),x=this.get("endArrowShape");b&&b.draw(y),x&&x.draw(y)},w.prototype.getTotalLength=function(){var y=this.attr().points,b=this.get("totalLength");return L.isNil(b)?(this.set("totalLength",k.Polyline.length(y)),this.get("totalLength")):b},w.prototype.getPoint=function(y){var b=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var E,O;return L.each(x,function(D,N){y>=D[0]&&y<=D[1]&&(E=(y-D[0])/(D[1]-D[0]),O=N)}),I.Line.pointAt(b[O][0],b[O][1],b[O+1][0],b[O+1][1],E)},w.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var b=this.getTotalLength();if(!(b<=0)){var x=0,E=[],O,D;L.each(y,function(N,z){y[z+1]&&(O=[],O[0]=x/b,D=I.Line.length(N[0],N[1],y[z+1][0],y[z+1][1]),x+=D,O[1]=x/b,E.push(O))}),this.set("tCache",E)}}},w.prototype.getStartTangent=function(){var y=this.attr().points,b=[];return b.push([y[1][0],y[1][1]]),b.push([y[0][0],y[0][1]]),b},w.prototype.getEndTangent=function(){var y=this.attr().points,b=y.length-1,x=[];return x.push([y[b-1][0],y[b-1][1]]),x.push([y[b][0],y[b][1]]),x},w}(P.default);S.default=A},83095:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460),k=d(62948),L=d(29350),P=d(47946),T=d(19626),M=d(55978),A=function(p){m.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(y,b,x,E,O){var D=this.attr(),N=D.x,z=D.y,W=D.width,X=D.height,j=D.radius;if(j){var K=!1;return x&&(K=T.default(N,z,W,X,j,O,y,b)),!K&&E&&(K=M.default(this,y,b)),K}else{var tt=O/2;if(E&&x)return L.inBox(N-tt,z-tt,W+tt,X+tt,y,b);if(E)return L.inBox(N,z,W,X,y,b);if(x)return P.default(N,z,W,X,O,y,b)}},w.prototype.createPath=function(y){var b=this.attr(),x=b.x,E=b.y,O=b.width,D=b.height,N=b.radius;if(y.beginPath(),N===0)y.rect(x,E,O,D);else{var z=k.parseRadius(N),W=z[0],X=z[1],j=z[2],tt=z[3];y.moveTo(x+W,E),y.lineTo(x+O-X,E),X!==0&&y.arc(x+O-X,E+X,X,-Math.PI/2,0),y.lineTo(x+O,E+D-j),j!==0&&y.arc(x+O-j,E+D-j,j,0,Math.PI/2),y.lineTo(x+tt,E+D),tt!==0&&y.arc(x+tt,E+D-tt,tt,Math.PI/2,Math.PI),y.lineTo(x,E+W),W!==0&&y.arc(x+W,E+W,W,Math.PI,Math.PI*1.5),y.closePath()}},w}(I.default);S.default=A},17860:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(74460),k=d(29350),L=d(62113),P=function(T){m.__extends(M,T);function M(){return T!==null&&T.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},M.prototype.isOnlyHitBox=function(){return!0},M.prototype.initAttrs=function(A){this._assembleFont(),A.text&&this._setText(A.text)},M.prototype._assembleFont=function(){var A=this.attrs;A.font=L.assembleFont(A)},M.prototype._setText=function(A){var p=null;k.isString(A)&&A.indexOf(`
`)!==-1&&(p=A.split(`
`)),this.set("textArr",p)},M.prototype.onAttrChange=function(A,p,w){T.prototype.onAttrChange.call(this,A,p,w),A.startsWith("font")&&this._assembleFont(),A==="text"&&this._setText(p)},M.prototype._getSpaceingY=function(){var A=this.attrs,p=A.lineHeight,w=A.fontSize*1;return p?p-w:w*.14},M.prototype._drawTextArr=function(A,p,w){var y=this.attrs,b=y.textBaseline,x=y.x,E=y.y,O=y.fontSize*1,D=this._getSpaceingY(),N=L.getTextHeight(y.text,y.fontSize,y.lineHeight),z;k.each(p,function(W,X){z=E+X*(D+O)-N+O,b==="middle"&&(z+=N-O-(N-O)/2),b==="top"&&(z+=N-O),k.isNil(W)||(w?A.fillText(W,x,z):A.strokeText(W,x,z))})},M.prototype._drawText=function(A,p){var w=this.attr(),y=w.x,b=w.y,x=this.get("textArr");if(x)this._drawTextArr(A,x,p);else{var E=w.text;k.isNil(E)||(p?A.fillText(E,y,b):A.strokeText(E,y,b))}},M.prototype.strokeAndFill=function(A){var p=this.attrs,w=p.lineWidth,y=p.opacity,b=p.strokeOpacity,x=p.fillOpacity;this.isStroke()&&w>0&&(!k.isNil(b)&&b!==1&&(A.globalAlpha=y),this.stroke(A)),this.isFill()&&(!k.isNil(x)&&x!==1?(A.globalAlpha=x,this.fill(A),A.globalAlpha=y):this.fill(A)),this.afterDrawPath(A)},M.prototype.fill=function(A){this._drawText(A,!0)},M.prototype.stroke=function(A){this._drawText(A,!1)},M}(I.default);S.default=P},56921:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(29350);function I(T){return Math.sqrt(T[0]*T[0]+T[1]*T[1])}function k(T,M){return I(T)*I(M)?(T[0]*M[0]+T[1]*M[1])/(I(T)*I(M)):1}function L(T,M){return(T[0]*M[1]<T[1]*M[0]?-1:1)*Math.acos(k(T,M))}function P(T,M){var A=M[1],p=M[2],w=m.mod(m.toRadian(M[3]),Math.PI*2),y=M[4],b=M[5],x=T[0],E=T[1],O=M[6],D=M[7],N=Math.cos(w)*(x-O)/2+Math.sin(w)*(E-D)/2,z=-1*Math.sin(w)*(x-O)/2+Math.cos(w)*(E-D)/2,W=N*N/(A*A)+z*z/(p*p);W>1&&(A*=Math.sqrt(W),p*=Math.sqrt(W));var X=A*A*(z*z)+p*p*(N*N),j=X?Math.sqrt((A*A*(p*p)-X)/X):1;y===b&&(j*=-1),isNaN(j)&&(j=0);var tt=p?j*A*z/p:0,K=A?j*-p*N/A:0,wt=(x+O)/2+Math.cos(w)*tt-Math.sin(w)*K,ot=(E+D)/2+Math.sin(w)*tt+Math.cos(w)*K,vt=[(N-tt)/A,(z-K)/p],et=[(-1*N-tt)/A,(-1*z-K)/p],lt=L([1,0],vt),dt=L(vt,et);return k(vt,et)<=-1&&(dt=Math.PI),k(vt,et)>=1&&(dt=0),b===0&&dt>0&&(dt=dt-2*Math.PI),b===1&&dt<0&&(dt=dt+2*Math.PI),{cx:wt,cy:ot,rx:m.isSamePoint(T,[O,D])?0:A,ry:m.isSamePoint(T,[O,D])?0:p,startAngle:lt,endAngle:lt+dt,xRotation:w,arcFlag:y,sweepFlag:b}}S.default=P},87200:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var m=d(70655),I=d(15483),k=Math.sin,L=Math.cos,P=Math.atan2,T=Math.PI;function M(b,x,E,O,D,N,z){var W=x.stroke,X=x.lineWidth,j=E-D,tt=O-N,K=P(tt,j),wt=new I.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*L(T/6)+","+10*k(T/6)+" L0,0 L"+10*L(T/6)+",-"+10*k(T/6),stroke:W,lineWidth:X}});wt.translate(D,N),wt.rotateAtPoint(D,N,K),b.set(z?"startArrowShape":"endArrowShape",wt)}function A(b,x,E,O,D,N,z){var W=x.startArrow,X=x.endArrow,j=x.stroke,tt=x.lineWidth,K=z?W:X,wt=K.d,ot=K.fill,vt=K.stroke,et=K.lineWidth,lt=m.__rest(K,["d","fill","stroke","lineWidth"]),dt=E-D,it=O-N,At=P(it,dt);wt&&(D=D-L(At)*wt,N=N-k(At)*wt);var mt=new I.Path({type:"path",canvas:b.get("canvas"),isArrowShape:!0,attrs:m.__assign(m.__assign({},lt),{stroke:vt||j,lineWidth:et||tt,fill:ot})});mt.translate(D,N),mt.rotateAtPoint(D,N,At),b.set(z?"startArrowShape":"endArrowShape",mt)}function p(b,x,E,O,D){var N=P(O-x,E-b);return{dx:L(N)*D,dy:k(N)*D}}S.getShortenOffset=p;function w(b,x,E,O,D,N){typeof x.startArrow=="object"?A(b,x,E,O,D,N,!0):x.startArrow?M(b,x,E,O,D,N,!0):b.set("startArrowShape",null)}S.addStartArrow=w;function y(b,x,E,O,D,N){typeof x.endArrow=="object"?A(b,x,E,O,D,N,!1):x.endArrow?M(b,x,E,O,D,N,!1):b.set("startArrowShape",null)}S.addEndArrow=y},73906:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var m=d(49242),I=d(62948),k=d(56921),L=d(29350),P=d(87200),T={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function M(W,X){var j=X.attr();for(var tt in j){var K=j[tt],wt=T[tt]?T[tt]:tt;wt==="matrix"&&K?W.transform(K[0],K[1],K[3],K[4],K[6],K[7]):wt==="lineDash"&&W.setLineDash?m.isArray(K)&&W.setLineDash(K):(wt==="strokeStyle"||wt==="fillStyle"?K=I.parseStyle(W,X,K):wt==="globalAlpha"&&(K=K*W.globalAlpha),W[wt]=K)}}S.applyAttrsToContext=M;function A(W,X,j){for(var tt=0;tt<X.length;tt++){var K=X[tt];K.cfg.visible?K.draw(W,j):K.skipDraw()}}S.drawChildren=A;function p(W,X,j){var tt=W.get("refreshElements");m.each(tt,function(K){if(K!==W)for(var wt=K.cfg.parent;wt&&wt!==W&&!wt.cfg.refresh;)wt.cfg.refresh=!0,wt=wt.cfg.parent}),tt[0]===W?b(X,j):w(X,j)}S.checkRefresh=p;function w(W,X){for(var j=0;j<W.length;j++){var tt=W[j];if(tt.cfg.visible)if(tt.cfg.hasChanged)tt.cfg.refresh=!0,tt.isGroup()&&b(tt.cfg.children,X);else if(tt.cfg.refresh)tt.isGroup()&&w(tt.cfg.children,X);else{var K=x(tt,X);tt.cfg.refresh=K,K&&tt.isGroup()&&w(tt.cfg.children,X)}}}S.checkChildrenRefresh=w;function y(W){for(var X=0;X<W.length;X++){var j=W[X];j.cfg.hasChanged=!1,j.isGroup()&&!j.destroyed&&y(j.cfg.children)}}S.clearChanged=y;function b(W,X){for(var j=0;j<W.length;j++){var tt=W[j];tt.cfg.refresh=!0,tt.isGroup()&&b(tt.get("children"),X)}}function x(W,X){var j=W.cfg.cacheCanvasBBox,tt=W.cfg.isInView&&j&&L.intersectRect(j,X);return tt}function E(W,X,j,tt){var K=j.path,wt=j.startArrow,ot=j.endArrow;if(!!K){var vt=[0,0],et=[0,0],lt={dx:0,dy:0};X.beginPath();for(var dt=0;dt<K.length;dt++){var it=K[dt],At=it[0];if(dt===0&&wt&&wt.d){var mt=W.getStartTangent();lt=P.getShortenOffset(mt[0][0],mt[0][1],mt[1][0],mt[1][1],wt.d)}else if(dt===K.length-2&&K[dt+1][0]==="Z"&&ot&&ot.d){var U=K[dt+1];if(U[0]==="Z"){var mt=W.getEndTangent();lt=P.getShortenOffset(mt[0][0],mt[0][1],mt[1][0],mt[1][1],ot.d)}}else if(dt===K.length-1&&ot&&ot.d&&K[0]!=="Z"){var mt=W.getEndTangent();lt=P.getShortenOffset(mt[0][0],mt[0][1],mt[1][0],mt[1][1],ot.d)}var V=lt.dx,B=lt.dy;switch(At){case"M":X.moveTo(it[1]-V,it[2]-B),et=[it[1],it[2]];break;case"L":X.lineTo(it[1]-V,it[2]-B);break;case"Q":X.quadraticCurveTo(it[1],it[2],it[3]-V,it[4]-B);break;case"C":X.bezierCurveTo(it[1],it[2],it[3],it[4],it[5]-V,it[6]-B);break;case"A":{var f=void 0;tt?(f=tt[dt],f||(f=k.default(vt,it),tt[dt]=f)):f=k.default(vt,it);var yt=f.cx,St=f.cy,Rt=f.rx,Qt=f.ry,zt=f.startAngle,$t=f.endAngle,ne=f.xRotation,ae=f.sweepFlag;if(X.ellipse)X.ellipse(yt,St,Rt,Qt,ne,zt,$t,1-ae);else{var Wt=Rt>Qt?Rt:Qt,It=Rt>Qt?1:Rt/Qt,Ct=Rt>Qt?Qt/Rt:1;X.translate(yt,St),X.rotate(ne),X.scale(It,Ct),X.arc(0,0,Wt,zt,$t,1-ae),X.scale(1/It,1/Ct),X.rotate(-ne),X.translate(-yt,-St)}break}case"Z":X.closePath();break;default:break}if(At==="Z")vt=et;else{var ht=it.length;vt=[it[ht-2],it[ht-1]]}}}}S.drawPath=E;function O(W,X){var j=W.get("canvas");j&&(X==="remove"&&(W._cacheCanvasBBox=W.get("cacheCanvasBBox")),W.get("hasChanged")||(W.set("hasChanged",!0),W.cfg.parent&&W.cfg.parent.get("hasChanged")||(j.refreshElement(W,X,j),j.get("autoDraw")&&j.draw())))}S.refreshElement=O;function D(W){var X;if(W.destroyed)X=W._cacheCanvasBBox;else{var j=W.get("cacheCanvasBBox"),tt=j&&!!(j.width&&j.height),K=W.getCanvasBBox(),wt=K&&!!(K.width&&K.height);tt&&wt?X=L.mergeRegion(j,K):tt?X=j:wt&&(X=K)}return X}S.getRefreshRegion=D;function N(W){if(!W.length)return null;var X=[],j=[],tt=[],K=[];return m.each(W,function(wt){var ot=D(wt);ot&&(X.push(ot.minX),j.push(ot.minY),tt.push(ot.maxX),K.push(ot.maxY))}),{minX:m.min(X),minY:m.min(j),maxX:m.max(tt),maxY:m.max(K)}}S.getMergedRegion=N;function z(W,X){return!W||!X||!L.intersectRect(W,X)?null:{minX:Math.max(W.minX,X.minX),minY:Math.max(W.minY,X.minY),maxX:Math.min(W.maxX,X.maxX),maxY:Math.min(W.maxY,X.maxY)}}S.mergeView=z},24818:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var m=d(62113);function I(T,M){if(M){var A=m.invert(M);return m.multiplyVec2(A,T)}return T}function k(T,M,A){var p=T.getTotalMatrix();if(p){var w=I([M,A,1],p),y=w[0],b=w[1];return[y,b]}return[M,A]}function L(T,M,A){if(T.isCanvas&&T.isCanvas())return!0;if(!m.isAllowCapture(T)||T.cfg.isInView===!1)return!1;if(T.cfg.clipShape){var p=k(T,M,A),w=p[0],y=p[1];if(T.isClipped(w,y))return!1}var b=T.cfg.cacheCanvasBBox||T.getCanvasBBox();return M>=b.minX&&M<=b.maxX&&A>=b.minY&&A<=b.maxY}function P(T,M,A){if(!L(T,M,A))return null;for(var p=null,w=T.getChildren(),y=w.length,b=y-1;b>=0;b--){var x=w[b];if(x.isGroup())p=P(x,M,A);else if(L(x,M,A)){var E=x,O=k(x,M,A),D=O[0],N=O[1];E.isInShape(D,N)&&(p=x)}if(p)break}return p}S.getShape=P},55978:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(62113);function I(k,L,P){var T=m.getOffScreenContext();return k.createPath(T),T.isPointInPath(L,P)}S.default=I},4043:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(L){return Math.abs(L)<d?0:L<0?-1:1}function I(L,P,T){return(T[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(T[1]-L[1])&&Math.min(L[0],P[0])<=T[0]&&T[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=T[1]&&T[1]<=Math.max(L[1],P[1])}function k(L,P,T){var M=!1,A=L.length;if(A<=2)return!1;for(var p=0;p<A;p++){var w=L[p],y=L[(p+1)%A];if(I(w,y,[P,T]))return!0;m(w[1]-T)>0!=m(y[1]-T)>0&&m(P-(T-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(M=!M)}return M}S.default=k},37311:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(29350);function I(k,L,P,T,M,A,p,w){var y=(Math.atan2(w-L,p-k)+Math.PI*2)%(Math.PI*2);if(y<T||y>M)return!1;var b={x:k+P*Math.cos(y),y:L+P*Math.sin(y)};return m.distance(b.x,b.y,p,w)<=A/2}S.default=I},63131:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(89838);function I(k,L,P,T,M,A,p){var w=Math.min(k,P),y=Math.max(k,P),b=Math.min(L,T),x=Math.max(L,T),E=M/2;return A>=w-E&&A<=y+E&&p>=b-E&&p<=x+E?m.Line.pointToLine(k,L,P,T,A,p)<=M/2:!1}S.default=I},70625:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131);function I(k,L,P,T,M){var A=k.length;if(A<2)return!1;for(var p=0;p<A-1;p++){var w=k[p][0],y=k[p][1],b=k[p+1][0],x=k[p+1][1];if(m.default(w,y,b,x,L,P,T))return!0}if(M){var E=k[0],O=k[A-1];if(m.default(E[0],E[1],O[0],O[1],L,P,T))return!0}return!1}S.default=I},19626:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131),I=d(37311);function k(L,P,T,M,A,p,w,y){var b=p/2;return m.default(L+A,P,L+T-A,P,p,w,y)||m.default(L+T,P+A,L+T,P+M-A,p,w,y)||m.default(L+T-A,P+M,L+A,P+M,p,w,y)||m.default(L,P+M-A,L,P+A,p,w,y)||I.default(L+T-A,P+A,A,1.5*Math.PI,2*Math.PI,p,w,y)||I.default(L+T-A,P+M-A,A,0,.5*Math.PI,p,w,y)||I.default(L+A,P+M-A,A,.5*Math.PI,Math.PI,p,w,y)||I.default(L+A,P+A,A,Math.PI,1.5*Math.PI,p,w,y)}S.default=k},47946:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(29350);function I(k,L,P,T,M,A,p){var w=M/2;return m.inBox(k-w,L-w,P,M,A,p)||m.inBox(k+P-w,L-w,M,T,A,p)||m.inBox(k+w,L+T-w,P,M,A,p)||m.inBox(k-w,L+w,M,T,A,p)}S.default=I},62948:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var m=d(29350),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function T(b,x){var E=b.match(P);m.each(E,function(O){var D=O.split(":");x.addColorStop(D[0],D[1])})}function M(b,x,E){var O=I.exec(E),D=parseFloat(O[1])%360*(Math.PI/180),N=O[2],z=x.getBBox(),W,X;D>=0&&D<1/2*Math.PI?(W={x:z.minX,y:z.minY},X={x:z.maxX,y:z.maxY}):1/2*Math.PI<=D&&D<Math.PI?(W={x:z.maxX,y:z.minY},X={x:z.minX,y:z.maxY}):Math.PI<=D&&D<3/2*Math.PI?(W={x:z.maxX,y:z.maxY},X={x:z.minX,y:z.minY}):(W={x:z.minX,y:z.maxY},X={x:z.maxX,y:z.minY});var j=Math.tan(D),tt=j*j,K=(X.x-W.x+j*(X.y-W.y))/(tt+1)+W.x,wt=j*(X.x-W.x+j*(X.y-W.y))/(tt+1)+W.y,ot=b.createLinearGradient(W.x,W.y,K,wt);return T(N,ot),ot}S.parseLineGradient=M;function A(b,x,E){var O=k.exec(E),D=parseFloat(O[1]),N=parseFloat(O[2]),z=parseFloat(O[3]),W=O[4];if(z===0){var X=W.match(P);return X[X.length-1].split(":")[1]}var j=x.getBBox(),tt=j.maxX-j.minX,K=j.maxY-j.minY,wt=Math.sqrt(tt*tt+K*K)/2,ot=b.createRadialGradient(j.minX+tt*D,j.minY+K*N,0,j.minX+tt/2,j.minY+K/2,z*wt);return T(W,ot),ot}S.parseRadialGradient=A;function p(b,x,E){if(x.get("patternSource")&&x.get("patternSource")===E)return x.get("pattern");var O,D,N=L.exec(E),z=N[1],W=N[2];function X(){O=b.createPattern(D,z),x.set("pattern",O),x.set("patternSource",E)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return D=new Image,W.match(/^data:/i)||(D.crossOrigin="Anonymous"),D.src=W,D.complete?X():(D.onload=X,D.src=D.src),O}S.parsePattern=p;function w(b,x,E){var O=x.getBBox();if(isNaN(O.x)||isNaN(O.y)||isNaN(O.width)||isNaN(O.height))return E;if(m.isString(E)){if(E[1]==="("||E[2]==="("){if(E[0]==="l")return M(b,x,E);if(E[0]==="r")return A(b,x,E);if(E[0]==="p")return p(b,x,E)}return E}if(E instanceof CanvasPattern)return E}S.parseStyle=w;function y(b){var x=0,E=0,O=0,D=0;return m.isArray(b)?b.length===1?x=E=O=D=b[0]:b.length===2?(x=O=b[0],E=D=b[1]):b.length===3?(x=b[0],E=D=b[1],O=b[2]):(x=b[0],E=b[1],O=b[2],D=b[3]):x=E=O=D=b,[x,E,O,D]}S.parseRadius=y},32460:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(62113),k=d(89838),L=d(89838),P=d(56379),T=d(77160),M=d(29350),A=d(63131),p=d(37311),w=P.ext.transform;function y(E){for(var O=!1,D=E.length,N=0;N<D;N++){var z=E[N],W=z[0];if(W==="C"||W==="A"||W==="Q"){O=!0;break}}return O}function b(E,O,D,N,z){for(var W=!1,X=O/2,j=0;j<E.length;j++){var tt=E[j],K=tt.currentPoint,wt=tt.params,ot=tt.prePoint,vt=tt.box;if(!(vt&&!M.inBox(vt.x-X,vt.y-X,vt.width+O,vt.height+O,D,N))){switch(tt.command){case"L":case"Z":W=A.default(ot[0],ot[1],K[0],K[1],O,D,N);break;case"Q":var et=k.Quad.pointDistance(ot[0],ot[1],wt[1],wt[2],wt[3],wt[4],D,N);W=et<=O/2;break;case"C":var lt=L.Cubic.pointDistance(ot[0],ot[1],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],D,N,z);W=lt<=O/2;break;case"A":var dt=tt.arcParams,it=dt.cx,At=dt.cy,mt=dt.rx,U=dt.ry,V=dt.startAngle,B=dt.endAngle,f=dt.xRotation,yt=[D,N,1],St=mt>U?mt:U,Rt=mt>U?1:mt/U,Qt=mt>U?U/mt:1,zt=w(null,[["t",-it,-At],["r",-f],["s",1/Rt,1/Qt]]);T.transformMat3(yt,yt,zt),W=p.default(0,0,St,V,B,O,yt[0],yt[1]);break;default:break}if(W)break}}return W}function x(E){for(var O=E.length,D=[],N=[],z=[],W=0;W<O;W++){var X=E[W],j=X[0];j==="M"?(z.length&&(N.push(z),z=[]),z.push([X[1],X[2]])):j==="Z"?z.length&&(D.push(z),z=[]):z.push([X[1],X[2]])}return z.length>0&&N.push(z),{polygons:D,polylines:N}}S.default=m.__assign({hasArc:y,extractPolygons:x,isPointInStroke:b},I.PathUtil)},29350:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function I(A,p,w,y){var b=A-w,x=p-y;return Math.sqrt(b*b+x*x)}S.distance=I;function k(A,p,w,y,b,x){return b>=A&&b<=A+w&&x>=p&&x<=p+y}S.inBox=k;function L(A,p){return!(p.minX>A.maxX||p.maxX<A.minX||p.minY>A.maxY||p.maxY<A.minY)}S.intersectRect=L;function P(A,p){return!A||!p?A||p:{minX:Math.min(A.minX,p.minX),minY:Math.min(A.minY,p.minY),maxX:Math.max(A.maxX,p.maxX),maxY:Math.max(A.maxY,p.maxY)}}S.mergeRegion=P;function T(A,p){return A[0]===p[0]&&A[1]===p[1]}S.isSamePoint=T;var M=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return M.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return M.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return M.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return M.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return M.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return M.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return M.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return M.clearAnimationFrame}})},56379:function(ct,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return m},mat3:function(){return I},vec2:function(){return k},vec3:function(){return L}});var m={};d.r(m),d.d(m,{angleTo:function(){return y},direction:function(){return w},leftRotate:function(){return T},leftScale:function(){return M},leftTranslate:function(){return P},transform:function(){return p},vertical:function(){return b}});var I=d(35600),k=d(31437),L=d(77160);function P(x,E,O){var D=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(D,O),I.multiply(x,D,E)}function T(x,E,O){var D=[0,0,0,0,0,0,0,0,0];return I.fromRotation(D,O),I.multiply(x,D,E)}function M(x,E,O){var D=[0,0,0,0,0,0,0,0,0];return I.fromScaling(D,O),I.multiply(x,D,E)}function A(x,E,O){return I.multiply(x,O,E)}function p(x,E){for(var O=x?[].concat(x):[1,0,0,0,1,0,0,0,1],D=0,N=E.length;D<N;D++){var z=E[D];switch(z[0]){case"t":P(O,O,[z[1],z[2]]);break;case"s":M(O,O,[z[1],z[2]]);break;case"r":T(O,O,z[1]);break;case"m":A(O,O,z[1]);break;default:break}}return O}function w(x,E){return x[0]*E[1]-E[0]*x[1]}function y(x,E,O){var D=k.angle(x,E),N=w(x,E)>=0;return O?N?Math.PI*2-D:D:N?D:Math.PI*2-D}function b(x,E,O){return O?(x[0]=E[1],x[1]=-1*E[0]):(x[0]=-1*E[1],x[1]=E[0]),x}},19270:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(70655),k=d(62113),L=d(91995),P=d(49171),T=d(84092),M=d(84745),A=d(8198),p=d(36629),w=d(88330),y=function(b){I.__extends(x,b);function x(E){return b.call(this,I.__assign(I.__assign({},E),{autoDraw:!0,renderer:"svg"}))||this}return x.prototype.getShapeBase=function(){return A},x.prototype.getGroupBase=function(){return p.default},x.prototype.getShape=function(E,O,D){var N=D.target||D.srcElement;if(!L.SHAPE_TO_TAGS[N.tagName]){for(var z=N.parentNode;z&&!L.SHAPE_TO_TAGS[z.tagName];)z=z.parentNode;N=z}return this.find(function(W){return W.get("el")===N})},x.prototype.createDom=function(){var E=M.createSVGElement("svg"),O=new w.default(E);return E.setAttribute("width",""+this.get("width")),E.setAttribute("height",""+this.get("height")),this.set("context",O),E},x.prototype.onCanvasChange=function(E){var O=this.get("context"),D=this.get("el");if(E==="sort"){var N=this.get("children");N&&N.length&&M.sortDom(this,function(W,X){return N.indexOf(W)-N.indexOf(X)?1:0})}else if(E==="clear"){if(D){D.innerHTML="";var z=O.el;z.innerHTML="",D.appendChild(z)}}else E==="matrix"?T.setTransform(this):E==="clip"?T.setClip(this,O):E==="changeSize"&&(D.setAttribute("width",""+this.get("width")),D.setAttribute("height",""+this.get("height")))},x.prototype.draw=function(){var E=this.get("context"),O=this.getChildren();T.setClip(this,E),O.length&&P.drawChildren(E,O)},x}(k.AbstractCanvas);S.Z=y},91995:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(84745),k=function(){function L(P,T){this.cfg={};var M=I.createSVGElement("marker"),A=m.uniqueId("marker_");M.setAttribute("id",A);var p=I.createSVGElement("path");p.setAttribute("stroke",P.stroke||"none"),p.setAttribute("fill",P.fill||"none"),M.appendChild(p),M.setAttribute("overflow","visible"),M.setAttribute("orient","auto-start-reverse"),this.el=M,this.child=p,this.id=A;var w=P[T==="marker-start"?"startArrow":"endArrow"];return this.stroke=P.stroke||"#000",w===!0?this._setDefaultPath(T,p):(this.cfg=w,this._setMarker(P.lineWidth,p)),this}return L.prototype.match=function(){return!1},L.prototype._setDefaultPath=function(P,T){var M=this.el;T.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),M.setAttribute("refX",""+10*Math.cos(Math.PI/6)),M.setAttribute("refY",""+5)},L.prototype._setMarker=function(P,T){var M=this.el,A=this.cfg.path,p=this.cfg.d;m.isArray(A)&&(A=A.map(function(w){return w.join(" ")}).join("")),T.setAttribute("d",A),M.appendChild(T),p&&M.setAttribute("refX",""+p/P)},L.prototype.update=function(P){var T=this.child;T.attr?T.attr("fill",P):T.setAttribute("fill",P)},L}();S.default=k},32439:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(84745),k=function(){function L(P){this.type="clip",this.cfg={};var T=I.createSVGElement("clipPath");this.el=T,this.id=m.uniqueId("clip_"),T.id=this.id;var M=P.cfg.el;return T.appendChild(M),this.cfg=P,this}return L.prototype.match=function(){return!1},L.prototype.remove=function(){var P=this.el;P.parentNode.removeChild(P)},L}();S.default=k},90362:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(84745),k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function T(w){var y=w.match(P);if(!y)return"";var b="";return y.sort(function(x,E){return x=x.split(":"),E=E.split(":"),Number(x[0])-Number(E[0])}),m.each(y,function(x){x=x.split(":"),b+='<stop offset="'+x[0]+'" stop-color="'+x[1]+'"></stop>'}),b}function M(w,y){var b=k.exec(w),x=m.mod(m.toRadian(parseFloat(b[1])),Math.PI*2),E=b[2],O,D;x>=0&&x<.5*Math.PI?(O={x:0,y:0},D={x:1,y:1}):.5*Math.PI<=x&&x<Math.PI?(O={x:1,y:0},D={x:0,y:1}):Math.PI<=x&&x<1.5*Math.PI?(O={x:1,y:1},D={x:0,y:0}):(O={x:0,y:1},D={x:1,y:0});var N=Math.tan(x),z=N*N,W=(D.x-O.x+N*(D.y-O.y))/(z+1)+O.x,X=N*(D.x-O.x+N*(D.y-O.y))/(z+1)+O.y;y.setAttribute("x1",O.x),y.setAttribute("y1",O.y),y.setAttribute("x2",W),y.setAttribute("y2",X),y.innerHTML=T(E)}function A(w,y){var b=L.exec(w),x=parseFloat(b[1]),E=parseFloat(b[2]),O=parseFloat(b[3]),D=b[4];y.setAttribute("cx",x),y.setAttribute("cy",E),y.setAttribute("r",O),y.innerHTML=T(D)}var p=function(){function w(y){this.cfg={};var b=null,x=m.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(b=I.createSVGElement("linearGradient"),M(y,b)):(b=I.createSVGElement("radialGradient"),A(y,b)),b.setAttribute("id",x),this.el=b,this.id=x,this.cfg=y,this}return w.prototype.match=function(y,b){return this.cfg===b},w}();S.default=p},88330:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(90362),k=d(50375),L=d(14232),P=d(32439),T=d(99365),M=d(84745),A=function(){function p(w){var y=M.createSVGElement("defs"),b=m.uniqueId("defs_");y.id=b,w.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=w}return p.prototype.find=function(w,y){for(var b=this.children,x=null,E=0;E<b.length;E++)if(b[E].match(w,y)){x=b[E].id;break}return x},p.prototype.findById=function(w){for(var y=this.children,b=null,x=0;x<y.length;x++)if(y[x].id===w){b=y[x];break}return b},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,y){var b=w.stroke||w.strokeStyle;if(this.defaultArrow[b])return this.defaultArrow[b].id;var x=new L.default(w,y);return this.defaultArrow[b]=x,this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addGradient=function(w){var y=new I.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(w,y){var b=new L.default(w,y);return this.el.appendChild(b.el),this.add(b),b.id},p.prototype.addShadow=function(w){var y=new k.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(w){var y=new T.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(w){var y=new P.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p}();S.default=A},99365:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(84745),k=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=function(){function P(T){this.cfg={};var M=I.createSVGElement("pattern");M.setAttribute("patternUnits","userSpaceOnUse");var A=I.createSVGElement("image");M.appendChild(A);var p=m.uniqueId("pattern_");M.id=p,this.el=M,this.id=p,this.cfg=T;var w=k.exec(T),y=w[2];A.setAttribute("href",y);var b=new Image;y.match(/^data:/i)||(b.crossOrigin="Anonymous"),b.src=y;function x(){M.setAttribute("width",""+b.width),M.setAttribute("height",""+b.height)}return b.complete?x():(b.onload=x,b.src=b.src),this}return P.prototype.match=function(T,M){return this.cfg===M},P}();S.default=L},50375:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(84745),k={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},L={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function T(M){this.type="filter",this.cfg={},this.type="filter";var A=I.createSVGElement("filter");return m.each(L,function(p,w){A.setAttribute(w,p)}),this.el=A,this.id=m.uniqueId("filter_"),this.el.id=this.id,this.cfg=M,this._parseShadow(M,A),this}return T.prototype.match=function(M,A){if(this.type!==M)return!1;var p=!0,w=this.cfg;return m.each(Object.keys(w),function(y){if(w[y]!==A[y])return p=!1,!1}),p},T.prototype.update=function(M,A){var p=this.cfg;return p[k[M]]=A,this._parseShadow(p,this.el),this},T.prototype._parseShadow=function(M,A){var p=`<feDropShadow
      dx="`+(M.dx||0)+`"
      dy="`+(M.dy||0)+`"
      stdDeviation="`+(M.blur?M.blur/10:0)+`"
      flood-color="`+(M.color?M.color:"#000")+`"
      flood-opacity="`+(M.opacity?M.opacity:1)+`"
      />`;A.innerHTML=p},T}();S.default=P},36629:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(62113),k=d(49242),L=d(8198),P=d(49171),T=d(84092),M=d(91995),A=d(84745),p=function(w){m.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var b=A.createSVGElement("g");this.set("el",b);var x=this.getParent();if(x){var E=x.get("el");E||(E=x.createDom(),x.set("el",E)),E.appendChild(b)}return b},y.prototype.afterAttrsChange=function(b){w.prototype.afterAttrsChange.call(this,b);var x=this.get("canvas");if(x&&x.get("autoDraw")){var E=x.get("context");this.createPath(E,b)}},y.prototype.onCanvasChange=function(b){P.refreshElement(this,b)},y.prototype.getShapeBase=function(){return L},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(b){var x=this.getChildren(),E=this.get("el");this.get("destroyed")?E&&E.parentNode.removeChild(E):(E||this.createDom(),T.setClip(this,b),this.createPath(b),x.length&&P.drawChildren(b,x))},y.prototype.createPath=function(b,x){var E=this.attr(),O=this.get("el");k.each(x||E,function(D,N){M.SVG_ATTR_MAP[N]&&O.setAttribute(M.SVG_ATTR_MAP[N],D)}),T.setTransform(this)},y}(I.AbstractGroup);S.default=p},5666:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(62113),k=d(84092),L=d(84745),P=d(49171),T=d(91995),M=d(8198),A=d(36629),p=d(62113),w=function(y){m.__extends(b,y);function b(){var x=y!==null&&y.apply(this,arguments)||this;return x.type="svg",x.canFill=!1,x.canStroke=!1,x}return b.prototype.getDefaultAttrs=function(){var x=y.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},x),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.afterAttrsChange=function(x){y.prototype.afterAttrsChange.call(this,x);var E=this.get("canvas");if(E&&E.get("autoDraw")){var O=E.get("context");this.draw(O,x)}},b.prototype.getShapeBase=function(){return M},b.prototype.getGroupBase=function(){return A.default},b.prototype.onCanvasChange=function(x){P.refreshElement(this,x)},b.prototype.calculateBBox=function(){var x=this.get("el"),E=null;if(x)E=x.getBBox();else{var O=p.getBBoxMethod(this.get("type"));O&&(E=O(this))}if(E){var D=E.x,N=E.y,z=E.width,W=E.height,X=this.getHitLineWidth(),j=X/2,tt=D-j,K=N-j,wt=D+z+j,ot=N+W+j;return{x:tt,y:K,minX:tt,minY:K,maxX:wt,maxY:ot,width:z+X,height:W+X}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},b.prototype.isFill=function(){var x=this.attr(),E=x.fill,O=x.fillStyle;return(E||O||this.isClipShape())&&this.canFill},b.prototype.isStroke=function(){var x=this.attr(),E=x.stroke,O=x.strokeStyle;return(E||O)&&this.canStroke},b.prototype.draw=function(x,E){var O=this.get("el");this.get("destroyed")?O&&O.parentNode.removeChild(O):(O||L.createDom(this),k.setClip(this,x),this.createPath(x,E),this.shadow(x,E),this.strokeAndFill(x,E),this.transform(E))},b.prototype.createPath=function(x,E){},b.prototype.strokeAndFill=function(x,E){var O=E||this.attr(),D=O.fill,N=O.fillStyle,z=O.stroke,W=O.strokeStyle,X=O.fillOpacity,j=O.strokeOpacity,tt=O.lineWidth,K=this.get("el");this.canFill&&(E?"fill"in O?this._setColor(x,"fill",D):"fillStyle"in O&&this._setColor(x,"fill",N):this._setColor(x,"fill",D||N),X&&K.setAttribute(T.SVG_ATTR_MAP.fillOpacity,X)),this.canStroke&&tt>0&&(E?"stroke"in O?this._setColor(x,"stroke",z):"strokeStyle"in O&&this._setColor(x,"stroke",W):this._setColor(x,"stroke",z||W),j&&K.setAttribute(T.SVG_ATTR_MAP.strokeOpacity,j),tt&&K.setAttribute(T.SVG_ATTR_MAP.lineWidth,tt))},b.prototype._setColor=function(x,E,O){var D=this.get("el");if(!O){D.setAttribute(T.SVG_ATTR_MAP[E],"none");return}if(O=O.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(O)){var N=x.find("gradient",O);N||(N=x.addGradient(O)),D.setAttribute(T.SVG_ATTR_MAP[E],"url(#"+N+")")}else if(/^[p,P]{1}[\s]*\(/.test(O)){var N=x.find("pattern",O);N||(N=x.addPattern(O)),D.setAttribute(T.SVG_ATTR_MAP[E],"url(#"+N+")")}else D.setAttribute(T.SVG_ATTR_MAP[E],O)},b.prototype.shadow=function(x,E){var O=this.attr(),D=E||O,N=D.shadowOffsetX,z=D.shadowOffsetY,W=D.shadowBlur,X=D.shadowColor;(N||z||W||X)&&k.setShadow(this,x)},b.prototype.transform=function(x){var E=this.attr(),O=(x||E).matrix;O&&k.setTransform(this)},b.prototype.isInShape=function(x,E){return this.isPointInPath(x,E)},b.prototype.isPointInPath=function(x,E){var O=this.get("el"),D=this.get("canvas"),N=D.get("el").getBoundingClientRect(),z=x+N.left,W=E+N.top,X=document.elementFromPoint(z,W);return!!(X&&X.isEqualNode(O))},b.prototype.getHitLineWidth=function(){var x=this.attrs,E=x.lineWidth,O=x.lineAppendWidth;return this.isStroke()?E+O:0},b}(I.AbstractShape);S.default=w},41310:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="circle",A.canFill=!0,A.canStroke=!0,A}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,r:0})},M.prototype.createPath=function(A,p){var w=this.attr(),y=this.get("el");I.each(p||w,function(b,x){x==="x"||x==="y"?y.setAttribute("c"+x,b):k.SVG_ATTR_MAP[x]&&y.setAttribute(k.SVG_ATTR_MAP[x],b)})},M}(L.default);S.default=P},88800:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="dom",A.canFill=!1,A.canStroke=!1,A}return M.prototype.createPath=function(A,p){var w=this.attr(),y=this.get("el");if(I.each(p||w,function(O,D){k.SVG_ATTR_MAP[D]&&y.setAttribute(k.SVG_ATTR_MAP[D],O)}),typeof w.html=="function"){var b=w.html.call(this,w);if(b instanceof Element||b instanceof HTMLDocument){for(var x=y.childNodes,E=x.length-1;E>=0;E--)y.removeChild(x[E]);y.appendChild(b)}else y.innerHTML=b}else y.innerHTML=w.html},M}(L.default);S.default=P},62927:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="ellipse",A.canFill=!0,A.canStroke=!0,A}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,rx:0,ry:0})},M.prototype.createPath=function(A,p){var w=this.attr(),y=this.get("el");I.each(p||w,function(b,x){x==="x"||x==="y"?y.setAttribute("c"+x,b):k.SVG_ATTR_MAP[x]&&y.setAttribute(k.SVG_ATTR_MAP[x],b)})},M}(L.default);S.default=P},78076:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="image",A.canFill=!1,A.canStroke=!1,A}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,width:0,height:0})},M.prototype.createPath=function(A,p){var w=this,y=this.attr(),b=this.get("el");I.each(p||y,function(x,E){E==="img"?w._setImage(y.img):k.SVG_ATTR_MAP[E]&&b.setAttribute(k.SVG_ATTR_MAP[E],x)})},M.prototype.setAttr=function(A,p){this.attrs[A]=p,A==="img"&&this._setImage(p)},M.prototype._setImage=function(A){var p=this.attr(),w=this.get("el");if(I.isString(A))w.setAttribute("href",A);else if(A instanceof window.Image)p.width||(w.setAttribute("width",A.width),this.attr("width",A.width)),p.height||(w.setAttribute("height",A.height),this.attr("height",A.height)),w.setAttribute("href",A.src);else if(A instanceof HTMLElement&&I.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",A.toDataURL());else if(A instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+A.width),y.setAttribute("height",""+A.height),y.getContext("2d").putImageData(A,0,0),p.width||(w.setAttribute("width",""+A.width),this.attr("width",A.width)),p.height||(w.setAttribute("height",""+A.height),this.attr("height",A.height)),w.setAttribute("href",y.toDataURL())}},M}(L.default);S.default=P},8198:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(5666);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var I=d(41310);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return I.default}});var k=d(88800);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return k.default}});var L=d(62927);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return L.default}});var P=d(78076);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var T=d(22059);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var M=d(62116);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return M.default}});var A=d(49582);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return A.default}});var p=d(17498);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(67478);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return w.default}});var y=d(79705);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var b=d(61622);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return b.default}})},22059:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(89838),k=d(49242),L=d(91995),P=d(5666),T=function(M){m.__extends(A,M);function A(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return A.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},A.prototype.createPath=function(p,w){var y=this.attr(),b=this.get("el");k.each(w||y,function(x,E){if(E==="startArrow"||E==="endArrow")if(x){var O=k.isObject(x)?p.addArrow(y,L.SVG_ATTR_MAP[E]):p.getDefaultArrow(y,L.SVG_ATTR_MAP[E]);b.setAttribute(L.SVG_ATTR_MAP[E],"url(#"+O+")")}else b.removeAttribute(L.SVG_ATTR_MAP[E]);else L.SVG_ATTR_MAP[E]&&b.setAttribute(L.SVG_ATTR_MAP[E],x)})},A.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,b=p.x2,x=p.y2;return I.Line.length(w,y,b,x)},A.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,b=w.y1,x=w.x2,E=w.y2;return I.Line.pointAt(y,b,x,E,p)},A}(P.default);S.default=T},62116:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(5666),L=d(56205),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="marker",A.canFill=!0,A.canStroke=!0,A}return M.prototype.createPath=function(A){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},M.prototype._assembleMarker=function(){var A=this._getPath();return I.isArray(A)?A.map(function(p){return p.join(" ")}).join(""):A},M.prototype._getPath=function(){var A=this.attr(),p=A.x,w=A.y,y=A.r||A.radius,b=A.symbol||"circle",x;return I.isFunction(b)?x=b:x=L.default.get(b),x?x(p,w,y):(console.warn(x+" symbol is not exist."),null)},M.symbolsFactory=L.default,M}(k.default);S.default=P},56205:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(m,I,k){return[["M",m,I],["m",-k,0],["a",k,k,0,1,0,k*2,0],["a",k,k,0,1,0,-k*2,0]]},square:function(m,I,k){return[["M",m-k,I-k],["L",m+k,I-k],["L",m+k,I+k],["L",m-k,I+k],["Z"]]},diamond:function(m,I,k){return[["M",m-k,I],["L",m,I-k],["L",m+k,I],["L",m,I+k],["Z"]]},triangle:function(m,I,k){var L=k*Math.sin(1/3*Math.PI);return[["M",m-k,I+L],["L",m,I-L],["L",m+k,I+L],["z"]]},triangleDown:function(m,I,k){var L=k*Math.sin(1/3*Math.PI);return[["M",m-k,I-L],["L",m+k,I-L],["L",m,I+L],["Z"]]}};S.default={get:function(m){return d[m]},register:function(m,I){d[m]=I},remove:function(m){delete d[m]},getAll:function(){return d}}},49582:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="path",A.canFill=!0,A.canStroke=!0,A}return M.prototype.getDefaultAttrs=function(){var A=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{startArrow:!1,endArrow:!1})},M.prototype.createPath=function(A,p){var w=this,y=this.attr(),b=this.get("el");I.each(p||y,function(x,E){if(E==="path"&&I.isArray(x))b.setAttribute("d",w._formatPath(x));else if(E==="startArrow"||E==="endArrow")if(x){var O=I.isObject(x)?A.addArrow(y,k.SVG_ATTR_MAP[E]):A.getDefaultArrow(y,k.SVG_ATTR_MAP[E]);b.setAttribute(k.SVG_ATTR_MAP[E],"url(#"+O+")")}else b.removeAttribute(k.SVG_ATTR_MAP[E]);else k.SVG_ATTR_MAP[E]&&b.setAttribute(k.SVG_ATTR_MAP[E],x)})},M.prototype._formatPath=function(A){var p=A.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},M.prototype.getTotalLength=function(){var A=this.get("el");return A?A.getTotalLength():null},M.prototype.getPoint=function(A){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var y=p?p.getPointAtLength(A*w):null;return y?{x:y.x,y:y.y}:null},M}(L.default);S.default=P},17498:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(91995),L=d(5666),P=function(T){m.__extends(M,T);function M(){var A=T!==null&&T.apply(this,arguments)||this;return A.type="polygon",A.canFill=!0,A.canStroke=!0,A}return M.prototype.createPath=function(A,p){var w=this.attr(),y=this.get("el");I.each(p||w,function(b,x){x==="points"&&I.isArray(b)&&b.length>=2?y.setAttribute("points",b.map(function(E){return E[0]+","+E[1]}).join(" ")):k.SVG_ATTR_MAP[x]&&y.setAttribute(k.SVG_ATTR_MAP[x],b)})},M}(L.default);S.default=P},67478:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(89838),k=d(89838),L=d(49242),P=d(91995),T=d(5666),M=function(A){m.__extends(p,A);function p(){var w=A!==null&&A.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=A.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,y,b){A.prototype.onAttrChange.call(this,w,y,b),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,y){var b=this.attr(),x=this.get("el");L.each(y||b,function(E,O){O==="points"&&L.isArray(E)&&E.length>=2?x.setAttribute("points",E.map(function(D){return D[0]+","+D[1]}).join(" ")):P.SVG_ATTR_MAP[O]&&x.setAttribute(P.SVG_ATTR_MAP[O],E)})},p.prototype.getTotalLength=function(){var w=this.attr().points,y=this.get("totalLength");return L.isNil(y)?(this.set("totalLength",I.Polyline.length(w)),this.get("totalLength")):y},p.prototype.getPoint=function(w){var y=this.attr().points,b=this.get("tCache");b||(this._setTcache(),b=this.get("tCache"));var x,E;return L.each(b,function(O,D){w>=O[0]&&w<=O[1]&&(x=(w-O[0])/(O[1]-O[0]),E=D)}),k.Line.pointAt(y[E][0],y[E][1],y[E+1][0],y[E+1][1],x)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var y=this.getTotalLength();if(!(y<=0)){var b=0,x=[],E,O;L.each(w,function(D,N){w[N+1]&&(E=[],E[0]=b/y,O=k.Line.length(D[0],D[1],w[N+1][0],w[N+1][1]),b+=O,E[1]=b/y,x.push(E))}),this.set("tCache",x)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,y=[];return y.push([w[1][0],w[1][1]]),y.push([w[0][0],w[0][1]]),y},p.prototype.getEndTangent=function(){var w=this.attr().points,y=w.length-1,b=[];return b.push([w[y-1][0],w[y-1][1]]),b.push([w[y][0],w[y][1]]),b},p}(T.default);S.default=M},79705:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(5666),L=d(91995),P=d(19544),T=function(M){m.__extends(A,M);function A(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return A.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},A.prototype.createPath=function(p,w){var y=this,b=this.attr(),x=this.get("el"),E=!1,O=["x","y","width","height","radius"];I.each(w||b,function(D,N){O.indexOf(N)!==-1&&!E?(x.setAttribute("d",y._assembleRect(b)),E=!0):O.indexOf(N)===-1&&L.SVG_ATTR_MAP[N]&&x.setAttribute(L.SVG_ATTR_MAP[N],D)})},A.prototype._assembleRect=function(p){var w=p.x,y=p.y,b=p.width,x=p.height,E=p.radius;if(!E)return"M "+w+","+y+" l "+b+",0 l 0,"+x+" l"+-b+" 0 z";var O=P.parseRadius(E);I.isArray(E)?E.length===1?O.r1=O.r2=O.r3=O.r4=E[0]:E.length===2?(O.r1=O.r3=E[0],O.r2=O.r4=E[1]):E.length===3?(O.r1=E[0],O.r2=O.r4=E[1],O.r3=E[2]):(O.r1=E[0],O.r2=E[1],O.r3=E[2],O.r4=E[3]):O.r1=O.r2=O.r3=O.r4=E;var D=[["M "+(w+O.r1)+","+y],["l "+(b-O.r1-O.r2)+",0"],["a "+O.r2+","+O.r2+",0,0,1,"+O.r2+","+O.r2],["l 0,"+(x-O.r2-O.r3)],["a "+O.r3+","+O.r3+",0,0,1,"+-O.r3+","+O.r3],["l "+(O.r3+O.r4-b)+",0"],["a "+O.r4+","+O.r4+",0,0,1,"+-O.r4+","+-O.r4],["l 0,"+(O.r4+O.r1-x)],["a "+O.r1+","+O.r1+",0,0,1,"+O.r1+","+-O.r1],["z"]];return D.join(" ")},A}(k.default);S.default=T},61622:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(49242),k=d(43631),L=d(84092),P=d(91995),T=d(5666),M=.3,A={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(b){m.__extends(x,b);function x(){var E=b!==null&&b.apply(this,arguments)||this;return E.type="text",E.canFill=!0,E.canStroke=!0,E}return x.prototype.getDefaultAttrs=function(){var E=b.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},x.prototype.createPath=function(E,O){var D=this,N=this.attr(),z=this.get("el");this._setFont(),I.each(O||N,function(W,X){X==="text"?D._setText(""+W):X==="matrix"&&W?L.setTransform(D):P.SVG_ATTR_MAP[X]&&z.setAttribute(P.SVG_ATTR_MAP[X],W)}),z.setAttribute("paint-order","stroke"),z.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},x.prototype._setFont=function(){var E=this.get("el"),O=this.attr(),D=O.textBaseline,N=O.textAlign,z=k.detect();z&&z.name==="firefox"?E.setAttribute("dominant-baseline",p[D]||"alphabetic"):E.setAttribute("alignment-baseline",A[D]||"baseline"),E.setAttribute("text-anchor",w[N]||"left")},x.prototype._setText=function(E){var O=this.get("el"),D=this.attr(),N=D.x,z=D.textBaseline,W=z===void 0?"bottom":z;if(!E)O.innerHTML="";else if(~E.indexOf(`
`)){var X=E.split(`
`),j=X.length-1,tt="";I.each(X,function(K,wt){wt===0?W==="alphabetic"?tt+='<tspan x="'+N+'" dy="'+-j+'em">'+K+"</tspan>":W==="top"?tt+='<tspan x="'+N+'" dy="0.9em">'+K+"</tspan>":W==="middle"?tt+='<tspan x="'+N+'" dy="'+-(j-1)/2+'em">'+K+"</tspan>":W==="bottom"?tt+='<tspan x="'+N+'" dy="-'+(j+M)+'em">'+K+"</tspan>":W==="hanging"&&(tt+='<tspan x="'+N+'" dy="'+(-(j-1)-M)+'em">'+K+"</tspan>"):tt+='<tspan x="'+N+'" dy="1em">'+K+"</tspan>"}),O.innerHTML=tt}else O.innerHTML=E},x}(T.default);S.default=y},84745:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var m=d(49242),I=d(91995);function k(M){return document.createElementNS("http://www.w3.org/2000/svg",M)}S.createSVGElement=k;function L(M){var A=I.SHAPE_TO_TAGS[M.type],p=M.getParent();if(!A)throw new Error("the type "+M.type+" is not supported by svg");var w=k(A);if(M.get("id")&&(w.id=M.get("id")),M.set("el",w),M.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(w)}return w}S.createDom=L;function P(M,A){var p=M.get("el"),w=m.toArray(p.children).sort(A),y=document.createDocumentFragment();w.forEach(function(b){y.appendChild(b)}),p.appendChild(y)}S.sortDom=P;function T(M,A){var p=M.parentNode,w=Array.from(p.childNodes).filter(function(E){return E.nodeType===1&&E.nodeName.toLowerCase()!=="defs"}),y=w[A],b=w.indexOf(M);if(y){if(b>A)p.insertBefore(M,y);else if(b<A){var x=w[A+1];x?p.insertBefore(M,x):p.appendChild(M)}}else p.appendChild(M)}S.moveTo=T},49171:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var m=d(84092),I=d(84745);function k(P,T){T.forEach(function(M){M.draw(P)})}S.drawChildren=k;function L(P,T){var M=P.get("canvas");if(M&&M.get("autoDraw")){var A=M.get("context"),p=P.getParent(),w=p?p.getChildren():[M],y=P.get("el");if(T==="remove"){var b=P.get("isClipShape");if(b){var x=y&&y.parentNode,E=x&&x.parentNode;x&&E&&E.removeChild(x)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(T==="show")y.setAttribute("visibility","visible");else if(T==="hide")y.setAttribute("visibility","hidden");else if(T==="zIndex")I.moveTo(y,w.indexOf(P));else if(T==="sort"){var O=P.get("children");O&&O.length&&I.sortDom(P,function(D,N){return O.indexOf(D)-O.indexOf(N)?1:0})}else T==="clear"?y&&(y.innerHTML=""):T==="matrix"?m.setTransform(P):T==="clip"?m.setClip(P,A):T==="attr"||T==="add"&&P.draw(A)}}S.refreshElement=L},19544:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var m=d(49242),I=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,k=/[^\s,]+/gi;function L(T){var M=0,A=0,p=0,w=0;return m.isArray(T)?T.length===1?M=A=p=w=T[0]:T.length===2?(M=p=T[0],A=w=T[1]):T.length===3?(M=T[0],A=w=T[1],p=T[2]):(M=T[0],A=T[1],p=T[2],w=T[3]):M=A=p=w=T,{r1:M,r2:A,r3:p,r4:w}}S.parseRadius=L;function P(T){if(T=T||[],m.isArray(T))return T;if(m.isString(T))return T=T.match(I),m.each(T,function(M,A){if(M=M.match(k),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}m.each(M,function(w,y){isNaN(w)||(M[y]=+w)}),T[A]=M}),T}S.parsePath=P},84092:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var m=d(84745);function I(P,T){var M=P.cfg.el,A=P.attr(),p={dx:A.shadowOffsetX,dy:A.shadowOffsetY,blur:A.shadowBlur,color:A.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)M.removeAttribute("filter");else{var w=T.find("filter",p);w||(w=T.addShadow(p)),M.setAttribute("filter","url(#"+w+")")}}S.setShadow=I;function k(P){var T=P.attr().matrix;if(T){for(var M=P.cfg.el,A=[],p=0;p<9;p+=3)A.push(T[p]+","+T[p+1]);A=A.join(","),A.indexOf("NaN")===-1?M.setAttribute("transform","matrix("+A+")"):console.warn("invalid matrix:",T)}}S.setTransform=k;function L(P,T){var M=P.getClip(),A=P.get("el");if(!M)A.removeAttribute("clip-path");else if(M&&!A.hasAttribute("clip-path")){m.createDom(M),M.createPath(T);var p=T.addClip(M);A.setAttribute("clip-path","url(#"+p+")")}}S.setClip=L},27549:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(7802);S.wO=I.default;var k=d(89193);m=k.default;var L=d(98543);m=L.default;var P=d(34532);S.vs=P.default},7802:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(31502);m.translate=function(I,k,L){var P=new Array(9);return m.fromTranslation(P,L),m.multiply(I,P,k)},m.rotate=function(I,k,L){var P=new Array(9);return m.fromRotation(P,L),m.multiply(I,P,k)},m.scale=function(I,k,L){var P=new Array(9);return m.fromScaling(P,L),m.multiply(I,P,k)},m.transform=function(I,k){for(var L=[].concat(I),P=0,T=k.length;P<T;P++){var M=k[P];switch(M[0]){case"t":m.translate(L,L,[M[1],M[2]]);break;case"s":m.scale(L,L,[M[1],M[2]]);break;case"r":m.rotate(L,L,M[1]);break;default:break}}return L},S.default=m},34532:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=d(7802);S.default=function(k,L){var P=k?m.clone(k):[1,0,0,0,1,0,0,0,1];return m.each(L,function(T){switch(T[0]){case"t":I.default.translate(P,P,[T[1],T[2]]);break;case"s":I.default.scale(P,P,[T[1],T[2]]);break;case"r":I.default.rotate(P,P,T[1]);break;case"m":I.default.multiply(P,P,T[1]);break;default:return!1}}),P}},89193:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76172),I=d(49242);m.angle=function(k,L){var P=m.dot(k,L)/(m.length(k)*m.length(L));return Math.acos(I.clamp(P,-1,1))},m.direction=function(k,L){return k[0]*L[1]-L[0]*k[1]},m.angleTo=function(k,L,P){var T=m.angle(k,L),M=m.direction(k,L)>=0;return P?M?Math.PI*2-T:T:M?T:Math.PI*2-T},m.vertical=function(k,L,P){return P?(k[0]=L[1],k[1]=-1*L[0]):(k[0]=-1*L[1],k[1]=L[0]),k},S.default=m},98543:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(88395);S.default=m},74988:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=k,S.toRadian=P,S.equals=T;var d=S.EPSILON=1e-6,m=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,I=S.RANDOM=Math.random;function k(M){S.ARRAY_TYPE=m=M}var L=Math.PI/180;function P(M){return M*L}function T(M,A){return Math.abs(M-A)<=d*Math.max(1,Math.abs(M),Math.abs(A))}},31502:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=L,S.fromMat4=P,S.clone=T,S.copy=M,S.fromValues=A,S.set=p,S.identity=w,S.transpose=y,S.invert=b,S.adjoint=x,S.determinant=E,S.multiply=O,S.translate=D,S.rotate=N,S.scale=z,S.fromTranslation=W,S.fromRotation=X,S.fromScaling=j,S.fromMat2d=tt,S.fromQuat=K,S.normalFromMat4=wt,S.projection=ot,S.str=vt,S.frob=et,S.add=lt,S.subtract=dt,S.multiplyScalar=it,S.multiplyScalarAndAdd=At,S.exactEquals=mt,S.equals=U;var m=d(74988),I=k(m);function k(f){if(f&&f.__esModule)return f;var yt={};if(f!=null)for(var St in f)Object.prototype.hasOwnProperty.call(f,St)&&(yt[St]=f[St]);return yt.default=f,yt}function L(){var f=new I.ARRAY_TYPE(9);return I.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function P(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=yt[2],f[3]=yt[4],f[4]=yt[5],f[5]=yt[6],f[6]=yt[8],f[7]=yt[9],f[8]=yt[10],f}function T(f){var yt=new I.ARRAY_TYPE(9);return yt[0]=f[0],yt[1]=f[1],yt[2]=f[2],yt[3]=f[3],yt[4]=f[4],yt[5]=f[5],yt[6]=f[6],yt[7]=f[7],yt[8]=f[8],yt}function M(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=yt[2],f[3]=yt[3],f[4]=yt[4],f[5]=yt[5],f[6]=yt[6],f[7]=yt[7],f[8]=yt[8],f}function A(f,yt,St,Rt,Qt,zt,$t,ne,ae){var Wt=new I.ARRAY_TYPE(9);return Wt[0]=f,Wt[1]=yt,Wt[2]=St,Wt[3]=Rt,Wt[4]=Qt,Wt[5]=zt,Wt[6]=$t,Wt[7]=ne,Wt[8]=ae,Wt}function p(f,yt,St,Rt,Qt,zt,$t,ne,ae,Wt){return f[0]=yt,f[1]=St,f[2]=Rt,f[3]=Qt,f[4]=zt,f[5]=$t,f[6]=ne,f[7]=ae,f[8]=Wt,f}function w(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function y(f,yt){if(f===yt){var St=yt[1],Rt=yt[2],Qt=yt[5];f[1]=yt[3],f[2]=yt[6],f[3]=St,f[5]=yt[7],f[6]=Rt,f[7]=Qt}else f[0]=yt[0],f[1]=yt[3],f[2]=yt[6],f[3]=yt[1],f[4]=yt[4],f[5]=yt[7],f[6]=yt[2],f[7]=yt[5],f[8]=yt[8];return f}function b(f,yt){var St=yt[0],Rt=yt[1],Qt=yt[2],zt=yt[3],$t=yt[4],ne=yt[5],ae=yt[6],Wt=yt[7],It=yt[8],Ct=It*$t-ne*Wt,ht=-It*zt+ne*ae,Et=Wt*zt-$t*ae,at=St*Ct+Rt*ht+Qt*Et;return at?(at=1/at,f[0]=Ct*at,f[1]=(-It*Rt+Qt*Wt)*at,f[2]=(ne*Rt-Qt*$t)*at,f[3]=ht*at,f[4]=(It*St-Qt*ae)*at,f[5]=(-ne*St+Qt*zt)*at,f[6]=Et*at,f[7]=(-Wt*St+Rt*ae)*at,f[8]=($t*St-Rt*zt)*at,f):null}function x(f,yt){var St=yt[0],Rt=yt[1],Qt=yt[2],zt=yt[3],$t=yt[4],ne=yt[5],ae=yt[6],Wt=yt[7],It=yt[8];return f[0]=$t*It-ne*Wt,f[1]=Qt*Wt-Rt*It,f[2]=Rt*ne-Qt*$t,f[3]=ne*ae-zt*It,f[4]=St*It-Qt*ae,f[5]=Qt*zt-St*ne,f[6]=zt*Wt-$t*ae,f[7]=Rt*ae-St*Wt,f[8]=St*$t-Rt*zt,f}function E(f){var yt=f[0],St=f[1],Rt=f[2],Qt=f[3],zt=f[4],$t=f[5],ne=f[6],ae=f[7],Wt=f[8];return yt*(Wt*zt-$t*ae)+St*(-Wt*Qt+$t*ne)+Rt*(ae*Qt-zt*ne)}function O(f,yt,St){var Rt=yt[0],Qt=yt[1],zt=yt[2],$t=yt[3],ne=yt[4],ae=yt[5],Wt=yt[6],It=yt[7],Ct=yt[8],ht=St[0],Et=St[1],at=St[2],Q=St[3],bt=St[4],Ot=St[5],Vt=St[6],ue=St[7],Se=St[8];return f[0]=ht*Rt+Et*$t+at*Wt,f[1]=ht*Qt+Et*ne+at*It,f[2]=ht*zt+Et*ae+at*Ct,f[3]=Q*Rt+bt*$t+Ot*Wt,f[4]=Q*Qt+bt*ne+Ot*It,f[5]=Q*zt+bt*ae+Ot*Ct,f[6]=Vt*Rt+ue*$t+Se*Wt,f[7]=Vt*Qt+ue*ne+Se*It,f[8]=Vt*zt+ue*ae+Se*Ct,f}function D(f,yt,St){var Rt=yt[0],Qt=yt[1],zt=yt[2],$t=yt[3],ne=yt[4],ae=yt[5],Wt=yt[6],It=yt[7],Ct=yt[8],ht=St[0],Et=St[1];return f[0]=Rt,f[1]=Qt,f[2]=zt,f[3]=$t,f[4]=ne,f[5]=ae,f[6]=ht*Rt+Et*$t+Wt,f[7]=ht*Qt+Et*ne+It,f[8]=ht*zt+Et*ae+Ct,f}function N(f,yt,St){var Rt=yt[0],Qt=yt[1],zt=yt[2],$t=yt[3],ne=yt[4],ae=yt[5],Wt=yt[6],It=yt[7],Ct=yt[8],ht=Math.sin(St),Et=Math.cos(St);return f[0]=Et*Rt+ht*$t,f[1]=Et*Qt+ht*ne,f[2]=Et*zt+ht*ae,f[3]=Et*$t-ht*Rt,f[4]=Et*ne-ht*Qt,f[5]=Et*ae-ht*zt,f[6]=Wt,f[7]=It,f[8]=Ct,f}function z(f,yt,St){var Rt=St[0],Qt=St[1];return f[0]=Rt*yt[0],f[1]=Rt*yt[1],f[2]=Rt*yt[2],f[3]=Qt*yt[3],f[4]=Qt*yt[4],f[5]=Qt*yt[5],f[6]=yt[6],f[7]=yt[7],f[8]=yt[8],f}function W(f,yt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=yt[0],f[7]=yt[1],f[8]=1,f}function X(f,yt){var St=Math.sin(yt),Rt=Math.cos(yt);return f[0]=Rt,f[1]=St,f[2]=0,f[3]=-St,f[4]=Rt,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function j(f,yt){return f[0]=yt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=yt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function tt(f,yt){return f[0]=yt[0],f[1]=yt[1],f[2]=0,f[3]=yt[2],f[4]=yt[3],f[5]=0,f[6]=yt[4],f[7]=yt[5],f[8]=1,f}function K(f,yt){var St=yt[0],Rt=yt[1],Qt=yt[2],zt=yt[3],$t=St+St,ne=Rt+Rt,ae=Qt+Qt,Wt=St*$t,It=Rt*$t,Ct=Rt*ne,ht=Qt*$t,Et=Qt*ne,at=Qt*ae,Q=zt*$t,bt=zt*ne,Ot=zt*ae;return f[0]=1-Ct-at,f[3]=It-Ot,f[6]=ht+bt,f[1]=It+Ot,f[4]=1-Wt-at,f[7]=Et-Q,f[2]=ht-bt,f[5]=Et+Q,f[8]=1-Wt-Ct,f}function wt(f,yt){var St=yt[0],Rt=yt[1],Qt=yt[2],zt=yt[3],$t=yt[4],ne=yt[5],ae=yt[6],Wt=yt[7],It=yt[8],Ct=yt[9],ht=yt[10],Et=yt[11],at=yt[12],Q=yt[13],bt=yt[14],Ot=yt[15],Vt=St*ne-Rt*$t,ue=St*ae-Qt*$t,Se=St*Wt-zt*$t,Re=Rt*ae-Qt*ne,We=Rt*Wt-zt*ne,mr=Qt*Wt-zt*ae,wr=It*Q-Ct*at,br=It*bt-ht*at,zr=It*Ot-Et*at,pr=Ct*bt-ht*Q,an=Ct*Ot-Et*Q,Tn=ht*Ot-Et*bt,rn=Vt*Tn-ue*an+Se*pr+Re*zr-We*br+mr*wr;return rn?(rn=1/rn,f[0]=(ne*Tn-ae*an+Wt*pr)*rn,f[1]=(ae*zr-$t*Tn-Wt*br)*rn,f[2]=($t*an-ne*zr+Wt*wr)*rn,f[3]=(Qt*an-Rt*Tn-zt*pr)*rn,f[4]=(St*Tn-Qt*zr+zt*br)*rn,f[5]=(Rt*zr-St*an-zt*wr)*rn,f[6]=(Q*mr-bt*We+Ot*Re)*rn,f[7]=(bt*Se-at*mr-Ot*ue)*rn,f[8]=(at*We-Q*Se+Ot*Vt)*rn,f):null}function ot(f,yt,St){return f[0]=2/yt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/St,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function vt(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function et(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function lt(f,yt,St){return f[0]=yt[0]+St[0],f[1]=yt[1]+St[1],f[2]=yt[2]+St[2],f[3]=yt[3]+St[3],f[4]=yt[4]+St[4],f[5]=yt[5]+St[5],f[6]=yt[6]+St[6],f[7]=yt[7]+St[7],f[8]=yt[8]+St[8],f}function dt(f,yt,St){return f[0]=yt[0]-St[0],f[1]=yt[1]-St[1],f[2]=yt[2]-St[2],f[3]=yt[3]-St[3],f[4]=yt[4]-St[4],f[5]=yt[5]-St[5],f[6]=yt[6]-St[6],f[7]=yt[7]-St[7],f[8]=yt[8]-St[8],f}function it(f,yt,St){return f[0]=yt[0]*St,f[1]=yt[1]*St,f[2]=yt[2]*St,f[3]=yt[3]*St,f[4]=yt[4]*St,f[5]=yt[5]*St,f[6]=yt[6]*St,f[7]=yt[7]*St,f[8]=yt[8]*St,f}function At(f,yt,St,Rt){return f[0]=yt[0]+St[0]*Rt,f[1]=yt[1]+St[1]*Rt,f[2]=yt[2]+St[2]*Rt,f[3]=yt[3]+St[3]*Rt,f[4]=yt[4]+St[4]*Rt,f[5]=yt[5]+St[5]*Rt,f[6]=yt[6]+St[6]*Rt,f[7]=yt[7]+St[7]*Rt,f[8]=yt[8]+St[8]*Rt,f}function mt(f,yt){return f[0]===yt[0]&&f[1]===yt[1]&&f[2]===yt[2]&&f[3]===yt[3]&&f[4]===yt[4]&&f[5]===yt[5]&&f[6]===yt[6]&&f[7]===yt[7]&&f[8]===yt[8]}function U(f,yt){var St=f[0],Rt=f[1],Qt=f[2],zt=f[3],$t=f[4],ne=f[5],ae=f[6],Wt=f[7],It=f[8],Ct=yt[0],ht=yt[1],Et=yt[2],at=yt[3],Q=yt[4],bt=yt[5],Ot=yt[6],Vt=yt[7],ue=yt[8];return Math.abs(St-Ct)<=I.EPSILON*Math.max(1,Math.abs(St),Math.abs(Ct))&&Math.abs(Rt-ht)<=I.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(ht))&&Math.abs(Qt-Et)<=I.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(Et))&&Math.abs(zt-at)<=I.EPSILON*Math.max(1,Math.abs(zt),Math.abs(at))&&Math.abs($t-Q)<=I.EPSILON*Math.max(1,Math.abs($t),Math.abs(Q))&&Math.abs(ne-bt)<=I.EPSILON*Math.max(1,Math.abs(ne),Math.abs(bt))&&Math.abs(ae-Ot)<=I.EPSILON*Math.max(1,Math.abs(ae),Math.abs(Ot))&&Math.abs(Wt-Vt)<=I.EPSILON*Math.max(1,Math.abs(Wt),Math.abs(Vt))&&Math.abs(It-ue)<=I.EPSILON*Math.max(1,Math.abs(It),Math.abs(ue))}var V=S.mul=O,B=S.sub=dt},76172:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=L,S.clone=P,S.fromValues=T,S.copy=M,S.set=A,S.add=p,S.subtract=w,S.multiply=y,S.divide=b,S.ceil=x,S.floor=E,S.min=O,S.max=D,S.round=N,S.scale=z,S.scaleAndAdd=W,S.distance=X,S.squaredDistance=j,S.length=tt,S.squaredLength=K,S.negate=wt,S.inverse=ot,S.normalize=vt,S.dot=et,S.cross=lt,S.lerp=dt,S.random=it,S.transformMat2=At,S.transformMat2d=mt,S.transformMat3=U,S.transformMat4=V,S.rotate=B,S.angle=f,S.str=yt,S.exactEquals=St,S.equals=Rt;var m=d(74988),I=k(m);function k(ht){if(ht&&ht.__esModule)return ht;var Et={};if(ht!=null)for(var at in ht)Object.prototype.hasOwnProperty.call(ht,at)&&(Et[at]=ht[at]);return Et.default=ht,Et}function L(){var ht=new I.ARRAY_TYPE(2);return I.ARRAY_TYPE!=Float32Array&&(ht[0]=0,ht[1]=0),ht}function P(ht){var Et=new I.ARRAY_TYPE(2);return Et[0]=ht[0],Et[1]=ht[1],Et}function T(ht,Et){var at=new I.ARRAY_TYPE(2);return at[0]=ht,at[1]=Et,at}function M(ht,Et){return ht[0]=Et[0],ht[1]=Et[1],ht}function A(ht,Et,at){return ht[0]=Et,ht[1]=at,ht}function p(ht,Et,at){return ht[0]=Et[0]+at[0],ht[1]=Et[1]+at[1],ht}function w(ht,Et,at){return ht[0]=Et[0]-at[0],ht[1]=Et[1]-at[1],ht}function y(ht,Et,at){return ht[0]=Et[0]*at[0],ht[1]=Et[1]*at[1],ht}function b(ht,Et,at){return ht[0]=Et[0]/at[0],ht[1]=Et[1]/at[1],ht}function x(ht,Et){return ht[0]=Math.ceil(Et[0]),ht[1]=Math.ceil(Et[1]),ht}function E(ht,Et){return ht[0]=Math.floor(Et[0]),ht[1]=Math.floor(Et[1]),ht}function O(ht,Et,at){return ht[0]=Math.min(Et[0],at[0]),ht[1]=Math.min(Et[1],at[1]),ht}function D(ht,Et,at){return ht[0]=Math.max(Et[0],at[0]),ht[1]=Math.max(Et[1],at[1]),ht}function N(ht,Et){return ht[0]=Math.round(Et[0]),ht[1]=Math.round(Et[1]),ht}function z(ht,Et,at){return ht[0]=Et[0]*at,ht[1]=Et[1]*at,ht}function W(ht,Et,at,Q){return ht[0]=Et[0]+at[0]*Q,ht[1]=Et[1]+at[1]*Q,ht}function X(ht,Et){var at=Et[0]-ht[0],Q=Et[1]-ht[1];return Math.sqrt(at*at+Q*Q)}function j(ht,Et){var at=Et[0]-ht[0],Q=Et[1]-ht[1];return at*at+Q*Q}function tt(ht){var Et=ht[0],at=ht[1];return Math.sqrt(Et*Et+at*at)}function K(ht){var Et=ht[0],at=ht[1];return Et*Et+at*at}function wt(ht,Et){return ht[0]=-Et[0],ht[1]=-Et[1],ht}function ot(ht,Et){return ht[0]=1/Et[0],ht[1]=1/Et[1],ht}function vt(ht,Et){var at=Et[0],Q=Et[1],bt=at*at+Q*Q;return bt>0&&(bt=1/Math.sqrt(bt),ht[0]=Et[0]*bt,ht[1]=Et[1]*bt),ht}function et(ht,Et){return ht[0]*Et[0]+ht[1]*Et[1]}function lt(ht,Et,at){var Q=Et[0]*at[1]-Et[1]*at[0];return ht[0]=ht[1]=0,ht[2]=Q,ht}function dt(ht,Et,at,Q){var bt=Et[0],Ot=Et[1];return ht[0]=bt+Q*(at[0]-bt),ht[1]=Ot+Q*(at[1]-Ot),ht}function it(ht,Et){Et=Et||1;var at=I.RANDOM()*2*Math.PI;return ht[0]=Math.cos(at)*Et,ht[1]=Math.sin(at)*Et,ht}function At(ht,Et,at){var Q=Et[0],bt=Et[1];return ht[0]=at[0]*Q+at[2]*bt,ht[1]=at[1]*Q+at[3]*bt,ht}function mt(ht,Et,at){var Q=Et[0],bt=Et[1];return ht[0]=at[0]*Q+at[2]*bt+at[4],ht[1]=at[1]*Q+at[3]*bt+at[5],ht}function U(ht,Et,at){var Q=Et[0],bt=Et[1];return ht[0]=at[0]*Q+at[3]*bt+at[6],ht[1]=at[1]*Q+at[4]*bt+at[7],ht}function V(ht,Et,at){var Q=Et[0],bt=Et[1];return ht[0]=at[0]*Q+at[4]*bt+at[12],ht[1]=at[1]*Q+at[5]*bt+at[13],ht}function B(ht,Et,at,Q){var bt=Et[0]-at[0],Ot=Et[1]-at[1],Vt=Math.sin(Q),ue=Math.cos(Q);return ht[0]=bt*ue-Ot*Vt+at[0],ht[1]=bt*Vt+Ot*ue+at[1],ht}function f(ht,Et){var at=ht[0],Q=ht[1],bt=Et[0],Ot=Et[1],Vt=at*at+Q*Q;Vt>0&&(Vt=1/Math.sqrt(Vt));var ue=bt*bt+Ot*Ot;ue>0&&(ue=1/Math.sqrt(ue));var Se=(at*bt+Q*Ot)*Vt*ue;return Se>1?0:Se<-1?Math.PI:Math.acos(Se)}function yt(ht){return"vec2("+ht[0]+", "+ht[1]+")"}function St(ht,Et){return ht[0]===Et[0]&&ht[1]===Et[1]}function Rt(ht,Et){var at=ht[0],Q=ht[1],bt=Et[0],Ot=Et[1];return Math.abs(at-bt)<=I.EPSILON*Math.max(1,Math.abs(at),Math.abs(bt))&&Math.abs(Q-Ot)<=I.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Ot))}var Qt=S.len=tt,zt=S.sub=w,$t=S.mul=y,ne=S.div=b,ae=S.dist=X,Wt=S.sqrDist=j,It=S.sqrLen=K,Ct=S.forEach=function(){var ht=L();return function(Et,at,Q,bt,Ot,Vt){var ue=void 0,Se=void 0;for(at||(at=2),Q||(Q=0),bt?Se=Math.min(bt*at+Q,Et.length):Se=Et.length,ue=Q;ue<Se;ue+=at)ht[0]=Et[ue],ht[1]=Et[ue+1],Ot(ht,ht,Vt),Et[ue]=ht[0],Et[ue+1]=ht[1];return Et}}()},88395:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=L,S.clone=P,S.length=T,S.fromValues=M,S.copy=A,S.set=p,S.add=w,S.subtract=y,S.multiply=b,S.divide=x,S.ceil=E,S.floor=O,S.min=D,S.max=N,S.round=z,S.scale=W,S.scaleAndAdd=X,S.distance=j,S.squaredDistance=tt,S.squaredLength=K,S.negate=wt,S.inverse=ot,S.normalize=vt,S.dot=et,S.cross=lt,S.lerp=dt,S.hermite=it,S.bezier=At,S.random=mt,S.transformMat4=U,S.transformMat3=V,S.transformQuat=B,S.rotateX=f,S.rotateY=yt,S.rotateZ=St,S.angle=Rt,S.str=Qt,S.exactEquals=zt,S.equals=$t;var m=d(74988),I=k(m);function k(Q){if(Q&&Q.__esModule)return Q;var bt={};if(Q!=null)for(var Ot in Q)Object.prototype.hasOwnProperty.call(Q,Ot)&&(bt[Ot]=Q[Ot]);return bt.default=Q,bt}function L(){var Q=new I.ARRAY_TYPE(3);return I.ARRAY_TYPE!=Float32Array&&(Q[0]=0,Q[1]=0,Q[2]=0),Q}function P(Q){var bt=new I.ARRAY_TYPE(3);return bt[0]=Q[0],bt[1]=Q[1],bt[2]=Q[2],bt}function T(Q){var bt=Q[0],Ot=Q[1],Vt=Q[2];return Math.sqrt(bt*bt+Ot*Ot+Vt*Vt)}function M(Q,bt,Ot){var Vt=new I.ARRAY_TYPE(3);return Vt[0]=Q,Vt[1]=bt,Vt[2]=Ot,Vt}function A(Q,bt){return Q[0]=bt[0],Q[1]=bt[1],Q[2]=bt[2],Q}function p(Q,bt,Ot,Vt){return Q[0]=bt,Q[1]=Ot,Q[2]=Vt,Q}function w(Q,bt,Ot){return Q[0]=bt[0]+Ot[0],Q[1]=bt[1]+Ot[1],Q[2]=bt[2]+Ot[2],Q}function y(Q,bt,Ot){return Q[0]=bt[0]-Ot[0],Q[1]=bt[1]-Ot[1],Q[2]=bt[2]-Ot[2],Q}function b(Q,bt,Ot){return Q[0]=bt[0]*Ot[0],Q[1]=bt[1]*Ot[1],Q[2]=bt[2]*Ot[2],Q}function x(Q,bt,Ot){return Q[0]=bt[0]/Ot[0],Q[1]=bt[1]/Ot[1],Q[2]=bt[2]/Ot[2],Q}function E(Q,bt){return Q[0]=Math.ceil(bt[0]),Q[1]=Math.ceil(bt[1]),Q[2]=Math.ceil(bt[2]),Q}function O(Q,bt){return Q[0]=Math.floor(bt[0]),Q[1]=Math.floor(bt[1]),Q[2]=Math.floor(bt[2]),Q}function D(Q,bt,Ot){return Q[0]=Math.min(bt[0],Ot[0]),Q[1]=Math.min(bt[1],Ot[1]),Q[2]=Math.min(bt[2],Ot[2]),Q}function N(Q,bt,Ot){return Q[0]=Math.max(bt[0],Ot[0]),Q[1]=Math.max(bt[1],Ot[1]),Q[2]=Math.max(bt[2],Ot[2]),Q}function z(Q,bt){return Q[0]=Math.round(bt[0]),Q[1]=Math.round(bt[1]),Q[2]=Math.round(bt[2]),Q}function W(Q,bt,Ot){return Q[0]=bt[0]*Ot,Q[1]=bt[1]*Ot,Q[2]=bt[2]*Ot,Q}function X(Q,bt,Ot,Vt){return Q[0]=bt[0]+Ot[0]*Vt,Q[1]=bt[1]+Ot[1]*Vt,Q[2]=bt[2]+Ot[2]*Vt,Q}function j(Q,bt){var Ot=bt[0]-Q[0],Vt=bt[1]-Q[1],ue=bt[2]-Q[2];return Math.sqrt(Ot*Ot+Vt*Vt+ue*ue)}function tt(Q,bt){var Ot=bt[0]-Q[0],Vt=bt[1]-Q[1],ue=bt[2]-Q[2];return Ot*Ot+Vt*Vt+ue*ue}function K(Q){var bt=Q[0],Ot=Q[1],Vt=Q[2];return bt*bt+Ot*Ot+Vt*Vt}function wt(Q,bt){return Q[0]=-bt[0],Q[1]=-bt[1],Q[2]=-bt[2],Q}function ot(Q,bt){return Q[0]=1/bt[0],Q[1]=1/bt[1],Q[2]=1/bt[2],Q}function vt(Q,bt){var Ot=bt[0],Vt=bt[1],ue=bt[2],Se=Ot*Ot+Vt*Vt+ue*ue;return Se>0&&(Se=1/Math.sqrt(Se),Q[0]=bt[0]*Se,Q[1]=bt[1]*Se,Q[2]=bt[2]*Se),Q}function et(Q,bt){return Q[0]*bt[0]+Q[1]*bt[1]+Q[2]*bt[2]}function lt(Q,bt,Ot){var Vt=bt[0],ue=bt[1],Se=bt[2],Re=Ot[0],We=Ot[1],mr=Ot[2];return Q[0]=ue*mr-Se*We,Q[1]=Se*Re-Vt*mr,Q[2]=Vt*We-ue*Re,Q}function dt(Q,bt,Ot,Vt){var ue=bt[0],Se=bt[1],Re=bt[2];return Q[0]=ue+Vt*(Ot[0]-ue),Q[1]=Se+Vt*(Ot[1]-Se),Q[2]=Re+Vt*(Ot[2]-Re),Q}function it(Q,bt,Ot,Vt,ue,Se){var Re=Se*Se,We=Re*(2*Se-3)+1,mr=Re*(Se-2)+Se,wr=Re*(Se-1),br=Re*(3-2*Se);return Q[0]=bt[0]*We+Ot[0]*mr+Vt[0]*wr+ue[0]*br,Q[1]=bt[1]*We+Ot[1]*mr+Vt[1]*wr+ue[1]*br,Q[2]=bt[2]*We+Ot[2]*mr+Vt[2]*wr+ue[2]*br,Q}function At(Q,bt,Ot,Vt,ue,Se){var Re=1-Se,We=Re*Re,mr=Se*Se,wr=We*Re,br=3*Se*We,zr=3*mr*Re,pr=mr*Se;return Q[0]=bt[0]*wr+Ot[0]*br+Vt[0]*zr+ue[0]*pr,Q[1]=bt[1]*wr+Ot[1]*br+Vt[1]*zr+ue[1]*pr,Q[2]=bt[2]*wr+Ot[2]*br+Vt[2]*zr+ue[2]*pr,Q}function mt(Q,bt){bt=bt||1;var Ot=I.RANDOM()*2*Math.PI,Vt=I.RANDOM()*2-1,ue=Math.sqrt(1-Vt*Vt)*bt;return Q[0]=Math.cos(Ot)*ue,Q[1]=Math.sin(Ot)*ue,Q[2]=Vt*bt,Q}function U(Q,bt,Ot){var Vt=bt[0],ue=bt[1],Se=bt[2],Re=Ot[3]*Vt+Ot[7]*ue+Ot[11]*Se+Ot[15];return Re=Re||1,Q[0]=(Ot[0]*Vt+Ot[4]*ue+Ot[8]*Se+Ot[12])/Re,Q[1]=(Ot[1]*Vt+Ot[5]*ue+Ot[9]*Se+Ot[13])/Re,Q[2]=(Ot[2]*Vt+Ot[6]*ue+Ot[10]*Se+Ot[14])/Re,Q}function V(Q,bt,Ot){var Vt=bt[0],ue=bt[1],Se=bt[2];return Q[0]=Vt*Ot[0]+ue*Ot[3]+Se*Ot[6],Q[1]=Vt*Ot[1]+ue*Ot[4]+Se*Ot[7],Q[2]=Vt*Ot[2]+ue*Ot[5]+Se*Ot[8],Q}function B(Q,bt,Ot){var Vt=Ot[0],ue=Ot[1],Se=Ot[2],Re=Ot[3],We=bt[0],mr=bt[1],wr=bt[2],br=ue*wr-Se*mr,zr=Se*We-Vt*wr,pr=Vt*mr-ue*We,an=ue*pr-Se*zr,Tn=Se*br-Vt*pr,rn=Vt*zr-ue*br,Mn=Re*2;return br*=Mn,zr*=Mn,pr*=Mn,an*=2,Tn*=2,rn*=2,Q[0]=We+br+an,Q[1]=mr+zr+Tn,Q[2]=wr+pr+rn,Q}function f(Q,bt,Ot,Vt){var ue=[],Se=[];return ue[0]=bt[0]-Ot[0],ue[1]=bt[1]-Ot[1],ue[2]=bt[2]-Ot[2],Se[0]=ue[0],Se[1]=ue[1]*Math.cos(Vt)-ue[2]*Math.sin(Vt),Se[2]=ue[1]*Math.sin(Vt)+ue[2]*Math.cos(Vt),Q[0]=Se[0]+Ot[0],Q[1]=Se[1]+Ot[1],Q[2]=Se[2]+Ot[2],Q}function yt(Q,bt,Ot,Vt){var ue=[],Se=[];return ue[0]=bt[0]-Ot[0],ue[1]=bt[1]-Ot[1],ue[2]=bt[2]-Ot[2],Se[0]=ue[2]*Math.sin(Vt)+ue[0]*Math.cos(Vt),Se[1]=ue[1],Se[2]=ue[2]*Math.cos(Vt)-ue[0]*Math.sin(Vt),Q[0]=Se[0]+Ot[0],Q[1]=Se[1]+Ot[1],Q[2]=Se[2]+Ot[2],Q}function St(Q,bt,Ot,Vt){var ue=[],Se=[];return ue[0]=bt[0]-Ot[0],ue[1]=bt[1]-Ot[1],ue[2]=bt[2]-Ot[2],Se[0]=ue[0]*Math.cos(Vt)-ue[1]*Math.sin(Vt),Se[1]=ue[0]*Math.sin(Vt)+ue[1]*Math.cos(Vt),Se[2]=ue[2],Q[0]=Se[0]+Ot[0],Q[1]=Se[1]+Ot[1],Q[2]=Se[2]+Ot[2],Q}function Rt(Q,bt){var Ot=M(Q[0],Q[1],Q[2]),Vt=M(bt[0],bt[1],bt[2]);vt(Ot,Ot),vt(Vt,Vt);var ue=et(Ot,Vt);return ue>1?0:ue<-1?Math.PI:Math.acos(ue)}function Qt(Q){return"vec3("+Q[0]+", "+Q[1]+", "+Q[2]+")"}function zt(Q,bt){return Q[0]===bt[0]&&Q[1]===bt[1]&&Q[2]===bt[2]}function $t(Q,bt){var Ot=Q[0],Vt=Q[1],ue=Q[2],Se=bt[0],Re=bt[1],We=bt[2];return Math.abs(Ot-Se)<=I.EPSILON*Math.max(1,Math.abs(Ot),Math.abs(Se))&&Math.abs(Vt-Re)<=I.EPSILON*Math.max(1,Math.abs(Vt),Math.abs(Re))&&Math.abs(ue-We)<=I.EPSILON*Math.max(1,Math.abs(ue),Math.abs(We))}var ne=S.sub=y,ae=S.mul=b,Wt=S.div=x,It=S.dist=j,Ct=S.sqrDist=tt,ht=S.len=T,Et=S.sqrLen=K,at=S.forEach=function(){var Q=L();return function(bt,Ot,Vt,ue,Se,Re){var We=void 0,mr=void 0;for(Ot||(Ot=3),Vt||(Vt=0),ue?mr=Math.min(ue*Ot+Vt,bt.length):mr=bt.length,We=Vt;We<mr;We+=Ot)Q[0]=bt[We],Q[1]=bt[We+1],Q[2]=bt[We+2],Se(Q,Q,Re),bt[We]=Q[0],bt[We+1]=Q[1],bt[We+2]=Q[2];return bt}}()},92640:function(ct,S,d){function m(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var I=d(4905),k=d(90390),L=d(30130),P=d(22965),T=function(p){m(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var x=this;return L(x.rootNode,x.options,k)},w}(I),M={};function A(p,w){return w=P.assign({},M,w),new T(p,w).execute()}ct.exports=A},34542:function(ct,S,d){function m(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var I=d(4905),k=d(37133),L=d(30130),P=d(22965),T=function(p){m(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var x=this;return x.rootNode.width=0,L(x.rootNode,x.options,k)},w}(I),M={};function A(p,w){return w=P.assign({},M,w),new T(p,w).execute()}ct.exports=A},57088:function(ct,S,d){function m(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y.__proto__=b}var I=d(4905),k=d(10568),L=d(59286),P=d(22965),T=["LR","RL","H"],M=T[0],A=function(y){m(b,y);function b(){return y.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var O=this,D=O.options,N=O.rootNode;D.isHorizontal=!0;var z=D.indent,W=z===void 0?20:z,X=D.dropCap,j=X===void 0?!0:X,tt=D.direction||M;if(tt&&T.indexOf(tt)===-1)throw new TypeError("Invalid direction: "+tt);if(tt===T[0])k(N,W,j);else if(tt===T[1])k(N,W,j),N.right2left();else if(tt===T[2]){var K=L(N,D),wt=K.left,ot=K.right;k(wt,W,j),wt.right2left(),k(ot,W,j);var vt=wt.getBoundingBox();ot.translate(vt.width,0),N.x=ot.x-N.width/2}return N},b}(I),p={};function w(y,b){return b=P.assign({},p,b),new A(y,b).execute()}ct.exports=w},77201:function(ct,S,d){var m={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};ct.exports=m},4905:function(ct,S,d){var m=d(27249),I=function(){function k(P,T){T===void 0&&(T={});var M=this;M.options=T,M.rootNode=m(P,T)}var L=k.prototype;return L.execute=function(){throw new Error("please override this method")},k}();ct.exports=I},37133:function(ct,S,d){var m=d(22965);function I(P,T){P===void 0&&(P=0),T===void 0&&(T=[]);var M=this;M.x=M.y=0,M.leftChild=M.rightChild=null,M.height=0,M.children=T}var k={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,T,M){M?(T.x=P.x,T.y=P.y):(T.x=P.y,T.y=P.x),P.children.forEach(function(A,p){L(A,T.children[p],M)})}ct.exports=function(P,T){T===void 0&&(T={}),T=m.assign({},k,T);var M=0;function A(x){if(!x)return null;x.width=0,x.depth&&x.depth>M&&(M=x.depth);var E=x.children,O=E.length,D=new I(x.height,[]);return E.forEach(function(N,z){var W=A(N);D.children.push(W),z===0&&(D.leftChild=W),z===O-1&&(D.rightChild=W)}),D.originNode=x,D.isLeaf=x.isLeaf(),D}function p(x){if(x.isLeaf||x.children.length===0)x.drawingDepth=M;else{var E=x.children.map(function(D){return p(D)}),O=Math.min.apply(null,E);x.drawingDepth=O-1}return x.drawingDepth}var w;function y(x){x.x=x.drawingDepth*T.rankSep,x.isLeaf?(x.y=0,w&&(x.y=w.y+w.height+T.nodeSep,x.originNode.parent!==w.originNode.parent&&(x.y+=T.subTreeSep)),w=x):(x.children.forEach(function(E){y(E)}),x.y=(x.leftChild.y+x.rightChild.y)/2)}var b=A(P);return p(b),y(b),L(b,P,T.isHorizontal),P}},30130:function(ct,S,d){var m=d(59286),I=["LR","RL","TB","BT","H","V"],k=["LR","RL","H"],L=function(M){return k.indexOf(M)>-1},P=I[0];ct.exports=function(T,M,A){var p=M.direction||P;if(M.isHorizontal=L(p),p&&I.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===I[0])A(T,M);else if(p===I[1])A(T,M),T.right2left();else if(p===I[2])A(T,M);else if(p===I[3])A(T,M),T.bottom2top();else if(p===I[4]||p===I[5]){var w=m(T,M),y=w.left,b=w.right;A(y,M),A(b,M),M.isHorizontal?y.right2left():y.bottom2top(),b.translate(y.x-b.x,y.y-b.y),T.x=y.x,T.y=b.y;var x=T.getBoundingBox();M.isHorizontal?x.top<0&&T.translate(0,-x.top):x.left<0&&T.translate(-x.left,0)}var E=M.fixedRoot;return E===void 0&&(E=!0),E&&T.translate(-(T.x+T.width/2+T.hgap),-(T.y+T.height/2+T.vgap)),T}},27249:function(ct,S,d){var m=d(22965),I=18,k=I*2,L=I,P={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||L},getVGap:function(p){return p.vgap||L},getChildren:function(p){return p.children},getHeight:function(p){return p.height||k},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*I}};function T(A,p){var w=this;if(w.vgap=w.hgap=0,A instanceof T)return A;w.data=A;var y=p.getHGap(A),b=p.getVGap(A);return w.preH=p.getPreH(A),w.preV=p.getPreV(A),w.width=p.getWidth(A),w.height=p.getHeight(A),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(A),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(y,b),w}m.assign(T.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var y=this;y.hgap+=p,y.vgap+=w,y.width+=2*p,y.height+=2*w},eachNode:function(p){for(var w=this,y=[w],b;b=y.shift();)p(b),y=b.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,y=[w],b;b=y.shift();)p(b),y=y.concat(b.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(y){y.x+=p,y.y+=w,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-w.left)*2-y.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-w.top)*2-y.height}),p.translate(0,w.height)}});function M(A,p,w){p===void 0&&(p={}),p=m.assign({},P,p);var y=new T(A,p),b=[y],x;if(!w&&!A.collapsed){for(;x=b.shift();)if(!x.data.collapsed){var E=p.getChildren(x.data),O=E?E.length:0;if(x.children=new Array(O),E&&O)for(var D=0;D<O;D++){var N=new T(E[D],p);x.children[D]=N,b.push(N),N.parent=x,N.depth=x.depth+1}}}return y}ct.exports=M},10568:function(ct){function S(d,m,I,k){var L=typeof I=="function"?I(d):I*d.depth;if(!k)try{if(d.id===d.parent.children[0].id){d.x+=L,d.y=m?m.y:0;return}}catch(P){}d.x+=L,d.y=m?m.y+m.height:0}ct.exports=function(d,m,I){var k=null;d.eachNode(function(L){S(L,k,m,I),k=L})}},24461:function(ct,S,d){var m=d(22965);function I(P,T){var M=0;return P.children.length?P.children.forEach(function(A){M+=I(A,T)}):M=P.height,P._subTreeSep=T.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,M)+2*P._subTreeSep,P.totalHeight}function k(P){var T=P.children,M=T.length;if(M){T.forEach(function(x){k(x)});var A=T[0],p=T[M-1],w=p.y-A.y+p.height,y=0;if(T.forEach(function(x){y+=x.totalHeight}),w>P.height)P.y=A.y+w/2-P.height/2;else if(T.length!==1||P.height>y){var b=P.y+(P.height-w)/2-A.y;T.forEach(function(x){x.translate(0,b)})}else P.y=(A.y+A.height/2+p.y+p.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};ct.exports=function(P,T){T===void 0&&(T={}),T=m.assign({},L,T),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(M){M.x=M.parent.x+M.parent.width}),P.parent=null,I(P,T),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(M){var A=M.children,p=A.length;if(p){var w=A[0];if(w.startY=M.startY+M._subTreeSep,p===1)w.y=M.y+M.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var y=1;y<p;y++){var b=A[y];b.startY=A[y-1].startY+A[y-1].totalHeight,b.y=b.startY+b.totalHeight/2-b.height/2}}}}),k(P)}},90390:function(ct){function S(P,T,M,A){A===void 0&&(A=[]);var p=this;p.w=P||0,p.h=T||0,p.y=M||0,p.x=0,p.c=A||[],p.cs=A.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(P,T){if(!P)return null;var M=[];return P.children.forEach(function(A){M.push(S.fromNode(A,T))}),T?new S(P.height,P.width,P.x,M):new S(P.width,P.height,P.y,M)};function d(P,T,M){M?P.y+=T:P.x+=T,P.children.forEach(function(A){d(A,T,M)})}function m(P,T){var M=T?P.y:P.x;return P.children.forEach(function(A){M=Math.min(m(A,T),M)}),M}function I(P,T){var M=m(P,T);d(P,-M,T)}function k(P,T,M){M?T.y=P.x:T.x=P.x,P.c.forEach(function(A,p){k(A,T.children[p],M)})}function L(P,T,M){M===void 0&&(M=0),T?(P.x=M,M+=P.width):(P.y=M,M+=P.height),P.children.forEach(function(A){L(A,T,M)})}ct.exports=function(P,T){T===void 0&&(T={});var M=T.isHorizontal;function A(K){if(K.cs===0){p(K);return}A(K.c[0]);for(var wt=j(E(K.c[0].el),0,null),ot=1;ot<K.cs;++ot){A(K.c[ot]);var vt=E(K.c[ot].er);w(K,ot,wt),wt=j(vt,ot,wt)}N(K),p(K)}function p(K){K.cs===0?(K.el=K,K.er=K,K.msel=K.mser=0):(K.el=K.c[0].el,K.msel=K.c[0].msel,K.er=K.c[K.cs-1].er,K.mser=K.c[K.cs-1].mser)}function w(K,wt,ot){for(var vt=K.c[wt-1],et=vt.mod,lt=K.c[wt],dt=lt.mod;vt!==null&&lt!==null;){E(vt)>ot.low&&(ot=ot.nxt);var it=et+vt.prelim+vt.w-(dt+lt.prelim);it>0&&(dt+=it,y(K,wt,ot.index,it));var At=E(vt),mt=E(lt);At<=mt&&(vt=x(vt),vt!==null&&(et+=vt.mod)),At>=mt&&(lt=b(lt),lt!==null&&(dt+=lt.mod))}!vt&&!!lt?O(K,wt,lt,dt):!!vt&&!lt&&D(K,wt,vt,et)}function y(K,wt,ot,vt){K.c[wt].mod+=vt,K.c[wt].msel+=vt,K.c[wt].mser+=vt,W(K,wt,ot,vt)}function b(K){return K.cs===0?K.tl:K.c[0]}function x(K){return K.cs===0?K.tr:K.c[K.cs-1]}function E(K){return K.y+K.h}function O(K,wt,ot,vt){var et=K.c[0].el;et.tl=ot;var lt=vt-ot.mod-K.c[0].msel;et.mod+=lt,et.prelim-=lt,K.c[0].el=K.c[wt].el,K.c[0].msel=K.c[wt].msel}function D(K,wt,ot,vt){var et=K.c[wt].er;et.tr=ot;var lt=vt-ot.mod-K.c[wt].mser;et.mod+=lt,et.prelim-=lt,K.c[wt].er=K.c[wt-1].er,K.c[wt].mser=K.c[wt-1].mser}function N(K){K.prelim=(K.c[0].prelim+K.c[0].mod+K.c[K.cs-1].mod+K.c[K.cs-1].prelim+K.c[K.cs-1].w)/2-K.w/2}function z(K,wt){wt+=K.mod,K.x=K.prelim+wt,X(K);for(var ot=0;ot<K.cs;ot++)z(K.c[ot],wt)}function W(K,wt,ot,vt){if(ot!==wt-1){var et=wt-ot;K.c[ot+1].shift+=vt/et,K.c[wt].shift-=vt/et,K.c[wt].change-=vt-vt/et}}function X(K){for(var wt=0,ot=0,vt=0;vt<K.cs;vt++)wt+=K.c[vt].shift,ot+=wt+K.c[vt].change,K.c[vt].mod+=ot}function j(K,wt,ot){for(;ot!==null&&K>=ot.low;)ot=ot.nxt;return{low:K,index:wt,nxt:ot}}L(P,M);var tt=S.fromNode(P,M);return A(tt),z(tt,0),k(tt,P,M),I(P,M),P}},59286:function(ct,S,d){var m=d(27249);ct.exports=function(I,k){for(var L=m(I.data,k,!0),P=m(I.data,k,!0),T=I.children.length,M=Math.round(T/2),A=k.getSide||function(b,x){return x<M?"right":"left"},p=0;p<T;p++){var w=I.children[p],y=A(w,p);y==="right"?P.children.push(w):L.children.push(w)}return L.eachNode(function(b){b.isRoot()||(b.side="left")}),P.eachNode(function(b){b.isRoot()||(b.side="right")}),{left:L,right:P}}},1355:function(ct,S,d){function m(p,w){p.prototype=Object.create(w.prototype),p.prototype.constructor=p,p.__proto__=w}var I=d(4905),k=d(24461),L=d(30130),P=d(22965),T=function(p){m(w,p);function w(){return p.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var x=this;return L(x.rootNode,x.options,k)},w}(I),M={};function A(p,w){return w=P.assign({},M,w),new T(p,w).execute()}ct.exports=A},22965:function(ct,S,d){var m=d(49242),I=m.mix;ct.exports={assign:I}},31506:function(ct,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return k},leftRotate:function(){return L},leftScale:function(){return P},transform:function(){return M},direction:function(){return A},angleTo:function(){return p},vertical:function(){return w}});var m=d(35600),I=d(31437);function k(y,b,x){var E=[0,0,0,0,0,0,0,0,0];return m.fromTranslation(E,x),m.multiply(y,E,b)}function L(y,b,x){var E=[0,0,0,0,0,0,0,0,0];return m.fromRotation(E,x),m.multiply(y,E,b)}function P(y,b,x){var E=[0,0,0,0,0,0,0,0,0];return m.fromScaling(E,x),m.multiply(y,E,b)}function T(y,b,x){return m.multiply(y,x,b)}function M(y,b){for(var x=y?[].concat(y):[1,0,0,0,1,0,0,0,1],E=0,O=b.length;E<O;E++){var D=b[E];switch(D[0]){case"t":k(x,x,[D[1],D[2]]);break;case"s":P(x,x,[D[1],D[2]]);break;case"r":L(x,x,D[1]);break;case"m":T(x,x,D[1]);break;default:break}}return x}function A(y,b){return y[0]*b[1]-b[0]*y[1]}function p(y,b,x){var E=I.angle(y,b),O=A(y,b)>=0;return x?O?Math.PI*2-E:E:O?E:Math.PI*2-E}function w(y,b,x){return x?(y[0]=b[1],y[1]=-1*b[0]):(y[0]=-1*b[1],y[1]=b[0]),y}},43567:function(ct,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return m},vec2:function(){return I},vec3:function(){return k},ext:function(){return L}});var m=d(35600),I=d(31437),k=d(77160),L=d(31506)},57350:function(ct,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return x},fillPathByDiff:function(){return D},formatPath:function(){return W},getArcParams:function(){return We},getLineIntersect:function(){return zr},isPointInPolygon:function(){return rn},isPolygonsIntersect:function(){return Vi},parsePath:function(){return P},parsePathArray:function(){return Ot},parsePathString:function(){return wt},path2Absolute:function(){return et},path2Curve:function(){return St},path2Segments:function(){return wr},pathIntersection:function(){return Q},reactPath:function(){return X}});var m=d(49242),I=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function L(Xt){var Kt=Xt||[];if((0,m.isArray)(Kt))return Kt;if((0,m.isString)(Kt))return Kt=Kt.match(I),(0,m.each)(Kt,function(oe,he){if(oe=oe.match(k),oe[0].length>1){var be=oe[0].charAt(0);oe.splice(1,0,oe[0].substr(1)),oe[0]=be}(0,m.each)(oe,function(Ee,Pe){isNaN(Ee)||(oe[Pe]=+Ee)}),Kt[he]=oe}),Kt}var P=L,T=d(31437);function M(Xt,Kt,oe,he){var be=[],Ee=!!he,Pe,Oe,me,rr,Xe,fr,Pr;if(Ee){me=he[0],rr=he[1];for(var vr=0,Er=Xt.length;vr<Er;vr+=1){var xr=Xt[vr];me=T.min([0,0],me,xr),rr=T.max([0,0],rr,xr)}}for(var vr=0,Br=Xt.length;vr<Br;vr+=1){var xr=Xt[vr];if(vr===0&&!oe)Pr=xr;else if(vr===Br-1&&!oe)fr=xr,be.push(Pr),be.push(fr);else{var ur=[vr?vr-1:Br-1,vr-1][oe?0:1];Pe=Xt[ur],Oe=Xt[oe?(vr+1)%Br:vr+1];var Yr=[0,0];Yr=T.sub(Yr,Oe,Pe),Yr=T.scale(Yr,Yr,Kt);var Jr=T.distance(xr,Pe),jr=T.distance(xr,Oe),Qr=Jr+jr;Qr!==0&&(Jr/=Qr,jr/=Qr);var jt=T.scale([0,0],Yr,-Jr),Zt=T.scale([0,0],Yr,jr);fr=T.add([0,0],xr,jt),Xe=T.add([0,0],xr,Zt),Xe=T.min([0,0],Xe,T.max([0,0],Oe,xr)),Xe=T.max([0,0],Xe,T.min([0,0],Oe,xr)),jt=T.sub([0,0],Xe,xr),jt=T.scale([0,0],jt,-Jr/jr),fr=T.add([0,0],xr,jt),fr=T.min([0,0],fr,T.max([0,0],Pe,xr)),fr=T.max([0,0],fr,T.min([0,0],Pe,xr)),Zt=T.sub([0,0],xr,fr),Zt=T.scale([0,0],Zt,jr/Jr),Xe=T.add([0,0],xr,Zt),Ee&&(fr=T.max([0,0],fr,me),fr=T.min([0,0],fr,rr),Xe=T.max([0,0],Xe,me),Xe=T.min([0,0],Xe,rr)),be.push(Pr),be.push(fr),Pr=Xe}}return oe&&be.push(be.shift()),be}function A(Xt,Kt,oe){Kt===void 0&&(Kt=!1),oe===void 0&&(oe=[[0,0],[1,1]]);for(var he=!!Kt,be=[],Ee=0,Pe=Xt.length;Ee<Pe;Ee+=2)be.push([Xt[Ee],Xt[Ee+1]]);for(var Oe=M(be,.4,he,oe),me=be.length,rr=[],Xe,fr,Pr,Ee=0;Ee<me-1;Ee+=1)Xe=Oe[Ee*2],fr=Oe[Ee*2+1],Pr=be[Ee+1],rr.push(["C",Xe[0],Xe[1],fr[0],fr[1],Pr[0],Pr[1]]);return he&&(Xe=Oe[me],fr=Oe[me+1],Pr=be[0],rr.push(["C",Xe[0],Xe[1],fr[0],fr[1],Pr[0],Pr[1]])),rr}var p=A;function w(Xt,Kt){var oe=[],he=[];function be(Ee,Pe){if(Ee.length===1)oe.push(Ee[0]),he.push(Ee[0]);else{for(var Oe=[],me=0;me<Ee.length-1;me++)me===0&&oe.push(Ee[0]),me===Ee.length-2&&he.push(Ee[me+1]),Oe[me]=[(1-Pe)*Ee[me][0]+Pe*Ee[me+1][0],(1-Pe)*Ee[me][1]+Pe*Ee[me+1][1]];be(Oe,Pe)}}return Xt.length&&be(Xt,Kt),{left:oe,right:he.reverse()}}function y(Xt,Kt,oe){var he=[[Xt[1],Xt[2]]];oe=oe||2;var be=[];Kt[0]==="A"?(he.push(Kt[6]),he.push(Kt[7])):Kt[0]==="C"?(he.push([Kt[1],Kt[2]]),he.push([Kt[3],Kt[4]]),he.push([Kt[5],Kt[6]])):Kt[0]==="S"||Kt[0]==="Q"?(he.push([Kt[1],Kt[2]]),he.push([Kt[3],Kt[4]])):he.push([Kt[1],Kt[2]]);for(var Ee=he,Pe=1/oe,Oe=0;Oe<oe-1;Oe++){var me=Pe/(1-Pe*Oe),rr=w(Ee,me);be.push(rr.left),Ee=rr.right}be.push(Ee);var Xe=be.map(function(fr){var Pr=[];return fr.length===4&&(Pr.push("C"),Pr=Pr.concat(fr[2])),fr.length>=3&&(fr.length===3&&Pr.push("Q"),Pr=Pr.concat(fr[1])),fr.length===2&&Pr.push("L"),Pr=Pr.concat(fr[fr.length-1]),Pr});return Xe}function b(Xt,Kt,oe){if(oe===1)return[[].concat(Xt)];var he=[];if(Kt[0]==="L"||Kt[0]==="C"||Kt[0]==="Q")he=he.concat(y(Xt,Kt,oe));else{var be=[].concat(Xt);be[0]==="M"&&(be[0]="L");for(var Ee=0;Ee<=oe-1;Ee++)he.push(be)}return he}function x(Xt,Kt){if(Xt.length===1)return Xt;var oe=Xt.length-1,he=Kt.length-1,be=oe/he,Ee=[];if(Xt.length===1&&Xt[0][0]==="M"){for(var Pe=0;Pe<he-oe;Pe++)Xt.push(Xt[0]);return Xt}for(var Pe=0;Pe<he;Pe++){var Oe=Math.floor(be*Pe);Ee[Oe]=(Ee[Oe]||0)+1}var me=Ee.reduce(function(rr,Xe,fr){return fr===oe?rr.concat(Xt[oe]):rr.concat(b(Xt[fr],Xt[fr+1],Xe))},[]);return me.unshift(Xt[0]),(Kt[he]==="Z"||Kt[he]==="z")&&me.push("Z"),me}function E(Xt,Kt,oe){var he=null,be=oe;return Kt<be&&(be=Kt,he="add"),Xt<be&&(be=Xt,he="del"),{type:he,min:be}}var O=function(Xt,Kt){var oe=Xt.length,he=Kt.length,be,Ee,Pe=0;if(oe===0||he===0)return null;for(var Oe=[],me=0;me<=oe;me++)Oe[me]=[],Oe[me][0]={min:me};for(var rr=0;rr<=he;rr++)Oe[0][rr]={min:rr};for(var me=1;me<=oe;me++){be=Xt[me-1];for(var rr=1;rr<=he;rr++){Ee=Kt[rr-1],(0,m.isEqual)(be,Ee)?Pe=0:Pe=1;var Xe=Oe[me-1][rr].min+1,fr=Oe[me][rr-1].min+1,Pr=Oe[me-1][rr-1].min+Pe;Oe[me][rr]=E(Xe,fr,Pr)}}return Oe};function D(Xt,Kt){var oe=O(Xt,Kt),he=Xt.length,be=Kt.length,Ee=[],Pe=1,Oe=1;if(oe[he][be]!==he){for(var me=1;me<=he;me++){var rr=oe[me][me].min;Oe=me;for(var Xe=Pe;Xe<=be;Xe++)oe[me][Xe].min<rr&&(rr=oe[me][Xe].min,Oe=Xe);Pe=Oe,oe[me][Pe].type&&Ee.push({index:me-1,type:oe[me][Pe].type})}for(var me=Ee.length-1;me>=0;me--)Pe=Ee[me].index,Ee[me].type==="add"?Xt.splice(Pe,0,[].concat(Xt[Pe])):Xt.splice(Pe,1)}if(he=Xt.length,he<be)for(var me=0;me<be-he;me++)Xt[he-1][0]==="z"||Xt[he-1][0]==="Z"?Xt.splice(he-2,0,Xt[he-2]):Xt.push(Xt[he-1]);return Xt}function N(Xt){var Kt=[];switch(Xt[0]){case"M":Kt.push([Xt[1],Xt[2]]);break;case"L":Kt.push([Xt[1],Xt[2]]);break;case"A":Kt.push([Xt[6],Xt[7]]);break;case"Q":Kt.push([Xt[3],Xt[4]]),Kt.push([Xt[1],Xt[2]]);break;case"T":Kt.push([Xt[1],Xt[2]]);break;case"C":Kt.push([Xt[5],Xt[6]]),Kt.push([Xt[1],Xt[2]]),Kt.push([Xt[3],Xt[4]]);break;case"S":Kt.push([Xt[3],Xt[4]]),Kt.push([Xt[1],Xt[2]]);break;case"H":Kt.push([Xt[1],Xt[1]]);break;case"V":Kt.push([Xt[1],Xt[1]]);break;default:}return Kt}function z(Xt,Kt,oe){for(var he=[].concat(Xt),be,Ee=1/(oe+1),Pe=N(Kt)[0],Oe=1;Oe<=oe;Oe++)Ee*=Oe,be=Math.floor(Xt.length*Ee),be===0?he.unshift([Pe[0]*Ee+Xt[be][0]*(1-Ee),Pe[1]*Ee+Xt[be][1]*(1-Ee)]):he.splice(be,0,[Pe[0]*Ee+Xt[be][0]*(1-Ee),Pe[1]*Ee+Xt[be][1]*(1-Ee)]);return he}function W(Xt,Kt){if(Xt.length<=1)return Xt;for(var oe,he=0;he<Kt.length;he++)if(Xt[he][0]!==Kt[he][0])switch(oe=N(Xt[he]),Kt[he][0]){case"M":Xt[he]=["M"].concat(oe[0]);break;case"L":Xt[he]=["L"].concat(oe[0]);break;case"A":Xt[he]=[].concat(Kt[he]),Xt[he][6]=oe[0][0],Xt[he][7]=oe[0][1];break;case"Q":if(oe.length<2)if(he>0)oe=z(oe,Xt[he-1],1);else{Xt[he]=Kt[he];break}Xt[he]=["Q"].concat(oe.reduce(function(be,Ee){return be.concat(Ee)},[]));break;case"T":Xt[he]=["T"].concat(oe[0]);break;case"C":if(oe.length<3)if(he>0)oe=z(oe,Xt[he-1],2);else{Xt[he]=Kt[he];break}Xt[he]=["C"].concat(oe.reduce(function(be,Ee){return be.concat(Ee)},[]));break;case"S":if(oe.length<2)if(he>0)oe=z(oe,Xt[he-1],1);else{Xt[he]=Kt[he];break}Xt[he]=["S"].concat(oe.reduce(function(be,Ee){return be.concat(Ee)},[]));break;default:Xt[he]=Kt[he]}return Xt}function X(Xt,Kt,oe,he,be){return be?[["M",+Xt+ +be,Kt],["l",oe-be*2,0],["a",be,be,0,0,1,be,be],["l",0,he-be*2],["a",be,be,0,0,1,-be,be],["l",be*2-oe,0],["a",be,be,0,0,1,-be,-be],["l",0,be*2-he],["a",be,be,0,0,1,be,-be],["z"]]:[["M",Xt,Kt],["l",oe,0],["l",0,he],["l",-oe,0],["z"]]}var j=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,tt=new RegExp("([a-z])["+j+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+j+"]*,?["+j+"]*)+)","ig"),K=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+j+"]*,?["+j+"]*","ig");function wt(Xt){if(!Xt)return null;if((0,m.isArray)(Xt))return Xt;var Kt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},oe=[];return String(Xt).replace(tt,function(he,be,Ee){var Pe=[],Oe=be.toLowerCase();if(Ee.replace(K,function(me,rr){rr&&Pe.push(+rr)}),Oe==="m"&&Pe.length>2&&(oe.push([be].concat(Pe.splice(0,2))),Oe="l",be=be==="m"?"l":"L"),Oe==="o"&&Pe.length===1&&oe.push([be,Pe[0]]),Oe==="r")oe.push([be].concat(Pe));else for(;Pe.length>=Kt[Oe]&&(oe.push([be].concat(Pe.splice(0,Kt[Oe]))),!!Kt[Oe]););return""}),oe}var ot=/[a-z]/;function vt(Xt,Kt){return[Kt[0]+(Kt[0]-Xt[0]),Kt[1]+(Kt[1]-Xt[1])]}function et(Xt){var Kt=wt(Xt);if(!Kt||!Kt.length)return[["M",0,0]];for(var oe=!1,he=0;he<Kt.length;he++){var be=Kt[he][0];if(ot.test(be)||["V","H","T","S"].indexOf(be)>=0){oe=!0;break}}if(!oe)return Kt;var Ee=[],Pe=0,Oe=0,me=0,rr=0,Xe=0,fr,Pr,vr=Kt[0];(vr[0]==="M"||vr[0]==="m")&&(Pe=+vr[1],Oe=+vr[2],me=Pe,rr=Oe,Xe++,Ee[0]=["M",Pe,Oe]);for(var he=Xe,Er=Kt.length;he<Er;he++){var xr=Kt[he],Br=Ee[he-1],ur=[],be=xr[0],Yr=be.toUpperCase();if(be!==Yr)switch(ur[0]=Yr,Yr){case"A":ur[1]=xr[1],ur[2]=xr[2],ur[3]=xr[3],ur[4]=xr[4],ur[5]=xr[5],ur[6]=+xr[6]+Pe,ur[7]=+xr[7]+Oe;break;case"V":ur[1]=+xr[1]+Oe;break;case"H":ur[1]=+xr[1]+Pe;break;case"M":me=+xr[1]+Pe,rr=+xr[2]+Oe,ur[1]=me,ur[2]=rr;break;default:for(var Jr=1,jr=xr.length;Jr<jr;Jr++)ur[Jr]=+xr[Jr]+(Jr%2?Pe:Oe)}else ur=Kt[he];switch(Yr){case"Z":Pe=+me,Oe=+rr;break;case"H":Pe=ur[1],ur=["L",Pe,Oe];break;case"V":Oe=ur[1],ur=["L",Pe,Oe];break;case"T":Pe=ur[1],Oe=ur[2];var Qr=vt([Br[1],Br[2]],[Br[3],Br[4]]);ur=["Q",Qr[0],Qr[1],Pe,Oe];break;case"S":Pe=ur[ur.length-2],Oe=ur[ur.length-1];var jt=Br.length,Zt=vt([Br[jt-4],Br[jt-3]],[Br[jt-2],Br[jt-1]]);ur=["C",Zt[0],Zt[1],ur[1],ur[2],Pe,Oe];break;case"M":me=ur[ur.length-2],rr=ur[ur.length-1];break;default:Pe=ur[ur.length-2],Oe=ur[ur.length-1]}Ee.push(ur)}return Ee}var lt=Math.PI*2,dt=function(Xt,Kt,oe,he,be,Ee,Pe){var Oe=Xt.x,me=Xt.y;Oe*=Kt,me*=oe;var rr=he*Oe-be*me,Xe=be*Oe+he*me;return{x:rr+Ee,y:Xe+Pe}},it=function(Xt,Kt){var oe=Kt===1.5707963267948966?.551915024494:Kt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Kt/4),he=Math.cos(Xt),be=Math.sin(Xt),Ee=Math.cos(Xt+Kt),Pe=Math.sin(Xt+Kt);return[{x:he-be*oe,y:be+he*oe},{x:Ee+Pe*oe,y:Pe-Ee*oe},{x:Ee,y:Pe}]},At=function(Xt,Kt,oe,he){var be=Xt*he-Kt*oe<0?-1:1,Ee=Xt*oe+Kt*he;return Ee>1&&(Ee=1),Ee<-1&&(Ee=-1),be*Math.acos(Ee)},mt=function(Xt,Kt,oe,he,be,Ee,Pe,Oe,me,rr,Xe,fr){var Pr=Math.pow(be,2),vr=Math.pow(Ee,2),Er=Math.pow(Xe,2),xr=Math.pow(fr,2),Br=Pr*vr-Pr*xr-vr*Er;Br<0&&(Br=0),Br/=Pr*xr+vr*Er,Br=Math.sqrt(Br)*(Pe===Oe?-1:1);var ur=Br*be/Ee*fr,Yr=Br*-Ee/be*Xe,Jr=rr*ur-me*Yr+(Xt+oe)/2,jr=me*ur+rr*Yr+(Kt+he)/2,Qr=(Xe-ur)/be,jt=(fr-Yr)/Ee,Zt=(-Xe-ur)/be,ee=(-fr-Yr)/Ee,ye=At(1,0,Qr,jt),Ce=At(Qr,jt,Zt,ee);return Oe===0&&Ce>0&&(Ce-=lt),Oe===1&&Ce<0&&(Ce+=lt),[Jr,jr,ye,Ce]},U=function(Xt){var Kt=Xt.px,oe=Xt.py,he=Xt.cx,be=Xt.cy,Ee=Xt.rx,Pe=Xt.ry,Oe=Xt.xAxisRotation,me=Oe===void 0?0:Oe,rr=Xt.largeArcFlag,Xe=rr===void 0?0:rr,fr=Xt.sweepFlag,Pr=fr===void 0?0:fr,vr=[];if(Ee===0||Pe===0)return[{x1:0,y1:0,x2:0,y2:0,x:he,y:be}];var Er=Math.sin(me*lt/360),xr=Math.cos(me*lt/360),Br=xr*(Kt-he)/2+Er*(oe-be)/2,ur=-Er*(Kt-he)/2+xr*(oe-be)/2;if(Br===0&&ur===0)return[{x1:0,y1:0,x2:0,y2:0,x:he,y:be}];Ee=Math.abs(Ee),Pe=Math.abs(Pe);var Yr=Math.pow(Br,2)/Math.pow(Ee,2)+Math.pow(ur,2)/Math.pow(Pe,2);Yr>1&&(Ee*=Math.sqrt(Yr),Pe*=Math.sqrt(Yr));var Jr=mt(Kt,oe,he,be,Ee,Pe,Xe,Pr,Er,xr,Br,ur),jr=Jr[0],Qr=Jr[1],jt=Jr[2],Zt=Jr[3],ee=Math.abs(Zt)/(lt/4);Math.abs(1-ee)<1e-7&&(ee=1);var ye=Math.max(Math.ceil(ee),1);Zt/=ye;for(var Ce=0;Ce<ye;Ce++)vr.push(it(jt,Zt)),jt+=Zt;return vr.map(function(Le){var tr=dt(Le[0],Ee,Pe,xr,Er,jr,Qr),sr=tr.x,Gr=tr.y,Ne=dt(Le[1],Ee,Pe,xr,Er,jr,Qr),Lr=Ne.x,bn=Ne.y,On=dt(Le[2],Ee,Pe,xr,Er,jr,Qr),vn=On.x,wn=On.y;return{x1:sr,y1:Gr,x2:Lr,y2:bn,x:vn,y:wn}})};function V(Xt,Kt,oe,he,be,Ee,Pe,Oe,me){var rr=U({px:Xt,py:Kt,cx:Oe,cy:me,rx:oe,ry:he,xAxisRotation:be,largeArcFlag:Ee,sweepFlag:Pe});return rr.reduce(function(Xe,fr){var Pr=fr.x1,vr=fr.y1,Er=fr.x2,xr=fr.y2,Br=fr.x,ur=fr.y;return Xe.push(Pr,vr,Er,xr,Br,ur),Xe},[])}function B(Xt,Kt,oe,he,be,Ee){var Pe=1/3,Oe=2/3;return[Pe*Xt+Oe*oe,Pe*Kt+Oe*he,Pe*be+Oe*oe,Pe*Ee+Oe*he,be,Ee]}function f(Xt,Kt,oe,he){return[Xt,Kt,oe,he,oe,he]}function yt(Xt,Kt){"TQ".indexOf(Xt[0])<0&&(Kt.qx=null,Kt.qy=null);var oe=Xt.slice(1),he=oe[0],be=oe[1];switch(Xt[0]){case"M":return Kt.x=he,Kt.y=be,Xt;case"A":return["C"].concat(V.apply(0,[Kt.x1,Kt.y1].concat(Xt.slice(1))));case"Q":return Kt.qx=he,Kt.qy=be,["C"].concat(B.apply(0,[Kt.x1,Kt.y1].concat(Xt.slice(1))));case"L":return["C"].concat(f(Kt.x1,Kt.y1,Xt[1],Xt[2]));case"H":return["C"].concat(f(Kt.x1,Kt.y1,Xt[1],Kt.y1));case"V":return["C"].concat(f(Kt.x1,Kt.y1,Kt.x1,Xt[1]));case"Z":return["C"].concat(f(Kt.x1,Kt.y1,Kt.x,Kt.y));default:}return Xt}function St(Xt,Kt){Kt===void 0&&(Kt=!1);for(var oe=et(Xt),he={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},be=[],Ee="",Pe=oe.length,Oe,me,rr=[],Xe=0;Xe<Pe;Xe+=1)oe[Xe]&&(Ee=oe[Xe][0]),be[Xe]=Ee,oe[Xe]=yt(oe[Xe],he),Rt(oe,be,Xe),Pe=oe.length,Ee==="Z"&&rr.push(Xe),Oe=oe[Xe],me=Oe.length,he.x1=+Oe[me-2],he.y1=+Oe[me-1],he.x2=+Oe[me-4]||he.x1,he.y2=+Oe[me-3]||he.y1;return Kt?[oe,rr]:oe}function Rt(Xt,Kt,oe){if(Xt[oe].length>7){Xt[oe].shift();for(var he=Xt[oe],be=oe;he.length;)Kt[oe]="A",Xt.splice(be+=1,0,["C"].concat(he.splice(0,6)));Xt.splice(oe,1)}}var Qt=function(Xt,Kt,oe,he,be){var Ee=-3*Kt+9*oe-9*he+3*be,Pe=Xt*Ee+6*Kt-12*oe+6*he;return Xt*Pe-3*Kt+3*oe},zt=function(Xt,Kt,oe,he,be,Ee,Pe,Oe,me){me===null&&(me=1),me=me>1?1:me<0?0:me;for(var rr=me/2,Xe=12,fr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],vr=0,Er=0;Er<Xe;Er++){var xr=rr*fr[Er]+rr,Br=Qt(xr,Xt,oe,be,Pe),ur=Qt(xr,Kt,he,Ee,Oe),Yr=Br*Br+ur*ur;vr+=Pr[Er]*Math.sqrt(Yr)}return rr*vr},$t=function(Xt,Kt,oe,he,be,Ee,Pe,Oe){for(var me=[],rr=[[],[]],Xe,fr,Pr,vr,Er=0;Er<2;++Er){if(Er===0?(fr=6*Xt-12*oe+6*be,Xe=-3*Xt+9*oe-9*be+3*Pe,Pr=3*oe-3*Xt):(fr=6*Kt-12*he+6*Ee,Xe=-3*Kt+9*he-9*Ee+3*Oe,Pr=3*he-3*Kt),Math.abs(Xe)<1e-12){if(Math.abs(fr)<1e-12)continue;vr=-Pr/fr,vr>0&&vr<1&&me.push(vr);continue}var xr=fr*fr-4*Pr*Xe,Br=Math.sqrt(xr);if(!(xr<0)){var ur=(-fr+Br)/(2*Xe);ur>0&&ur<1&&me.push(ur);var Yr=(-fr-Br)/(2*Xe);Yr>0&&Yr<1&&me.push(Yr)}}for(var Jr=me.length,jr=Jr,Qr;Jr--;)vr=me[Jr],Qr=1-vr,rr[0][Jr]=Qr*Qr*Qr*Xt+3*Qr*Qr*vr*oe+3*Qr*vr*vr*be+vr*vr*vr*Pe,rr[1][Jr]=Qr*Qr*Qr*Kt+3*Qr*Qr*vr*he+3*Qr*vr*vr*Ee+vr*vr*vr*Oe;return rr[0][jr]=Xt,rr[1][jr]=Kt,rr[0][jr+1]=Pe,rr[1][jr+1]=Oe,rr[0].length=rr[1].length=jr+2,{min:{x:Math.min.apply(0,rr[0]),y:Math.min.apply(0,rr[1])},max:{x:Math.max.apply(0,rr[0]),y:Math.max.apply(0,rr[1])}}},ne=function(Xt,Kt,oe,he,be,Ee,Pe,Oe){if(!(Math.max(Xt,oe)<Math.min(be,Pe)||Math.min(Xt,oe)>Math.max(be,Pe)||Math.max(Kt,he)<Math.min(Ee,Oe)||Math.min(Kt,he)>Math.max(Ee,Oe))){var me=(Xt*he-Kt*oe)*(be-Pe)-(Xt-oe)*(be*Oe-Ee*Pe),rr=(Xt*he-Kt*oe)*(Ee-Oe)-(Kt-he)*(be*Oe-Ee*Pe),Xe=(Xt-oe)*(Ee-Oe)-(Kt-he)*(be-Pe);if(!!Xe){var fr=me/Xe,Pr=rr/Xe,vr=+fr.toFixed(2),Er=+Pr.toFixed(2);if(!(vr<+Math.min(Xt,oe).toFixed(2)||vr>+Math.max(Xt,oe).toFixed(2)||vr<+Math.min(be,Pe).toFixed(2)||vr>+Math.max(be,Pe).toFixed(2)||Er<+Math.min(Kt,he).toFixed(2)||Er>+Math.max(Kt,he).toFixed(2)||Er<+Math.min(Ee,Oe).toFixed(2)||Er>+Math.max(Ee,Oe).toFixed(2)))return{x:fr,y:Pr}}}},ae=function(Xt,Kt,oe){return Kt>=Xt.x&&Kt<=Xt.x+Xt.width&&oe>=Xt.y&&oe<=Xt.y+Xt.height},Wt=function(Xt,Kt,oe,he){return Xt===null&&(Xt=Kt=oe=he=0),Kt===null&&(Kt=Xt.y,oe=Xt.width,he=Xt.height,Xt=Xt.x),{x:Xt,y:Kt,width:oe,w:oe,height:he,h:he,x2:Xt+oe,y2:Kt+he,cx:Xt+oe/2,cy:Kt+he/2,r1:Math.min(oe,he)/2,r2:Math.max(oe,he)/2,r0:Math.sqrt(oe*oe+he*he)/2,path:X(Xt,Kt,oe,he),vb:[Xt,Kt,oe,he].join(" ")}},It=function(Xt,Kt){return Xt=Wt(Xt),Kt=Wt(Kt),ae(Kt,Xt.x,Xt.y)||ae(Kt,Xt.x2,Xt.y)||ae(Kt,Xt.x,Xt.y2)||ae(Kt,Xt.x2,Xt.y2)||ae(Xt,Kt.x,Kt.y)||ae(Xt,Kt.x2,Kt.y)||ae(Xt,Kt.x,Kt.y2)||ae(Xt,Kt.x2,Kt.y2)||(Xt.x<Kt.x2&&Xt.x>Kt.x||Kt.x<Xt.x2&&Kt.x>Xt.x)&&(Xt.y<Kt.y2&&Xt.y>Kt.y||Kt.y<Xt.y2&&Kt.y>Xt.y)},Ct=function(Xt,Kt,oe,he,be,Ee,Pe,Oe){(0,m.isArray)(Xt)||(Xt=[Xt,Kt,oe,he,be,Ee,Pe,Oe]);var me=$t.apply(null,Xt);return Wt(me.min.x,me.min.y,me.max.x-me.min.x,me.max.y-me.min.y)},ht=function(Xt,Kt,oe,he,be,Ee,Pe,Oe,me){var rr=1-me,Xe=Math.pow(rr,3),fr=Math.pow(rr,2),Pr=me*me,vr=Pr*me,Er=Xe*Xt+fr*3*me*oe+rr*3*me*me*be+vr*Pe,xr=Xe*Kt+fr*3*me*he+rr*3*me*me*Ee+vr*Oe,Br=Xt+2*me*(oe-Xt)+Pr*(be-2*oe+Xt),ur=Kt+2*me*(he-Kt)+Pr*(Ee-2*he+Kt),Yr=oe+2*me*(be-oe)+Pr*(Pe-2*be+oe),Jr=he+2*me*(Ee-he)+Pr*(Oe-2*Ee+he),jr=rr*Xt+me*oe,Qr=rr*Kt+me*he,jt=rr*be+me*Pe,Zt=rr*Ee+me*Oe,ee=90-Math.atan2(Br-Yr,ur-Jr)*180/Math.PI;return{x:Er,y:xr,m:{x:Br,y:ur},n:{x:Yr,y:Jr},start:{x:jr,y:Qr},end:{x:jt,y:Zt},alpha:ee}},Et=function(Xt,Kt,oe){var he=Ct(Xt),be=Ct(Kt);if(!It(he,be))return oe?0:[];for(var Ee=zt.apply(0,Xt),Pe=zt.apply(0,Kt),Oe=~~(Ee/8),me=~~(Pe/8),rr=[],Xe=[],fr={},Pr=oe?0:[],vr=0;vr<Oe+1;vr++){var Er=ht.apply(0,Xt.concat(vr/Oe));rr.push({x:Er.x,y:Er.y,t:vr/Oe})}for(var vr=0;vr<me+1;vr++){var Er=ht.apply(0,Kt.concat(vr/me));Xe.push({x:Er.x,y:Er.y,t:vr/me})}for(var vr=0;vr<Oe;vr++)for(var xr=0;xr<me;xr++){var Br=rr[vr],ur=rr[vr+1],Yr=Xe[xr],Jr=Xe[xr+1],jr=Math.abs(ur.x-Br.x)<.001?"y":"x",Qr=Math.abs(Jr.x-Yr.x)<.001?"y":"x",jt=ne(Br.x,Br.y,ur.x,ur.y,Yr.x,Yr.y,Jr.x,Jr.y);if(jt){if(fr[jt.x.toFixed(4)]===jt.y.toFixed(4))continue;fr[jt.x.toFixed(4)]=jt.y.toFixed(4);var Zt=Br.t+Math.abs((jt[jr]-Br[jr])/(ur[jr]-Br[jr]))*(ur.t-Br.t),ee=Yr.t+Math.abs((jt[Qr]-Yr[Qr])/(Jr[Qr]-Yr[Qr]))*(Jr.t-Yr.t);Zt>=0&&Zt<=1&&ee>=0&&ee<=1&&(oe?Pr++:Pr.push({x:jt.x,y:jt.y,t1:Zt,t2:ee}))}}return Pr},at=function(Xt,Kt,oe){Xt=St(Xt),Kt=St(Kt);for(var he,be,Ee,Pe,Oe,me,rr,Xe,fr,Pr,vr=oe?0:[],Er=0,xr=Xt.length;Er<xr;Er++){var Br=Xt[Er];if(Br[0]==="M")he=Oe=Br[1],be=me=Br[2];else{Br[0]==="C"?(fr=[he,be].concat(Br.slice(1)),he=fr[6],be=fr[7]):(fr=[he,be,he,be,Oe,me,Oe,me],he=Oe,be=me);for(var ur=0,Yr=Kt.length;ur<Yr;ur++){var Jr=Kt[ur];if(Jr[0]==="M")Ee=rr=Jr[1],Pe=Xe=Jr[2];else{Jr[0]==="C"?(Pr=[Ee,Pe].concat(Jr.slice(1)),Ee=Pr[6],Pe=Pr[7]):(Pr=[Ee,Pe,Ee,Pe,rr,Xe,rr,Xe],Ee=rr,Pe=Xe);var jr=Et(fr,Pr,oe);if(oe)vr+=jr;else{for(var Qr=0,jt=jr.length;Qr<jt;Qr++)jr[Qr].segment1=Er,jr[Qr].segment2=ur,jr[Qr].bez1=fr,jr[Qr].bez2=Pr;vr=vr.concat(jr)}}}}}return vr};function Q(Xt,Kt){return at(Xt,Kt)}var bt=/,?([a-z]),?/gi;function Ot(Xt){return Xt.join(",").replace(bt,"$1")}function Vt(Xt){return Math.sqrt(Xt[0]*Xt[0]+Xt[1]*Xt[1])}function ue(Xt,Kt){return Vt(Xt)*Vt(Kt)?(Xt[0]*Kt[0]+Xt[1]*Kt[1])/(Vt(Xt)*Vt(Kt)):1}function Se(Xt,Kt){return(Xt[0]*Kt[1]<Xt[1]*Kt[0]?-1:1)*Math.acos(ue(Xt,Kt))}function Re(Xt,Kt){return Xt[0]===Kt[0]&&Xt[1]===Kt[1]}function We(Xt,Kt){var oe=Kt[1],he=Kt[2],be=(0,m.mod)((0,m.toRadian)(Kt[3]),Math.PI*2),Ee=Kt[4],Pe=Kt[5],Oe=Xt[0],me=Xt[1],rr=Kt[6],Xe=Kt[7],fr=Math.cos(be)*(Oe-rr)/2+Math.sin(be)*(me-Xe)/2,Pr=-1*Math.sin(be)*(Oe-rr)/2+Math.cos(be)*(me-Xe)/2,vr=fr*fr/(oe*oe)+Pr*Pr/(he*he);vr>1&&(oe*=Math.sqrt(vr),he*=Math.sqrt(vr));var Er=oe*oe*(Pr*Pr)+he*he*(fr*fr),xr=Er?Math.sqrt((oe*oe*(he*he)-Er)/Er):1;Ee===Pe&&(xr*=-1),isNaN(xr)&&(xr=0);var Br=he?xr*oe*Pr/he:0,ur=oe?xr*-he*fr/oe:0,Yr=(Oe+rr)/2+Math.cos(be)*Br-Math.sin(be)*ur,Jr=(me+Xe)/2+Math.sin(be)*Br+Math.cos(be)*ur,jr=[(fr-Br)/oe,(Pr-ur)/he],Qr=[(-1*fr-Br)/oe,(-1*Pr-ur)/he],jt=Se([1,0],jr),Zt=Se(jr,Qr);return ue(jr,Qr)<=-1&&(Zt=Math.PI),ue(jr,Qr)>=1&&(Zt=0),Pe===0&&Zt>0&&(Zt=Zt-2*Math.PI),Pe===1&&Zt<0&&(Zt=Zt+2*Math.PI),{cx:Yr,cy:Jr,rx:Re(Xt,[rr,Xe])?0:oe,ry:Re(Xt,[rr,Xe])?0:he,startAngle:jt,endAngle:jt+Zt,xRotation:be,arcFlag:Ee,sweepFlag:Pe}}function mr(Xt,Kt){return[Kt[0]+(Kt[0]-Xt[0]),Kt[1]+(Kt[1]-Xt[1])]}function wr(Xt){Xt=P(Xt);for(var Kt=[],oe=null,he=null,be=null,Ee=0,Pe=Xt.length,Oe=0;Oe<Pe;Oe++){var me=Xt[Oe];he=Xt[Oe+1];var rr=me[0],Xe={command:rr,prePoint:oe,params:me,startTangent:null,endTangent:null};switch(rr){case"M":be=[me[1],me[2]],Ee=Oe;break;case"A":var fr=We(oe,me);Xe.arcParams=fr;break;default:break}if(rr==="Z")oe=be,he=Xt[Ee+1];else{var Pr=me.length;oe=[me[Pr-2],me[Pr-1]]}he&&he[0]==="Z"&&(he=Xt[Ee],Kt[Ee]&&(Kt[Ee].prePoint=oe)),Xe.currentPoint=oe,Kt[Ee]&&Re(oe,Kt[Ee].currentPoint)&&(Kt[Ee].prePoint=Xe.prePoint);var vr=he?[he[he.length-2],he[he.length-1]]:null;Xe.nextPoint=vr;var Er=Xe.prePoint;if(["L","H","V"].includes(rr))Xe.startTangent=[Er[0]-oe[0],Er[1]-oe[1]],Xe.endTangent=[oe[0]-Er[0],oe[1]-Er[1]];else if(rr==="Q"){var xr=[me[1],me[2]];Xe.startTangent=[Er[0]-xr[0],Er[1]-xr[1]],Xe.endTangent=[oe[0]-xr[0],oe[1]-xr[1]]}else if(rr==="T"){var Br=Kt[Oe-1],xr=mr(Br.currentPoint,Er);Br.command==="Q"?(Xe.command="Q",Xe.startTangent=[Er[0]-xr[0],Er[1]-xr[1]],Xe.endTangent=[oe[0]-xr[0],oe[1]-xr[1]]):(Xe.command="TL",Xe.startTangent=[Er[0]-oe[0],Er[1]-oe[1]],Xe.endTangent=[oe[0]-Er[0],oe[1]-Er[1]])}else if(rr==="C"){var ur=[me[1],me[2]],Yr=[me[3],me[4]];Xe.startTangent=[Er[0]-ur[0],Er[1]-ur[1]],Xe.endTangent=[oe[0]-Yr[0],oe[1]-Yr[1]],Xe.startTangent[0]===0&&Xe.startTangent[1]===0&&(Xe.startTangent=[ur[0]-Yr[0],ur[1]-Yr[1]]),Xe.endTangent[0]===0&&Xe.endTangent[1]===0&&(Xe.endTangent=[Yr[0]-ur[0],Yr[1]-ur[1]])}else if(rr==="S"){var Br=Kt[Oe-1],ur=mr(Br.currentPoint,Er),Yr=[me[1],me[2]];Br.command==="C"?(Xe.command="C",Xe.startTangent=[Er[0]-ur[0],Er[1]-ur[1]],Xe.endTangent=[oe[0]-Yr[0],oe[1]-Yr[1]]):(Xe.command="SQ",Xe.startTangent=[Er[0]-Yr[0],Er[1]-Yr[1]],Xe.endTangent=[oe[0]-Yr[0],oe[1]-Yr[1]])}else if(rr==="A"){var Jr=.001,jr=Xe.arcParams||{},Qr=jr.cx,jt=Qr===void 0?0:Qr,Zt=jr.cy,ee=Zt===void 0?0:Zt,ye=jr.rx,Ce=ye===void 0?0:ye,Le=jr.ry,tr=Le===void 0?0:Le,sr=jr.sweepFlag,Gr=sr===void 0?0:sr,Ne=jr.startAngle,Lr=Ne===void 0?0:Ne,bn=jr.endAngle,On=bn===void 0?0:bn;Gr===0&&(Jr*=-1);var vn=Ce*Math.cos(Lr-Jr)+jt,wn=tr*Math.sin(Lr-Jr)+ee;Xe.startTangent=[vn-be[0],wn-be[1]];var fi=Ce*Math.cos(Lr+On+Jr)+jt,si=tr*Math.sin(Lr+On-Jr)+ee;Xe.endTangent=[Er[0]-fi,Er[1]-si]}Kt.push(Xe)}return Kt}var br=function(Xt,Kt,oe){return Xt>=Kt&&Xt<=oe};function zr(Xt,Kt,oe,he){var be=.001,Ee={x:oe.x-Xt.x,y:oe.y-Xt.y},Pe={x:Kt.x-Xt.x,y:Kt.y-Xt.y},Oe={x:he.x-oe.x,y:he.y-oe.y},me=Pe.x*Oe.y-Pe.y*Oe.x,rr=me*me,Xe=Pe.x*Pe.x+Pe.y*Pe.y,fr=Oe.x*Oe.x+Oe.y*Oe.y,Pr=null;if(rr>be*Xe*fr){var vr=(Ee.x*Oe.y-Ee.y*Oe.x)/me,Er=(Ee.x*Pe.y-Ee.y*Pe.x)/me;br(vr,0,1)&&br(Er,0,1)&&(Pr={x:Xt.x+vr*Pe.x,y:Xt.y+vr*Pe.y})}return Pr}var pr=1e-6;function an(Xt){return Math.abs(Xt)<pr?0:Xt<0?-1:1}function Tn(Xt,Kt,oe){return(oe[0]-Xt[0])*(Kt[1]-Xt[1])==(Kt[0]-Xt[0])*(oe[1]-Xt[1])&&Math.min(Xt[0],Kt[0])<=oe[0]&&oe[0]<=Math.max(Xt[0],Kt[0])&&Math.min(Xt[1],Kt[1])<=oe[1]&&oe[1]<=Math.max(Xt[1],Kt[1])}function rn(Xt,Kt,oe){var he=!1,be=Xt.length;if(be<=2)return!1;for(var Ee=0;Ee<be;Ee++){var Pe=Xt[Ee],Oe=Xt[(Ee+1)%be];if(Tn(Pe,Oe,[Kt,oe]))return!0;an(Pe[1]-oe)>0!=an(Oe[1]-oe)>0&&an(Kt-(oe-Pe[1])*(Pe[0]-Oe[0])/(Pe[1]-Oe[1])-Pe[0])<0&&(he=!he)}return he}function Mn(Xt){for(var Kt=[],oe=Xt.length,he=0;he<oe-1;he++){var be=Xt[he],Ee=Xt[he+1];Kt.push({from:{x:be[0],y:be[1]},to:{x:Ee[0],y:Ee[1]}})}if(Kt.length>1){var Pe=Xt[0],Oe=Xt[oe-1];Kt.push({from:{x:Oe[0],y:Oe[1]},to:{x:Pe[0],y:Pe[1]}})}return Kt}function Si(Xt,Kt){var oe=!1;return(0,m.each)(Xt,function(he){if(zr(he.from,he.to,Kt.from,Kt.to))return oe=!0,!1}),oe}function Ti(Xt){var Kt=Xt.map(function(he){return he[0]}),oe=Xt.map(function(he){return he[1]});return{minX:Math.min.apply(null,Kt),maxX:Math.max.apply(null,Kt),minY:Math.min.apply(null,oe),maxY:Math.max.apply(null,oe)}}function Di(Xt,Kt){return!(Kt.minX>Xt.maxX||Kt.maxX<Xt.minX||Kt.minY>Xt.maxY||Kt.maxY<Xt.minY)}function Vi(Xt,Kt){if(Xt.length<2||Kt.length<2)return!1;var oe=Ti(Xt),he=Ti(Kt);if(!Di(oe,he))return!1;var be=!1;if((0,m.each)(Kt,function(me){if(rn(Xt,me[0],me[1]))return be=!0,!1}),be||((0,m.each)(Xt,function(me){if(rn(Kt,me[0],me[1]))return be=!0,!1}),be))return!0;var Ee=Mn(Xt),Pe=Mn(Kt),Oe=!1;return(0,m.each)(Pe,function(me){if(Si(Ee,me))return Oe=!0,!1}),Oe}},84023:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var m=d(49242);function I(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function k(M,A){return I(M)*I(A)?(M[0]*A[0]+M[1]*A[1])/(I(M)*I(A)):1}function L(M,A){return(M[0]*A[1]<M[1]*A[0]?-1:1)*Math.acos(k(M,A))}function P(M,A){return M[0]===A[0]&&M[1]===A[1]}S.isSamePoint=P;function T(M,A){var p=A[1],w=A[2],y=(0,m.mod)((0,m.toRadian)(A[3]),Math.PI*2),b=A[4],x=A[5],E=M[0],O=M[1],D=A[6],N=A[7],z=Math.cos(y)*(E-D)/2+Math.sin(y)*(O-N)/2,W=-1*Math.sin(y)*(E-D)/2+Math.cos(y)*(O-N)/2,X=z*z/(p*p)+W*W/(w*w);X>1&&(p*=Math.sqrt(X),w*=Math.sqrt(X));var j=p*p*(W*W)+w*w*(z*z),tt=j?Math.sqrt((p*p*(w*w)-j)/j):1;b===x&&(tt*=-1),isNaN(tt)&&(tt=0);var K=w?tt*p*W/w:0,wt=p?tt*-w*z/p:0,ot=(E+D)/2+Math.cos(y)*K-Math.sin(y)*wt,vt=(O+N)/2+Math.sin(y)*K+Math.cos(y)*wt,et=[(z-K)/p,(W-wt)/w],lt=[(-1*z-K)/p,(-1*W-wt)/w],dt=L([1,0],et),it=L(et,lt);return k(et,lt)<=-1&&(it=Math.PI),k(et,lt)>=1&&(it=0),x===0&&it>0&&(it=it-2*Math.PI),x===1&&it<0&&(it=it+2*Math.PI),{cx:ot,cy:vt,rx:P(M,[D,N])?0:p,ry:P(M,[D,N])?0:w,startAngle:dt,endAngle:dt+it,xRotation:y,arcFlag:b,sweepFlag:x}}S.default=T},21528:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(I,k,L){return I>=k&&I<=L};function m(I,k,L,P){var T=.001,M={x:L.x-I.x,y:L.y-I.y},A={x:k.x-I.x,y:k.y-I.y},p={x:P.x-L.x,y:P.y-L.y},w=A.x*p.y-A.y*p.x,y=w*w,b=A.x*A.x+A.y*A.y,x=p.x*p.x+p.y*p.y,E=null;if(y>T*b*x){var O=(M.x*p.y-M.y*p.x)/w,D=(M.x*A.y-M.y*A.x)/w;d(O,0,1)&&d(D,0,1)&&(E={x:I.x+O*A.x,y:I.y+O*A.y})}return E}S.default=m},70146:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66957),I=d(21528),k=d(49242);function L(p){for(var w=[],y=p.length,b=0;b<y-1;b++){var x=p[b],E=p[b+1];w.push({from:{x:x[0],y:x[1]},to:{x:E[0],y:E[1]}})}if(w.length>1){var O=p[0],D=p[y-1];w.push({from:{x:D[0],y:D[1]},to:{x:O[0],y:O[1]}})}return w}function P(p,w){var y=!1;return(0,k.each)(p,function(b){if((0,I.default)(b.from,b.to,w.from,w.to))return y=!0,!1}),y}function T(p){var w=p.map(function(b){return b[0]}),y=p.map(function(b){return b[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function M(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function A(p,w){if(p.length<2||w.length<2)return!1;var y=T(p),b=T(w);if(!M(y,b))return!1;var x=!1;if((0,k.each)(w,function(N){if((0,m.default)(p,N[0],N[1]))return x=!0,!1}),x||((0,k.each)(p,function(N){if((0,m.default)(w,N[0],N[1]))return x=!0,!1}),x))return!0;var E=L(p),O=L(w),D=!1;return(0,k.each)(O,function(N){if(P(E,N))return D=!0,!1}),D}S.default=A},28498:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig");function P(T){if(!T)return null;if((0,m.isArray)(T))return T;var M={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},A=[];return String(T).replace(k,function(p,w,y){var b=[],x=w.toLowerCase();if(y.replace(L,function(E,O){O&&b.push(+O)}),x==="m"&&b.length>2&&(A.push([w].concat(b.splice(0,2))),x="l",w=w==="m"?"l":"L"),x==="o"&&b.length===1&&A.push([w,b[0]]),x==="r")A.push([w].concat(b));else for(;b.length>=M[x]&&(A.push([w].concat(b.splice(0,M[x]))),!!M[x]););return""}),A}S.default=P},80315:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),I=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function L(P){var T=P||[];if((0,m.isArray)(T))return T;if((0,m.isString)(T))return T=T.match(I),(0,m.each)(T,function(M,A){if(M=M.match(k),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}(0,m.each)(M,function(w,y){isNaN(w)||(M[y]=+w)}),T[A]=M}),T}S.default=L},74479:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(28498),k=/[a-z]/;function L(T,M){return[M[0]+(M[0]-T[0]),M[1]+(M[1]-T[1])]}function P(T){var M=(0,I.default)(T);if(!M||!M.length)return[["M",0,0]];for(var A=!1,p=0;p<M.length;p++){var w=M[p][0];if(k.test(w)||["V","H","T","S"].indexOf(w)>=0){A=!0;break}}if(!A)return M;var y=[],b=0,x=0,E=0,O=0,D=0,N,z,W=M[0];(W[0]==="M"||W[0]==="m")&&(b=+W[1],x=+W[2],E=b,O=x,D++,y[0]=["M",b,x]);for(var p=D,X=M.length;p<X;p++){var j=M[p],tt=y[p-1],K=[],w=j[0],wt=w.toUpperCase();if(w!==wt)switch(K[0]=wt,wt){case"A":K[1]=j[1],K[2]=j[2],K[3]=j[3],K[4]=j[4],K[5]=j[5],K[6]=+j[6]+b,K[7]=+j[7]+x;break;case"V":K[1]=+j[1]+x;break;case"H":K[1]=+j[1]+b;break;case"M":E=+j[1]+b,O=+j[2]+x,K[1]=E,K[2]=O;break;default:for(var ot=1,vt=j.length;ot<vt;ot++)K[ot]=+j[ot]+(ot%2?b:x)}else K=M[p];switch(wt){case"Z":b=+E,x=+O;break;case"H":b=K[1],K=["L",b,x];break;case"V":x=K[1],K=["L",b,x];break;case"T":b=K[1],x=K[2];var et=L([tt[1],tt[2]],[tt[3],tt[4]]);K=["Q",et[0],et[1],b,x];break;case"S":b=K[K.length-2],x=K[K.length-1];var lt=tt.length,dt=L([tt[lt-4],tt[lt-3]],[tt[lt-2],tt[lt-1]]);K=["C",dt[0],dt[1],K[1],K[2],b,x];break;case"M":E=K[K.length-2],O=K[K.length-1];break;default:b=K[K.length-2],x=K[K.length-1]}y.push(K)}return y}S.Z=P},49274:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(84023),I=d(84023),k=d(80315);function L(T,M){return[M[0]+(M[0]-T[0]),M[1]+(M[1]-T[1])]}function P(T){T=(0,k.default)(T);for(var M=[],A=null,p=null,w=null,y=0,b=T.length,x=0;x<b;x++){var E=T[x];p=T[x+1];var O=E[0],D={command:O,prePoint:A,params:E,startTangent:null,endTangent:null};switch(O){case"M":w=[E[1],E[2]],y=x;break;case"A":var N=(0,m.default)(A,E);D.arcParams=N;break;default:break}if(O==="Z")A=w,p=T[y+1];else{var z=E.length;A=[E[z-2],E[z-1]]}p&&p[0]==="Z"&&(p=T[y],M[y]&&(M[y].prePoint=A)),D.currentPoint=A,M[y]&&(0,I.isSamePoint)(A,M[y].currentPoint)&&(M[y].prePoint=D.prePoint);var W=p?[p[p.length-2],p[p.length-1]]:null;D.nextPoint=W;var X=D.prePoint;if(["L","H","V"].includes(O))D.startTangent=[X[0]-A[0],X[1]-A[1]],D.endTangent=[A[0]-X[0],A[1]-X[1]];else if(O==="Q"){var j=[E[1],E[2]];D.startTangent=[X[0]-j[0],X[1]-j[1]],D.endTangent=[A[0]-j[0],A[1]-j[1]]}else if(O==="T"){var tt=M[x-1],j=L(tt.currentPoint,X);tt.command==="Q"?(D.command="Q",D.startTangent=[X[0]-j[0],X[1]-j[1]],D.endTangent=[A[0]-j[0],A[1]-j[1]]):(D.command="TL",D.startTangent=[X[0]-A[0],X[1]-A[1]],D.endTangent=[A[0]-X[0],A[1]-X[1]])}else if(O==="C"){var K=[E[1],E[2]],wt=[E[3],E[4]];D.startTangent=[X[0]-K[0],X[1]-K[1]],D.endTangent=[A[0]-wt[0],A[1]-wt[1]],D.startTangent[0]===0&&D.startTangent[1]===0&&(D.startTangent=[K[0]-wt[0],K[1]-wt[1]]),D.endTangent[0]===0&&D.endTangent[1]===0&&(D.endTangent=[wt[0]-K[0],wt[1]-K[1]])}else if(O==="S"){var tt=M[x-1],K=L(tt.currentPoint,X),wt=[E[1],E[2]];tt.command==="C"?(D.command="C",D.startTangent=[X[0]-K[0],X[1]-K[1]],D.endTangent=[A[0]-wt[0],A[1]-wt[1]]):(D.command="SQ",D.startTangent=[X[0]-wt[0],X[1]-wt[1]],D.endTangent=[A[0]-wt[0],A[1]-wt[1]])}else if(O==="A"){var ot=.001,vt=D.arcParams||{},et=vt.cx,lt=et===void 0?0:et,dt=vt.cy,it=dt===void 0?0:dt,At=vt.rx,mt=At===void 0?0:At,U=vt.ry,V=U===void 0?0:U,B=vt.sweepFlag,f=B===void 0?0:B,yt=vt.startAngle,St=yt===void 0?0:yt,Rt=vt.endAngle,Qt=Rt===void 0?0:Rt;f===0&&(ot*=-1);var zt=mt*Math.cos(St-ot)+lt,$t=V*Math.sin(St-ot)+it;D.startTangent=[zt-w[0],$t-w[1]];var ne=mt*Math.cos(St+Qt+ot)+lt,ae=V*Math.sin(St+Qt-ot)+it;D.endTangent=[X[0]-ne,X[1]-ae]}M.push(D)}return M}S.default=P},66957:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(L){return Math.abs(L)<d?0:L<0?-1:1}function I(L,P,T){return(T[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(T[1]-L[1])&&Math.min(L[0],P[0])<=T[0]&&T[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=T[1]&&T[1]<=Math.max(L[1],P[1])}function k(L,P,T){var M=!1,A=L.length;if(A<=2)return!1;for(var p=0;p<A;p++){var w=L[p],y=L[(p+1)%A];if(I(w,y,[P,T]))return!0;m(w[1]-T)>0!=m(y[1]-T)>0&&m(P-(T-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(M=!M)}return M}S.default=k},51082:function(ct,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return p},Identity:function(){return ht},Linear:function(){return lt},Log:function(){return B},Pow:function(){return yt},Quantile:function(){return ne},Quantize:function(){return zt},Scale:function(){return T},Time:function(){return Rt},TimeCat:function(){return wt},getScale:function(){return Wt},getTickMethod:function(){return k},registerScale:function(){return It},registerTickMethod:function(){return L}});var m=d(49242),I={};function k(jt){return I[jt]}function L(jt,Zt){I[jt]=Zt}var P=function(){function jt(Zt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Zt,this.initCfg(),this.init()}return jt.prototype.translate=function(Zt){return Zt},jt.prototype.change=function(Zt){(0,m.assign)(this.__cfg__,Zt),this.init()},jt.prototype.clone=function(){return this.constructor(this.__cfg__)},jt.prototype.getTicks=function(){var Zt=this;return(0,m.map)(this.ticks,function(ee,ye){return(0,m.isObject)(ee)?ee:{text:Zt.getText(ee,ye),tickValue:ee,value:Zt.scale(ee)}})},jt.prototype.getText=function(Zt,ee){var ye=this.formatter,Ce=ye?ye(Zt,ee):Zt;return(0,m.isNil)(Ce)||!(0,m.isFunction)(Ce.toString)?"":Ce.toString()},jt.prototype.getConfig=function(Zt){return this.__cfg__[Zt]},jt.prototype.init=function(){(0,m.assign)(this,this.__cfg__),this.setDomain(),(0,m.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},jt.prototype.initCfg=function(){},jt.prototype.setDomain=function(){},jt.prototype.calculateTicks=function(){var Zt=this.tickMethod,ee=[];if((0,m.isString)(Zt)){var ye=k(Zt);if(!ye)throw new Error("There is no method to to calculate ticks!");ee=ye(this)}else(0,m.isFunction)(Zt)&&(ee=Zt(this));return ee},jt.prototype.rangeMin=function(){return this.range[0]},jt.prototype.rangeMax=function(){return this.range[1]},jt.prototype.calcPercent=function(Zt,ee,ye){return(0,m.isNumber)(Zt)?(Zt-ee)/(ye-ee):NaN},jt.prototype.calcValue=function(Zt,ee,ye){return ee+Zt*(ye-ee)},jt}(),T=P,M=d(70655),A=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="cat",ee.isCategory=!0,ee}return Zt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var ee=0;ee<this.values.length;ee++)this.translateIndexMap.set(this.values[ee],ee)}},Zt.prototype.translate=function(ee){this.buildIndexMap();var ye=this.translateIndexMap.get(ee);return ye===void 0&&(ye=(0,m.isNumber)(ee)?ee:NaN),ye},Zt.prototype.scale=function(ee){var ye=this.translate(ee),Ce=this.calcPercent(ye,this.min,this.max);return this.calcValue(Ce,this.rangeMin(),this.rangeMax())},Zt.prototype.invert=function(ee){var ye=this.max-this.min,Ce=this.calcPercent(ee,this.rangeMin(),this.rangeMax()),Le=Math.round(ye*Ce)+this.min;return Le<this.min||Le>this.max?NaN:this.values[Le]},Zt.prototype.getText=function(ee){for(var ye=[],Ce=1;Ce<arguments.length;Ce++)ye[Ce-1]=arguments[Ce];var Le=ee;return(0,m.isNumber)(ee)&&!this.values.includes(ee)&&(Le=this.values[Le]),jt.prototype.getText.apply(this,(0,M.__spreadArrays)([Le],ye))},Zt.prototype.initCfg=function(){this.tickMethod="cat"},Zt.prototype.setDomain=function(){if((0,m.isNil)(this.getConfig("min"))&&(this.min=0),(0,m.isNil)(this.getConfig("max"))){var ee=this.values.length;this.max=ee>1?ee-1:ee}this.translateIndexMap&&(this.translateIndexMap=void 0)},Zt}(T),p=A,w=d(19432);function y(jt){return function(Zt,ee,ye,Ce){for(var Le=(0,m.isNil)(ye)?0:ye,tr=(0,m.isNil)(Ce)?Zt.length:Ce;Le<tr;){var sr=Le+tr>>>1;jt(Zt[sr])>ee?tr=sr:Le=sr+1}return Le}}var b="format";function x(jt,Zt){var ee=w[b]||w.default[b];return ee(jt,Zt)}function E(jt){return(0,m.isString)(jt)&&(jt.indexOf("T")>0?jt=new Date(jt).getTime():jt=new Date(jt.replace(/-/gi,"/")).getTime()),(0,m.isDate)(jt)&&(jt=jt.getTime()),jt}var O=1e3,D=60*O,N=60*D,z=24*N,W=z*31,X=z*365,j=[["HH:mm:ss",O],["HH:mm:ss",O*10],["HH:mm:ss",O*30],["HH:mm",D],["HH:mm",D*10],["HH:mm",D*30],["HH",N],["HH",N*6],["HH",N*12],["YYYY-MM-DD",z],["YYYY-MM-DD",z*4],["YYYY-WW",z*7],["YYYY-MM",W],["YYYY-MM",W*4],["YYYY-MM",W*6],["YYYY",z*380]];function tt(jt,Zt,ee){var ye=(Zt-jt)/ee,Ce=y(function(tr){return tr[1]})(j,ye)-1,Le=j[Ce];return Ce<0?Le=j[0]:Ce>=j.length&&(Le=(0,m.last)(j)),Le}var K=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="timeCat",ee}return Zt.prototype.translate=function(ee){ee=E(ee);var ye=this.values.indexOf(ee);return ye===-1&&((0,m.isNumber)(ee)&&ee<this.values.length?ye=ee:ye=NaN),ye},Zt.prototype.getText=function(ee,ye){var Ce=this.translate(ee);if(Ce>-1){var Le=this.values[Ce],tr=this.formatter;return Le=tr?tr(Le,ye):x(Le,this.mask),Le}return ee},Zt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Zt.prototype.setDomain=function(){var ee=this.values;(0,m.each)(ee,function(ye,Ce){ee[Ce]=E(ye)}),ee.sort(function(ye,Ce){return ye-Ce}),jt.prototype.setDomain.call(this)},Zt}(p),wt=K,ot=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.isContinuous=!0,ee}return Zt.prototype.scale=function(ee){if((0,m.isNil)(ee))return NaN;var ye=this.rangeMin(),Ce=this.rangeMax(),Le=this.max,tr=this.min;if(Le===tr)return ye;var sr=this.getScalePercent(ee);return ye+sr*(Ce-ye)},Zt.prototype.init=function(){jt.prototype.init.call(this);var ee=this.ticks,ye=(0,m.head)(ee),Ce=(0,m.last)(ee);ye<this.min&&(this.min=ye),Ce>this.max&&(this.max=Ce),(0,m.isNil)(this.minLimit)||(this.min=ye),(0,m.isNil)(this.maxLimit)||(this.max=Ce)},Zt.prototype.setDomain=function(){var ee=(0,m.getRange)(this.values),ye=ee.min,Ce=ee.max;(0,m.isNil)(this.min)&&(this.min=ye),(0,m.isNil)(this.max)&&(this.max=Ce),this.min>this.max&&(this.min=ye,this.max=Ce)},Zt.prototype.calculateTicks=function(){var ee=this,ye=jt.prototype.calculateTicks.call(this);return this.nice||(ye=(0,m.filter)(ye,function(Ce){return Ce>=ee.min&&Ce<=ee.max})),ye},Zt.prototype.getScalePercent=function(ee){var ye=this.max,Ce=this.min;return(ee-Ce)/(ye-Ce)},Zt.prototype.getInvertPercent=function(ee){return(ee-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Zt}(T),vt=ot,et=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="linear",ee.isLinear=!0,ee}return Zt.prototype.invert=function(ee){var ye=this.getInvertPercent(ee);return this.min+ye*(this.max-this.min)},Zt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Zt}(vt),lt=et;function dt(jt,Zt){var ee=Math.E,ye;return Zt>=0?ye=Math.pow(ee,Math.log(Zt)/jt):ye=Math.pow(ee,Math.log(-Zt)/jt)*-1,ye}function it(jt,Zt){return jt===1?1:Math.log(Zt)/Math.log(jt)}function At(jt,Zt,ee){(0,m.isNil)(ee)&&(ee=Math.max.apply(null,jt));var ye=ee;return(0,m.each)(jt,function(Ce){Ce>0&&Ce<ye&&(ye=Ce)}),ye===ee&&(ye=ee/Zt),ye>1&&(ye=1),ye}function mt(jt){var Zt=jt.toString().split(/[eE]/),ee=(Zt[0].split(".")[1]||"").length-+(Zt[1]||0);return ee>0?ee:0}function U(jt,Zt){var ee=mt(jt),ye=mt(Zt),Ce=Math.pow(10,Math.max(ee,ye));return(jt*Ce+Zt*Ce)/Ce}var V=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="log",ee}return Zt.prototype.invert=function(ee){var ye=this.base,Ce=it(ye,this.max),Le=this.rangeMin(),tr=this.rangeMax()-Le,sr,Gr=this.positiveMin;if(Gr){if(ee===0)return 0;sr=it(ye,Gr/ye);var Ne=1/(Ce-sr)*tr;if(ee<Ne)return ee/Ne*Gr}else sr=it(ye,this.min);var Lr=(ee-Le)/tr,bn=Lr*(Ce-sr)+sr;return Math.pow(ye,bn)},Zt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Zt.prototype.setDomain=function(){jt.prototype.setDomain.call(this);var ee=this.min;if(ee<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");ee===0&&(this.positiveMin=At(this.values,this.base,this.max))},Zt.prototype.getScalePercent=function(ee){var ye=this.max,Ce=this.min;if(ye===Ce||ee<=0)return 0;var Le=this.base,tr=this.positiveMin;tr&&(Ce=tr*1/Le);var sr;return ee<tr?sr=ee/tr/(it(Le,ye)-it(Le,Ce)):sr=(it(Le,ee)-it(Le,Ce))/(it(Le,ye)-it(Le,Ce)),sr},Zt}(vt),B=V,f=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="pow",ee}return Zt.prototype.invert=function(ee){var ye=this.getInvertPercent(ee),Ce=this.exponent,Le=dt(Ce,this.max),tr=dt(Ce,this.min),sr=ye*(Le-tr)+tr,Gr=sr>=0?1:-1;return Math.pow(sr,Ce)*Gr},Zt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Zt.prototype.getScalePercent=function(ee){var ye=this.max,Ce=this.min;if(ye===Ce)return 0;var Le=this.exponent,tr=(dt(Le,ee)-dt(Le,Ce))/(dt(Le,ye)-dt(Le,Ce));return tr},Zt}(vt),yt=f,St=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="time",ee}return Zt.prototype.getText=function(ee,ye){var Ce=this.translate(ee),Le=this.formatter;return Le?Le(Ce,ye):x(Ce,this.mask)},Zt.prototype.scale=function(ee){var ye=ee;return((0,m.isString)(ye)||(0,m.isDate)(ye))&&(ye=this.translate(ye)),jt.prototype.scale.call(this,ye)},Zt.prototype.translate=function(ee){return E(ee)},Zt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Zt.prototype.setDomain=function(){var ee=this.values,ye=this.getConfig("min"),Ce=this.getConfig("max");if((!(0,m.isNil)(ye)||!(0,m.isNumber)(ye))&&(this.min=this.translate(this.min)),(!(0,m.isNil)(Ce)||!(0,m.isNumber)(Ce))&&(this.max=this.translate(this.max)),ee&&ee.length){var Le=[],tr=Infinity,sr=tr,Gr=0;(0,m.each)(ee,function(Ne){var Lr=E(Ne);if(isNaN(Lr))throw new TypeError("Invalid Time: "+Ne+" in time scale!");tr>Lr?(sr=tr,tr=Lr):sr>Lr&&(sr=Lr),Gr<Lr&&(Gr=Lr),Le.push(Lr)}),ee.length>1&&(this.minTickInterval=sr-tr),(0,m.isNil)(ye)&&(this.min=tr),(0,m.isNil)(Ce)&&(this.max=Gr)}},Zt}(lt),Rt=St,Qt=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="quantize",ee}return Zt.prototype.invert=function(ee){var ye=this.ticks,Ce=ye.length,Le=this.getInvertPercent(ee),tr=Math.floor(Le*(Ce-1));if(tr>=Ce-1)return(0,m.last)(ye);if(tr<0)return(0,m.head)(ye);var sr=ye[tr],Gr=ye[tr+1],Ne=tr/(Ce-1),Lr=(tr+1)/(Ce-1);return sr+(Le-Ne)/(Lr-Ne)*(Gr-sr)},Zt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Zt.prototype.calculateTicks=function(){var ee=jt.prototype.calculateTicks.call(this);return this.nice||((0,m.last)(ee)!==this.max&&ee.push(this.max),(0,m.head)(ee)!==this.min&&ee.unshift(this.min)),ee},Zt.prototype.getScalePercent=function(ee){var ye=this.ticks;if(ee<(0,m.head)(ye))return 0;if(ee>(0,m.last)(ye))return 1;var Ce=0;return(0,m.each)(ye,function(Le,tr){if(ee>=Le)Ce=tr;else return!1}),Ce/(ye.length-1)},Zt}(vt),zt=Qt,$t=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="quantile",ee}return Zt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Zt}(zt),ne=$t,ae={};function Wt(jt){return ae[jt]}function It(jt,Zt){if(Wt(jt))throw new Error("type '"+jt+"' existed.");ae[jt]=Zt}var Ct=function(jt){(0,M.__extends)(Zt,jt);function Zt(){var ee=jt!==null&&jt.apply(this,arguments)||this;return ee.type="identity",ee.isIdentity=!0,ee}return Zt.prototype.calculateTicks=function(){return this.values},Zt.prototype.scale=function(ee){return this.values[0]!==ee&&(0,m.isNumber)(ee)?ee:this.range[0]},Zt.prototype.invert=function(ee){var ye=this.range;return ee<ye[0]||ee>ye[1]?NaN:this.values[0]},Zt}(T),ht=Ct;function Et(jt){var Zt=jt.values,ee=jt.tickInterval,ye=jt.tickCount,Ce=jt.showLast;if((0,m.isNumber)(ee)){var Le=(0,m.filter)(Zt,function(wn,fi){return fi%ee==0}),tr=(0,m.last)(Zt);return Ce&&(0,m.last)(Le)!==tr&&Le.push(tr),Le}var sr=Zt.length,Gr=jt.min,Ne=jt.max;if((0,m.isNil)(Gr)&&(Gr=0),(0,m.isNil)(Ne)&&(Ne=Zt.length-1),!(0,m.isNumber)(ye)||ye>=sr)return Zt.slice(Gr,Ne+1);if(ye<=0||Ne<=0)return[];for(var Lr=ye===1?sr:Math.floor(sr/(ye-1)),bn=[],On=Gr,vn=0;vn<ye&&!(On>=Ne);vn++)On=Math.min(Gr+vn*Lr,Ne),vn===ye-1&&Ce?bn.push(Zt[Ne]):bn.push(Zt[On]);return bn}function at(jt){var Zt=jt.min,ee=jt.max,ye=jt.nice,Ce=jt.tickCount,Le=new ue;return Le.domain([Zt,ee]),ye&&Le.nice(Ce),Le.ticks(Ce)}var Q=5,bt=Math.sqrt(50),Ot=Math.sqrt(10),Vt=Math.sqrt(2),ue=function(){function jt(){this._domain=[0,1]}return jt.prototype.domain=function(Zt){return Zt?(this._domain=Array.from(Zt,Number),this):this._domain.slice()},jt.prototype.nice=function(Zt){var ee,ye;Zt===void 0&&(Zt=Q);var Ce=this._domain.slice(),Le=0,tr=this._domain.length-1,sr=this._domain[Le],Gr=this._domain[tr],Ne;return Gr<sr&&(ee=[Gr,sr],sr=ee[0],Gr=ee[1],ye=[tr,Le],Le=ye[0],tr=ye[1]),Ne=Re(sr,Gr,Zt),Ne>0?(sr=Math.floor(sr/Ne)*Ne,Gr=Math.ceil(Gr/Ne)*Ne,Ne=Re(sr,Gr,Zt)):Ne<0&&(sr=Math.ceil(sr*Ne)/Ne,Gr=Math.floor(Gr*Ne)/Ne,Ne=Re(sr,Gr,Zt)),Ne>0?(Ce[Le]=Math.floor(sr/Ne)*Ne,Ce[tr]=Math.ceil(Gr/Ne)*Ne,this.domain(Ce)):Ne<0&&(Ce[Le]=Math.ceil(sr*Ne)/Ne,Ce[tr]=Math.floor(Gr*Ne)/Ne,this.domain(Ce)),this},jt.prototype.ticks=function(Zt){return Zt===void 0&&(Zt=Q),Se(this._domain[0],this._domain[this._domain.length-1],Zt||Q)},jt}();function Se(jt,Zt,ee){var ye,Ce=-1,Le,tr,sr;if(Zt=+Zt,jt=+jt,ee=+ee,jt===Zt&&ee>0)return[jt];if((ye=Zt<jt)&&(Le=jt,jt=Zt,Zt=Le),(sr=Re(jt,Zt,ee))===0||!isFinite(sr))return[];if(sr>0)for(jt=Math.ceil(jt/sr),Zt=Math.floor(Zt/sr),tr=new Array(Le=Math.ceil(Zt-jt+1));++Ce<Le;)tr[Ce]=(jt+Ce)*sr;else for(jt=Math.floor(jt*sr),Zt=Math.ceil(Zt*sr),tr=new Array(Le=Math.ceil(jt-Zt+1));++Ce<Le;)tr[Ce]=(jt-Ce)/sr;return ye&&tr.reverse(),tr}function Re(jt,Zt,ee){var ye=(Zt-jt)/Math.max(0,ee),Ce=Math.floor(Math.log(ye)/Math.LN10),Le=ye/Math.pow(10,Ce);return Ce>=0?(Le>=bt?10:Le>=Ot?5:Le>=Vt?2:1)*Math.pow(10,Ce):-Math.pow(10,-Ce)/(Le>=bt?10:Le>=Ot?5:Le>=Vt?2:1)}function We(jt,Zt,ee){var ye;return ee==="ceil"?ye=Math.ceil(jt/Zt):ee==="floor"?ye=Math.floor(jt/Zt):ye=Math.round(jt/Zt),ye*Zt}function mr(jt,Zt,ee){var ye=We(jt,ee,"floor"),Ce=We(Zt,ee,"ceil");ye=(0,m.fixedBase)(ye,ee),Ce=(0,m.fixedBase)(Ce,ee);for(var Le=[],tr=Math.max((Ce-ye)/(Math.pow(2,12)-1),ee),sr=ye;sr<=Ce;sr=sr+tr){var Gr=(0,m.fixedBase)(sr,tr);Le.push(Gr)}return{min:ye,max:Ce,ticks:Le}}function wr(jt,Zt,ee){var ye,Ce=jt.minLimit,Le=jt.maxLimit,tr=jt.min,sr=jt.max,Gr=jt.tickCount,Ne=Gr===void 0?5:Gr,Lr=(0,m.isNil)(Ce)?(0,m.isNil)(Zt)?tr:Zt:Ce,bn=(0,m.isNil)(Le)?(0,m.isNil)(ee)?sr:ee:Le;if(Lr>bn&&(ye=[Lr,bn],bn=ye[0],Lr=ye[1]),Ne<=2)return[Lr,bn];for(var On=(bn-Lr)/(Ne-1),vn=[],wn=0;wn<Ne;wn++)vn.push(Lr+On*wn);return vn}function br(jt){var Zt=jt.min,ee=jt.max,ye=jt.tickInterval,Ce=jt.minLimit,Le=jt.maxLimit,tr=at(jt);return!(0,m.isNil)(Ce)||!(0,m.isNil)(Le)?wr(jt,(0,m.head)(tr),(0,m.last)(tr)):ye?mr(Zt,ee,ye).ticks:tr}function zr(jt){return Math.abs(jt)<1e-15?jt:parseFloat(jt.toFixed(15))}var pr=[1,5,2,2.5,4,3],an=null,Tn=Number.EPSILON*100;function rn(jt,Zt){return(jt%Zt+Zt)%Zt}function Mn(jt){return Math.round(jt*1e12)/1e12}function Si(jt,Zt,ee,ye,Ce,Le){var tr=(0,m.size)(Zt),sr=(0,m.indexOf)(Zt,jt),Gr=0,Ne=rn(ye,Le);return(Ne<Tn||Le-Ne<Tn)&&ye<=0&&Ce>=0&&(Gr=1),1-sr/(tr-1)-ee+Gr}function Ti(jt,Zt,ee){var ye=(0,m.size)(Zt),Ce=(0,m.indexOf)(Zt,jt),Le=1;return 1-Ce/(ye-1)-ee+Le}function Di(jt,Zt,ee,ye,Ce,Le){var tr=(jt-1)/(Le-Ce),sr=(Zt-1)/(Math.max(Le,ye)-Math.min(ee,Ce));return 2-Math.max(tr/sr,sr/tr)}function Vi(jt,Zt){return jt>=Zt?2-(jt-1)/(Zt-1):1}function Xt(jt,Zt,ee,ye){var Ce=Zt-jt;return 1-.5*(Math.pow(Zt-ye,2)+Math.pow(jt-ee,2))/Math.pow(.1*Ce,2)}function Kt(jt,Zt,ee){var ye=Zt-jt;if(ee>ye){var Ce=(ee-ye)/2;return 1-Math.pow(Ce,2)/Math.pow(.1*ye,2)}return 1}function oe(){return 1}function he(jt,Zt,ee,ye,Ce,Le){ee===void 0&&(ee=5),ye===void 0&&(ye=!0),Ce===void 0&&(Ce=pr),Le===void 0&&(Le=[.25,.2,.5,.05]);var tr=ee<0?0:Math.round(ee);if(Number.isNaN(jt)||Number.isNaN(Zt)||typeof jt!="number"||typeof Zt!="number"||!tr)return{min:0,max:0,ticks:[]};if(Zt-jt<1e-15||tr===1)return{min:jt,max:Zt,ticks:[jt]};if(Zt-jt>1e148){var sr=ee||5,Gr=(Zt-jt)/sr;return{min:jt,max:Zt,ticks:Array(sr).fill(null).map(function(qr,hn){return zr(jt+Gr*hn)})}}for(var Ne={score:-2,lmin:0,lmax:0,lstep:0},Lr=1;Lr<Infinity;){for(var bn=0;bn<Ce.length;bn+=1){var On=Ce[bn],vn=Ti(On,Ce,Lr);if(Le[0]*vn+Le[1]+Le[2]+Le[3]<Ne.score){Lr=Infinity;break}for(var wn=2;wn<Infinity;){var fi=Vi(wn,tr);if(Le[0]*vn+Le[1]+Le[2]*fi+Le[3]<Ne.score)break;for(var si=(Zt-jt)/(wn+1)/Lr/On,bi=Math.ceil(Math.log10(si));bi<Infinity;){var Gn=Lr*On*Math.pow(10,bi),Hi=Kt(jt,Zt,Gn*(wn-1));if(Le[0]*vn+Le[1]*Hi+Le[2]*fi+Le[3]<Ne.score)break;var Wi=Math.floor(Zt/Gn)*Lr-(wn-1)*Lr,Pt=Math.ceil(jt/Gn)*Lr;if(Wi<=Pt)for(var sr=Pt-Wi,xt=0;xt<=sr;xt+=1){var nt=Wi+xt,ft=nt*(Gn/Lr),Bt=ft+Gn*(wn-1),Ut=Gn,ce=Si(On,Ce,Lr,ft,Bt,Ut),de=Xt(jt,Zt,ft,Bt),pe=Di(wn,tr,jt,Zt,ft,Bt),ze=oe(),Qe=Le[0]*ce+Le[1]*de+Le[2]*pe+Le[3]*ze;Qe>Ne.score&&(!ye||ft<=jt&&Bt>=Zt)&&(Ne.lmin=ft,Ne.lmax=Bt,Ne.lstep=Ut,Ne.score=Qe)}bi+=1}wn+=1}}Lr+=1}var Ue=zr(Ne.lmax),Sr=zr(Ne.lmin),dr=zr(Ne.lstep),Ve=Math.floor(Mn((Ue-Sr)/dr))+1,Dr=new Array(Ve);Dr[0]=zr(Sr);for(var bn=1;bn<Ve;bn++)Dr[bn]=zr(Dr[bn-1]+dr);return{min:Math.min(jt,(0,m.head)(Dr)),max:Math.max(Zt,(0,m.last)(Dr)),ticks:Dr}}function be(jt){var Zt=jt.min,ee=jt.max,ye=jt.tickCount,Ce=jt.nice,Le=jt.tickInterval,tr=jt.minLimit,sr=jt.maxLimit,Gr=he(Zt,ee,ye,Ce).ticks;return!(0,m.isNil)(tr)||!(0,m.isNil)(sr)?wr(jt,(0,m.head)(Gr),(0,m.last)(Gr)):Le?mr(Zt,ee,Le).ticks:Gr}function Ee(jt){var Zt=jt.base,ee=jt.tickCount,ye=jt.min,Ce=jt.max,Le=jt.values,tr,sr=it(Zt,Ce);if(ye>0)tr=Math.floor(it(Zt,ye));else{var Gr=At(Le,Zt,Ce);tr=Math.floor(it(Zt,Gr))}for(var Ne=sr-tr,Lr=Math.ceil(Ne/ee),bn=[],On=tr;On<sr+Lr;On=On+Lr)bn.push(Math.pow(Zt,On));return ye<=0&&bn.unshift(0),bn}function Pe(jt,Zt,ee){if(ee===void 0&&(ee=5),jt===Zt)return{max:Zt,min:jt,ticks:[jt]};var ye=ee<0?0:Math.round(ee);if(ye===0)return{max:Zt,min:jt,ticks:[]};var Ce=1.5,Le=.5+1.5*Ce,tr=Zt-jt,sr=tr/ye,Gr=Math.pow(10,Math.floor(Math.log10(sr))),Ne=Gr;2*Gr-sr<Ce*(sr-Ne)&&(Ne=2*Gr,5*Gr-sr<Le*(sr-Ne)&&(Ne=5*Gr,10*Gr-sr<Ce*(sr-Ne)&&(Ne=10*Gr)));for(var Lr=Math.ceil(Zt/Ne),bn=Math.floor(jt/Ne),On=Math.max(Lr*Ne,Zt),vn=Math.min(bn*Ne,jt),wn=Math.floor((On-vn)/Ne)+1,fi=new Array(wn),si=0;si<wn;si++)fi[si]=zr(vn+si*Ne);return{min:vn,max:On,ticks:fi}}function Oe(jt){var Zt=jt.exponent,ee=jt.tickCount,ye=Math.ceil(dt(Zt,jt.max)),Ce=Math.floor(dt(Zt,jt.min)),Le=Pe(Ce,ye,ee).ticks;return Le.map(function(tr){var sr=tr>=0?1:-1;return Math.pow(tr,Zt)*sr})}function me(jt,Zt){var ee=jt.length*Zt;return Zt===1?jt[jt.length-1]:Zt===0?jt[0]:ee%1!=0?jt[Math.ceil(ee)-1]:jt.length%2==0?(jt[ee-1]+jt[ee])/2:jt[ee]}function rr(jt){var Zt=jt.tickCount,ee=jt.values;if(!ee||!ee.length)return[];for(var ye=ee.slice().sort(function(sr,Gr){return sr-Gr}),Ce=[],Le=0;Le<Zt;Le++){var tr=Le/(Zt-1);Ce.push(me(ye,tr))}return Ce}function Xe(jt){var Zt=jt.min,ee=jt.max,ye=jt.tickCount,Ce=jt.tickInterval,Le=jt.minLimit,tr=jt.maxLimit,sr=Pe(Zt,ee,ye).ticks;return!(0,m.isNil)(Le)||!(0,m.isNil)(tr)?wr(jt,(0,m.head)(sr),(0,m.last)(sr)):Ce?mr(Zt,ee,Ce).ticks:sr}function fr(jt){var Zt=jt.min,ee=jt.max,ye=jt.minTickInterval,Ce=jt.tickInterval,Le=jt.tickCount;if(Ce)Le=Math.ceil((ee-Zt)/Ce);else{Ce=tt(Zt,ee,Le)[1];var tr=(ee-Zt)/Ce,sr=tr/Le;sr>1&&(Ce=Ce*Math.ceil(sr)),ye&&Ce<ye&&(Ce=ye)}Ce=Math.max(Math.floor((ee-Zt)/(Math.pow(2,12)-1)),Ce);for(var Gr=[],Ne=Zt;Ne<ee+Ce;Ne+=Ce)Gr.push(Ne);return Gr}function Pr(jt){var Zt=Et((0,M.__assign)({showLast:!0},jt));return Zt}function vr(jt){return new Date(jt).getFullYear()}function Er(jt){return new Date(jt,0,1).getTime()}function xr(jt){return new Date(jt).getMonth()}function Br(jt,Zt){var ee=vr(jt),ye=vr(Zt),Ce=xr(jt),Le=xr(Zt);return(ye-ee)*12+(Le-Ce)%12}function ur(jt,Zt){return new Date(jt,Zt,1).getTime()}function Yr(jt,Zt){return Math.ceil((Zt-jt)/z)}function Jr(jt,Zt){return Math.ceil((Zt-jt)/N)}function jr(jt,Zt){return Math.ceil((Zt-jt)/(60*1e3))}function Qr(jt){var Zt=jt.min,ee=jt.max,ye=jt.minTickInterval,Ce=jt.tickCount,Le=jt.tickInterval,tr=[];Le||(Le=(ee-Zt)/Ce,ye&&Le<ye&&(Le=ye)),Le=Math.max(Math.floor((ee-Zt)/(Math.pow(2,12)-1)),Le);var sr=vr(Zt);if(Le>X)for(var Gr=vr(ee),Ne=Math.ceil(Le/X),Lr=sr;Lr<=Gr+Ne;Lr=Lr+Ne)tr.push(Er(Lr));else if(Le>W)for(var bn=Math.ceil(Le/W),On=xr(Zt),vn=Br(Zt,ee),Lr=0;Lr<=vn+bn;Lr=Lr+bn)tr.push(ur(sr,Lr+On));else if(Le>z)for(var wn=new Date(Zt),fi=wn.getFullYear(),si=wn.getMonth(),bi=wn.getDate(),Gn=Math.ceil(Le/z),Hi=Yr(Zt,ee),Lr=0;Lr<Hi+Gn;Lr=Lr+Gn)tr.push(new Date(fi,si,bi+Lr).getTime());else if(Le>N)for(var wn=new Date(Zt),fi=wn.getFullYear(),si=wn.getMonth(),Gn=wn.getDate(),Wi=wn.getHours(),Pt=Math.ceil(Le/N),xt=Jr(Zt,ee),Lr=0;Lr<=xt+Pt;Lr=Lr+Pt)tr.push(new Date(fi,si,Gn,Wi+Lr).getTime());else if(Le>D)for(var nt=jr(Zt,ee),ft=Math.ceil(Le/D),Lr=0;Lr<=nt+ft;Lr=Lr+ft)tr.push(Zt+Lr*D);else{var Bt=Le;Bt<O&&(Bt=O);for(var Ut=Math.floor(Zt/O)*O,ce=Math.ceil((ee-Zt)/O),de=Math.ceil(Bt/O),Lr=0;Lr<ce+de;Lr=Lr+de)tr.push(Ut+Lr*O)}return tr.length>=512&&console.warn("Notice: current ticks length("+tr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Le+") is too small, increase the value to solve the problem!"),tr}L("cat",Et),L("time-cat",Pr),L("wilkinson-extended",be),L("r-pretty",Xe),L("time",fr),L("time-pretty",Qr),L("log",Ee),L("pow",Oe),L("quantile",rr),L("d3-linear",br),It("cat",p),It("category",p),It("identity",ht),It("linear",lt),It("log",B),It("pow",yt),It("time",Rt),It("timeCat",wt),It("quantize",zt),It("quantile",ne)},49242:function(ct,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return An},assign:function(){return on},augment:function(){return cr},clamp:function(){return vr},clearAnimationFrame:function(){return Rr},clone:function(){return zn},contains:function(){return L},debounce:function(){return oa},deepMix:function(){return ka},difference:function(){return A},each:function(){return z},endsWith:function(){return Tn},every:function(){return Mn},extend:function(){return So},filter:function(){return T},find:function(){return lt},findIndex:function(){return it},firstValue:function(){return mt},fixedBase:function(){return xr},flatten:function(){return V},flattenDeep:function(){return f},forIn:function(){return Pt},get:function(){return R},getEllipsisText:function(){return En},getRange:function(){return Qt},getType:function(){return Or},getWrapBehavior:function(){return be},group:function(){return oe},groupBy:function(){return Xt},groupToMap:function(){return Kt},has:function(){return xt},hasKey:function(){return nt},hasValue:function(){return Ut},head:function(){return wr},identity:function(){return je},includes:function(){return L},indexOf:function(){return ja},isArguments:function(){return un},isArray:function(){return O},isArrayLike:function(){return I},isBoolean:function(){return $n},isDate:function(){return Mt},isDecimal:function(){return Jr},isElement:function(){return He},isEmpty:function(){return oo},isEqual:function(){return Xn},isEqualWith:function(){return Ua},isError:function(){return Z},isEven:function(){return Qr},isFinite:function(){return rt},isFunction:function(){return b},isInteger:function(){return Zt},isMatch:function(){return tt},isNegative:function(){return ye},isNil:function(){return E},isNull:function(){return Nt},isNumber:function(){return ur},isNumberEqual:function(){return Le},isObject:function(){return D},isObjectLike:function(){return wt},isOdd:function(){return sr},isPlainObject:function(){return vt},isPositive:function(){return Ne},isPrototype:function(){return le},isRegExp:function(){return Ie},isString:function(){return Ot},isType:function(){return y},isUndefined:function(){return ar},keys:function(){return X},last:function(){return br},lowerCase:function(){return pe},lowerFirst:function(){return Qe},map:function(){return Fi},mapValues:function(){return ut},max:function(){return yt},maxBy:function(){return Lr},measureTextWidth:function(){return Vr},memoize:function(){return Oa},min:function(){return St},minBy:function(){return bn},mix:function(){return on},mod:function(){return vn},noop:function(){return Ae},number2color:function(){return rr},omit:function(){return kt},parseRadius:function(){return fr},pick:function(){return gt},pull:function(){return Wt},pullAt:function(){return ht},reduce:function(){return at},remove:function(){return bt},requestAnimationFrame:function(){return Fr},set:function(){return H},size:function(){return qe},some:function(){return Ti},sortBy:function(){return ue},startsWith:function(){return pr},substitute:function(){return Sr},throttle:function(){return Yt},toArray:function(){return te},toDegree:function(){return si},toInteger:function(){return bi},toRadian:function(){return Wi},toString:function(){return ce},union:function(){return We},uniq:function(){return Se},uniqueId:function(){return xe},upperCase:function(){return Ve},upperFirst:function(){return qr},values:function(){return Bt},valuesOfKey:function(){return mr},wrapBehavior:function(){return Pe}});var m=function(Lt){return Lt!==null&&typeof Lt!="function"&&isFinite(Lt.length)},I=m,k=function(Lt,Jt){return I(Lt)?Lt.indexOf(Jt)>-1:!1},L=k,P=function(Lt,Jt){if(!I(Lt))return Lt;for(var ge=[],we=0;we<Lt.length;we++){var Ye=Lt[we];Jt(Ye,we)&&ge.push(Ye)}return ge},T=P,M=function(Lt,Jt){return Jt===void 0&&(Jt=[]),T(Lt,function(ge){return!L(Jt,ge)})},A=M,p={}.toString,w=function(Lt,Jt){return p.call(Lt)==="[object "+Jt+"]"},y=w,b=function(Lt){return y(Lt,"Function")},x=function(Lt){return Lt==null},E=x,O=function(Lt){return Array.isArray?Array.isArray(Lt):y(Lt,"Array")},D=function(Lt){var Jt=typeof Lt;return Lt!==null&&Jt==="object"||Jt==="function"};function N(Lt,Jt){if(!!Lt){var ge;if(O(Lt))for(var we=0,Ye=Lt.length;we<Ye&&(ge=Jt(Lt[we],we),ge!==!1);we++);else if(D(Lt)){for(var yr in Lt)if(Lt.hasOwnProperty(yr)&&(ge=Jt(Lt[yr],yr),ge===!1))break}}}var z=N,W=Object.keys?function(Lt){return Object.keys(Lt)}:function(Lt){var Jt=[];return z(Lt,function(ge,we){b(Lt)&&we==="prototype"||Jt.push(we)}),Jt},X=W;function j(Lt,Jt){var ge=X(Jt),we=ge.length;if(E(Lt))return!we;for(var Ye=0;Ye<we;Ye+=1){var yr=ge[Ye];if(Jt[yr]!==Lt[yr]||!(yr in Lt))return!1}return!0}var tt=j,K=function(Lt){return typeof Lt=="object"&&Lt!==null},wt=K,ot=function(Lt){if(!wt(Lt)||!y(Lt,"Object"))return!1;if(Object.getPrototypeOf(Lt)===null)return!0;for(var Jt=Lt;Object.getPrototypeOf(Jt)!==null;)Jt=Object.getPrototypeOf(Jt);return Object.getPrototypeOf(Lt)===Jt},vt=ot;function et(Lt,Jt){if(!O(Lt))return null;var ge;if(b(Jt)&&(ge=Jt),vt(Jt)&&(ge=function(Ye){return tt(Ye,Jt)}),ge){for(var we=0;we<Lt.length;we+=1)if(ge(Lt[we]))return Lt[we]}return null}var lt=et;function dt(Lt,Jt,ge){ge===void 0&&(ge=0);for(var we=ge;we<Lt.length;we++)if(Jt(Lt[we],we))return we;return-1}var it=dt,At=function(Lt,Jt){for(var ge=null,we=0;we<Lt.length;we++){var Ye=Lt[we],yr=Ye[Jt];if(!E(yr)){O(yr)?ge=yr[0]:ge=yr;break}}return ge},mt=At,U=function(Lt){if(!O(Lt))return[];for(var Jt=[],ge=0;ge<Lt.length;ge++)Jt=Jt.concat(Lt[ge]);return Jt},V=U,B=function(Lt,Jt){if(Jt===void 0&&(Jt=[]),!O(Lt))Jt.push(Lt);else for(var ge=0;ge<Lt.length;ge+=1)B(Lt[ge],Jt);return Jt},f=B,yt=function(Lt){if(!!O(Lt))return Lt.reduce(function(Jt,ge){return Math.max(Jt,ge)},Lt[0])},St=function(Lt){if(!!O(Lt))return Lt.reduce(function(Jt,ge){return Math.min(Jt,ge)},Lt[0])},Rt=function(Lt){var Jt=Lt.filter(function(en){return!isNaN(en)});if(!Jt.length)return{min:0,max:0};if(O(Lt[0])){for(var ge=[],we=0;we<Lt.length;we++)ge=ge.concat(Lt[we]);Jt=ge}var Ye=yt(Jt),yr=St(Jt);return{min:yr,max:Ye}},Qt=Rt,zt=Array.prototype,$t=zt.splice,ne=zt.indexOf,ae=function(Lt){for(var Jt=[],ge=1;ge<arguments.length;ge++)Jt[ge-1]=arguments[ge];for(var we=0;we<Jt.length;we++)for(var Ye=Jt[we],yr=-1;(yr=ne.call(Lt,Ye))>-1;)$t.call(Lt,yr,1);return Lt},Wt=ae,It=Array.prototype.splice,Ct=function(Jt,ge){if(!I(Jt))return[];for(var we=Jt?ge.length:0,Ye=we-1;we--;){var yr=void 0,en=ge[we];(we===Ye||en!==yr)&&(yr=en,It.call(Jt,en,1))}return Jt},ht=Ct,Et=function(Lt,Jt,ge){if(!O(Lt)&&!vt(Lt))return Lt;var we=ge;return z(Lt,function(Ye,yr){we=Jt(we,Ye,yr)}),we},at=Et,Q=function(Lt,Jt){var ge=[];if(!I(Lt))return ge;for(var we=-1,Ye=[],yr=Lt.length;++we<yr;){var en=Lt[we];Jt(en,we,Lt)&&(ge.push(en),Ye.push(we))}return ht(Lt,Ye),ge},bt=Q,Ot=function(Lt){return y(Lt,"String")};function Vt(Lt,Jt){var ge;if(b(Jt))ge=function(Ye,yr){return Jt(Ye)-Jt(yr)};else{var we=[];Ot(Jt)?we.push(Jt):O(Jt)&&(we=Jt),ge=function(Ye,yr){for(var en=0;en<we.length;en+=1){var Vn=we[en];if(Ye[Vn]>yr[Vn])return 1;if(Ye[Vn]<yr[Vn])return-1}return 0}}return Lt.sort(ge),Lt}var ue=Vt;function Se(Lt,Jt){Jt===void 0&&(Jt=new Map);var ge=[];if(Array.isArray(Lt))for(var we=0,Ye=Lt.length;we<Ye;we++){var yr=Lt[we];Jt.has(yr)||(ge.push(yr),Jt.set(yr,!0))}return ge}var Re=function(){for(var Lt=[],Jt=0;Jt<arguments.length;Jt++)Lt[Jt]=arguments[Jt];return Se([].concat.apply([],Lt))},We=Re,mr=function(Lt,Jt){for(var ge=[],we={},Ye=0;Ye<Lt.length;Ye++){var yr=Lt[Ye],en=yr[Jt];if(!E(en)){O(en)||(en=[en]);for(var Vn=0;Vn<en.length;Vn++){var Li=en[Vn];we[Li]||(ge.push(Li),we[Li]=!0)}}}return ge};function wr(Lt){if(I(Lt))return Lt[0]}function br(Lt){if(I(Lt)){var Jt=Lt;return Jt[Jt.length-1]}}function zr(Lt,Jt){return O(Lt)||Ot(Lt)?Lt[0]===Jt:!1}var pr=zr;function an(Lt,Jt){return O(Lt)||Ot(Lt)?Lt[Lt.length-1]===Jt:!1}var Tn=an,rn=function(Lt,Jt){for(var ge=0;ge<Lt.length;ge++)if(!Jt(Lt[ge],ge))return!1;return!0},Mn=rn,Si=function(Lt,Jt){for(var ge=0;ge<Lt.length;ge++)if(Jt(Lt[ge],ge))return!0;return!1},Ti=Si,Di=Object.prototype.hasOwnProperty;function Vi(Lt,Jt){if(!Jt||!O(Lt))return{};for(var ge={},we=b(Jt)?Jt:function(Vn){return Vn[Jt]},Ye,yr=0;yr<Lt.length;yr++){var en=Lt[yr];Ye=we(en),Di.call(ge,Ye)?ge[Ye].push(en):ge[Ye]=[en]}return ge}var Xt=Vi;function Kt(Lt,Jt){if(!Jt)return{0:Lt};if(!b(Jt)){var ge=O(Jt)?Jt:Jt.replace(/\s+/g,"").split("*");Jt=function(we){for(var Ye="_",yr=0,en=ge.length;yr<en;yr++)Ye+=we[ge[yr]]&&we[ge[yr]].toString();return Ye}}return Xt(Lt,Jt)}var oe=function(Lt,Jt){if(!Jt)return[Lt];var ge=Kt(Lt,Jt),we=[];for(var Ye in ge)we.push(ge[Ye]);return we};function he(Lt,Jt){return Lt["_wrap_"+Jt]}var be=he;function Ee(Lt,Jt){if(Lt["_wrap_"+Jt])return Lt["_wrap_"+Jt];var ge=function(we){Lt[Jt](we)};return Lt["_wrap_"+Jt]=ge,ge}var Pe=Ee,Oe={};function me(Lt){var Jt=Oe[Lt];if(!Jt){for(var ge=Lt.toString(16),we=ge.length;we<6;we++)ge="0"+ge;Jt="#"+ge,Oe[Lt]=Jt}return Jt}var rr=me;function Xe(Lt){var Jt=0,ge=0,we=0,Ye=0;return O(Lt)?Lt.length===1?Jt=ge=we=Ye=Lt[0]:Lt.length===2?(Jt=we=Lt[0],ge=Ye=Lt[1]):Lt.length===3?(Jt=Lt[0],ge=Ye=Lt[1],we=Lt[2]):(Jt=Lt[0],ge=Lt[1],we=Lt[2],Ye=Lt[3]):Jt=ge=we=Ye=Lt,{r1:Jt,r2:ge,r3:we,r4:Ye}}var fr=Xe,Pr=function(Lt,Jt,ge){return Lt<Jt?Jt:Lt>ge?ge:Lt},vr=Pr,Er=function(Lt,Jt){var ge=Jt.toString(),we=ge.indexOf(".");if(we===-1)return Math.round(Lt);var Ye=ge.substr(we+1).length;return Ye>20&&(Ye=20),parseFloat(Lt.toFixed(Ye))},xr=Er,Br=function(Lt){return y(Lt,"Number")},ur=Br,Yr=function(Lt){return ur(Lt)&&Lt%1!=0},Jr=Yr,jr=function(Lt){return ur(Lt)&&Lt%2==0},Qr=jr,jt=Number.isInteger?Number.isInteger:function(Lt){return ur(Lt)&&Lt%1==0},Zt=jt,ee=function(Lt){return ur(Lt)&&Lt<0},ye=ee,Ce=1e-5;function Le(Lt,Jt,ge){return ge===void 0&&(ge=Ce),Math.abs(Lt-Jt)<ge}var tr=function(Lt){return ur(Lt)&&Lt%2!=0},sr=tr,Gr=function(Lt){return ur(Lt)&&Lt>0},Ne=Gr,Lr=function(Lt,Jt){if(!!O(Lt)){for(var ge,we=-Infinity,Ye=0;Ye<Lt.length;Ye++){var yr=Lt[Ye],en=b(Jt)?Jt(yr):yr[Jt];en>we&&(ge=yr,we=en)}return ge}},bn=function(Lt,Jt){if(!!O(Lt)){for(var ge,we=Infinity,Ye=0;Ye<Lt.length;Ye++){var yr=Lt[Ye],en=b(Jt)?Jt(yr):yr[Jt];en<we&&(ge=yr,we=en)}return ge}},On=function(Lt,Jt){return(Lt%Jt+Jt)%Jt},vn=On,wn=180/Math.PI,fi=function(Lt){return wn*Lt},si=fi,bi=parseInt,Gn=Math.PI/180,Hi=function(Lt){return Gn*Lt},Wi=Hi,Pt=z,xt=function(Lt,Jt){return Lt.hasOwnProperty(Jt)},nt=xt,ft=Object.values?function(Lt){return Object.values(Lt)}:function(Lt){var Jt=[];return z(Lt,function(ge,we){b(Lt)&&we==="prototype"||Jt.push(ge)}),Jt},Bt=ft,Ut=function(Lt,Jt){return L(Bt(Lt),Jt)},ce=function(Lt){return E(Lt)?"":Lt.toString()},de=function(Lt){return ce(Lt).toLowerCase()},pe=de,ze=function(Lt){var Jt=ce(Lt);return Jt.charAt(0).toLowerCase()+Jt.substring(1)},Qe=ze;function Ue(Lt,Jt){return!Lt||!Jt?Lt:Lt.replace(/\\?\{([^{}]+)\}/g,function(ge,we){return ge.charAt(0)==="\\"?ge.slice(1):Jt[we]===void 0?"":Jt[we]})}var Sr=Ue,dr=function(Lt){return ce(Lt).toUpperCase()},Ve=dr,Dr=function(Lt){var Jt=ce(Lt);return Jt.charAt(0).toUpperCase()+Jt.substring(1)},qr=Dr,hn={}.toString,ln=function(Lt){return hn.call(Lt).replace(/^\[object /,"").replace(/]$/,"")},Or=ln,hr=function(Lt){return y(Lt,"Arguments")},un=hr,Yn=function(Lt){return y(Lt,"Boolean")},$n=Yn,hi=function(Lt){return y(Lt,"Date")},Mt=hi,st=function(Lt){return y(Lt,"Error")},Z=st;function rt(Lt){return ur(Lt)&&isFinite(Lt)}var Tt=function(Lt){return Lt===null},Nt=Tt,ie=Object.prototype,re=function(Lt){var Jt=Lt&&Lt.constructor,ge=typeof Jt=="function"&&Jt.prototype||ie;return Lt===ge},le=re,_e=function(Lt){return y(Lt,"RegExp")},Ie=_e,Fe=function(Lt){return Lt===void 0},ar=Fe,lr=function(Lt){return Lt instanceof Element||Lt instanceof HTMLDocument},He=lr;function Fr(Lt){var Jt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ge){return setTimeout(ge,16)};return Jt(Lt)}function Rr(Lt){var Jt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Jt(Lt)}function tn(Lt,Jt){for(var ge in Jt)Jt.hasOwnProperty(ge)&&ge!=="constructor"&&Jt[ge]!==void 0&&(Lt[ge]=Jt[ge])}function on(Lt,Jt,ge,we){return Jt&&tn(Lt,Jt),ge&&tn(Lt,ge),we&&tn(Lt,we),Lt}var gr=function(){for(var Lt=[],Jt=0;Jt<arguments.length;Jt++)Lt[Jt]=arguments[Jt];for(var ge=Lt[0],we=1;we<Lt.length;we++){var Ye=Lt[we];b(Ye)&&(Ye=Ye.prototype),on(ge.prototype,Ye)}},cr=gr,nn=function(Lt){if(typeof Lt!="object"||Lt===null)return Lt;var Jt;if(O(Lt)){Jt=[];for(var ge=0,we=Lt.length;ge<we;ge++)typeof Lt[ge]=="object"&&Lt[ge]!=null?Jt[ge]=nn(Lt[ge]):Jt[ge]=Lt[ge]}else{Jt={};for(var Ye in Lt)typeof Lt[Ye]=="object"&&Lt[Ye]!=null?Jt[Ye]=nn(Lt[Ye]):Jt[Ye]=Lt[Ye]}return Jt},zn=nn;function Qn(Lt,Jt,ge){var we;return function(){var Ye=this,yr=arguments,en=function(){we=null,ge||Lt.apply(Ye,yr)},Vn=ge&&!we;clearTimeout(we),we=setTimeout(en,Jt),Vn&&Lt.apply(Ye,yr)}}var oa=Qn,Oa=function(Lt,Jt){if(!b(Lt))throw new TypeError("Expected a function");var ge=function(){for(var we=[],Ye=0;Ye<arguments.length;Ye++)we[Ye]=arguments[Ye];var yr=Jt?Jt.apply(this,we):we[0],en=ge.cache;if(en.has(yr))return en.get(yr);var Vn=Lt.apply(this,we);return en.set(yr,Vn),Vn};return ge.cache=new Map,ge},zo=5;function Wa(Lt,Jt,ge,we){ge=ge||0,we=we||zo;for(var Ye in Jt)if(Jt.hasOwnProperty(Ye)){var yr=Jt[Ye];yr!==null&&vt(yr)?(vt(Lt[Ye])||(Lt[Ye]={}),ge<we?Wa(Lt[Ye],yr,ge+1,we):Lt[Ye]=Jt[Ye]):O(yr)?(Lt[Ye]=[],Lt[Ye]=Lt[Ye].concat(yr)):yr!==void 0&&(Lt[Ye]=yr)}}var ao=function(Lt){for(var Jt=[],ge=1;ge<arguments.length;ge++)Jt[ge-1]=arguments[ge];for(var we=0;we<Jt.length;we+=1)Wa(Lt,Jt[we]);return Lt},ka=ao,Pi=function(Lt,Jt,ge,we){b(Jt)||(ge=Jt,Jt=Lt,Lt=function(){});var Ye=Object.create?function(en,Vn){return Object.create(en,{constructor:{value:Vn}})}:function(en,Vn){function Li(){}Li.prototype=en;var sa=new Li;return sa.constructor=Vn,sa},yr=Ye(Jt.prototype,Lt);return Lt.prototype=on(yr,Lt.prototype),Lt.superclass=Ye(Jt.prototype,Jt),on(yr,ge),on(Lt,we),Lt},So=Pi,Co=function(Lt,Jt){if(!I(Lt))return-1;var ge=Array.prototype.indexOf;if(ge)return ge.call(Lt,Jt);for(var we=-1,Ye=0;Ye<Lt.length;Ye++)if(Lt[Ye]===Jt){we=Ye;break}return we},ja=Co,_a=Object.prototype.hasOwnProperty;function Wn(Lt){if(E(Lt))return!0;if(I(Lt))return!Lt.length;var Jt=Or(Lt);if(Jt==="Map"||Jt==="Set")return!Lt.size;if(le(Lt))return!Object.keys(Lt).length;for(var ge in Lt)if(_a.call(Lt,ge))return!1;return!0}var oo=Wn,di=function(Lt,Jt){if(Lt===Jt)return!0;if(!Lt||!Jt||Ot(Lt)||Ot(Jt))return!1;if(I(Lt)||I(Jt)){if(Lt.length!==Jt.length)return!1;for(var ge=!0,we=0;we<Lt.length&&(ge=di(Lt[we],Jt[we]),!!ge);we++);return ge}if(wt(Lt)||wt(Jt)){var Ye=Object.keys(Lt),yr=Object.keys(Jt);if(Ye.length!==yr.length)return!1;for(var ge=!0,we=0;we<Ye.length&&(ge=di(Lt[Ye[we]],Jt[Ye[we]]),!!ge);we++);return ge}return!1},Xn=di,Ua=function(Lt,Jt,ge){return b(ge)?!!ge(Lt,Jt):Xn(Lt,Jt)},Bn=function(Lt,Jt){if(!I(Lt))return Lt;for(var ge=[],we=0;we<Lt.length;we++){var Ye=Lt[we];ge.push(Jt(Ye,we))}return ge},Fi=Bn,Gt=function(Lt){return Lt},ut=function(Lt,Jt){Jt===void 0&&(Jt=Gt);var ge={};return D(Lt)&&!E(Lt)&&Object.keys(Lt).forEach(function(we){ge[we]=Jt(Lt[we],we)}),ge},R=function(Lt,Jt,ge){for(var we=0,Ye=Ot(Jt)?Jt.split("."):Jt;Lt&&we<Ye.length;)Lt=Lt[Ye[we++]];return Lt===void 0||we<Ye.length?ge:Lt},H=function(Lt,Jt,ge){var we=Lt,Ye=Ot(Jt)?Jt.split("."):Jt;return Ye.forEach(function(yr,en){en<Ye.length-1?(D(we[yr])||(we[yr]=ur(Ye[en+1])?[]:{}),we=we[yr]):we[yr]=ge}),Lt},q=Object.prototype.hasOwnProperty,gt=function(Lt,Jt){if(Lt===null||!vt(Lt))return{};var ge={};return z(Jt,function(we){q.call(Lt,we)&&(ge[we]=Lt[we])}),ge},kt=function(Lt,Jt){return at(Lt,function(ge,we,Ye){return Jt.includes(Ye)||(ge[Ye]=we),ge},{})},Yt=function(Lt,Jt,ge){var we,Ye,yr,en,Vn=0;ge||(ge={});var Li=function(){Vn=ge.leading===!1?0:Date.now(),we=null,en=Lt.apply(Ye,yr),we||(Ye=yr=null)},sa=function(){var ha=Date.now();!Vn&&ge.leading===!1&&(Vn=ha);var vs=Jt-(ha-Vn);return Ye=this,yr=arguments,vs<=0||vs>Jt?(we&&(clearTimeout(we),we=null),Vn=ha,en=Lt.apply(Ye,yr),we||(Ye=yr=null)):!we&&ge.trailing!==!1&&(we=setTimeout(Li,vs)),en};return sa.cancel=function(){clearTimeout(we),Vn=0,we=Ye=yr=null},sa},te=function(Lt){return I(Lt)?Array.prototype.slice.call(Lt):[]},se={},xe=function(Lt){return Lt=Lt||"g",se[Lt]?se[Lt]+=1:se[Lt]=1,Lt+se[Lt]},Ae=function(){},je=function(Lt){return Lt};function qe(Lt){return E(Lt)?0:I(Lt)?Lt.length:Object.keys(Lt).length}var Ar=d(70655),Kr,Vr=Oa(function(Lt,Jt){Jt===void 0&&(Jt={});var ge=Jt.fontSize,we=Jt.fontFamily,Ye=Jt.fontWeight,yr=Jt.fontStyle,en=Jt.fontVariant;return Kr||(Kr=document.createElement("canvas").getContext("2d")),Kr.font=[yr,en,Ye,ge+"px",we].join(" "),Kr.measureText(Ot(Lt)?Lt:"").width},function(Lt,Jt){return Jt===void 0&&(Jt={}),(0,Ar.__spreadArrays)([Lt],Bt(Jt)).join("")}),En=function(Lt,Jt,ge,we){we===void 0&&(we="...");var Ye=16,yr=Vr(we,ge),en=Ot(Lt)?Lt:ce(Lt),Vn=Jt,Li=[],sa,ha;if(Vr(Lt,ge)<=Jt)return Lt;for(;sa=en.substr(0,Ye),ha=Vr(sa,ge),!(ha+yr>Vn&&ha>Vn);)if(Li.push(sa),Vn-=ha,en=en.substr(Ye),!en)return Li.join("");for(;sa=en.substr(0,1),ha=Vr(sa,ge),!(ha+yr>Vn);)if(Li.push(sa),Vn-=ha,en=en.substr(1),!en)return Li.join("");return""+Li.join("")+we},Pn=function(){function Lt(){this.map={}}return Lt.prototype.has=function(Jt){return this.map[Jt]!==void 0},Lt.prototype.get=function(Jt,ge){var we=this.map[Jt];return we===void 0?ge:we},Lt.prototype.set=function(Jt,ge){this.map[Jt]=ge},Lt.prototype.clear=function(){this.map={}},Lt.prototype.delete=function(Jt){delete this.map[Jt]},Lt.prototype.size=function(){return Object.keys(this.map).length},Lt}(),An=Pn},99581:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),I=d(46812),k=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var T=L[0],M=1;M<L.length;M++){var A=L[M];I.default(A)&&(A=A.prototype),m.default(T.prototype,A)}};S.default=k},68039:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(){this.map={}}return m.prototype.has=function(I){return this.map[I]!==void 0},m.prototype.get=function(I,k){var L=this.map[I];return L===void 0?k:L},m.prototype.set=function(I,k){this.map[I]=k},m.prototype.clear=function(){this.map={}},m.prototype.delete=function(I){delete this.map[I]},m.prototype.size=function(){return Object.keys(this.map).length},m}();S.default=d},37339:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,I,k){return m<I?I:m>k?k:m};S.default=d},35755:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var I=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;I(m)}S.default=d},8289:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=function(k){if(typeof k!="object"||k===null)return k;var L;if(m.default(k)){L=[];for(var P=0,T=k.length;P<T;P++)typeof k[P]=="object"&&k[P]!=null?L[P]=I(k[P]):L[P]=k[P]}else{L={};for(var M in k)typeof k[M]=="object"&&k[M]!=null?L[M]=I(k[M]):L[M]=k[M]}return L};S.default=I},75349:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=function(k,L){return m.default(k)?k.indexOf(L)>-1:!1};S.default=I},79663:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I,k){var L;return function(){var P=this,T=arguments,M=function(){L=null,k||m.apply(P,T)},A=k&&!L;clearTimeout(L),L=setTimeout(M,I),A&&m.apply(P,T)}}S.default=d},90497:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(15907),k=5;function L(T,M,A,p){A=A||0,p=p||k;for(var w in M)if(M.hasOwnProperty(w)){var y=M[w];y!==null&&I.default(y)?(I.default(T[w])||(T[w]={}),A<p?L(T[w],y,A+1,p):T[w]=M[w]):m.default(y)?(T[w]=[],T[w]=T[w].concat(y)):y!==void 0&&(T[w]=y)}}var P=function(T){for(var M=[],A=1;A<arguments.length;A++)M[A-1]=arguments[A];for(var p=0;p<M.length;p+=1)L(T,M[p]);return T};S.default=P},25430:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(40007),I=d(75349),k=function(L,P){return P===void 0&&(P=[]),m.default(L,function(T){return!I.default(P,T)})};S.default=k},27154:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(33643);function k(L,P){if(!!L){var T;if(m.default(L))for(var M=0,A=L.length;M<A&&(T=P(L[M],M),T!==!1);M++);else if(I.default(L)){for(var p in L)if(L.hasOwnProperty(p)&&(T=P(L[p],p),T===!1))break}}}S.default=k},61846:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(21830);function k(L,P){return m.default(L)||I.default(L)?L[L.length-1]===P:!1}S.default=k},8153:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,I){for(var k=0;k<m.length;k++)if(!I(m[k],k))return!1;return!0};S.default=d},13829:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),I=d(46812),k=function(L,P,T,M){I.default(P)||(T=P,P=L,L=function(){});var A=Object.create?function(w,y){return Object.create(w,{constructor:{value:y}})}:function(w,y){function b(){}b.prototype=w;var x=new b;return x.constructor=y,x},p=A(P.prototype,L);return L.prototype=m.default(p,L.prototype),L.superclass=A(P.prototype,P),m.default(p,T),m.default(L,M),L};S.default=k},40007:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=function(k,L){if(!m.default(k))return k;for(var P=[],T=0;T<k.length;T++){var M=k[T];L(M,T)&&P.push(M)}return P};S.default=I},90871:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I,k){k===void 0&&(k=0);for(var L=k;L<m.length;L++)if(I(m[L],L))return L;return-1}S.default=d},32114:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),I=d(20253),k=d(66631),L=d(15907);function P(T,M){if(!k.default(T))return null;var A;if(m.default(M)&&(A=M),L.default(M)&&(A=function(w){return I.default(w,M)}),A){for(var p=0;p<T.length;p+=1)if(A(T[p]))return T[p]}return null}S.default=P},84521:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),I=d(66631),k=function(L,P){for(var T=null,M=0;M<L.length;M++){var A=L[M],p=A[P];if(!m.default(p)){I.default(p)?T=p[0]:T=p;break}}return T};S.default=k},14266:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,I){var k=I.toString(),L=k.indexOf(".");if(L===-1)return Math.round(m);var P=k.substr(L+1).length;return P>20&&(P=20),parseFloat(m.toFixed(P))};S.default=d},61917:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=function(k,L){if(L===void 0&&(L=[]),!m.default(k))L.push(k);else for(var P=0;P<k.length;P+=1)I(k[P],L);return L};S.default=I},30267:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=function(k){if(!m.default(k))return[];for(var L=[],P=0;P<k.length;P++)L=L.concat(k[P]);return L};S.default=I},8361:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154);S.default=m.default},65616:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830),I=d(78127),k=d(13754);S.default=function(L,P,T,M){M===void 0&&(M="...");var A=16,p=k.default(M,T),w=m.default(L)?L:I.default(L),y=P,b=[],x,E;if(k.default(L,T)<=P)return L;for(;x=w.substr(0,A),E=k.default(x,T),!(E+p>y&&E>y);)if(b.push(x),y-=E,w=w.substr(A),!w)return b.join("");for(;x=w.substr(0,1),E=k.default(x,T),!(E+p>y);)if(b.push(x),y-=E,w=w.substr(1),!w)return b.join("");return""+b.join("")+M}},83236:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(14705),k=d(45356),L=function(P){var T=P.filter(function(y){return!isNaN(y)});if(!T.length)return{min:0,max:0};if(m.default(P[0])){for(var M=[],A=0;A<P.length;A++)M=M.concat(P[A]);T=M}var p=I.default(T),w=k.default(T);return{min:w,max:p}};S.default=L},89175:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(I){return d.call(I).replace(/^\[object /,"").replace(/]$/,"")};S.default=m},71668:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I){return m["_wrap_"+I]}S.default=d},58070:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830);S.default=function(I,k,L){for(var P=0,T=m.default(k)?k.split("."):k;I&&P<T.length;)I=I[T[P++]];return I===void 0||P<T.length?L:I}},54544:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(46812),k=Object.prototype.hasOwnProperty;function L(P,T){if(!T||!m.default(P))return{};for(var M={},A=I.default(T)?T:function(b){return b[T]},p,w=0;w<P.length;w++){var y=P[w];p=A(y),k.call(M,p)?M[p].push(y):M[p]=[y]}return M}S.default=L},64725:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(46812),k=d(54544);function L(P,T){if(!T)return{0:P};if(!I.default(T)){var M=m.default(T)?T:T.replace(/\s+/g,"").split("*");T=function(A){for(var p="_",w=0,y=M.length;w<y;w++)p+=A[M[w]]&&A[M[w]].toString();return p}}return k.default(P,T)}S.default=L},93597:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(64725);S.default=function(I,k){if(!k)return[I];var L=m.default(I,k),P=[];for(var T in L)P.push(L[T]);return P}},97507:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(57921);S.default=m.default},99969:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(75349),I=d(91161);S.default=function(k,L){return m.default(I.default(k),L)}},57921:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m){return d.hasOwnProperty(m)}},41169:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function I(k){if(m.default(k))return k[0]}S.default=I},80870:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=function(k,L){if(!m.default(k))return-1;var P=Array.prototype.indexOf;if(P)return P.call(k,L);for(var T=-1,M=0;M<k.length;M++)if(k[M]===L){T=M;break}return T};S.default=I},50229:function(ct,S,d){"use strict";var m;m={value:!0};var I=d(75349);m={enumerable:!0,get:function(){return I.default}},m={enumerable:!0,get:function(){return I.default}};var k=d(25430);m={enumerable:!0,get:function(){return k.default}};var L=d(32114);m={enumerable:!0,get:function(){return L.default}};var P=d(90871);m={enumerable:!0,get:function(){return P.default}};var T=d(84521);m={enumerable:!0,get:function(){return T.default}};var M=d(30267);m={enumerable:!0,get:function(){return M.default}};var A=d(61917);m={enumerable:!0,get:function(){return A.default}};var p=d(83236);m={enumerable:!0,get:function(){return p.default}};var w=d(5220);m={enumerable:!0,get:function(){return w.default}};var y=d(50779);m={enumerable:!0,get:function(){return y.default}};var b=d(13847);m={enumerable:!0,get:function(){return b.default}};var x=d(89757);m={enumerable:!0,get:function(){return x.default}};var E=d(27599);m={enumerable:!0,get:function(){return E.default}};var O=d(58632);m={enumerable:!0,get:function(){return O.default}};var D=d(12619);m={enumerable:!0,get:function(){return D.default}};var N=d(29208);m={enumerable:!0,get:function(){return N.default}};var z=d(41169);m={enumerable:!0,get:function(){return z.default}};var W=d(95145);m={enumerable:!0,get:function(){return W.default}};var X=d(680);m={enumerable:!0,get:function(){return X.default}};var j=d(61846);m={enumerable:!0,get:function(){return j.default}};var tt=d(40007);m={enumerable:!0,get:function(){return tt.default}};var K=d(8153);m={enumerable:!0,get:function(){return K.default}};var wt=d(58175);m={enumerable:!0,get:function(){return wt.default}};var ot=d(93597);m={enumerable:!0,get:function(){return ot.default}};var vt=d(54544);m={enumerable:!0,get:function(){return vt.default}};var et=d(64725);m={enumerable:!0,get:function(){return et.default}};var lt=d(71668);m={enumerable:!0,get:function(){return lt.default}};var dt=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return dt.default}});var it=d(45145);m={enumerable:!0,get:function(){return it.default}};var At=d(85418);m={enumerable:!0,get:function(){return At.default}};var mt=d(37339);m={enumerable:!0,get:function(){return mt.default}};var U=d(14266);m={enumerable:!0,get:function(){return U.default}};var V=d(51008);m={enumerable:!0,get:function(){return V.default}};var B=d(45420);m={enumerable:!0,get:function(){return B.default}};var f=d(68221);m={enumerable:!0,get:function(){return f.default}};var yt=d(58706);m={enumerable:!0,get:function(){return yt.default}};var St=d(39984);m={enumerable:!0,get:function(){return St.default}};var Rt=d(32705);m={enumerable:!0,get:function(){return Rt.default}};var Qt=d(75732);m={enumerable:!0,get:function(){return Qt.default}};var zt=d(14705);m={enumerable:!0,get:function(){return zt.default}};var $t=d(38935);m={enumerable:!0,get:function(){return $t.default}};var ne=d(45356);m={enumerable:!0,get:function(){return ne.default}};var ae=d(89857);m={enumerable:!0,get:function(){return ae.default}};var Wt=d(5253);m={enumerable:!0,get:function(){return Wt.default}};var It=d(2119);m={enumerable:!0,get:function(){return It.default}};var Ct=d(23196);m={enumerable:!0,get:function(){return Ct.default}};var ht=d(9217);m={enumerable:!0,get:function(){return ht.default}};var Et=d(8361);m={enumerable:!0,get:function(){return Et.default}};var at=d(57921);m={enumerable:!0,get:function(){return at.default}};var Q=d(97507);m={enumerable:!0,get:function(){return Q.default}};var bt=d(99969);m={enumerable:!0,get:function(){return bt.default}};var Ot=d(85050);m={enumerable:!0,get:function(){return Ot.default}};var Vt=d(20253);m={enumerable:!0,get:function(){return Vt.default}};var ue=d(91161);m={enumerable:!0,get:function(){return ue.default}};var Se=d(88362);m={enumerable:!0,get:function(){return Se.default}};var Re=d(56095);m={enumerable:!0,get:function(){return Re.default}};var We=d(35541);m={enumerable:!0,get:function(){return We.default}};var mr=d(72660);m={enumerable:!0,get:function(){return mr.default}};var wr=d(85260);m={enumerable:!0,get:function(){return wr.default}};var br=d(89175);m={enumerable:!0,get:function(){return br.default}};var zr=d(55039);m={enumerable:!0,get:function(){return zr.default}};var pr=d(66631);m={enumerable:!0,get:function(){return pr.default}};var an=d(48102);m={enumerable:!0,get:function(){return an.default}};var Tn=d(25873);m={enumerable:!0,get:function(){return Tn.default}};var rn=d(79396);m={enumerable:!0,get:function(){return rn.default}};var Mn=d(14230);m={enumerable:!0,get:function(){return Mn.default}};var Si=d(46812);m={enumerable:!0,get:function(){return Si.default}};var Ti=d(73420);m={enumerable:!0,get:function(){return Ti.default}};var Di=d(73890);m={enumerable:!0,get:function(){return Di.default}};var Vi=d(85497);m={enumerable:!0,get:function(){return Vi.default}};var Xt=d(16185);m={enumerable:!0,get:function(){return Xt.default}};var Kt=d(33643);m={enumerable:!0,get:function(){return Kt.default}};var oe=d(70441);m={enumerable:!0,get:function(){return oe.default}};var he=d(15907);m={enumerable:!0,get:function(){return he.default}};var be=d(26296);m={enumerable:!0,get:function(){return be.default}};var Ee=d(7877);m={enumerable:!0,get:function(){return Ee.default}};var Pe=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Pe.default}});var Oe=d(44235);m={enumerable:!0,get:function(){return Oe.default}};var me=d(25523);m={enumerable:!0,get:function(){return me.default}};var rr=d(58417);m={enumerable:!0,get:function(){return rr.default}};var Xe=d(98229);m={enumerable:!0,get:function(){return Xe.default}};var fr=d(35755);m={enumerable:!0,get:function(){return fr.default}};var Pr=d(99581);m={enumerable:!0,get:function(){return Pr.default}};var vr=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return vr.default}});var Er=d(79663);m={enumerable:!0,get:function(){return Er.default}};var xr=d(99834);m={enumerable:!0,get:function(){return xr.default}};var Br=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return Br.default}});var ur=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return ur.default}});var Yr=d(13829);m={enumerable:!0,get:function(){return Yr.default}};var Jr=d(40035);m={enumerable:!0,get:function(){return Jr.default}};var jr=d(64029);m={enumerable:!0,get:function(){return jr.default}};var Qr=d(212);m={enumerable:!0,get:function(){return Qr.default}};var jt=d(18112);m={enumerable:!0,get:function(){return jt.default}};var Zt=d(92693);m={enumerable:!0,get:function(){return Zt.default}};var ee=d(53497);m={enumerable:!0,get:function(){return ee.default}};var ye=d(66974);m={enumerable:!0,get:function(){return ye.default}},m={enumerable:!0,get:function(){return ye.default}};var Ce=d(58070);m={enumerable:!0,get:function(){return Ce.default}};var Le=d(64119);m={enumerable:!0,get:function(){return Le.default}};var tr=d(24263);m={enumerable:!0,get:function(){return tr.default}};var sr=d(14179);m={enumerable:!0,get:function(){return sr.default}};var Gr=d(60979);m={enumerable:!0,get:function(){return Gr.default}};var Ne=d(66668);m={enumerable:!0,get:function(){return Ne.default}};var Lr=d(78127);m={enumerable:!0,get:function(){return Lr.default}};var bn=d(67250);m={enumerable:!0,get:function(){return bn.default}};var On=d(26851);m={enumerable:!0,get:function(){return On.default}};var vn=d(80870);m={enumerable:!0,get:function(){return vn.default}};var wn=d(30597);m={enumerable:!0,get:function(){return wn.default}};var fi=d(13754);m={enumerable:!0,get:function(){return fi.default}};var si=d(65616);m={enumerable:!0,get:function(){return si.default}};var bi=d(68039);m={enumerable:!0,get:function(){return bi.default}}},55039:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"Arguments")};S.default=I},48102:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m!==null&&typeof m!="function"&&isFinite(m.length)};S.default=d},66631:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(I){return Array.isArray?Array.isArray(I):m.default(I,"Array")}},25873:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"Boolean")};S.default=I},79396:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"Date")};S.default=I},51008:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=function(k){return m.default(k)&&k%1!=0};S.default=I},58417:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m instanceof Element||m instanceof HTMLDocument};S.default=d},64029:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),I=d(48102),k=d(89175),L=d(26296),P=Object.prototype.hasOwnProperty;function T(M){if(m.default(M))return!0;if(I.default(M))return!M.length;var A=k.default(M);if(A==="Map"||A==="Set")return!M.size;if(L.default(M))return!Object.keys(M).length;for(var p in M)if(P.call(M,p))return!1;return!0}S.default=T},18112:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),I=d(212);S.default=function(k,L,P){return m.default(P)?!!P(k,L):I.default(k,L)}},212:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),I=d(48102),k=d(21830),L=function(P,T){if(P===T)return!0;if(!P||!T||k.default(P)||k.default(T))return!1;if(I.default(P)||I.default(T)){if(P.length!==T.length)return!1;for(var M=!0,A=0;A<P.length&&(M=L(P[A],T[A]),!!M);A++);return M}if(m.default(P)||m.default(T)){var p=Object.keys(P),w=Object.keys(T);if(p.length!==w.length)return!1;for(var M=!0,A=0;A<p.length&&(M=L(P[p[A]],T[p[A]]),!!M);A++);return M}return!1};S.default=L},14230:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"Error")};S.default=I},45420:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=function(k){return m.default(k)&&k%2==0};S.default=I},73420:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185);function I(k){return m.default(k)&&isFinite(k)}S.default=I},46812:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(I){return m.default(I,"Function")}},68221:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=Number.isInteger?Number.isInteger:function(k){return m.default(k)&&k%1==0};S.default=I},20253:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),I=d(85050);function k(L,P){var T=I.default(P),M=T.length;if(m.default(L))return!M;for(var A=0;A<M;A+=1){var p=T[A];if(P[p]!==L[p]||!(p in L))return!1}return!0}S.default=k},58706:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=function(k){return m.default(k)&&k<0};S.default=I},73890:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m==null};S.default=d},85497:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===null};S.default=d},39984:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function m(I,k,L){return L===void 0&&(L=d),Math.abs(I-k)<L}S.default=m},16185:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"Number")};S.default=I},70441:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return typeof m=="object"&&m!==null};S.default=d},33643:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var m=typeof d;return d!==null&&m==="object"||m==="function"}},32705:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=function(k){return m.default(k)&&k%2!=0};S.default=I},15907:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),I=d(44235),k=function(L){if(!m.default(L)||!I.default(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};S.default=k},75732:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),I=function(k){return m.default(k)&&k>0};S.default=I},26296:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,m=function(I){var k=I&&I.constructor,L=typeof k=="function"&&k.prototype||d;return I===L};S.default=m},7877:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),I=function(k){return m.default(k,"RegExp")};S.default=I},21830:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(I){return m.default(I,"String")}},44235:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(I,k){return d.call(I)==="[object "+k+"]"};S.default=m},25523:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===void 0};S.default=d},85050:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),I=d(46812),k=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return m.default(L,function(T,M){I.default(L)&&M==="prototype"||P.push(M)}),P};S.default=k},95145:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function I(k){if(m.default(k)){var L=k;return L[L.length-1]}}S.default=I},88362:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),I=function(k){return m.default(k).toLowerCase()};S.default=I},56095:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),I=function(k){var L=m.default(k);return L.charAt(0).toLowerCase()+L.substring(1)};S.default=I},53497:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),I=d(33643),k=function(L){return L};S.default=function(L,P){P===void 0&&(P=k);var T={};return I.default(L)&&!m.default(L)&&Object.keys(L).forEach(function(M){T[M]=P(L[M],M)}),T}},92693:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=function(k,L){if(!m.default(k))return k;for(var P=[],T=0;T<k.length;T++){var M=k[T];P.push(L(M,T))}return P};S.default=I},38935:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(46812);S.default=function(k,L){if(!!m.default(k)){for(var P,T=-Infinity,M=0;M<k.length;M++){var A=k[M],p=I.default(L)?L(A):A[L];p>T&&(P=A,T=p)}return P}}},14705:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(I){if(!!m.default(I))return I.reduce(function(k,L){return Math.max(k,L)},I[0])}},13754:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70655),I=d(91161),k=d(99834),L=d(21830),P;S.default=k.default(function(T,M){M===void 0&&(M={});var A=M.fontSize,p=M.fontFamily,w=M.fontWeight,y=M.fontStyle,b=M.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[y,b,w,A+"px",p].join(" "),P.measureText(L.default(T)?T:"").width},function(T,M){return M===void 0&&(M={}),m.__spreadArrays([T],I.default(M)).join("")})},99834:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812);S.default=function(I,k){if(!m.default(I))throw new TypeError("Expected a function");var L=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];var M=k?k.apply(this,P):P[0],A=L.cache;if(A.has(M))return A.get(M);var p=I.apply(this,P);return A.set(M,p),p};return L.cache=new Map,L}},89857:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(46812);S.default=function(k,L){if(!!m.default(k)){for(var P,T=Infinity,M=0;M<k.length;M++){var A=k[M],p=I.default(L)?L(A):A[L];p<T&&(P=A,T=p)}return P}}},45356:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(I){if(!!m.default(I))return I.reduce(function(k,L){return Math.min(k,L)},I[0])}},66974:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(I,k){for(var L in k)k.hasOwnProperty(L)&&L!=="constructor"&&k[L]!==void 0&&(I[L]=k[L])}function m(I,k,L,P){return k&&d(I,k),L&&d(I,L),P&&d(I,P),I}S.default=m},5253:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,I){return(m%I+I)%I};S.default=d},26851:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function m(I){var k=d[I];if(!k){for(var L=I.toString(16),P=L.length;P<6;P++)L="0"+L;k="#"+L,d[I]=k}return k}S.default=m},14179:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(13847);S.default=function(I,k){return m.default(I,function(L,P,T){return k.includes(T)||(L[T]=P),L},{})}},85418:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);function I(k){var L=0,P=0,T=0,M=0;return m.default(k)?k.length===1?L=P=T=M=k[0]:k.length===2?(L=T=k[0],P=M=k[1]):k.length===3?(L=k[0],P=M=k[1],T=k[2]):(L=k[0],P=k[1],T=k[2],M=k[3]):L=P=T=M=k,{r1:L,r2:P,r3:T,r4:M}}S.default=I},24263:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),I=d(15907),k=Object.prototype.hasOwnProperty;S.default=function(L,P){if(L===null||!I.default(L))return{};var T={};return m.default(P,function(M){k.call(L,M)&&(T[M]=L[M])}),T}},50779:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=Array.prototype.splice,k=function(P,T){if(!m.default(P))return[];for(var M=P?T.length:0,A=M-1;M--;){var p=void 0,w=T[M];(M===A||w!==p)&&(p=w,I.call(P,w,1))}return P};S.default=k},5220:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,m=d.splice,I=d.indexOf,k=function(L){for(var P=[],T=1;T<arguments.length;T++)P[T-1]=arguments[T];for(var M=0;M<P.length;M++)for(var A=P[M],p=-1;(p=I.call(L,A))>-1;)m.call(L,p,1);return L};S.default=k},13847:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),I=d(66631),k=d(15907),L=function(P,T,M){if(!I.default(P)&&!k.default(P))return P;var A=M;return m.default(P,function(p,w){A=T(A,p,w)}),A};S.default=L},89757:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),I=d(50779),k=function(L,P){var T=[];if(!m.default(L))return T;for(var M=-1,A=[],p=L.length;++M<p;){var w=L[M];P(w,M,L)&&(T.push(w),A.push(M))}return I.default(L,A),T};S.default=k},98229:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var I=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(k){return setTimeout(k,16)};return I(m)}S.default=d},64119:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(33643),I=d(21830),k=d(16185);S.default=function(L,P,T){var M=L,A=I.default(P)?P.split("."):P;return A.forEach(function(p,w){w<A.length-1?(m.default(M[p])||(M[p]=k.default(A[w+1])?[]:{}),M=M[p]):M[p]=T}),L}},30597:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),I=d(48102);function k(L){return m.default(L)?0:I.default(L)?L.length:Object.keys(L).length}S.default=k},58175:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,I){for(var k=0;k<m.length;k++)if(I(m[k],k))return!0;return!1};S.default=d},27599:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(21830),k=d(46812);function L(P,T){var M;if(k.default(T))M=function(p,w){return T(p)-T(w)};else{var A=[];I.default(T)?A.push(T):m.default(T)&&(A=T),M=function(p,w){for(var y=0;y<A.length;y+=1){var b=A[y];if(p[b]>w[b])return 1;if(p[b]<w[b])return-1}return 0}}return P.sort(M),P}S.default=L},680:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(21830);function k(L,P){return m.default(L)||I.default(L)?L[0]===P:!1}S.default=k},35541:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I){return!m||!I?m:m.replace(/\\?\{([^{}]+)\}/g,function(k,L){return k.charAt(0)==="\\"?k.slice(1):I[L]===void 0?"":I[L]})}S.default=d},60979:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m,I){var k,L,P,T,M=0;I||(I={});var A=function(){M=I.leading===!1?0:Date.now(),k=null,T=d.apply(L,P),k||(L=P=null)},p=function(){var w=Date.now();!M&&I.leading===!1&&(M=w);var y=m-(w-M);return L=this,P=arguments,y<=0||y>m?(k&&(clearTimeout(k),k=null),M=w,T=d.apply(L,P),k||(L=P=null)):!k&&I.trailing!==!1&&(k=setTimeout(A,y)),T};return p.cancel=function(){clearTimeout(k),M=0,k=L=P=null},p}},66668:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);S.default=function(I){return m.default(I)?Array.prototype.slice.call(I):[]}},2119:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,m=function(I){return d*I};S.default=m},23196:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,m=function(I){return d*I};S.default=m},78127:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890);S.default=function(I){return m.default(I)?"":I.toString()}},58632:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(12619),I=function(){for(var k=[],L=0;L<arguments.length;L++)k[L]=arguments[L];return m.default([].concat.apply([],k))};S.default=I},12619:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I){I===void 0&&(I=new Map);var k=[];if(Array.isArray(m))for(var L=0,P=m.length;L<P;L++){var T=m[L];I.has(T)||(k.push(T),I.set(T,!0))}return k}S.default=d},67250:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(m){return m=m||"g",d[m]?d[m]+=1:d[m]=1,m+d[m]}},72660:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),I=function(k){return m.default(k).toUpperCase()};S.default=I},85260:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),I=function(k){var L=m.default(k);return L.charAt(0).toUpperCase()+L.substring(1)};S.default=I},29208:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),I=d(73890);S.default=function(k,L){for(var P=[],T={},M=0;M<k.length;M++){var A=k[M],p=A[L];if(!I.default(p)){m.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var y=p[w];T[y]||(P.push(y),T[y]=!0)}}}return P}},91161:function(ct,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),I=d(46812),k=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return m.default(L,function(T,M){I.default(L)&&M==="prototype"||P.push(T)}),P};S.default=k},61262:function(ct,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,I){if(m["_wrap_"+I])return m["_wrap_"+I];var k=function(L){m[I](L)};return m["_wrap_"+I]=k,k}S.default=d},99350:function(ct,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return I},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return A},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return b},__read:function(){return x},__spread:function(){return E},__spreadArrays:function(){return O},__await:function(){return D},__asyncGenerator:function(){return N},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return X},__importStar:function(){return j},__importDefault:function(){return tt},__classPrivateFieldGet:function(){return K},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(vt,et){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,dt){lt.__proto__=dt}||function(lt,dt){for(var it in dt)dt.hasOwnProperty(it)&&(lt[it]=dt[it])},m(vt,et)};function I(ot,vt){m(ot,vt);function et(){this.constructor=ot}ot.prototype=vt===null?Object.create(vt):(et.prototype=vt.prototype,new et)}var k=function(){return k=Object.assign||function(et){for(var lt,dt=1,it=arguments.length;dt<it;dt++){lt=arguments[dt];for(var At in lt)Object.prototype.hasOwnProperty.call(lt,At)&&(et[At]=lt[At])}return et},k.apply(this,arguments)};function L(ot,vt){var et={};for(var lt in ot)Object.prototype.hasOwnProperty.call(ot,lt)&&vt.indexOf(lt)<0&&(et[lt]=ot[lt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,lt=Object.getOwnPropertySymbols(ot);dt<lt.length;dt++)vt.indexOf(lt[dt])<0&&Object.prototype.propertyIsEnumerable.call(ot,lt[dt])&&(et[lt[dt]]=ot[lt[dt]]);return et}function P(ot,vt,et,lt){var dt=arguments.length,it=dt<3?vt:lt===null?lt=Object.getOwnPropertyDescriptor(vt,et):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ot,vt,et,lt);else for(var mt=ot.length-1;mt>=0;mt--)(At=ot[mt])&&(it=(dt<3?At(it):dt>3?At(vt,et,it):At(vt,et))||it);return dt>3&&it&&Object.defineProperty(vt,et,it),it}function T(ot,vt){return function(et,lt){vt(et,lt,ot)}}function M(ot,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ot,vt)}function A(ot,vt,et,lt){function dt(it){return it instanceof et?it:new et(function(At){At(it)})}return new(et||(et=Promise))(function(it,At){function mt(B){try{V(lt.next(B))}catch(f){At(f)}}function U(B){try{V(lt.throw(B))}catch(f){At(f)}}function V(B){B.done?it(B.value):dt(B.value).then(mt,U)}V((lt=lt.apply(ot,vt||[])).next())})}function p(ot,vt){var et={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},lt,dt,it,At;return At={next:mt(0),throw:mt(1),return:mt(2)},typeof Symbol=="function"&&(At[Symbol.iterator]=function(){return this}),At;function mt(V){return function(B){return U([V,B])}}function U(V){if(lt)throw new TypeError("Generator is already executing.");for(;et;)try{if(lt=1,dt&&(it=V[0]&2?dt.return:V[0]?dt.throw||((it=dt.return)&&it.call(dt),0):dt.next)&&!(it=it.call(dt,V[1])).done)return it;switch(dt=0,it&&(V=[V[0]&2,it.value]),V[0]){case 0:case 1:it=V;break;case 4:return et.label++,{value:V[1],done:!1};case 5:et.label++,dt=V[1],V=[0];continue;case 7:V=et.ops.pop(),et.trys.pop();continue;default:if(it=et.trys,!(it=it.length>0&&it[it.length-1])&&(V[0]===6||V[0]===2)){et=0;continue}if(V[0]===3&&(!it||V[1]>it[0]&&V[1]<it[3])){et.label=V[1];break}if(V[0]===6&&et.label<it[1]){et.label=it[1],it=V;break}if(it&&et.label<it[2]){et.label=it[2],et.ops.push(V);break}it[2]&&et.ops.pop(),et.trys.pop();continue}V=vt.call(ot,et)}catch(B){V=[6,B],dt=0}finally{lt=it=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function w(ot,vt,et,lt){lt===void 0&&(lt=et),ot[lt]=vt[et]}function y(ot,vt){for(var et in ot)et!=="default"&&!vt.hasOwnProperty(et)&&(vt[et]=ot[et])}function b(ot){var vt=typeof Symbol=="function"&&Symbol.iterator,et=vt&&ot[vt],lt=0;if(et)return et.call(ot);if(ot&&typeof ot.length=="number")return{next:function(){return ot&&lt>=ot.length&&(ot=void 0),{value:ot&&ot[lt++],done:!ot}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(ot,vt){var et=typeof Symbol=="function"&&ot[Symbol.iterator];if(!et)return ot;var lt=et.call(ot),dt,it=[],At;try{for(;(vt===void 0||vt-- >0)&&!(dt=lt.next()).done;)it.push(dt.value)}catch(mt){At={error:mt}}finally{try{dt&&!dt.done&&(et=lt.return)&&et.call(lt)}finally{if(At)throw At.error}}return it}function E(){for(var ot=[],vt=0;vt<arguments.length;vt++)ot=ot.concat(x(arguments[vt]));return ot}function O(){for(var ot=0,vt=0,et=arguments.length;vt<et;vt++)ot+=arguments[vt].length;for(var lt=Array(ot),dt=0,vt=0;vt<et;vt++)for(var it=arguments[vt],At=0,mt=it.length;At<mt;At++,dt++)lt[dt]=it[At];return lt}function D(ot){return this instanceof D?(this.v=ot,this):new D(ot)}function N(ot,vt,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=et.apply(ot,vt||[]),dt,it=[];return dt={},At("next"),At("throw"),At("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function At(yt){lt[yt]&&(dt[yt]=function(St){return new Promise(function(Rt,Qt){it.push([yt,St,Rt,Qt])>1||mt(yt,St)})})}function mt(yt,St){try{U(lt[yt](St))}catch(Rt){f(it[0][3],Rt)}}function U(yt){yt.value instanceof D?Promise.resolve(yt.value.v).then(V,B):f(it[0][2],yt)}function V(yt){mt("next",yt)}function B(yt){mt("throw",yt)}function f(yt,St){yt(St),it.shift(),it.length&&mt(it[0][0],it[0][1])}}function z(ot){var vt,et;return vt={},lt("next"),lt("throw",function(dt){throw dt}),lt("return"),vt[Symbol.iterator]=function(){return this},vt;function lt(dt,it){vt[dt]=ot[dt]?function(At){return(et=!et)?{value:D(ot[dt](At)),done:dt==="return"}:it?it(At):At}:it}}function W(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=ot[Symbol.asyncIterator],et;return vt?vt.call(ot):(ot=typeof b=="function"?b(ot):ot[Symbol.iterator](),et={},lt("next"),lt("throw"),lt("return"),et[Symbol.asyncIterator]=function(){return this},et);function lt(it){et[it]=ot[it]&&function(At){return new Promise(function(mt,U){At=ot[it](At),dt(mt,U,At.done,At.value)})}}function dt(it,At,mt,U){Promise.resolve(U).then(function(V){it({value:V,done:mt})},At)}}function X(ot,vt){return Object.defineProperty?Object.defineProperty(ot,"raw",{value:vt}):ot.raw=vt,ot}function j(ot){if(ot&&ot.__esModule)return ot;var vt={};if(ot!=null)for(var et in ot)Object.hasOwnProperty.call(ot,et)&&(vt[et]=ot[et]);return vt.default=ot,vt}function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}function K(ot,vt){if(!vt.has(ot))throw new TypeError("attempted to get private field on non-instance");return vt.get(ot)}function wt(ot,vt,et){if(!vt.has(ot))throw new TypeError("attempted to set private field on non-instance");return vt.set(ot,et),et}},54085:function(ct,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return I},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return A},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return b},__read:function(){return x},__spread:function(){return E},__spreadArrays:function(){return O},__await:function(){return D},__asyncGenerator:function(){return N},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return X},__importStar:function(){return j},__importDefault:function(){return tt},__classPrivateFieldGet:function(){return K},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(vt,et){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,dt){lt.__proto__=dt}||function(lt,dt){for(var it in dt)dt.hasOwnProperty(it)&&(lt[it]=dt[it])},m(vt,et)};function I(ot,vt){m(ot,vt);function et(){this.constructor=ot}ot.prototype=vt===null?Object.create(vt):(et.prototype=vt.prototype,new et)}var k=function(){return k=Object.assign||function(et){for(var lt,dt=1,it=arguments.length;dt<it;dt++){lt=arguments[dt];for(var At in lt)Object.prototype.hasOwnProperty.call(lt,At)&&(et[At]=lt[At])}return et},k.apply(this,arguments)};function L(ot,vt){var et={};for(var lt in ot)Object.prototype.hasOwnProperty.call(ot,lt)&&vt.indexOf(lt)<0&&(et[lt]=ot[lt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,lt=Object.getOwnPropertySymbols(ot);dt<lt.length;dt++)vt.indexOf(lt[dt])<0&&Object.prototype.propertyIsEnumerable.call(ot,lt[dt])&&(et[lt[dt]]=ot[lt[dt]]);return et}function P(ot,vt,et,lt){var dt=arguments.length,it=dt<3?vt:lt===null?lt=Object.getOwnPropertyDescriptor(vt,et):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ot,vt,et,lt);else for(var mt=ot.length-1;mt>=0;mt--)(At=ot[mt])&&(it=(dt<3?At(it):dt>3?At(vt,et,it):At(vt,et))||it);return dt>3&&it&&Object.defineProperty(vt,et,it),it}function T(ot,vt){return function(et,lt){vt(et,lt,ot)}}function M(ot,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ot,vt)}function A(ot,vt,et,lt){function dt(it){return it instanceof et?it:new et(function(At){At(it)})}return new(et||(et=Promise))(function(it,At){function mt(B){try{V(lt.next(B))}catch(f){At(f)}}function U(B){try{V(lt.throw(B))}catch(f){At(f)}}function V(B){B.done?it(B.value):dt(B.value).then(mt,U)}V((lt=lt.apply(ot,vt||[])).next())})}function p(ot,vt){var et={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},lt,dt,it,At;return At={next:mt(0),throw:mt(1),return:mt(2)},typeof Symbol=="function"&&(At[Symbol.iterator]=function(){return this}),At;function mt(V){return function(B){return U([V,B])}}function U(V){if(lt)throw new TypeError("Generator is already executing.");for(;et;)try{if(lt=1,dt&&(it=V[0]&2?dt.return:V[0]?dt.throw||((it=dt.return)&&it.call(dt),0):dt.next)&&!(it=it.call(dt,V[1])).done)return it;switch(dt=0,it&&(V=[V[0]&2,it.value]),V[0]){case 0:case 1:it=V;break;case 4:return et.label++,{value:V[1],done:!1};case 5:et.label++,dt=V[1],V=[0];continue;case 7:V=et.ops.pop(),et.trys.pop();continue;default:if(it=et.trys,!(it=it.length>0&&it[it.length-1])&&(V[0]===6||V[0]===2)){et=0;continue}if(V[0]===3&&(!it||V[1]>it[0]&&V[1]<it[3])){et.label=V[1];break}if(V[0]===6&&et.label<it[1]){et.label=it[1],it=V;break}if(it&&et.label<it[2]){et.label=it[2],et.ops.push(V);break}it[2]&&et.ops.pop(),et.trys.pop();continue}V=vt.call(ot,et)}catch(B){V=[6,B],dt=0}finally{lt=it=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function w(ot,vt,et,lt){lt===void 0&&(lt=et),ot[lt]=vt[et]}function y(ot,vt){for(var et in ot)et!=="default"&&!vt.hasOwnProperty(et)&&(vt[et]=ot[et])}function b(ot){var vt=typeof Symbol=="function"&&Symbol.iterator,et=vt&&ot[vt],lt=0;if(et)return et.call(ot);if(ot&&typeof ot.length=="number")return{next:function(){return ot&&lt>=ot.length&&(ot=void 0),{value:ot&&ot[lt++],done:!ot}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(ot,vt){var et=typeof Symbol=="function"&&ot[Symbol.iterator];if(!et)return ot;var lt=et.call(ot),dt,it=[],At;try{for(;(vt===void 0||vt-- >0)&&!(dt=lt.next()).done;)it.push(dt.value)}catch(mt){At={error:mt}}finally{try{dt&&!dt.done&&(et=lt.return)&&et.call(lt)}finally{if(At)throw At.error}}return it}function E(){for(var ot=[],vt=0;vt<arguments.length;vt++)ot=ot.concat(x(arguments[vt]));return ot}function O(){for(var ot=0,vt=0,et=arguments.length;vt<et;vt++)ot+=arguments[vt].length;for(var lt=Array(ot),dt=0,vt=0;vt<et;vt++)for(var it=arguments[vt],At=0,mt=it.length;At<mt;At++,dt++)lt[dt]=it[At];return lt}function D(ot){return this instanceof D?(this.v=ot,this):new D(ot)}function N(ot,vt,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=et.apply(ot,vt||[]),dt,it=[];return dt={},At("next"),At("throw"),At("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function At(yt){lt[yt]&&(dt[yt]=function(St){return new Promise(function(Rt,Qt){it.push([yt,St,Rt,Qt])>1||mt(yt,St)})})}function mt(yt,St){try{U(lt[yt](St))}catch(Rt){f(it[0][3],Rt)}}function U(yt){yt.value instanceof D?Promise.resolve(yt.value.v).then(V,B):f(it[0][2],yt)}function V(yt){mt("next",yt)}function B(yt){mt("throw",yt)}function f(yt,St){yt(St),it.shift(),it.length&&mt(it[0][0],it[0][1])}}function z(ot){var vt,et;return vt={},lt("next"),lt("throw",function(dt){throw dt}),lt("return"),vt[Symbol.iterator]=function(){return this},vt;function lt(dt,it){vt[dt]=ot[dt]?function(At){return(et=!et)?{value:D(ot[dt](At)),done:dt==="return"}:it?it(At):At}:it}}function W(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=ot[Symbol.asyncIterator],et;return vt?vt.call(ot):(ot=typeof b=="function"?b(ot):ot[Symbol.iterator](),et={},lt("next"),lt("throw"),lt("return"),et[Symbol.asyncIterator]=function(){return this},et);function lt(it){et[it]=ot[it]&&function(At){return new Promise(function(mt,U){At=ot[it](At),dt(mt,U,At.done,At.value)})}}function dt(it,At,mt,U){Promise.resolve(U).then(function(V){it({value:V,done:mt})},At)}}function X(ot,vt){return Object.defineProperty?Object.defineProperty(ot,"raw",{value:vt}):ot.raw=vt,ot}function j(ot){if(ot&&ot.__esModule)return ot;var vt={};if(ot!=null)for(var et in ot)Object.hasOwnProperty.call(ot,et)&&(vt[et]=ot[et]);return vt.default=ot,vt}function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}function K(ot,vt){if(!vt.has(ot))throw new TypeError("attempted to get private field on non-instance");return vt.get(ot)}function wt(ot,vt,et){if(!vt.has(ot))throw new TypeError("attempted to set private field on non-instance");return vt.set(ot,et),et}},62117:function(ct,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return I},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return A},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return b},__read:function(){return x},__spread:function(){return E},__spreadArrays:function(){return O},__await:function(){return D},__asyncGenerator:function(){return N},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return X},__importStar:function(){return j},__importDefault:function(){return tt},__classPrivateFieldGet:function(){return K},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(vt,et){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,dt){lt.__proto__=dt}||function(lt,dt){for(var it in dt)dt.hasOwnProperty(it)&&(lt[it]=dt[it])},m(vt,et)};function I(ot,vt){m(ot,vt);function et(){this.constructor=ot}ot.prototype=vt===null?Object.create(vt):(et.prototype=vt.prototype,new et)}var k=function(){return k=Object.assign||function(et){for(var lt,dt=1,it=arguments.length;dt<it;dt++){lt=arguments[dt];for(var At in lt)Object.prototype.hasOwnProperty.call(lt,At)&&(et[At]=lt[At])}return et},k.apply(this,arguments)};function L(ot,vt){var et={};for(var lt in ot)Object.prototype.hasOwnProperty.call(ot,lt)&&vt.indexOf(lt)<0&&(et[lt]=ot[lt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,lt=Object.getOwnPropertySymbols(ot);dt<lt.length;dt++)vt.indexOf(lt[dt])<0&&Object.prototype.propertyIsEnumerable.call(ot,lt[dt])&&(et[lt[dt]]=ot[lt[dt]]);return et}function P(ot,vt,et,lt){var dt=arguments.length,it=dt<3?vt:lt===null?lt=Object.getOwnPropertyDescriptor(vt,et):lt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(ot,vt,et,lt);else for(var mt=ot.length-1;mt>=0;mt--)(At=ot[mt])&&(it=(dt<3?At(it):dt>3?At(vt,et,it):At(vt,et))||it);return dt>3&&it&&Object.defineProperty(vt,et,it),it}function T(ot,vt){return function(et,lt){vt(et,lt,ot)}}function M(ot,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ot,vt)}function A(ot,vt,et,lt){function dt(it){return it instanceof et?it:new et(function(At){At(it)})}return new(et||(et=Promise))(function(it,At){function mt(B){try{V(lt.next(B))}catch(f){At(f)}}function U(B){try{V(lt.throw(B))}catch(f){At(f)}}function V(B){B.done?it(B.value):dt(B.value).then(mt,U)}V((lt=lt.apply(ot,vt||[])).next())})}function p(ot,vt){var et={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},lt,dt,it,At;return At={next:mt(0),throw:mt(1),return:mt(2)},typeof Symbol=="function"&&(At[Symbol.iterator]=function(){return this}),At;function mt(V){return function(B){return U([V,B])}}function U(V){if(lt)throw new TypeError("Generator is already executing.");for(;et;)try{if(lt=1,dt&&(it=V[0]&2?dt.return:V[0]?dt.throw||((it=dt.return)&&it.call(dt),0):dt.next)&&!(it=it.call(dt,V[1])).done)return it;switch(dt=0,it&&(V=[V[0]&2,it.value]),V[0]){case 0:case 1:it=V;break;case 4:return et.label++,{value:V[1],done:!1};case 5:et.label++,dt=V[1],V=[0];continue;case 7:V=et.ops.pop(),et.trys.pop();continue;default:if(it=et.trys,!(it=it.length>0&&it[it.length-1])&&(V[0]===6||V[0]===2)){et=0;continue}if(V[0]===3&&(!it||V[1]>it[0]&&V[1]<it[3])){et.label=V[1];break}if(V[0]===6&&et.label<it[1]){et.label=it[1],it=V;break}if(it&&et.label<it[2]){et.label=it[2],et.ops.push(V);break}it[2]&&et.ops.pop(),et.trys.pop();continue}V=vt.call(ot,et)}catch(B){V=[6,B],dt=0}finally{lt=it=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}}function w(ot,vt,et,lt){lt===void 0&&(lt=et),ot[lt]=vt[et]}function y(ot,vt){for(var et in ot)et!=="default"&&!vt.hasOwnProperty(et)&&(vt[et]=ot[et])}function b(ot){var vt=typeof Symbol=="function"&&Symbol.iterator,et=vt&&ot[vt],lt=0;if(et)return et.call(ot);if(ot&&typeof ot.length=="number")return{next:function(){return ot&&lt>=ot.length&&(ot=void 0),{value:ot&&ot[lt++],done:!ot}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(ot,vt){var et=typeof Symbol=="function"&&ot[Symbol.iterator];if(!et)return ot;var lt=et.call(ot),dt,it=[],At;try{for(;(vt===void 0||vt-- >0)&&!(dt=lt.next()).done;)it.push(dt.value)}catch(mt){At={error:mt}}finally{try{dt&&!dt.done&&(et=lt.return)&&et.call(lt)}finally{if(At)throw At.error}}return it}function E(){for(var ot=[],vt=0;vt<arguments.length;vt++)ot=ot.concat(x(arguments[vt]));return ot}function O(){for(var ot=0,vt=0,et=arguments.length;vt<et;vt++)ot+=arguments[vt].length;for(var lt=Array(ot),dt=0,vt=0;vt<et;vt++)for(var it=arguments[vt],At=0,mt=it.length;At<mt;At++,dt++)lt[dt]=it[At];return lt}function D(ot){return this instanceof D?(this.v=ot,this):new D(ot)}function N(ot,vt,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt=et.apply(ot,vt||[]),dt,it=[];return dt={},At("next"),At("throw"),At("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function At(yt){lt[yt]&&(dt[yt]=function(St){return new Promise(function(Rt,Qt){it.push([yt,St,Rt,Qt])>1||mt(yt,St)})})}function mt(yt,St){try{U(lt[yt](St))}catch(Rt){f(it[0][3],Rt)}}function U(yt){yt.value instanceof D?Promise.resolve(yt.value.v).then(V,B):f(it[0][2],yt)}function V(yt){mt("next",yt)}function B(yt){mt("throw",yt)}function f(yt,St){yt(St),it.shift(),it.length&&mt(it[0][0],it[0][1])}}function z(ot){var vt,et;return vt={},lt("next"),lt("throw",function(dt){throw dt}),lt("return"),vt[Symbol.iterator]=function(){return this},vt;function lt(dt,it){vt[dt]=ot[dt]?function(At){return(et=!et)?{value:D(ot[dt](At)),done:dt==="return"}:it?it(At):At}:it}}function W(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=ot[Symbol.asyncIterator],et;return vt?vt.call(ot):(ot=typeof b=="function"?b(ot):ot[Symbol.iterator](),et={},lt("next"),lt("throw"),lt("return"),et[Symbol.asyncIterator]=function(){return this},et);function lt(it){et[it]=ot[it]&&function(At){return new Promise(function(mt,U){At=ot[it](At),dt(mt,U,At.done,At.value)})}}function dt(it,At,mt,U){Promise.resolve(U).then(function(V){it({value:V,done:mt})},At)}}function X(ot,vt){return Object.defineProperty?Object.defineProperty(ot,"raw",{value:vt}):ot.raw=vt,ot}function j(ot){if(ot&&ot.__esModule)return ot;var vt={};if(ot!=null)for(var et in ot)Object.hasOwnProperty.call(ot,et)&&(vt[et]=ot[et]);return vt.default=ot,vt}function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}function K(ot,vt){if(!vt.has(ot))throw new TypeError("attempted to get private field on non-instance");return vt.get(ot)}function wt(ot,vt,et){if(!vt.has(ot))throw new TypeError("attempted to set private field on non-instance");return vt.set(ot,et),et}},48168:function(ct,S,d){var m=d(39092),I={};for(var k in m)m.hasOwnProperty(k)&&(I[m[k]]=k);var L=ct.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in L)if(L.hasOwnProperty(P)){if(!("channels"in L[P]))throw new Error("missing channels property: "+P);if(!("labels"in L[P]))throw new Error("missing channel labels property: "+P);if(L[P].labels.length!==L[P].channels)throw new Error("channel and label counts mismatch: "+P);var T=L[P].channels,M=L[P].labels;delete L[P].channels,delete L[P].labels,Object.defineProperty(L[P],"channels",{value:T}),Object.defineProperty(L[P],"labels",{value:M})}L.rgb.hsl=function(p){var w=p[0]/255,y=p[1]/255,b=p[2]/255,x=Math.min(w,y,b),E=Math.max(w,y,b),O=E-x,D,N,z;return E===x?D=0:w===E?D=(y-b)/O:y===E?D=2+(b-w)/O:b===E&&(D=4+(w-y)/O),D=Math.min(D*60,360),D<0&&(D+=360),z=(x+E)/2,E===x?N=0:z<=.5?N=O/(E+x):N=O/(2-E-x),[D,N*100,z*100]},L.rgb.hsv=function(p){var w,y,b,x,E,O=p[0]/255,D=p[1]/255,N=p[2]/255,z=Math.max(O,D,N),W=z-Math.min(O,D,N),X=function(j){return(z-j)/6/W+1/2};return W===0?x=E=0:(E=W/z,w=X(O),y=X(D),b=X(N),O===z?x=b-y:D===z?x=1/3+w-b:N===z&&(x=2/3+y-w),x<0?x+=1:x>1&&(x-=1)),[x*360,E*100,z*100]},L.rgb.hwb=function(p){var w=p[0],y=p[1],b=p[2],x=L.rgb.hsl(p)[0],E=1/255*Math.min(w,Math.min(y,b));return b=1-1/255*Math.max(w,Math.max(y,b)),[x,E*100,b*100]},L.rgb.cmyk=function(p){var w=p[0]/255,y=p[1]/255,b=p[2]/255,x,E,O,D;return D=Math.min(1-w,1-y,1-b),x=(1-w-D)/(1-D)||0,E=(1-y-D)/(1-D)||0,O=(1-b-D)/(1-D)||0,[x*100,E*100,O*100,D*100]};function A(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}L.rgb.keyword=function(p){var w=I[p];if(w)return w;var y=Infinity,b;for(var x in m)if(m.hasOwnProperty(x)){var E=m[x],O=A(p,E);O<y&&(y=O,b=x)}return b},L.keyword.rgb=function(p){return m[p]},L.rgb.xyz=function(p){var w=p[0]/255,y=p[1]/255,b=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=w*.4124+y*.3576+b*.1805,E=w*.2126+y*.7152+b*.0722,O=w*.0193+y*.1192+b*.9505;return[x*100,E*100,O*100]},L.rgb.lab=function(p){var w=L.rgb.xyz(p),y=w[0],b=w[1],x=w[2],E,O,D;return y/=95.047,b/=100,x/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,E=116*b-16,O=500*(y-b),D=200*(b-x),[E,O,D]},L.hsl.rgb=function(p){var w=p[0]/360,y=p[1]/100,b=p[2]/100,x,E,O,D,N;if(y===0)return N=b*255,[N,N,N];b<.5?E=b*(1+y):E=b+y-b*y,x=2*b-E,D=[0,0,0];for(var z=0;z<3;z++)O=w+1/3*-(z-1),O<0&&O++,O>1&&O--,6*O<1?N=x+(E-x)*6*O:2*O<1?N=E:3*O<2?N=x+(E-x)*(2/3-O)*6:N=x,D[z]=N*255;return D},L.hsl.hsv=function(p){var w=p[0],y=p[1]/100,b=p[2]/100,x=y,E=Math.max(b,.01),O,D;return b*=2,y*=b<=1?b:2-b,x*=E<=1?E:2-E,D=(b+y)/2,O=b===0?2*x/(E+x):2*y/(b+y),[w,O*100,D*100]},L.hsv.rgb=function(p){var w=p[0]/60,y=p[1]/100,b=p[2]/100,x=Math.floor(w)%6,E=w-Math.floor(w),O=255*b*(1-y),D=255*b*(1-y*E),N=255*b*(1-y*(1-E));switch(b*=255,x){case 0:return[b,N,O];case 1:return[D,b,O];case 2:return[O,b,N];case 3:return[O,D,b];case 4:return[N,O,b];case 5:return[b,O,D]}},L.hsv.hsl=function(p){var w=p[0],y=p[1]/100,b=p[2]/100,x=Math.max(b,.01),E,O,D;return D=(2-y)*b,E=(2-y)*x,O=y*x,O/=E<=1?E:2-E,O=O||0,D/=2,[w,O*100,D*100]},L.hwb.rgb=function(p){var w=p[0]/360,y=p[1]/100,b=p[2]/100,x=y+b,E,O,D,N;x>1&&(y/=x,b/=x),E=Math.floor(6*w),O=1-b,D=6*w-E,(E&1)!=0&&(D=1-D),N=y+D*(O-y);var z,W,X;switch(E){default:case 6:case 0:z=O,W=N,X=y;break;case 1:z=N,W=O,X=y;break;case 2:z=y,W=O,X=N;break;case 3:z=y,W=N,X=O;break;case 4:z=N,W=y,X=O;break;case 5:z=O,W=y,X=N;break}return[z*255,W*255,X*255]},L.cmyk.rgb=function(p){var w=p[0]/100,y=p[1]/100,b=p[2]/100,x=p[3]/100,E,O,D;return E=1-Math.min(1,w*(1-x)+x),O=1-Math.min(1,y*(1-x)+x),D=1-Math.min(1,b*(1-x)+x),[E*255,O*255,D*255]},L.xyz.rgb=function(p){var w=p[0]/100,y=p[1]/100,b=p[2]/100,x,E,O;return x=w*3.2406+y*-1.5372+b*-.4986,E=w*-.9689+y*1.8758+b*.0415,O=w*.0557+y*-.204+b*1.057,x=x>.0031308?1.055*Math.pow(x,1/2.4)-.055:x*12.92,E=E>.0031308?1.055*Math.pow(E,1/2.4)-.055:E*12.92,O=O>.0031308?1.055*Math.pow(O,1/2.4)-.055:O*12.92,x=Math.min(Math.max(0,x),1),E=Math.min(Math.max(0,E),1),O=Math.min(Math.max(0,O),1),[x*255,E*255,O*255]},L.xyz.lab=function(p){var w=p[0],y=p[1],b=p[2],x,E,O;return w/=95.047,y/=100,b/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,x=116*y-16,E=500*(w-y),O=200*(y-b),[x,E,O]},L.lab.xyz=function(p){var w=p[0],y=p[1],b=p[2],x,E,O;E=(w+16)/116,x=y/500+E,O=E-b/200;var D=Math.pow(E,3),N=Math.pow(x,3),z=Math.pow(O,3);return E=D>.008856?D:(E-16/116)/7.787,x=N>.008856?N:(x-16/116)/7.787,O=z>.008856?z:(O-16/116)/7.787,x*=95.047,E*=100,O*=108.883,[x,E,O]},L.lab.lch=function(p){var w=p[0],y=p[1],b=p[2],x,E,O;return x=Math.atan2(b,y),E=x*360/2/Math.PI,E<0&&(E+=360),O=Math.sqrt(y*y+b*b),[w,O,E]},L.lch.lab=function(p){var w=p[0],y=p[1],b=p[2],x,E,O;return O=b/360*2*Math.PI,x=y*Math.cos(O),E=y*Math.sin(O),[w,x,E]},L.rgb.ansi16=function(p){var w=p[0],y=p[1],b=p[2],x=1 in arguments?arguments[1]:L.rgb.hsv(p)[2];if(x=Math.round(x/50),x===0)return 30;var E=30+(Math.round(b/255)<<2|Math.round(y/255)<<1|Math.round(w/255));return x===2&&(E+=60),E},L.hsv.ansi16=function(p){return L.rgb.ansi16(L.hsv.rgb(p),p[2])},L.rgb.ansi256=function(p){var w=p[0],y=p[1],b=p[2];if(w===y&&y===b)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var x=16+36*Math.round(w/255*5)+6*Math.round(y/255*5)+Math.round(b/255*5);return x},L.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var y=(~~(p>50)+1)*.5,b=(w&1)*y*255,x=(w>>1&1)*y*255,E=(w>>2&1)*y*255;return[b,x,E]},L.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var y,b=Math.floor(p/36)/5*255,x=Math.floor((y=p%36)/6)/5*255,E=y%6/5*255;return[b,x,E]},L.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=w.toString(16).toUpperCase();return"000000".substring(y.length)+y},L.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var y=w[0];w[0].length===3&&(y=y.split("").map(function(D){return D+D}).join(""));var b=parseInt(y,16),x=b>>16&255,E=b>>8&255,O=b&255;return[x,E,O]},L.rgb.hcg=function(p){var w=p[0]/255,y=p[1]/255,b=p[2]/255,x=Math.max(Math.max(w,y),b),E=Math.min(Math.min(w,y),b),O=x-E,D,N;return O<1?D=E/(1-O):D=0,O<=0?N=0:x===w?N=(y-b)/O%6:x===y?N=2+(b-w)/O:N=4+(w-y)/O+4,N/=6,N%=1,[N*360,O*100,D*100]},L.hsl.hcg=function(p){var w=p[1]/100,y=p[2]/100,b=1,x=0;return y<.5?b=2*w*y:b=2*w*(1-y),b<1&&(x=(y-.5*b)/(1-b)),[p[0],b*100,x*100]},L.hsv.hcg=function(p){var w=p[1]/100,y=p[2]/100,b=w*y,x=0;return b<1&&(x=(y-b)/(1-b)),[p[0],b*100,x*100]},L.hcg.rgb=function(p){var w=p[0]/360,y=p[1]/100,b=p[2]/100;if(y===0)return[b*255,b*255,b*255];var x=[0,0,0],E=w%1*6,O=E%1,D=1-O,N=0;switch(Math.floor(E)){case 0:x[0]=1,x[1]=O,x[2]=0;break;case 1:x[0]=D,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=O;break;case 3:x[0]=0,x[1]=D,x[2]=1;break;case 4:x[0]=O,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=D}return N=(1-y)*b,[(y*x[0]+N)*255,(y*x[1]+N)*255,(y*x[2]+N)*255]},L.hcg.hsv=function(p){var w=p[1]/100,y=p[2]/100,b=w+y*(1-w),x=0;return b>0&&(x=w/b),[p[0],x*100,b*100]},L.hcg.hsl=function(p){var w=p[1]/100,y=p[2]/100,b=y*(1-w)+.5*w,x=0;return b>0&&b<.5?x=w/(2*b):b>=.5&&b<1&&(x=w/(2*(1-b))),[p[0],x*100,b*100]},L.hcg.hwb=function(p){var w=p[1]/100,y=p[2]/100,b=w+y*(1-w);return[p[0],(b-w)*100,(1-b)*100]},L.hwb.hcg=function(p){var w=p[1]/100,y=p[2]/100,b=1-y,x=b-w,E=0;return x<1&&(E=(b-x)/(1-x)),[p[0],x*100,E*100]},L.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},L.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},L.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},L.gray.hsl=L.gray.hsv=function(p){return[0,0,p[0]]},L.gray.hwb=function(p){return[0,100,p[0]]},L.gray.cmyk=function(p){return[0,0,0,p[0]]},L.gray.lab=function(p){return[p[0],0,0]},L.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,y=(w<<16)+(w<<8)+w,b=y.toString(16).toUpperCase();return"000000".substring(b.length)+b},L.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},12085:function(ct,S,d){var m=d(48168),I=d(4111),k={},L=Object.keys(m);function P(M){var A=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),M(p))};return"conversion"in M&&(A.conversion=M.conversion),A}function T(M){var A=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=M(p);if(typeof w=="object")for(var y=w.length,b=0;b<y;b++)w[b]=Math.round(w[b]);return w};return"conversion"in M&&(A.conversion=M.conversion),A}L.forEach(function(M){k[M]={},Object.defineProperty(k[M],"channels",{value:m[M].channels}),Object.defineProperty(k[M],"labels",{value:m[M].labels});var A=I(M),p=Object.keys(A);p.forEach(function(w){var y=A[w];k[M][w]=T(y),k[M][w].raw=P(y)})}),ct.exports=k},39092:function(ct){"use strict";ct.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(ct,S,d){var m=d(48168);function I(){for(var T={},M=Object.keys(m),A=M.length,p=0;p<A;p++)T[M[p]]={distance:-1,parent:null};return T}function k(T){var M=I(),A=[T];for(M[T].distance=0;A.length;)for(var p=A.pop(),w=Object.keys(m[p]),y=w.length,b=0;b<y;b++){var x=w[b],E=M[x];E.distance===-1&&(E.distance=M[p].distance+1,E.parent=p,A.unshift(x))}return M}function L(T,M){return function(A){return M(T(A))}}function P(T,M){for(var A=[M[T].parent,T],p=m[M[T].parent][T],w=M[T].parent;M[w].parent;)A.unshift(M[w].parent),p=L(m[M[w].parent][w],p),w=M[w].parent;return p.conversion=A,p}ct.exports=function(T){for(var M=k(T),A={},p=Object.keys(M),w=p.length,y=0;y<w;y++){var b=p[y],x=M[b];x.parent!==null&&(A[b]=P(b,M))}return A}},8874:function(ct){"use strict";ct.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(ct,S,d){var m=d(8874),I=d(86851),k=Object.hasOwnProperty,L=Object.create(null);for(var P in m)k.call(m,P)&&(L[m[P]]=P);var T=ct.exports={to:{},get:{}};T.get=function(p){var w=p.substring(0,3).toLowerCase(),y,b;switch(w){case"hsl":y=T.get.hsl(p),b="hsl";break;case"hwb":y=T.get.hwb(p),b="hwb";break;default:y=T.get.rgb(p),b="rgb";break}return y?{model:b,value:y}:null},T.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,b=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,x=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,E=/^(\w+)$/,O=[0,0,0,1],D,N,z;if(D=p.match(y)){for(z=D[2],D=D[1],N=0;N<3;N++){var W=N*2;O[N]=parseInt(D.slice(W,W+2),16)}z&&(O[3]=parseInt(z,16)/255)}else if(D=p.match(w)){for(D=D[1],z=D[3],N=0;N<3;N++)O[N]=parseInt(D[N]+D[N],16);z&&(O[3]=parseInt(z+z,16)/255)}else if(D=p.match(b)){for(N=0;N<3;N++)O[N]=parseInt(D[N+1],0);D[4]&&(D[5]?O[3]=parseFloat(D[4])*.01:O[3]=parseFloat(D[4]))}else if(D=p.match(x)){for(N=0;N<3;N++)O[N]=Math.round(parseFloat(D[N+1])*2.55);D[4]&&(D[5]?O[3]=parseFloat(D[4])*.01:O[3]=parseFloat(D[4]))}else return(D=p.match(E))?D[1]==="transparent"?[0,0,0,0]:k.call(m,D[1])?(O=m[D[1]],O[3]=1,O):null:null;for(N=0;N<3;N++)O[N]=M(O[N],0,255);return O[3]=M(O[3],0,1),O},T.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var b=parseFloat(y[4]),x=(parseFloat(y[1])%360+360)%360,E=M(parseFloat(y[2]),0,100),O=M(parseFloat(y[3]),0,100),D=M(isNaN(b)?1:b,0,1);return[x,E,O,D]}return null},T.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var b=parseFloat(y[4]),x=(parseFloat(y[1])%360+360)%360,E=M(parseFloat(y[2]),0,100),O=M(parseFloat(y[3]),0,100),D=M(isNaN(b)?1:b,0,1);return[x,E,O,D]}return null},T.to.hex=function(){var p=I(arguments);return"#"+A(p[0])+A(p[1])+A(p[2])+(p[3]<1?A(Math.round(p[3]*255)):"")},T.to.rgb=function(){var p=I(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},T.to.rgb.percent=function(){var p=I(arguments),w=Math.round(p[0]/255*100),y=Math.round(p[1]/255*100),b=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+y+"%, "+b+"%)":"rgba("+w+"%, "+y+"%, "+b+"%, "+p[3]+")"},T.to.hsl=function(){var p=I(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},T.to.hwb=function(){var p=I(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},T.to.keyword=function(p){return L[p.slice(0,3)]};function M(p,w,y){return Math.min(Math.max(w,p),y)}function A(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(ct,S,d){"use strict";var m=d(19818),I=d(12085),k=[].slice,L=["keyword","gray","hex"],P={};Object.keys(I).forEach(function(E){P[k.call(I[E].labels).sort().join("")]=E});var T={};function M(E,O){if(!(this instanceof M))return new M(E,O);if(O&&O in L&&(O=null),O&&!(O in I))throw new Error("Unknown model: "+O);var D,N;if(E==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(E instanceof M)this.model=E.model,this.color=E.color.slice(),this.valpha=E.valpha;else if(typeof E=="string"){var z=m.get(E);if(z===null)throw new Error("Unable to parse color from string: "+E);this.model=z.model,N=I[this.model].channels,this.color=z.value.slice(0,N),this.valpha=typeof z.value[N]=="number"?z.value[N]:1}else if(E.length){this.model=O||"rgb",N=I[this.model].channels;var W=k.call(E,0,N);this.color=x(W,N),this.valpha=typeof E[N]=="number"?E[N]:1}else if(typeof E=="number")E&=16777215,this.model="rgb",this.color=[E>>16&255,E>>8&255,E&255],this.valpha=1;else{this.valpha=1;var X=Object.keys(E);"alpha"in E&&(X.splice(X.indexOf("alpha"),1),this.valpha=typeof E.alpha=="number"?E.alpha:0);var j=X.sort().join("");if(!(j in P))throw new Error("Unable to parse color from object: "+JSON.stringify(E));this.model=P[j];var tt=I[this.model].labels,K=[];for(D=0;D<tt.length;D++)K.push(E[tt[D]]);this.color=x(K)}if(T[this.model])for(N=I[this.model].channels,D=0;D<N;D++){var wt=T[this.model][D];wt&&(this.color[D]=wt(this.color[D]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}M.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(E){var O=this.model in m.to?this:this.rgb();O=O.round(typeof E=="number"?E:1);var D=O.valpha===1?O.color:O.color.concat(this.valpha);return m.to[O.model](D)},percentString:function(E){var O=this.rgb().round(typeof E=="number"?E:1),D=O.valpha===1?O.color:O.color.concat(this.valpha);return m.to.rgb.percent(D)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var E={},O=I[this.model].channels,D=I[this.model].labels,N=0;N<O;N++)E[D[N]]=this.color[N];return this.valpha!==1&&(E.alpha=this.valpha),E},unitArray:function(){var E=this.rgb().color;return E[0]/=255,E[1]/=255,E[2]/=255,this.valpha!==1&&E.push(this.valpha),E},unitObject:function(){var E=this.rgb().object();return E.r/=255,E.g/=255,E.b/=255,this.valpha!==1&&(E.alpha=this.valpha),E},round:function(E){return E=Math.max(E||0,0),new M(this.color.map(p(E)).concat(this.valpha),this.model)},alpha:function(E){return arguments.length?new M(this.color.concat(Math.max(0,Math.min(1,E))),this.model):this.valpha},red:w("rgb",0,y(255)),green:w("rgb",1,y(255)),blue:w("rgb",2,y(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(E){return(E%360+360)%360}),saturationl:w("hsl",1,y(100)),lightness:w("hsl",2,y(100)),saturationv:w("hsv",1,y(100)),value:w("hsv",2,y(100)),chroma:w("hcg",1,y(100)),gray:w("hcg",2,y(100)),white:w("hwb",1,y(100)),wblack:w("hwb",2,y(100)),cyan:w("cmyk",0,y(100)),magenta:w("cmyk",1,y(100)),yellow:w("cmyk",2,y(100)),black:w("cmyk",3,y(100)),x:w("xyz",0,y(100)),y:w("xyz",1,y(100)),z:w("xyz",2,y(100)),l:w("lab",0,y(100)),a:w("lab",1),b:w("lab",2),keyword:function(E){return arguments.length?new M(E):I[this.model].keyword(this.color)},hex:function(E){return arguments.length?new M(E):m.to.hex(this.rgb().round().color)},rgbNumber:function(){var E=this.rgb().color;return(E[0]&255)<<16|(E[1]&255)<<8|E[2]&255},luminosity:function(){for(var E=this.rgb().color,O=[],D=0;D<E.length;D++){var N=E[D]/255;O[D]=N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}return .2126*O[0]+.7152*O[1]+.0722*O[2]},contrast:function(E){var O=this.luminosity(),D=E.luminosity();return O>D?(O+.05)/(D+.05):(D+.05)/(O+.05)},level:function(E){var O=this.contrast(E);return O>=7.1?"AAA":O>=4.5?"AA":""},isDark:function(){var E=this.rgb().color,O=(E[0]*299+E[1]*587+E[2]*114)/1e3;return O<128},isLight:function(){return!this.isDark()},negate:function(){for(var E=this.rgb(),O=0;O<3;O++)E.color[O]=255-E.color[O];return E},lighten:function(E){var O=this.hsl();return O.color[2]+=O.color[2]*E,O},darken:function(E){var O=this.hsl();return O.color[2]-=O.color[2]*E,O},saturate:function(E){var O=this.hsl();return O.color[1]+=O.color[1]*E,O},desaturate:function(E){var O=this.hsl();return O.color[1]-=O.color[1]*E,O},whiten:function(E){var O=this.hwb();return O.color[1]+=O.color[1]*E,O},blacken:function(E){var O=this.hwb();return O.color[2]+=O.color[2]*E,O},grayscale:function(){var E=this.rgb().color,O=E[0]*.3+E[1]*.59+E[2]*.11;return M.rgb(O,O,O)},fade:function(E){return this.alpha(this.valpha-this.valpha*E)},opaquer:function(E){return this.alpha(this.valpha+this.valpha*E)},rotate:function(E){var O=this.hsl(),D=O.color[0];return D=(D+E)%360,D=D<0?360+D:D,O.color[0]=D,O},mix:function(E,O){if(!E||!E.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof E);var D=E.rgb(),N=this.rgb(),z=O===void 0?.5:O,W=2*z-1,X=D.alpha()-N.alpha(),j=((W*X==-1?W:(W+X)/(1+W*X))+1)/2,tt=1-j;return M.rgb(j*D.red()+tt*N.red(),j*D.green()+tt*N.green(),j*D.blue()+tt*N.blue(),D.alpha()*z+N.alpha()*(1-z))}},Object.keys(I).forEach(function(E){if(L.indexOf(E)===-1){var O=I[E].channels;M.prototype[E]=function(){if(this.model===E)return new M(this);if(arguments.length)return new M(arguments,E);var D=typeof arguments[O]=="number"?O:this.valpha;return new M(b(I[this.model][E].raw(this.color)).concat(D),E)},M[E]=function(D){return typeof D=="number"&&(D=x(k.call(arguments),O)),new M(D,E)}}});function A(E,O){return Number(E.toFixed(O))}function p(E){return function(O){return A(O,E)}}function w(E,O,D){return E=Array.isArray(E)?E:[E],E.forEach(function(N){(T[N]||(T[N]=[]))[O]=D}),E=E[0],function(N){var z;return arguments.length?(D&&(N=D(N)),z=this[E](),z.color[O]=N,z):(z=this[E]().color[O],D&&(z=D(z)),z)}}function y(E){return function(O){return Math.max(0,Math.min(E,O))}}function b(E){return Array.isArray(E)?E:[E]}function x(E,O){for(var D=0;D<O;D++)typeof E[D]!="number"&&(E[D]=0);return E}ct.exports=M},2650:function(ct,S,d){"use strict";d.d(S,{ZP:function(){return X},B8:function(){return wt}});function m(V,B,f){V.prototype=B.prototype=f,f.constructor=V}function I(V,B){var f=Object.create(V.prototype);for(var yt in B)f[yt]=B[yt];return f}function k(){}var L=.7,P=1/L,T="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),y=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),b=new RegExp("^rgba\\("+[T,T,T,M]+"\\)$"),x=new RegExp("^rgba\\("+[A,A,A,M]+"\\)$"),E=new RegExp("^hsl\\("+[M,A,A]+"\\)$"),O=new RegExp("^hsla\\("+[M,A,A,M]+"\\)$"),D={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(k,X,{copy:function(V){return Object.assign(new this.constructor,this,V)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:z,formatRgb:W,toString:W});function N(){return this.rgb().formatHex()}function z(){return it(this).formatHsl()}function W(){return this.rgb().formatRgb()}function X(V){var B,f;return V=(V+"").trim().toLowerCase(),(B=p.exec(V))?(f=B[1].length,B=parseInt(B[1],16),f===6?j(B):f===3?new ot(B>>8&15|B>>4&240,B>>4&15|B&240,(B&15)<<4|B&15,1):f===8?tt(B>>24&255,B>>16&255,B>>8&255,(B&255)/255):f===4?tt(B>>12&15|B>>8&240,B>>8&15|B>>4&240,B>>4&15|B&240,((B&15)<<4|B&15)/255):null):(B=w.exec(V))?new ot(B[1],B[2],B[3],1):(B=y.exec(V))?new ot(B[1]*255/100,B[2]*255/100,B[3]*255/100,1):(B=b.exec(V))?tt(B[1],B[2],B[3],B[4]):(B=x.exec(V))?tt(B[1]*255/100,B[2]*255/100,B[3]*255/100,B[4]):(B=E.exec(V))?dt(B[1],B[2]/100,B[3]/100,1):(B=O.exec(V))?dt(B[1],B[2]/100,B[3]/100,B[4]):D.hasOwnProperty(V)?j(D[V]):V==="transparent"?new ot(NaN,NaN,NaN,0):null}function j(V){return new ot(V>>16&255,V>>8&255,V&255,1)}function tt(V,B,f,yt){return yt<=0&&(V=B=f=NaN),new ot(V,B,f,yt)}function K(V){return V instanceof k||(V=X(V)),V?(V=V.rgb(),new ot(V.r,V.g,V.b,V.opacity)):new ot}function wt(V,B,f,yt){return arguments.length===1?K(V):new ot(V,B,f,yt==null?1:yt)}function ot(V,B,f,yt){this.r=+V,this.g=+B,this.b=+f,this.opacity=+yt}m(ot,wt,I(k,{brighter:function(V){return V=V==null?P:Math.pow(P,V),new ot(this.r*V,this.g*V,this.b*V,this.opacity)},darker:function(V){return V=V==null?L:Math.pow(L,V),new ot(this.r*V,this.g*V,this.b*V,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vt,formatHex:vt,formatRgb:et,toString:et}));function vt(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)}function et(){var V=this.opacity;return V=isNaN(V)?1:Math.max(0,Math.min(1,V)),(V===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(V===1?")":", "+V+")")}function lt(V){return V=Math.max(0,Math.min(255,Math.round(V)||0)),(V<16?"0":"")+V.toString(16)}function dt(V,B,f,yt){return yt<=0?V=B=f=NaN:f<=0||f>=1?V=B=NaN:B<=0&&(V=NaN),new mt(V,B,f,yt)}function it(V){if(V instanceof mt)return new mt(V.h,V.s,V.l,V.opacity);if(V instanceof k||(V=X(V)),!V)return new mt;if(V instanceof mt)return V;V=V.rgb();var B=V.r/255,f=V.g/255,yt=V.b/255,St=Math.min(B,f,yt),Rt=Math.max(B,f,yt),Qt=NaN,zt=Rt-St,$t=(Rt+St)/2;return zt?(B===Rt?Qt=(f-yt)/zt+(f<yt)*6:f===Rt?Qt=(yt-B)/zt+2:Qt=(B-f)/zt+4,zt/=$t<.5?Rt+St:2-Rt-St,Qt*=60):zt=$t>0&&$t<1?0:Qt,new mt(Qt,zt,$t,V.opacity)}function At(V,B,f,yt){return arguments.length===1?it(V):new mt(V,B,f,yt==null?1:yt)}function mt(V,B,f,yt){this.h=+V,this.s=+B,this.l=+f,this.opacity=+yt}m(mt,At,I(k,{brighter:function(V){return V=V==null?P:Math.pow(P,V),new mt(this.h,this.s,this.l*V,this.opacity)},darker:function(V){return V=V==null?L:Math.pow(L,V),new mt(this.h,this.s,this.l*V,this.opacity)},rgb:function(){var V=this.h%360+(this.h<0)*360,B=isNaN(V)||isNaN(this.s)?0:this.s,f=this.l,yt=f+(f<.5?f:1-f)*B,St=2*f-yt;return new ot(U(V>=240?V-240:V+120,St,yt),U(V,St,yt),U(V<120?V+240:V-120,St,yt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var V=this.opacity;return V=isNaN(V)?1:Math.max(0,Math.min(1,V)),(V===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(V===1?")":", "+V+")")}}));function U(V,B,f){return(V<60?B+(f-B)*V/60:V<180?f:V<240?B+(f-B)*(240-V)/60:B)*255}},68716:function(ct,S,d){"use strict";d.d(S,{yD:function(){return m},_e:function(){return I},tw:function(){return k}});function m(L){return L*L*L}function I(L){return--L*L*L+1}function k(L){return((L*=2)<=1?L*L*L:(L-=2)*L*L+2)/2}},13681:function(ct,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return St},easeBackIn:function(){return f},easeBackInOut:function(){return St},easeBackOut:function(){return yt},easeBounce:function(){return U},easeBounceIn:function(){return mt},easeBounceInOut:function(){return V},easeBounceOut:function(){return U},easeCircle:function(){return j},easeCircleIn:function(){return W},easeCircleInOut:function(){return j},easeCircleOut:function(){return X},easeCubic:function(){return P.tw},easeCubicIn:function(){return P.yD},easeCubicInOut:function(){return P.tw},easeCubicOut:function(){return P._e},easeElastic:function(){return ne},easeElasticIn:function(){return $t},easeElasticInOut:function(){return ae},easeElasticOut:function(){return ne},easeExp:function(){return z},easeExpIn:function(){return D},easeExpInOut:function(){return z},easeExpOut:function(){return N},easeLinear:function(){return m},easePoly:function(){return p},easePolyIn:function(){return M},easePolyInOut:function(){return p},easePolyOut:function(){return A},easeQuad:function(){return L},easeQuadIn:function(){return I},easeQuadInOut:function(){return L},easeQuadOut:function(){return k},easeSin:function(){return E},easeSinIn:function(){return b},easeSinInOut:function(){return E},easeSinOut:function(){return x}});function m(Wt){return+Wt}function I(Wt){return Wt*Wt}function k(Wt){return Wt*(2-Wt)}function L(Wt){return((Wt*=2)<=1?Wt*Wt:--Wt*(2-Wt)+1)/2}var P=d(68716),T=3,M=function Wt(It){It=+It;function Ct(ht){return Math.pow(ht,It)}return Ct.exponent=Wt,Ct}(T),A=function Wt(It){It=+It;function Ct(ht){return 1-Math.pow(1-ht,It)}return Ct.exponent=Wt,Ct}(T),p=function Wt(It){It=+It;function Ct(ht){return((ht*=2)<=1?Math.pow(ht,It):2-Math.pow(2-ht,It))/2}return Ct.exponent=Wt,Ct}(T),w=Math.PI,y=w/2;function b(Wt){return+Wt==1?1:1-Math.cos(Wt*y)}function x(Wt){return Math.sin(Wt*y)}function E(Wt){return(1-Math.cos(w*Wt))/2}function O(Wt){return(Math.pow(2,-10*Wt)-.0009765625)*1.0009775171065494}function D(Wt){return O(1-+Wt)}function N(Wt){return 1-O(Wt)}function z(Wt){return((Wt*=2)<=1?O(1-Wt):2-O(Wt-1))/2}function W(Wt){return 1-Math.sqrt(1-Wt*Wt)}function X(Wt){return Math.sqrt(1- --Wt*Wt)}function j(Wt){return((Wt*=2)<=1?1-Math.sqrt(1-Wt*Wt):Math.sqrt(1-(Wt-=2)*Wt)+1)/2}var tt=4/11,K=6/11,wt=8/11,ot=3/4,vt=9/11,et=10/11,lt=15/16,dt=21/22,it=63/64,At=1/tt/tt;function mt(Wt){return 1-U(1-Wt)}function U(Wt){return(Wt=+Wt)<tt?At*Wt*Wt:Wt<wt?At*(Wt-=K)*Wt+ot:Wt<et?At*(Wt-=vt)*Wt+lt:At*(Wt-=dt)*Wt+it}function V(Wt){return((Wt*=2)<=1?1-U(1-Wt):U(Wt-1)+1)/2}var B=1.70158,f=function Wt(It){It=+It;function Ct(ht){return(ht=+ht)*ht*(It*(ht-1)+ht)}return Ct.overshoot=Wt,Ct}(B),yt=function Wt(It){It=+It;function Ct(ht){return--ht*ht*((ht+1)*It+ht)+1}return Ct.overshoot=Wt,Ct}(B),St=function Wt(It){It=+It;function Ct(ht){return((ht*=2)<1?ht*ht*((It+1)*ht-It):(ht-=2)*ht*((It+1)*ht+It)+2)/2}return Ct.overshoot=Wt,Ct}(B),Rt=2*Math.PI,Qt=1,zt=.3,$t=function Wt(It,Ct){var ht=Math.asin(1/(It=Math.max(1,It)))*(Ct/=Rt);function Et(at){return It*O(- --at)*Math.sin((ht-at)/Ct)}return Et.amplitude=function(at){return Wt(at,Ct*Rt)},Et.period=function(at){return Wt(It,at)},Et}(Qt,zt),ne=function Wt(It,Ct){var ht=Math.asin(1/(It=Math.max(1,It)))*(Ct/=Rt);function Et(at){return 1-It*O(at=+at)*Math.sin((at+ht)/Ct)}return Et.amplitude=function(at){return Wt(at,Ct*Rt)},Et.period=function(at){return Wt(It,at)},Et}(Qt,zt),ae=function Wt(It,Ct){var ht=Math.asin(1/(It=Math.max(1,It)))*(Ct/=Rt);function Et(at){return((at=at*2-1)<0?It*O(-at)*Math.sin((ht-at)/Ct):2-It*O(at)*Math.sin((ht+at)/Ct))/2}return Et.amplitude=function(at){return Wt(at,Ct*Rt)},Et.period=function(at){return Wt(It,at)},Et}(Qt,zt)},88122:function(ct,S,d){"use strict";d.d(S,{Z:function(){return k},M:function(){return L}});var m=d(26257),I=d(67896);function k(P,T){return((0,I.v)(T)?I.Z:L)(P,T)}function L(P,T){var M=T?T.length:0,A=P?Math.min(M,P.length):0,p=new Array(A),w=new Array(M),y;for(y=0;y<A;++y)p[y]=(0,m.Z)(P[y],T[y]);for(;y<M;++y)w[y]=T[y];return function(b){for(y=0;y<A;++y)w[y]=p[y](b);return w}}},73626:function(ct,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(I,k){return I=+I,k=+k,function(L){return I*(1-L)+k*L}}},67896:function(ct,S,d){"use strict";d.d(S,{Z:function(){return m},v:function(){return I}});function m(k,L){L||(L=[]);var P=k?Math.min(L.length,k.length):0,T=L.slice(),M;return function(A){for(M=0;M<P;++M)T[M]=k[M]*(1-A)+L[M]*A;return T}}function I(k){return ArrayBuffer.isView(k)&&!(k instanceof DataView)}},26257:function(ct,S,d){"use strict";d.d(S,{Z:function(){return ot}});var m=d(2650);function I(vt,et,lt,dt,it){var At=vt*vt,mt=At*vt;return((1-3*vt+3*At-mt)*et+(4-6*At+3*mt)*lt+(1+3*vt+3*At-3*mt)*dt+mt*it)/6}function k(vt){var et=vt.length-1;return function(lt){var dt=lt<=0?lt=0:lt>=1?(lt=1,et-1):Math.floor(lt*et),it=vt[dt],At=vt[dt+1],mt=dt>0?vt[dt-1]:2*it-At,U=dt<et-1?vt[dt+2]:2*At-it;return I((lt-dt/et)*et,mt,it,At,U)}}function L(vt){var et=vt.length;return function(lt){var dt=Math.floor(((lt%=1)<0?++lt:lt)*et),it=vt[(dt+et-1)%et],At=vt[dt%et],mt=vt[(dt+1)%et],U=vt[(dt+2)%et];return I((lt-dt/et)*et,it,At,mt,U)}}function P(vt){return function(){return vt}}function T(vt,et){return function(lt){return vt+lt*et}}function M(vt,et,lt){return vt=Math.pow(vt,lt),et=Math.pow(et,lt)-vt,lt=1/lt,function(dt){return Math.pow(vt+dt*et,lt)}}function A(vt,et){var lt=et-vt;return lt?T(vt,lt>180||lt<-180?lt-360*Math.round(lt/360):lt):constant(isNaN(vt)?et:vt)}function p(vt){return(vt=+vt)==1?w:function(et,lt){return lt-et?M(et,lt,vt):P(isNaN(et)?lt:et)}}function w(vt,et){var lt=et-vt;return lt?T(vt,lt):P(isNaN(vt)?et:vt)}var y=function vt(et){var lt=p(et);function dt(it,At){var mt=lt((it=(0,m.B8)(it)).r,(At=(0,m.B8)(At)).r),U=lt(it.g,At.g),V=lt(it.b,At.b),B=w(it.opacity,At.opacity);return function(f){return it.r=mt(f),it.g=U(f),it.b=V(f),it.opacity=B(f),it+""}}return dt.gamma=vt,dt}(1);function b(vt){return function(et){var lt=et.length,dt=new Array(lt),it=new Array(lt),At=new Array(lt),mt,U;for(mt=0;mt<lt;++mt)U=(0,m.B8)(et[mt]),dt[mt]=U.r||0,it[mt]=U.g||0,At[mt]=U.b||0;return dt=vt(dt),it=vt(it),At=vt(At),U.opacity=1,function(V){return U.r=dt(V),U.g=it(V),U.b=At(V),U+""}}}var x=b(k),E=b(L),O=d(88122);function D(vt,et){var lt=new Date;return vt=+vt,et=+et,function(dt){return lt.setTime(vt*(1-dt)+et*dt),lt}}var N=d(73626);function z(vt,et){var lt={},dt={},it;(vt===null||typeof vt!="object")&&(vt={}),(et===null||typeof et!="object")&&(et={});for(it in et)it in vt?lt[it]=ot(vt[it],et[it]):dt[it]=et[it];return function(At){for(it in lt)dt[it]=lt[it](At);return dt}}var W=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X=new RegExp(W.source,"g");function j(vt){return function(){return vt}}function tt(vt){return function(et){return vt(et)+""}}function K(vt,et){var lt=W.lastIndex=X.lastIndex=0,dt,it,At,mt=-1,U=[],V=[];for(vt=vt+"",et=et+"";(dt=W.exec(vt))&&(it=X.exec(et));)(At=it.index)>lt&&(At=et.slice(lt,At),U[mt]?U[mt]+=At:U[++mt]=At),(dt=dt[0])===(it=it[0])?U[mt]?U[mt]+=it:U[++mt]=it:(U[++mt]=null,V.push({i:mt,x:(0,N.Z)(dt,it)})),lt=X.lastIndex;return lt<et.length&&(At=et.slice(lt),U[mt]?U[mt]+=At:U[++mt]=At),U.length<2?V[0]?tt(V[0].x):j(et):(et=V.length,function(B){for(var f=0,yt;f<et;++f)U[(yt=V[f]).i]=yt.x(B);return U.join("")})}var wt=d(67896);function ot(vt,et){var lt=typeof et,dt;return et==null||lt==="boolean"?P(et):(lt==="number"?N.Z:lt==="string"?(dt=(0,m.ZP)(et))?(et=dt,y):K:et instanceof m.ZP?y:et instanceof Date?D:(0,wt.v)(et)?wt.Z:Array.isArray(et)?O.M:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?z:N.Z)(vt,et)}},56645:function(ct,S){(function(d,m){m(S)})(this,function(d){"use strict";function m(et,lt){return I(et)||k(et,lt)||L()}function I(et){if(Array.isArray(et))return et}function k(et,lt){var dt=[],it=!0,At=!1,mt=void 0;try{for(var U=et[Symbol.iterator](),V;!(it=(V=U.next()).done)&&(dt.push(V.value),!(lt&&dt.length===lt));it=!0);}catch(B){At=!0,mt=B}finally{try{!it&&U.return!=null&&U.return()}finally{if(At)throw mt}}return dt}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(et,lt,dt,it){et=et.filter(function(zt,$t){var ne=lt(zt,$t),ae=dt(zt,$t);return ne!=null&&isFinite(ne)&&ae!=null&&isFinite(ae)}),it&&et.sort(function(zt,$t){return lt(zt)-lt($t)});for(var At=et.length,mt=new Float64Array(At),U=new Float64Array(At),V=0,B=0,f,yt,St,Rt=0;Rt<At;)St=et[Rt],mt[Rt]=f=+lt(St,Rt,et),U[Rt]=yt=+dt(St,Rt,et),++Rt,V+=(f-V)/Rt,B+=(yt-B)/Rt;for(var Qt=0;Qt<At;++Qt)mt[Qt]-=V,U[Qt]-=B;return[mt,U,V,B]}function T(et,lt,dt,it){for(var At=0,mt=0,U=et.length;mt<U;mt++){var V=et[mt],B=+lt(V,mt,et),f=+dt(V,mt,et);B!=null&&isFinite(B)&&f!=null&&isFinite(f)&&it(B,f,At++)}}function M(et,lt,dt,it,At){var mt=0,U=0;return T(et,lt,dt,function(V,B){var f=B-At(V),yt=B-it;mt+=f*f,U+=yt*yt}),1-mt/U}function A(et){return Math.atan2(et[1][1]-et[0][1],et[1][0]-et[0][0])*180/Math.PI}function p(et){return[(et[0][0]+et[1][0])/2,(et[0][1]+et[1][1])/2]}function w(et,lt,dt){for(var it=Math.log(lt-et)*Math.LOG10E+1|0,At=1*Math.pow(10,-it/2-1),mt=1e4,U=[B(et),B(lt)],V=0;f(U)&&V<mt;);return U;function B(yt){return[yt,dt(yt)]}function f(yt){V++;for(var St=yt.length,Rt=!1,Qt=0;Qt<St-1;Qt++){var zt=yt[Qt],$t=yt[Qt+1],ne=p([zt,$t]),ae=B(ne[0]),Wt=A([zt,ne]),It=A([zt,ae]),Ct=Math.abs(Wt-It);Ct>At&&(yt.splice(Qt+1,0,ae),Rt=!0)}return Rt}}function y(et,lt,dt,it){var At=it-et*et,mt=Math.abs(At)<1e-24?0:(dt-et*lt)/At,U=lt-mt*et;return[U,mt]}function b(){var et=function(mt){return mt[0]},lt=function(mt){return mt[1]},dt;function it(At){var mt=0,U=0,V=0,B=0,f=0,yt=0,St=dt?+dt[0]:Infinity,Rt=dt?+dt[1]:-Infinity;T(At,et,lt,function(It,Ct){var ht=Math.log(Ct),Et=It*Ct;++mt,U+=(Ct-U)/mt,B+=(Et-B)/mt,yt+=(It*Et-yt)/mt,V+=(Ct*ht-V)/mt,f+=(Et*ht-f)/mt,dt||(It<St&&(St=It),It>Rt&&(Rt=It))});var Qt=y(B/U,V/U,f/U,yt/U),zt=m(Qt,2),$t=zt[0],ne=zt[1];$t=Math.exp($t);var ae=function(Ct){return $t*Math.exp(ne*Ct)},Wt=w(St,Rt,ae);return Wt.a=$t,Wt.b=ne,Wt.predict=ae,Wt.rSquared=M(At,et,lt,U,ae),Wt}return it.domain=function(At){return arguments.length?(dt=At,it):dt},it.x=function(At){return arguments.length?(et=At,it):et},it.y=function(At){return arguments.length?(lt=At,it):lt},it}function x(){var et=function(mt){return mt[0]},lt=function(mt){return mt[1]},dt;function it(At){var mt=0,U=0,V=0,B=0,f=0,yt=dt?+dt[0]:Infinity,St=dt?+dt[1]:-Infinity;T(At,et,lt,function(Wt,It){++mt,U+=(Wt-U)/mt,V+=(It-V)/mt,B+=(Wt*It-B)/mt,f+=(Wt*Wt-f)/mt,dt||(Wt<yt&&(yt=Wt),Wt>St&&(St=Wt))});var Rt=y(U,V,B,f),Qt=m(Rt,2),zt=Qt[0],$t=Qt[1],ne=function(It){return $t*It+zt},ae=[[yt,ne(yt)],[St,ne(St)]];return ae.a=$t,ae.b=zt,ae.predict=ne,ae.rSquared=M(At,et,lt,V,ne),ae}return it.domain=function(At){return arguments.length?(dt=At,it):dt},it.x=function(At){return arguments.length?(et=At,it):et},it.y=function(At){return arguments.length?(lt=At,it):lt},it}function E(et){et.sort(function(dt,it){return dt-it});var lt=et.length/2;return lt%1==0?(et[lt-1]+et[lt])/2:et[Math.floor(lt)]}var O=2,D=1e-12;function N(){var et=function(mt){return mt[0]},lt=function(mt){return mt[1]},dt=.3;function it(At){for(var mt=P(At,et,lt,!0),U=m(mt,4),V=U[0],B=U[1],f=U[2],yt=U[3],St=V.length,Rt=Math.max(2,~~(dt*St)),Qt=new Float64Array(St),zt=new Float64Array(St),$t=new Float64Array(St).fill(1),ne=-1;++ne<=O;){for(var ae=[0,Rt-1],Wt=0;Wt<St;++Wt){for(var It=V[Wt],Ct=ae[0],ht=ae[1],Et=It-V[Ct]>V[ht]-It?Ct:ht,at=0,Q=0,bt=0,Ot=0,Vt=0,ue=1/Math.abs(V[Et]-It||1),Se=Ct;Se<=ht;++Se){var Re=V[Se],We=B[Se],mr=z(Math.abs(It-Re)*ue)*$t[Se],wr=Re*mr;at+=mr,Q+=wr,bt+=We*mr,Ot+=We*wr,Vt+=Re*wr}var br=y(Q/at,bt/at,Ot/at,Vt/at),zr=m(br,2),pr=zr[0],an=zr[1];Qt[Wt]=pr+an*It,zt[Wt]=Math.abs(B[Wt]-Qt[Wt]),W(V,Wt+1,ae)}if(ne===O)break;var Tn=E(zt);if(Math.abs(Tn)<D)break;for(var rn=0,Mn,Si;rn<St;++rn)Mn=zt[rn]/(6*Tn),$t[rn]=Mn>=1?D:(Si=1-Mn*Mn)*Si}return X(V,Qt,f,yt)}return it.bandwidth=function(At){return arguments.length?(dt=At,it):dt},it.x=function(At){return arguments.length?(et=At,it):et},it.y=function(At){return arguments.length?(lt=At,it):lt},it}function z(et){return(et=1-et*et*et)*et*et}function W(et,lt,dt){var it=et[lt],At=dt[0],mt=dt[1]+1;if(!(mt>=et.length))for(;lt>At&&et[mt]-it<=it-et[At];)dt[0]=++At,dt[1]=mt,++mt}function X(et,lt,dt,it){for(var At=et.length,mt=[],U=0,V=0,B=[],f;U<At;++U)f=et[U]+dt,B[0]===f?B[1]+=(lt[U]-B[1])/++V:(V=0,B[1]+=it,B=[f,lt[U]],mt.push(B));return B[1]+=it,mt}function j(){var et=function(U){return U[0]},lt=function(U){return U[1]},dt=Math.E,it;function At(mt){var U=0,V=0,B=0,f=0,yt=0,St=it?+it[0]:Infinity,Rt=it?+it[1]:-Infinity,Qt=Math.log(dt);T(mt,et,lt,function(Ct,ht){var Et=Math.log(Ct)/Qt;++U,V+=(Et-V)/U,B+=(ht-B)/U,f+=(Et*ht-f)/U,yt+=(Et*Et-yt)/U,it||(Ct<St&&(St=Ct),Ct>Rt&&(Rt=Ct))});var zt=y(V,B,f,yt),$t=m(zt,2),ne=$t[0],ae=$t[1],Wt=function(ht){return ae*Math.log(ht)/Qt+ne},It=w(St,Rt,Wt);return It.a=ae,It.b=ne,It.predict=Wt,It.rSquared=M(mt,et,lt,B,Wt),It}return At.domain=function(mt){return arguments.length?(it=mt,At):it},At.x=function(mt){return arguments.length?(et=mt,At):et},At.y=function(mt){return arguments.length?(lt=mt,At):lt},At.base=function(mt){return arguments.length?(dt=mt,At):dt},At}function tt(){var et=function(mt){return mt[0]},lt=function(mt){return mt[1]},dt;function it(At){var mt=P(At,et,lt),U=m(mt,4),V=U[0],B=U[1],f=U[2],yt=U[3],St=V.length,Rt=0,Qt=0,zt=0,$t=0,ne=0,ae,Wt,It,Ct;for(ae=0;ae<St;)Wt=V[ae],It=B[ae++],Ct=Wt*Wt,Rt+=(Ct-Rt)/ae,Qt+=(Ct*Wt-Qt)/ae,zt+=(Ct*Ct-zt)/ae,$t+=(Wt*It-$t)/ae,ne+=(Ct*It-ne)/ae;var ht=0,Et=0,at=dt?+dt[0]:Infinity,Q=dt?+dt[1]:-Infinity;T(At,et,lt,function(mr,wr){Et++,ht+=(wr-ht)/Et,dt||(mr<at&&(at=mr),mr>Q&&(Q=mr))});var bt=zt-Rt*Rt,Ot=Rt*bt-Qt*Qt,Vt=(ne*Rt-$t*Qt)/Ot,ue=($t*bt-ne*Qt)/Ot,Se=-Vt*Rt,Re=function(wr){return wr=wr-f,Vt*wr*wr+ue*wr+Se+yt},We=w(at,Q,Re);return We.a=Vt,We.b=ue-2*Vt*f,We.c=Se-ue*f+Vt*f*f+yt,We.predict=Re,We.rSquared=M(At,et,lt,ht,Re),We}return it.domain=function(At){return arguments.length?(dt=At,it):dt},it.x=function(At){return arguments.length?(et=At,it):et},it.y=function(At){return arguments.length?(lt=At,it):lt},it}function K(){var et=function(U){return U[0]},lt=function(U){return U[1]},dt=3,it;function At(mt){if(dt===1){var U=x().x(et).y(lt).domain(it)(mt);return U.coefficients=[U.b,U.a],delete U.a,delete U.b,U}if(dt===2){var V=tt().x(et).y(lt).domain(it)(mt);return V.coefficients=[V.c,V.b,V.a],delete V.a,delete V.b,delete V.c,V}var B=P(mt,et,lt),f=m(B,4),yt=f[0],St=f[1],Rt=f[2],Qt=f[3],zt=yt.length,$t=[],ne=[],ae=dt+1,Wt=0,It=0,Ct=it?+it[0]:Infinity,ht=it?+it[1]:-Infinity;T(mt,et,lt,function(Re,We){++It,Wt+=(We-Wt)/It,it||(Re<Ct&&(Ct=Re),Re>ht&&(ht=Re))});var Et,at,Q,bt,Ot;for(Et=0;Et<ae;++Et){for(Q=0,bt=0;Q<zt;++Q)bt+=Math.pow(yt[Q],Et)*St[Q];for($t.push(bt),Ot=new Float64Array(ae),at=0;at<ae;++at){for(Q=0,bt=0;Q<zt;++Q)bt+=Math.pow(yt[Q],Et+at);Ot[at]=bt}ne.push(Ot)}ne.push($t);var Vt=ot(ne),ue=function(We){We-=Rt;var mr=Qt+Vt[0]+Vt[1]*We+Vt[2]*We*We;for(Et=3;Et<ae;++Et)mr+=Vt[Et]*Math.pow(We,Et);return mr},Se=w(Ct,ht,ue);return Se.coefficients=wt(ae,Vt,-Rt,Qt),Se.predict=ue,Se.rSquared=M(mt,et,lt,Wt,ue),Se}return At.domain=function(mt){return arguments.length?(it=mt,At):it},At.x=function(mt){return arguments.length?(et=mt,At):et},At.y=function(mt){return arguments.length?(lt=mt,At):lt},At.order=function(mt){return arguments.length?(dt=mt,At):dt},At}function wt(et,lt,dt,it){var At=Array(et),mt,U,V,B;for(mt=0;mt<et;++mt)At[mt]=0;for(mt=et-1;mt>=0;--mt)for(V=lt[mt],B=1,At[mt]+=V,U=1;U<=mt;++U)B*=(mt+1-U)/U,At[mt-U]+=V*Math.pow(dt,U)*B;return At[0]+=it,At}function ot(et){var lt=et.length-1,dt=[],it,At,mt,U,V;for(it=0;it<lt;++it){for(U=it,At=it+1;At<lt;++At)Math.abs(et[it][At])>Math.abs(et[it][U])&&(U=At);for(mt=it;mt<lt+1;++mt)V=et[mt][it],et[mt][it]=et[mt][U],et[mt][U]=V;for(At=it+1;At<lt;++At)for(mt=lt;mt>=it;mt--)et[mt][At]-=et[mt][it]*et[it][At]/et[it][it]}for(At=lt-1;At>=0;--At){for(V=0,mt=At+1;mt<lt;++mt)V+=et[mt][At]*dt[mt];dt[At]=(et[lt][At]-V)/et[At][At]}return dt}function vt(){var et=function(mt){return mt[0]},lt=function(mt){return mt[1]},dt;function it(At){var mt=0,U=0,V=0,B=0,f=0,yt=0,St=dt?+dt[0]:Infinity,Rt=dt?+dt[1]:-Infinity;T(At,et,lt,function(It,Ct){var ht=Math.log(It),Et=Math.log(Ct);++mt,U+=(ht-U)/mt,V+=(Et-V)/mt,B+=(ht*Et-B)/mt,f+=(ht*ht-f)/mt,yt+=(Ct-yt)/mt,dt||(It<St&&(St=It),It>Rt&&(Rt=It))});var Qt=y(U,V,B,f),zt=m(Qt,2),$t=zt[0],ne=zt[1];$t=Math.exp($t);var ae=function(Ct){return $t*Math.pow(Ct,ne)},Wt=w(St,Rt,ae);return Wt.a=$t,Wt.b=ne,Wt.predict=ae,Wt.rSquared=M(At,et,lt,yt,ae),Wt}return it.domain=function(At){return arguments.length?(dt=At,it):dt},it.x=function(At){return arguments.length?(et=At,it):et},it.y=function(At){return arguments.length?(lt=At,it):lt},it}d.regressionExp=b,d.regressionLinear=x,d.regressionLoess=N,d.regressionLog=j,d.regressionPoly=K,d.regressionPow=vt,d.regressionQuad=tt,Object.defineProperty(d,"__esModule",{value:!0})})},35374:function(ct,S,d){"use strict";d.d(S,{HT:function(){return O}});var m=0,I=0,k=0,L=1e3,P,T,M=0,A=0,p=0,w=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(j){setTimeout(j,17)};function b(){return A||(y(x),A=w.now()+p)}function x(){A=0}function E(){this._call=this._time=this._next=null}E.prototype=O.prototype={constructor:E,restart:function(j,tt,K){if(typeof j!="function")throw new TypeError("callback is not a function");K=(K==null?b():+K)+(tt==null?0:+tt),!this._next&&T!==this&&(T?T._next=this:P=this,T=this),this._call=j,this._time=K,X()},stop:function(){this._call&&(this._call=null,this._time=Infinity,X())}};function O(j,tt,K){var wt=new E;return wt.restart(j,tt,K),wt}function D(){b(),++m;for(var j=P,tt;j;)(tt=A-j._time)>=0&&j._call.call(null,tt),j=j._next;--m}function N(){A=(M=w.now())+p,m=I=0;try{D()}finally{m=0,W(),A=0}}function z(){var j=w.now(),tt=j-M;tt>L&&(p-=tt,M=j)}function W(){for(var j,tt=P,K,wt=Infinity;tt;)tt._call?(wt>tt._time&&(wt=tt._time),j=tt,tt=tt._next):(K=tt._next,tt._next=null,tt=j?j._next=K:P=K);T=j,X(wt)}function X(j){if(!m){I&&(I=clearTimeout(I));var tt=j-A;tt>24?(j<Infinity&&(I=setTimeout(N,j-w.now()-p)),k&&(k=clearInterval(k))):(k||(M=w.now(),k=setInterval(z,L)),m=1,y(N))}}},49772:function(ct,S,d){ct.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(ct,S,d){"use strict";var m=d(38436),I=d(74079);ct.exports={run:k,undo:P};function k(T){var M=T.graph().acyclicer==="greedy"?I(T,A(T)):L(T);m.forEach(M,function(p){var w=T.edge(p);T.removeEdge(p),w.forwardName=p.name,w.reversed=!0,T.setEdge(p.w,p.v,w,m.uniqueId("rev"))});function A(p){return function(w){return p.edge(w).weight}}}function L(T){var M=[],A={},p={};function w(y){m.has(p,y)||(p[y]=!0,A[y]=!0,m.forEach(T.outEdges(y),function(b){m.has(A,b.w)?M.push(b):w(b.w)}),delete A[y])}return m.forEach(T.nodes(),w),M}function P(T){m.forEach(T.edges(),function(M){var A=T.edge(M);if(A.reversed){T.removeEdge(M);var p=A.forwardName;delete A.reversed,delete A.forwardName,T.setEdge(M.w,M.v,A,p)}})}},61133:function(ct,S,d){var m=d(38436),I=d(11138);ct.exports=k;function k(P){function T(M){var A=P.children(M),p=P.node(M);if(A.length&&m.forEach(A,T),m.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,y=p.maxRank+1;w<y;++w)L(P,"borderLeft","_bl",M,p,w),L(P,"borderRight","_br",M,p,w)}}m.forEach(P.children(),T)}function L(P,T,M,A,p,w){var y={width:0,height:0,rank:w,borderType:T},b=p[T][w-1],x=I.addDummyNode(P,"border",y,M);p[T][w]=x,P.setParent(x,A),b&&P.setEdge(b,x,{weight:1})}},53258:function(ct,S,d){"use strict";var m=d(38436);ct.exports={adjust:I,undo:k};function I(w){var y=w.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&L(w)}function k(w){var y=w.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&T(w),(y==="lr"||y==="rl")&&(A(w),L(w))}function L(w){m.forEach(w.nodes(),function(y){P(w.node(y))}),m.forEach(w.edges(),function(y){P(w.edge(y))})}function P(w){var y=w.width;w.width=w.height,w.height=y}function T(w){m.forEach(w.nodes(),function(y){M(w.node(y))}),m.forEach(w.edges(),function(y){var b=w.edge(y);m.forEach(b.points,M),m.has(b,"y")&&M(b)})}function M(w){w.y=-w.y}function A(w){m.forEach(w.nodes(),function(y){p(w.node(y))}),m.forEach(w.edges(),function(y){var b=w.edge(y);m.forEach(b.points,p),m.has(b,"x")&&p(b)})}function p(w){var y=w.x;w.x=w.y,w.y=y}},77822:function(ct){ct.exports=S;function S(){var I={};I._next=I._prev=I,this._sentinel=I}S.prototype.dequeue=function(){var I=this._sentinel,k=I._prev;if(k!==I)return d(k),k},S.prototype.enqueue=function(I){var k=this._sentinel;I._prev&&I._next&&d(I),I._next=k._next,k._next._prev=I,k._next=I,I._prev=k},S.prototype.toString=function(){for(var I=[],k=this._sentinel,L=k._prev;L!==k;)I.push(JSON.stringify(L,m)),L=L._prev;return"["+I.join(", ")+"]"};function d(I){I._prev._next=I._next,I._next._prev=I._prev,delete I._next,delete I._prev}function m(I,k){if(I!=="_next"&&I!=="_prev")return k}},27570:function(ct,S,d){var m=d(38436),I=d(11138),k=d(70574).Graph;ct.exports={debugOrdering:L};function L(P){var T=I.buildLayerMatrix(P),M=new k({compound:!0,multigraph:!0}).setGraph({});return m.forEach(P.nodes(),function(A){M.setNode(A,{label:A}),M.setParent(A,"layer"+P.node(A).rank)}),m.forEach(P.edges(),function(A){M.setEdge(A.v,A.w,{},A.name)}),m.forEach(T,function(A,p){var w="layer"+p;M.setNode(w,{rank:"same"}),m.reduce(A,function(y,b){return M.setEdge(y,b,{style:"invis"}),b})}),M}},70574:function(ct,S,d){var m;try{m=d(28282)}catch(I){}m||(m=window.graphlib),ct.exports=m},74079:function(ct,S,d){var m=d(38436),I=d(70574).Graph,k=d(77822);ct.exports=P;var L=m.constant(1);function P(w,y){if(w.nodeCount()<=1)return[];var b=A(w,y||L),x=T(b.graph,b.buckets,b.zeroIdx);return m.flatten(m.map(x,function(E){return w.outEdges(E.v,E.w)}),!0)}function T(w,y,b){for(var x=[],E=y[y.length-1],O=y[0],D;w.nodeCount();){for(;D=O.dequeue();)M(w,y,b,D);for(;D=E.dequeue();)M(w,y,b,D);if(w.nodeCount()){for(var N=y.length-2;N>0;--N)if(D=y[N].dequeue(),D){x=x.concat(M(w,y,b,D,!0));break}}}return x}function M(w,y,b,x,E){var O=E?[]:void 0;return m.forEach(w.inEdges(x.v),function(D){var N=w.edge(D),z=w.node(D.v);E&&O.push({v:D.v,w:D.w}),z.out-=N,p(y,b,z)}),m.forEach(w.outEdges(x.v),function(D){var N=w.edge(D),z=D.w,W=w.node(z);W.in-=N,p(y,b,W)}),w.removeNode(x.v),O}function A(w,y){var b=new I,x=0,E=0;m.forEach(w.nodes(),function(N){b.setNode(N,{v:N,in:0,out:0})}),m.forEach(w.edges(),function(N){var z=b.edge(N.v,N.w)||0,W=y(N),X=z+W;b.setEdge(N.v,N.w,X),E=Math.max(E,b.node(N.v).out+=W),x=Math.max(x,b.node(N.w).in+=W)});var O=m.range(E+x+3).map(function(){return new k}),D=x+1;return m.forEach(b.nodes(),function(N){p(O,D,b.node(N))}),{graph:b,buckets:O,zeroIdx:D}}function p(w,y,b){b.out?b.in?w[b.out-b.in+y].enqueue(b):w[w.length-1].enqueue(b):w[0].enqueue(b)}},98123:function(ct,S,d){"use strict";var m=d(38436),I=d(92188),k=d(45995),L=d(78093),P=d(11138).normalizeRanks,T=d(24219),M=d(11138).removeEmptyRanks,A=d(72981),p=d(61133),w=d(53258),y=d(53408),b=d(17873),x=d(11138),E=d(70574).Graph;ct.exports=O;function O(zt,$t){var ne=$t&&$t.debugTiming?x.time:x.notime;ne("layout",function(){var ae=ne("  buildLayoutGraph",function(){return vt(zt)});ne("  runLayout",function(){D(ae,ne)}),ne("  updateInputGraph",function(){N(zt,ae)})})}function D(zt,$t){$t("    makeSpaceForEdgeLabels",function(){et(zt)}),$t("    removeSelfEdges",function(){f(zt)}),$t("    acyclic",function(){I.run(zt)}),$t("    nestingGraph.run",function(){A.run(zt)}),$t("    rank",function(){L(x.asNonCompoundGraph(zt))}),$t("    injectEdgeLabelProxies",function(){lt(zt)}),$t("    removeEmptyRanks",function(){M(zt)}),$t("    nestingGraph.cleanup",function(){A.cleanup(zt)}),$t("    normalizeRanks",function(){P(zt)}),$t("    assignRankMinMax",function(){dt(zt)}),$t("    removeEdgeLabelProxies",function(){it(zt)}),$t("    normalize.run",function(){k.run(zt)}),$t("    parentDummyChains",function(){T(zt)}),$t("    addBorderSegments",function(){p(zt)}),$t("    order",function(){y(zt)}),$t("    insertSelfEdges",function(){yt(zt)}),$t("    adjustCoordinateSystem",function(){w.adjust(zt)}),$t("    position",function(){b(zt)}),$t("    positionSelfEdges",function(){St(zt)}),$t("    removeBorderNodes",function(){B(zt)}),$t("    normalize.undo",function(){k.undo(zt)}),$t("    fixupEdgeLabelCoords",function(){U(zt)}),$t("    undoCoordinateSystem",function(){w.undo(zt)}),$t("    translateGraph",function(){At(zt)}),$t("    assignNodeIntersects",function(){mt(zt)}),$t("    reversePoints",function(){V(zt)}),$t("    acyclic.undo",function(){I.undo(zt)})}function N(zt,$t){m.forEach(zt.nodes(),function(ne){var ae=zt.node(ne),Wt=$t.node(ne);ae&&(ae.x=Wt.x,ae.y=Wt.y,$t.children(ne).length&&(ae.width=Wt.width,ae.height=Wt.height))}),m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne),Wt=$t.edge(ne);ae.points=Wt.points,m.has(Wt,"x")&&(ae.x=Wt.x,ae.y=Wt.y)}),zt.graph().width=$t.graph().width,zt.graph().height=$t.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],W={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],j=["width","height"],tt={width:0,height:0},K=["minlen","weight","width","height","labeloffset"],wt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ot=["labelpos"];function vt(zt){var $t=new E({multigraph:!0,compound:!0}),ne=Qt(zt.graph());return $t.setGraph(m.merge({},W,Rt(ne,z),m.pick(ne,X))),m.forEach(zt.nodes(),function(ae){var Wt=Qt(zt.node(ae));$t.setNode(ae,m.defaults(Rt(Wt,j),tt)),$t.setParent(ae,zt.parent(ae))}),m.forEach(zt.edges(),function(ae){var Wt=Qt(zt.edge(ae));$t.setEdge(ae,m.merge({},wt,Rt(Wt,K),m.pick(Wt,ot)))}),$t}function et(zt){var $t=zt.graph();$t.ranksep/=2,m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne);ae.minlen*=2,ae.labelpos.toLowerCase()!=="c"&&($t.rankdir==="TB"||$t.rankdir==="BT"?ae.width+=ae.labeloffset:ae.height+=ae.labeloffset)})}function lt(zt){m.forEach(zt.edges(),function($t){var ne=zt.edge($t);if(ne.width&&ne.height){var ae=zt.node($t.v),Wt=zt.node($t.w),It={rank:(Wt.rank-ae.rank)/2+ae.rank,e:$t};x.addDummyNode(zt,"edge-proxy",It,"_ep")}})}function dt(zt){var $t=0;m.forEach(zt.nodes(),function(ne){var ae=zt.node(ne);ae.borderTop&&(ae.minRank=zt.node(ae.borderTop).rank,ae.maxRank=zt.node(ae.borderBottom).rank,$t=m.max($t,ae.maxRank))}),zt.graph().maxRank=$t}function it(zt){m.forEach(zt.nodes(),function($t){var ne=zt.node($t);ne.dummy==="edge-proxy"&&(zt.edge(ne.e).labelRank=ne.rank,zt.removeNode($t))})}function At(zt){var $t=Number.POSITIVE_INFINITY,ne=0,ae=Number.POSITIVE_INFINITY,Wt=0,It=zt.graph(),Ct=It.marginx||0,ht=It.marginy||0;function Et(at){var Q=at.x,bt=at.y,Ot=at.width,Vt=at.height;$t=Math.min($t,Q-Ot/2),ne=Math.max(ne,Q+Ot/2),ae=Math.min(ae,bt-Vt/2),Wt=Math.max(Wt,bt+Vt/2)}m.forEach(zt.nodes(),function(at){Et(zt.node(at))}),m.forEach(zt.edges(),function(at){var Q=zt.edge(at);m.has(Q,"x")&&Et(Q)}),$t-=Ct,ae-=ht,m.forEach(zt.nodes(),function(at){var Q=zt.node(at);Q.x-=$t,Q.y-=ae}),m.forEach(zt.edges(),function(at){var Q=zt.edge(at);m.forEach(Q.points,function(bt){bt.x-=$t,bt.y-=ae}),m.has(Q,"x")&&(Q.x-=$t),m.has(Q,"y")&&(Q.y-=ae)}),It.width=ne-$t+Ct,It.height=Wt-ae+ht}function mt(zt){m.forEach(zt.edges(),function($t){var ne=zt.edge($t),ae=zt.node($t.v),Wt=zt.node($t.w),It,Ct;ne.points?(It=ne.points[0],Ct=ne.points[ne.points.length-1]):(ne.points=[],It=Wt,Ct=ae),ne.points.unshift(x.intersectRect(ae,It)),ne.points.push(x.intersectRect(Wt,Ct))})}function U(zt){m.forEach(zt.edges(),function($t){var ne=zt.edge($t);if(m.has(ne,"x"))switch((ne.labelpos==="l"||ne.labelpos==="r")&&(ne.width-=ne.labeloffset),ne.labelpos){case"l":ne.x-=ne.width/2+ne.labeloffset;break;case"r":ne.x+=ne.width/2+ne.labeloffset;break}})}function V(zt){m.forEach(zt.edges(),function($t){var ne=zt.edge($t);ne.reversed&&ne.points.reverse()})}function B(zt){m.forEach(zt.nodes(),function($t){if(zt.children($t).length){var ne=zt.node($t),ae=zt.node(ne.borderTop),Wt=zt.node(ne.borderBottom),It=zt.node(m.last(ne.borderLeft)),Ct=zt.node(m.last(ne.borderRight));ne.width=Math.abs(Ct.x-It.x),ne.height=Math.abs(Wt.y-ae.y),ne.x=It.x+ne.width/2,ne.y=ae.y+ne.height/2}}),m.forEach(zt.nodes(),function($t){zt.node($t).dummy==="border"&&zt.removeNode($t)})}function f(zt){m.forEach(zt.edges(),function($t){if($t.v===$t.w){var ne=zt.node($t.v);ne.selfEdges||(ne.selfEdges=[]),ne.selfEdges.push({e:$t,label:zt.edge($t)}),zt.removeEdge($t)}})}function yt(zt){var $t=x.buildLayerMatrix(zt);m.forEach($t,function(ne){var ae=0;m.forEach(ne,function(Wt,It){var Ct=zt.node(Wt);Ct.order=It+ae,m.forEach(Ct.selfEdges,function(ht){x.addDummyNode(zt,"selfedge",{width:ht.label.width,height:ht.label.height,rank:Ct.rank,order:It+ ++ae,e:ht.e,label:ht.label},"_se")}),delete Ct.selfEdges})})}function St(zt){m.forEach(zt.nodes(),function($t){var ne=zt.node($t);if(ne.dummy==="selfedge"){var ae=zt.node(ne.e.v),Wt=ae.x+ae.width/2,It=ae.y,Ct=ne.x-Wt,ht=ae.height/2;zt.setEdge(ne.e,ne.label),zt.removeNode($t),ne.label.points=[{x:Wt+2*Ct/3,y:It-ht},{x:Wt+5*Ct/6,y:It-ht},{x:Wt+Ct,y:It},{x:Wt+5*Ct/6,y:It+ht},{x:Wt+2*Ct/3,y:It+ht}],ne.label.x=ne.x,ne.label.y=ne.y}})}function Rt(zt,$t){return m.mapValues(m.pick(zt,$t),Number)}function Qt(zt){var $t={};return m.forEach(zt,function(ne,ae){$t[ae.toLowerCase()]=ne}),$t}},38436:function(ct,S,d){var m;try{m={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(I){}m||(m=window._),ct.exports=m},72981:function(ct,S,d){var m=d(38436),I=d(11138);ct.exports={run:k,cleanup:M};function k(A){var p=I.addDummyNode(A,"root",{},"_root"),w=P(A),y=m.max(m.values(w))-1,b=2*y+1;A.graph().nestingRoot=p,m.forEach(A.edges(),function(E){A.edge(E).minlen*=b});var x=T(A)+1;m.forEach(A.children(),function(E){L(A,p,b,x,y,w,E)}),A.graph().nodeRankFactor=b}function L(A,p,w,y,b,x,E){var O=A.children(E);if(!O.length){E!==p&&A.setEdge(p,E,{weight:0,minlen:w});return}var D=I.addBorderNode(A,"_bt"),N=I.addBorderNode(A,"_bb"),z=A.node(E);A.setParent(D,E),z.borderTop=D,A.setParent(N,E),z.borderBottom=N,m.forEach(O,function(W){L(A,p,w,y,b,x,W);var X=A.node(W),j=X.borderTop?X.borderTop:W,tt=X.borderBottom?X.borderBottom:W,K=X.borderTop?y:2*y,wt=j!==tt?1:b-x[E]+1;A.setEdge(D,j,{weight:K,minlen:wt,nestingEdge:!0}),A.setEdge(tt,N,{weight:K,minlen:wt,nestingEdge:!0})}),A.parent(E)||A.setEdge(p,D,{weight:0,minlen:b+x[E]})}function P(A){var p={};function w(y,b){var x=A.children(y);x&&x.length&&m.forEach(x,function(E){w(E,b+1)}),p[y]=b}return m.forEach(A.children(),function(y){w(y,1)}),p}function T(A){return m.reduce(A.edges(),function(p,w){return p+A.edge(w).weight},0)}function M(A){var p=A.graph();A.removeNode(p.nestingRoot),delete p.nestingRoot,m.forEach(A.edges(),function(w){var y=A.edge(w);y.nestingEdge&&A.removeEdge(w)})}},45995:function(ct,S,d){"use strict";var m=d(38436),I=d(11138);ct.exports={run:k,undo:P};function k(T){T.graph().dummyChains=[],m.forEach(T.edges(),function(M){L(T,M)})}function L(T,M){var A=M.v,p=T.node(A).rank,w=M.w,y=T.node(w).rank,b=M.name,x=T.edge(M),E=x.labelRank;if(y!==p+1){T.removeEdge(M);var O,D,N;for(N=0,++p;p<y;++N,++p)x.points=[],D={width:0,height:0,edgeLabel:x,edgeObj:M,rank:p},O=I.addDummyNode(T,"edge",D,"_d"),p===E&&(D.width=x.width,D.height=x.height,D.dummy="edge-label",D.labelpos=x.labelpos),T.setEdge(A,O,{weight:x.weight},b),N===0&&T.graph().dummyChains.push(O),A=O;T.setEdge(A,w,{weight:x.weight},b)}}function P(T){m.forEach(T.graph().dummyChains,function(M){var A=T.node(M),p=A.edgeLabel,w;for(T.setEdge(A.edgeObj,p);A.dummy;)w=T.successors(M)[0],T.removeNode(M),p.points.push({x:A.x,y:A.y}),A.dummy==="edge-label"&&(p.x=A.x,p.y=A.y,p.width=A.width,p.height=A.height),M=w,A=T.node(M)})}},55093:function(ct,S,d){var m=d(38436);ct.exports=I;function I(k,L,P){var T={},M;m.forEach(P,function(A){for(var p=k.parent(A),w,y;p;){if(w=k.parent(p),w?(y=T[w],T[w]=p):(y=M,M=p),y&&y!==p){L.setEdge(y,p);return}p=w}})}},35439:function(ct,S,d){var m=d(38436);ct.exports=I;function I(k,L){return m.map(L,function(P){var T=k.inEdges(P);if(T.length){var M=m.reduce(T,function(A,p){var w=k.edge(p),y=k.node(p.v);return{sum:A.sum+w.weight*y.order,weight:A.weight+w.weight}},{sum:0,weight:0});return{v:P,barycenter:M.sum/M.weight,weight:M.weight}}else return{v:P}})}},23128:function(ct,S,d){var m=d(38436),I=d(70574).Graph;ct.exports=k;function k(P,T,M){var A=L(P),p=new I({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(w){return P.node(w)});return m.forEach(P.nodes(),function(w){var y=P.node(w),b=P.parent(w);(y.rank===T||y.minRank<=T&&T<=y.maxRank)&&(p.setNode(w),p.setParent(w,b||A),m.forEach(P[M](w),function(x){var E=x.v===w?x.w:x.v,O=p.edge(E,w),D=m.isUndefined(O)?0:O.weight;p.setEdge(E,w,{weight:P.edge(x).weight+D})}),m.has(y,"minRank")&&p.setNode(w,{borderLeft:y.borderLeft[T],borderRight:y.borderRight[T]}))}),p}function L(P){for(var T;P.hasNode(T=m.uniqueId("_root")););return T}},56630:function(ct,S,d){"use strict";var m=d(38436);ct.exports=I;function I(L,P){for(var T=0,M=1;M<P.length;++M)T+=k(L,P[M-1],P[M]);return T}function k(L,P,T){for(var M=m.zipObject(T,m.map(T,function(x,E){return E})),A=m.flatten(m.map(P,function(x){return m.sortBy(m.map(L.outEdges(x),function(E){return{pos:M[E.w],weight:L.edge(E).weight}}),"pos")}),!0),p=1;p<T.length;)p<<=1;var w=2*p-1;p-=1;var y=m.map(new Array(w),function(){return 0}),b=0;return m.forEach(A.forEach(function(x){var E=x.pos+p;y[E]+=x.weight;for(var O=0;E>0;)E%2&&(O+=y[E+1]),E=E-1>>1,y[E]+=x.weight;b+=x.weight*O})),b}},53408:function(ct,S,d){"use strict";var m=d(38436),I=d(2588),k=d(56630),L=d(61026),P=d(23128),T=d(55093),M=d(70574).Graph,A=d(11138);ct.exports=p;function p(x){var E=A.maxRank(x),O=w(x,m.range(1,E+1),"inEdges"),D=w(x,m.range(E-1,-1,-1),"outEdges"),N=I(x);b(x,N);for(var z=Number.POSITIVE_INFINITY,W,X=0,j=0;j<4;++X,++j){y(X%2?O:D,X%4>=2),N=A.buildLayerMatrix(x);var tt=k(x,N);tt<z&&(j=0,W=m.cloneDeep(N),z=tt)}b(x,W)}function w(x,E,O){return m.map(E,function(D){return P(x,D,O)})}function y(x,E){var O=new M;m.forEach(x,function(D){var N=D.graph().root,z=L(D,N,O,E);m.forEach(z.vs,function(W,X){D.node(W).order=X}),T(D,O,z.vs)})}function b(x,E){m.forEach(E,function(O){m.forEach(O,function(D,N){x.node(D).order=N})})}},2588:function(ct,S,d){"use strict";var m=d(38436);ct.exports=I;function I(k){var L={},P=m.filter(k.nodes(),function(w){return!k.children(w).length}),T=m.max(m.map(P,function(w){return k.node(w).rank})),M=m.map(m.range(T+1),function(){return[]});function A(w){if(!m.has(L,w)){L[w]=!0;var y=k.node(w);M[y.rank].push(w),m.forEach(k.successors(w),A)}}var p=m.sortBy(P,function(w){return k.node(w).rank});return m.forEach(p,A),M}},83678:function(ct,S,d){"use strict";var m=d(38436);ct.exports=I;function I(P,T){var M={};m.forEach(P,function(p,w){var y=M[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};m.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),m.forEach(T.edges(),function(p){var w=M[p.v],y=M[p.w];!m.isUndefined(w)&&!m.isUndefined(y)&&(y.indegree++,w.out.push(M[p.w]))});var A=m.filter(M,function(p){return!p.indegree});return k(A)}function k(P){var T=[];function M(w){return function(y){y.merged||(m.isUndefined(y.barycenter)||m.isUndefined(w.barycenter)||y.barycenter>=w.barycenter)&&L(w,y)}}function A(w){return function(y){y.in.push(w),--y.indegree==0&&P.push(y)}}for(;P.length;){var p=P.pop();T.push(p),m.forEach(p.in.reverse(),M(p)),m.forEach(p.out,A(p))}return m.map(m.filter(T,function(w){return!w.merged}),function(w){return m.pick(w,["vs","i","barycenter","weight"])})}function L(P,T){var M=0,A=0;P.weight&&(M+=P.barycenter*P.weight,A+=P.weight),T.weight&&(M+=T.barycenter*T.weight,A+=T.weight),P.vs=T.vs.concat(P.vs),P.barycenter=M/A,P.weight=A,P.i=Math.min(T.i,P.i),T.merged=!0}},61026:function(ct,S,d){var m=d(38436),I=d(35439),k=d(83678),L=d(87304);ct.exports=P;function P(A,p,w,y){var b=A.children(p),x=A.node(p),E=x?x.borderLeft:void 0,O=x?x.borderRight:void 0,D={};E&&(b=m.filter(b,function(tt){return tt!==E&&tt!==O}));var N=I(A,b);m.forEach(N,function(tt){if(A.children(tt.v).length){var K=P(A,tt.v,w,y);D[tt.v]=K,m.has(K,"barycenter")&&M(tt,K)}});var z=k(N,w);T(z,D);var W=L(z,y);if(E&&(W.vs=m.flatten([E,W.vs,O],!0),A.predecessors(E).length)){var X=A.node(A.predecessors(E)[0]),j=A.node(A.predecessors(O)[0]);m.has(W,"barycenter")||(W.barycenter=0,W.weight=0),W.barycenter=(W.barycenter*W.weight+X.order+j.order)/(W.weight+2),W.weight+=2}return W}function T(A,p){m.forEach(A,function(w){w.vs=m.flatten(w.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function M(A,p){m.isUndefined(A.barycenter)?(A.barycenter=p.barycenter,A.weight=p.weight):(A.barycenter=(A.barycenter*A.weight+p.barycenter*p.weight)/(A.weight+p.weight),A.weight+=p.weight)}},87304:function(ct,S,d){var m=d(38436),I=d(11138);ct.exports=k;function k(T,M){var A=I.partition(T,function(D){return m.has(D,"barycenter")}),p=A.lhs,w=m.sortBy(A.rhs,function(D){return-D.i}),y=[],b=0,x=0,E=0;p.sort(P(!!M)),E=L(y,w,E),m.forEach(p,function(D){E+=D.vs.length,y.push(D.vs),b+=D.barycenter*D.weight,x+=D.weight,E=L(y,w,E)});var O={vs:m.flatten(y,!0)};return x&&(O.barycenter=b/x,O.weight=x),O}function L(T,M,A){for(var p;M.length&&(p=m.last(M)).i<=A;)M.pop(),T.push(p.vs),A++;return A}function P(T){return function(M,A){return M.barycenter<A.barycenter?-1:M.barycenter>A.barycenter?1:T?A.i-M.i:M.i-A.i}}},24219:function(ct,S,d){var m=d(38436);ct.exports=I;function I(P){var T=L(P);m.forEach(P.graph().dummyChains,function(M){for(var A=P.node(M),p=A.edgeObj,w=k(P,T,p.v,p.w),y=w.path,b=w.lca,x=0,E=y[x],O=!0;M!==p.w;){if(A=P.node(M),O){for(;(E=y[x])!==b&&P.node(E).maxRank<A.rank;)x++;E===b&&(O=!1)}if(!O){for(;x<y.length-1&&P.node(E=y[x+1]).minRank<=A.rank;)x++;E=y[x]}P.setParent(M,E),M=P.successors(M)[0]}})}function k(P,T,M,A){var p=[],w=[],y=Math.min(T[M].low,T[A].low),b=Math.max(T[M].lim,T[A].lim),x,E;x=M;do x=P.parent(x),p.push(x);while(x&&(T[x].low>y||b>T[x].lim));for(E=x,x=A;(x=P.parent(x))!==E;)w.push(x);return{path:p.concat(w.reverse()),lca:E}}function L(P){var T={},M=0;function A(p){var w=M;m.forEach(P.children(p),A),T[p]={low:w,lim:M++}}return m.forEach(P.children(),A),T}},3573:function(ct,S,d){"use strict";var m=d(38436),I=d(70574).Graph,k=d(11138);ct.exports={positionX:O,findType1Conflicts:L,findType2Conflicts:P,addConflict:M,hasConflict:A,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:x,findSmallestWidthAlignment:b,balance:E};function L(z,W){var X={};function j(tt,K){var wt=0,ot=0,vt=tt.length,et=m.last(K);return m.forEach(K,function(lt,dt){var it=T(z,lt),At=it?z.node(it).order:vt;(it||lt===et)&&(m.forEach(K.slice(ot,dt+1),function(mt){m.forEach(z.predecessors(mt),function(U){var V=z.node(U),B=V.order;(B<wt||At<B)&&!(V.dummy&&z.node(mt).dummy)&&M(X,U,mt)})}),ot=dt+1,wt=At)}),K}return m.reduce(W,j),X}function P(z,W){var X={};function j(K,wt,ot,vt,et){var lt;m.forEach(m.range(wt,ot),function(dt){lt=K[dt],z.node(lt).dummy&&m.forEach(z.predecessors(lt),function(it){var At=z.node(it);At.dummy&&(At.order<vt||At.order>et)&&M(X,it,lt)})})}function tt(K,wt){var ot=-1,vt,et=0;return m.forEach(wt,function(lt,dt){if(z.node(lt).dummy==="border"){var it=z.predecessors(lt);it.length&&(vt=z.node(it[0]).order,j(wt,et,dt,ot,vt),et=dt,ot=vt)}j(wt,et,wt.length,vt,K.length)}),wt}return m.reduce(W,tt),X}function T(z,W){if(z.node(W).dummy)return m.find(z.predecessors(W),function(X){return z.node(X).dummy})}function M(z,W,X){if(W>X){var j=W;W=X,X=j}var tt=z[W];tt||(z[W]=tt={}),tt[X]=!0}function A(z,W,X){if(W>X){var j=W;W=X,X=j}return m.has(z[W],X)}function p(z,W,X,j){var tt={},K={},wt={};return m.forEach(W,function(ot){m.forEach(ot,function(vt,et){tt[vt]=vt,K[vt]=vt,wt[vt]=et})}),m.forEach(W,function(ot){var vt=-1;m.forEach(ot,function(et){var lt=j(et);if(lt.length){lt=m.sortBy(lt,function(U){return wt[U]});for(var dt=(lt.length-1)/2,it=Math.floor(dt),At=Math.ceil(dt);it<=At;++it){var mt=lt[it];K[et]===et&&vt<wt[mt]&&!A(X,et,mt)&&(K[mt]=et,K[et]=tt[et]=tt[mt],vt=wt[mt])}}})}),{root:tt,align:K}}function w(z,W,X,j,tt){var K={},wt=y(z,W,X,tt),ot=tt?"borderLeft":"borderRight";function vt(dt,it){for(var At=wt.nodes(),mt=At.pop(),U={};mt;)U[mt]?dt(mt):(U[mt]=!0,At.push(mt),At=At.concat(it(mt))),mt=At.pop()}function et(dt){K[dt]=wt.inEdges(dt).reduce(function(it,At){return Math.max(it,K[At.v]+wt.edge(At))},0)}function lt(dt){var it=wt.outEdges(dt).reduce(function(mt,U){return Math.min(mt,K[U.w]-wt.edge(U))},Number.POSITIVE_INFINITY),At=z.node(dt);it!==Number.POSITIVE_INFINITY&&At.borderType!==ot&&(K[dt]=Math.max(K[dt],it))}return vt(et,wt.predecessors.bind(wt)),vt(lt,wt.successors.bind(wt)),m.forEach(j,function(dt){K[dt]=K[X[dt]]}),K}function y(z,W,X,j){var tt=new I,K=z.graph(),wt=D(K.nodesep,K.edgesep,j);return m.forEach(W,function(ot){var vt;m.forEach(ot,function(et){var lt=X[et];if(tt.setNode(lt),vt){var dt=X[vt],it=tt.edge(dt,lt);tt.setEdge(dt,lt,Math.max(wt(z,et,vt),it||0))}vt=et})}),tt}function b(z,W){return m.minBy(m.values(W),function(X){var j=Number.NEGATIVE_INFINITY,tt=Number.POSITIVE_INFINITY;return m.forIn(X,function(K,wt){var ot=N(z,wt)/2;j=Math.max(K+ot,j),tt=Math.min(K-ot,tt)}),j-tt})}function x(z,W){var X=m.values(W),j=m.min(X),tt=m.max(X);m.forEach(["u","d"],function(K){m.forEach(["l","r"],function(wt){var ot=K+wt,vt=z[ot],et;if(vt!==W){var lt=m.values(vt);et=wt==="l"?j-m.min(lt):tt-m.max(lt),et&&(z[ot]=m.mapValues(vt,function(dt){return dt+et}))}})})}function E(z,W){return m.mapValues(z.ul,function(X,j){if(W)return z[W.toLowerCase()][j];var tt=m.sortBy(m.map(z,j));return(tt[1]+tt[2])/2})}function O(z){var W=k.buildLayerMatrix(z),X=m.merge(L(z,W),P(z,W)),j={},tt;m.forEach(["u","d"],function(wt){tt=wt==="u"?W:m.values(W).reverse(),m.forEach(["l","r"],function(ot){ot==="r"&&(tt=m.map(tt,function(dt){return m.values(dt).reverse()}));var vt=(wt==="u"?z.predecessors:z.successors).bind(z),et=p(z,tt,X,vt),lt=w(z,tt,et.root,et.align,ot==="r");ot==="r"&&(lt=m.mapValues(lt,function(dt){return-dt})),j[wt+ot]=lt})});var K=b(z,j);return x(j,K),E(j,z.graph().align)}function D(z,W,X){return function(j,tt,K){var wt=j.node(tt),ot=j.node(K),vt=0,et;if(vt+=wt.width/2,m.has(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":et=-wt.width/2;break;case"r":et=wt.width/2;break}if(et&&(vt+=X?et:-et),et=0,vt+=(wt.dummy?W:z)/2,vt+=(ot.dummy?W:z)/2,vt+=ot.width/2,m.has(ot,"labelpos"))switch(ot.labelpos.toLowerCase()){case"l":et=ot.width/2;break;case"r":et=-ot.width/2;break}return et&&(vt+=X?et:-et),et=0,vt}}function N(z,W){return z.node(W).width}},17873:function(ct,S,d){"use strict";var m=d(38436),I=d(11138),k=d(3573).positionX;ct.exports=L;function L(T){T=I.asNonCompoundGraph(T),P(T),m.forEach(k(T),function(M,A){T.node(A).x=M})}function P(T){var M=I.buildLayerMatrix(T),A=T.graph().ranksep,p=0;m.forEach(M,function(w){var y=m.max(m.map(w,function(b){return T.node(b).height}));m.forEach(w,function(b){T.node(b).y=p+y/2}),p+=y+A})}},20300:function(ct,S,d){"use strict";var m=d(38436),I=d(70574).Graph,k=d(76681).slack;ct.exports=L;function L(A){var p=new I({directed:!1}),w=A.nodes()[0],y=A.nodeCount();p.setNode(w,{});for(var b,x;P(p,A)<y;)b=T(p,A),x=p.hasNode(b.v)?k(A,b):-k(A,b),M(p,A,x);return p}function P(A,p){function w(y){m.forEach(p.nodeEdges(y),function(b){var x=b.v,E=y===x?b.w:x;!A.hasNode(E)&&!k(p,b)&&(A.setNode(E,{}),A.setEdge(y,E,{}),w(E))})}return m.forEach(A.nodes(),w),A.nodeCount()}function T(A,p){return m.minBy(p.edges(),function(w){if(A.hasNode(w.v)!==A.hasNode(w.w))return k(p,w)})}function M(A,p,w){m.forEach(A.nodes(),function(y){p.node(y).rank+=w})}},78093:function(ct,S,d){"use strict";var m=d(76681),I=m.longestPath,k=d(20300),L=d(42472);ct.exports=P;function P(p){switch(p.graph().ranker){case"network-simplex":A(p);break;case"tight-tree":M(p);break;case"longest-path":T(p);break;default:A(p)}}var T=I;function M(p){I(p),k(p)}function A(p){L(p)}},42472:function(ct,S,d){"use strict";var m=d(38436),I=d(20300),k=d(76681).slack,L=d(76681).longestPath,P=d(70574).alg.preorder,T=d(70574).alg.postorder,M=d(11138).simplify;ct.exports=A,A.initLowLimValues=b,A.initCutValues=p,A.calcCutValue=y,A.leaveEdge=E,A.enterEdge=O,A.exchangeEdges=D;function A(X){X=M(X),L(X);var j=I(X);b(j),p(j,X);for(var tt,K;tt=E(j);)K=O(j,X,tt),D(j,X,tt,K)}function p(X,j){var tt=T(X,X.nodes());tt=tt.slice(0,tt.length-1),m.forEach(tt,function(K){w(X,j,K)})}function w(X,j,tt){var K=X.node(tt),wt=K.parent;X.edge(tt,wt).cutvalue=y(X,j,tt)}function y(X,j,tt){var K=X.node(tt),wt=K.parent,ot=!0,vt=j.edge(tt,wt),et=0;return vt||(ot=!1,vt=j.edge(wt,tt)),et=vt.weight,m.forEach(j.nodeEdges(tt),function(lt){var dt=lt.v===tt,it=dt?lt.w:lt.v;if(it!==wt){var At=dt===ot,mt=j.edge(lt).weight;if(et+=At?mt:-mt,z(X,tt,it)){var U=X.edge(tt,it).cutvalue;et+=At?-U:U}}}),et}function b(X,j){arguments.length<2&&(j=X.nodes()[0]),x(X,{},1,j)}function x(X,j,tt,K,wt){var ot=tt,vt=X.node(K);return j[K]=!0,m.forEach(X.neighbors(K),function(et){m.has(j,et)||(tt=x(X,j,tt,et,K))}),vt.low=ot,vt.lim=tt++,wt?vt.parent=wt:delete vt.parent,tt}function E(X){return m.find(X.edges(),function(j){return X.edge(j).cutvalue<0})}function O(X,j,tt){var K=tt.v,wt=tt.w;j.hasEdge(K,wt)||(K=tt.w,wt=tt.v);var ot=X.node(K),vt=X.node(wt),et=ot,lt=!1;ot.lim>vt.lim&&(et=vt,lt=!0);var dt=m.filter(j.edges(),function(it){return lt===W(X,X.node(it.v),et)&&lt!==W(X,X.node(it.w),et)});return m.minBy(dt,function(it){return k(j,it)})}function D(X,j,tt,K){var wt=tt.v,ot=tt.w;X.removeEdge(wt,ot),X.setEdge(K.v,K.w,{}),b(X),p(X,j),N(X,j)}function N(X,j){var tt=m.find(X.nodes(),function(wt){return!j.node(wt).parent}),K=P(X,tt);K=K.slice(1),m.forEach(K,function(wt){var ot=X.node(wt).parent,vt=j.edge(wt,ot),et=!1;vt||(vt=j.edge(ot,wt),et=!0),j.node(wt).rank=j.node(ot).rank+(et?vt.minlen:-vt.minlen)})}function z(X,j,tt){return X.hasEdge(j,tt)}function W(X,j,tt){return tt.low<=j.lim&&j.lim<=tt.lim}},76681:function(ct,S,d){"use strict";var m=d(38436);ct.exports={longestPath:I,slack:k};function I(L){var P={};function T(M){var A=L.node(M);if(m.has(P,M))return A.rank;P[M]=!0;var p=m.min(m.map(L.outEdges(M),function(w){return T(w.w)-L.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),A.rank=p}m.forEach(L.sources(),T)}function k(L,P){return L.node(P.w).rank-L.node(P.v).rank-L.edge(P).minlen}},11138:function(ct,S,d){"use strict";var m=d(38436),I=d(70574).Graph;ct.exports={addDummyNode:k,simplify:L,asNonCompoundGraph:P,successorWeights:T,predecessorWeights:M,intersectRect:A,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:y,addBorderNode:b,maxRank:x,partition:E,time:O,notime:D};function k(N,z,W,X){var j;do j=m.uniqueId(X);while(N.hasNode(j));return W.dummy=z,N.setNode(j,W),j}function L(N){var z=new I().setGraph(N.graph());return m.forEach(N.nodes(),function(W){z.setNode(W,N.node(W))}),m.forEach(N.edges(),function(W){var X=z.edge(W.v,W.w)||{weight:0,minlen:1},j=N.edge(W);z.setEdge(W.v,W.w,{weight:X.weight+j.weight,minlen:Math.max(X.minlen,j.minlen)})}),z}function P(N){var z=new I({multigraph:N.isMultigraph()}).setGraph(N.graph());return m.forEach(N.nodes(),function(W){N.children(W).length||z.setNode(W,N.node(W))}),m.forEach(N.edges(),function(W){z.setEdge(W,N.edge(W))}),z}function T(N){var z=m.map(N.nodes(),function(W){var X={};return m.forEach(N.outEdges(W),function(j){X[j.w]=(X[j.w]||0)+N.edge(j).weight}),X});return m.zipObject(N.nodes(),z)}function M(N){var z=m.map(N.nodes(),function(W){var X={};return m.forEach(N.inEdges(W),function(j){X[j.v]=(X[j.v]||0)+N.edge(j).weight}),X});return m.zipObject(N.nodes(),z)}function A(N,z){var W=N.x,X=N.y,j=z.x-W,tt=z.y-X,K=N.width/2,wt=N.height/2;if(!j&&!tt)throw new Error("Not possible to find intersection inside of the rectangle");var ot,vt;return Math.abs(tt)*K>Math.abs(j)*wt?(tt<0&&(wt=-wt),ot=wt*j/tt,vt=wt):(j<0&&(K=-K),ot=K,vt=K*tt/j),{x:W+ot,y:X+vt}}function p(N){var z=m.map(m.range(x(N)+1),function(){return[]});return m.forEach(N.nodes(),function(W){var X=N.node(W),j=X.rank;m.isUndefined(j)||(z[j][X.order]=W)}),z}function w(N){var z=m.min(m.map(N.nodes(),function(W){return N.node(W).rank}));m.forEach(N.nodes(),function(W){var X=N.node(W);m.has(X,"rank")&&(X.rank-=z)})}function y(N){var z=m.min(m.map(N.nodes(),function(tt){return N.node(tt).rank})),W=[];m.forEach(N.nodes(),function(tt){var K=N.node(tt).rank-z;W[K]||(W[K]=[]),W[K].push(tt)});var X=0,j=N.graph().nodeRankFactor;m.forEach(W,function(tt,K){m.isUndefined(tt)&&K%j!=0?--X:X&&m.forEach(tt,function(wt){N.node(wt).rank+=X})})}function b(N,z,W,X){var j={width:0,height:0};return arguments.length>=4&&(j.rank=W,j.order=X),k(N,"border",j,z)}function x(N){return m.max(m.map(N.nodes(),function(z){var W=N.node(z).rank;if(!m.isUndefined(W))return W}))}function E(N,z){var W={lhs:[],rhs:[]};return m.forEach(N,function(X){z(X)?W.lhs.push(X):W.rhs.push(X)}),W}function O(N,z){var W=m.now();try{return z()}finally{console.log(N+" time: "+(m.now()-W)+"ms")}}function D(N,z){return z()}},88177:function(ct){ct.exports="0.8.5"},43631:function(ct,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return k},NodeInfo:function(){return L},SearchBotDeviceInfo:function(){return P},BotInfo:function(){return T},ReactNativeInfo:function(){return M},detect:function(){return x},browserName:function(){return O},parseUserAgent:function(){return D},detectOS:function(){return N},getNodeVersion:function(){return z}});var m=d(34155),I=function(X,j,tt){if(tt||arguments.length===2)for(var K=0,wt=j.length,ot;K<wt;K++)(ot||!(K in j))&&(ot||(ot=Array.prototype.slice.call(j,0,K)),ot[K]=j[K]);return X.concat(ot||Array.prototype.slice.call(j))},k=function(){function X(j,tt,K){this.name=j,this.version=tt,this.os=K,this.type="browser"}return X}(),L=function(){function X(j){this.version=j,this.type="node",this.name="node",this.os=m.platform}return X}(),P=function(){function X(j,tt,K,wt){this.name=j,this.version=tt,this.os=K,this.bot=wt,this.type="bot-device"}return X}(),T=function(){function X(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return X}(),M=function(){function X(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return X}(),A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",A]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function x(X){return X?D(X):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new M:typeof navigator!="undefined"?D(navigator.userAgent):z()}function E(X){return X!==""&&y.reduce(function(j,tt){var K=tt[0],wt=tt[1];if(j)return j;var ot=wt.exec(X);return!!ot&&[K,ot]},!1)}function O(X){var j=E(X);return j?j[0]:null}function D(X){var j=E(X);if(!j)return null;var tt=j[0],K=j[1];if(tt==="searchbot")return new T;var wt=K[1]&&K[1].split(".").join("_").split("_").slice(0,3);wt?wt.length<w&&(wt=I(I([],wt,!0),W(w-wt.length),!0)):wt=[];var ot=wt.join("."),vt=N(X),et=p.exec(X);return et&&et[1]?new P(tt,ot,vt,et[1]):new k(tt,ot,vt)}function N(X){for(var j=0,tt=b.length;j<tt;j++){var K=b[j],wt=K[0],ot=K[1],vt=ot.exec(X);if(vt)return wt}return null}function z(){var X=typeof m!="undefined"&&m.version;return X?new L(m.version.slice(1)):null}function W(X){for(var j=[],tt=0;tt<X;tt++)j.push("0");return j}},19432:function(ct,S,d){"use strict";d.r(S),d.d(S,{assign:function(){return w},format:function(){return dt},parse:function(){return it},defaultI18n:function(){return O},setGlobalDateI18n:function(){return N},setGlobalDateMasks:function(){return lt}});var m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,I="\\d\\d?",k="\\d\\d",L="\\d{3}",P="\\d{4}",T="[^\\s]+",M=/\[([^]*?)\]/gm;function A(mt,U){for(var V=[],B=0,f=mt.length;B<f;B++)V.push(mt[B].substr(0,U));return V}var p=function(mt){return function(U,V){var B=V[mt].map(function(yt){return yt.toLowerCase()}),f=B.indexOf(U.toLowerCase());return f>-1?f:null}};function w(mt){for(var U=[],V=1;V<arguments.length;V++)U[V-1]=arguments[V];for(var B=0,f=U;B<f.length;B++){var yt=f[B];for(var St in yt)mt[St]=yt[St]}return mt}var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],x=A(b,3),E=A(y,3),O={dayNamesShort:E,dayNames:y,monthNamesShort:x,monthNames:b,amPm:["am","pm"],DoFn:function(mt){return mt+["th","st","nd","rd"][mt%10>3?0:(mt-mt%10!=10?1:0)*mt%10]}},D=w({},O),N=function(mt){return D=w(D,mt)},z=function(mt){return mt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},W=function(mt,U){for(U===void 0&&(U=2),mt=String(mt);mt.length<U;)mt="0"+mt;return mt},X={D:function(mt){return String(mt.getDate())},DD:function(mt){return W(mt.getDate())},Do:function(mt,U){return U.DoFn(mt.getDate())},d:function(mt){return String(mt.getDay())},dd:function(mt){return W(mt.getDay())},ddd:function(mt,U){return U.dayNamesShort[mt.getDay()]},dddd:function(mt,U){return U.dayNames[mt.getDay()]},M:function(mt){return String(mt.getMonth()+1)},MM:function(mt){return W(mt.getMonth()+1)},MMM:function(mt,U){return U.monthNamesShort[mt.getMonth()]},MMMM:function(mt,U){return U.monthNames[mt.getMonth()]},YY:function(mt){return W(String(mt.getFullYear()),4).substr(2)},YYYY:function(mt){return W(mt.getFullYear(),4)},h:function(mt){return String(mt.getHours()%12||12)},hh:function(mt){return W(mt.getHours()%12||12)},H:function(mt){return String(mt.getHours())},HH:function(mt){return W(mt.getHours())},m:function(mt){return String(mt.getMinutes())},mm:function(mt){return W(mt.getMinutes())},s:function(mt){return String(mt.getSeconds())},ss:function(mt){return W(mt.getSeconds())},S:function(mt){return String(Math.round(mt.getMilliseconds()/100))},SS:function(mt){return W(Math.round(mt.getMilliseconds()/10),2)},SSS:function(mt){return W(mt.getMilliseconds(),3)},a:function(mt,U){return mt.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(mt,U){return mt.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(mt){var U=mt.getTimezoneOffset();return(U>0?"-":"+")+W(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)},Z:function(mt){var U=mt.getTimezoneOffset();return(U>0?"-":"+")+W(Math.floor(Math.abs(U)/60),2)+":"+W(Math.abs(U)%60,2)}},j=function(mt){return+mt-1},tt=[null,I],K=[null,T],wt=["isPm",T,function(mt,U){var V=mt.toLowerCase();return V===U.amPm[0]?0:V===U.amPm[1]?1:null}],ot=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(mt){var U=(mt+"").match(/([+-]|\d\d)/gi);if(U){var V=+U[1]*60+parseInt(U[2],10);return U[0]==="+"?V:-V}return 0}],vt={D:["day",I],DD:["day",k],Do:["day",I+T,function(mt){return parseInt(mt,10)}],M:["month",I,j],MM:["month",k,j],YY:["year",k,function(mt){var U=new Date,V=+(""+U.getFullYear()).substr(0,2);return+(""+(+mt>68?V-1:V)+mt)}],h:["hour",I,void 0,"isPm"],hh:["hour",k,void 0,"isPm"],H:["hour",I],HH:["hour",k],m:["minute",I],mm:["minute",k],s:["second",I],ss:["second",k],YYYY:["year",P],S:["millisecond","\\d",function(mt){return+mt*100}],SS:["millisecond",k,function(mt){return+mt*10}],SSS:["millisecond",L],d:tt,dd:tt,ddd:K,dddd:K,MMM:["month",T,p("monthNamesShort")],MMMM:["month",T,p("monthNames")],a:wt,A:wt,ZZ:ot,Z:ot},et={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},lt=function(mt){return w(et,mt)},dt=function(mt,U,V){if(U===void 0&&(U=et.default),V===void 0&&(V={}),typeof mt=="number"&&(mt=new Date(mt)),Object.prototype.toString.call(mt)!=="[object Date]"||isNaN(mt.getTime()))throw new Error("Invalid Date pass to format");U=et[U]||U;var B=[];U=U.replace(M,function(yt,St){return B.push(St),"@@@"});var f=w(w({},D),V);return U=U.replace(m,function(yt){return X[yt](mt,f)}),U.replace(/@@@/g,function(){return B.shift()})};function it(mt,U,V){if(V===void 0&&(V={}),typeof U!="string")throw new Error("Invalid format in fecha parse");if(U=et[U]||U,mt.length>1e3)return null;var B=new Date,f={year:B.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},yt=[],St=[],Rt=U.replace(M,function(bt,Ot){return St.push(z(Ot)),"@@@"}),Qt={},zt={};Rt=z(Rt).replace(m,function(bt){var Ot=vt[bt],Vt=Ot[0],ue=Ot[1],Se=Ot[3];if(Qt[Vt])throw new Error("Invalid format. "+Vt+" specified twice in format");return Qt[Vt]=!0,Se&&(zt[Se]=!0),yt.push(Ot),"("+ue+")"}),Object.keys(zt).forEach(function(bt){if(!Qt[bt])throw new Error("Invalid format. "+bt+" is required in specified format")}),Rt=Rt.replace(/@@@/g,function(){return St.shift()});var $t=mt.match(new RegExp(Rt,"i"));if(!$t)return null;for(var ne=w(w({},D),V),ae=1;ae<$t.length;ae++){var Wt=yt[ae-1],It=Wt[0],Ct=Wt[2],ht=Ct?Ct($t[ae],ne):+$t[ae];if(ht==null)return null;f[It]=ht}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var Et;if(f.timezoneOffset==null){Et=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var at=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],ae=0,Q=at.length;ae<Q;ae++)if(Qt[at[ae][0]]&&f[at[ae][0]]!==Et[at[ae][1]]())return null}else if(Et=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return Et}var At={format:dt,parse:it,defaultI18n:O,setGlobalDateI18n:N,setGlobalDateMasks:lt};S.default=At},49685:function(ct,S,d){"use strict";d.d(S,{Ib:function(){return m},WT:function(){return I},FD:function(){return k}});var m=1e-6,I=typeof Float32Array!="undefined"?Float32Array:Array,k=Math.random;function L(A){I=A}var P=Math.PI/180;function T(A){return A*P}function M(A,p){return Math.abs(A-p)<=m*Math.max(1,Math.abs(A),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var A=0,p=arguments.length;p--;)A+=arguments[p]*arguments[p];return Math.sqrt(A)})},35600:function(ct,S,d){"use strict";d.r(S),d.d(S,{create:function(){return I},fromMat4:function(){return k},clone:function(){return L},copy:function(){return P},fromValues:function(){return T},set:function(){return M},identity:function(){return A},transpose:function(){return p},invert:function(){return w},adjoint:function(){return y},determinant:function(){return b},multiply:function(){return x},translate:function(){return E},rotate:function(){return O},scale:function(){return D},fromTranslation:function(){return N},fromRotation:function(){return z},fromScaling:function(){return W},fromMat2d:function(){return X},fromQuat:function(){return j},normalFromMat4:function(){return tt},projection:function(){return K},str:function(){return wt},frob:function(){return ot},add:function(){return vt},subtract:function(){return et},multiplyScalar:function(){return lt},multiplyScalarAndAdd:function(){return dt},exactEquals:function(){return it},equals:function(){return At},mul:function(){return mt},sub:function(){return U}});var m=d(49685);function I(){var V=new m.WT(9);return m.WT!=Float32Array&&(V[1]=0,V[2]=0,V[3]=0,V[5]=0,V[6]=0,V[7]=0),V[0]=1,V[4]=1,V[8]=1,V}function k(V,B){return V[0]=B[0],V[1]=B[1],V[2]=B[2],V[3]=B[4],V[4]=B[5],V[5]=B[6],V[6]=B[8],V[7]=B[9],V[8]=B[10],V}function L(V){var B=new m.WT(9);return B[0]=V[0],B[1]=V[1],B[2]=V[2],B[3]=V[3],B[4]=V[4],B[5]=V[5],B[6]=V[6],B[7]=V[7],B[8]=V[8],B}function P(V,B){return V[0]=B[0],V[1]=B[1],V[2]=B[2],V[3]=B[3],V[4]=B[4],V[5]=B[5],V[6]=B[6],V[7]=B[7],V[8]=B[8],V}function T(V,B,f,yt,St,Rt,Qt,zt,$t){var ne=new m.WT(9);return ne[0]=V,ne[1]=B,ne[2]=f,ne[3]=yt,ne[4]=St,ne[5]=Rt,ne[6]=Qt,ne[7]=zt,ne[8]=$t,ne}function M(V,B,f,yt,St,Rt,Qt,zt,$t,ne){return V[0]=B,V[1]=f,V[2]=yt,V[3]=St,V[4]=Rt,V[5]=Qt,V[6]=zt,V[7]=$t,V[8]=ne,V}function A(V){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function p(V,B){if(V===B){var f=B[1],yt=B[2],St=B[5];V[1]=B[3],V[2]=B[6],V[3]=f,V[5]=B[7],V[6]=yt,V[7]=St}else V[0]=B[0],V[1]=B[3],V[2]=B[6],V[3]=B[1],V[4]=B[4],V[5]=B[7],V[6]=B[2],V[7]=B[5],V[8]=B[8];return V}function w(V,B){var f=B[0],yt=B[1],St=B[2],Rt=B[3],Qt=B[4],zt=B[5],$t=B[6],ne=B[7],ae=B[8],Wt=ae*Qt-zt*ne,It=-ae*Rt+zt*$t,Ct=ne*Rt-Qt*$t,ht=f*Wt+yt*It+St*Ct;return ht?(ht=1/ht,V[0]=Wt*ht,V[1]=(-ae*yt+St*ne)*ht,V[2]=(zt*yt-St*Qt)*ht,V[3]=It*ht,V[4]=(ae*f-St*$t)*ht,V[5]=(-zt*f+St*Rt)*ht,V[6]=Ct*ht,V[7]=(-ne*f+yt*$t)*ht,V[8]=(Qt*f-yt*Rt)*ht,V):null}function y(V,B){var f=B[0],yt=B[1],St=B[2],Rt=B[3],Qt=B[4],zt=B[5],$t=B[6],ne=B[7],ae=B[8];return V[0]=Qt*ae-zt*ne,V[1]=St*ne-yt*ae,V[2]=yt*zt-St*Qt,V[3]=zt*$t-Rt*ae,V[4]=f*ae-St*$t,V[5]=St*Rt-f*zt,V[6]=Rt*ne-Qt*$t,V[7]=yt*$t-f*ne,V[8]=f*Qt-yt*Rt,V}function b(V){var B=V[0],f=V[1],yt=V[2],St=V[3],Rt=V[4],Qt=V[5],zt=V[6],$t=V[7],ne=V[8];return B*(ne*Rt-Qt*$t)+f*(-ne*St+Qt*zt)+yt*($t*St-Rt*zt)}function x(V,B,f){var yt=B[0],St=B[1],Rt=B[2],Qt=B[3],zt=B[4],$t=B[5],ne=B[6],ae=B[7],Wt=B[8],It=f[0],Ct=f[1],ht=f[2],Et=f[3],at=f[4],Q=f[5],bt=f[6],Ot=f[7],Vt=f[8];return V[0]=It*yt+Ct*Qt+ht*ne,V[1]=It*St+Ct*zt+ht*ae,V[2]=It*Rt+Ct*$t+ht*Wt,V[3]=Et*yt+at*Qt+Q*ne,V[4]=Et*St+at*zt+Q*ae,V[5]=Et*Rt+at*$t+Q*Wt,V[6]=bt*yt+Ot*Qt+Vt*ne,V[7]=bt*St+Ot*zt+Vt*ae,V[8]=bt*Rt+Ot*$t+Vt*Wt,V}function E(V,B,f){var yt=B[0],St=B[1],Rt=B[2],Qt=B[3],zt=B[4],$t=B[5],ne=B[6],ae=B[7],Wt=B[8],It=f[0],Ct=f[1];return V[0]=yt,V[1]=St,V[2]=Rt,V[3]=Qt,V[4]=zt,V[5]=$t,V[6]=It*yt+Ct*Qt+ne,V[7]=It*St+Ct*zt+ae,V[8]=It*Rt+Ct*$t+Wt,V}function O(V,B,f){var yt=B[0],St=B[1],Rt=B[2],Qt=B[3],zt=B[4],$t=B[5],ne=B[6],ae=B[7],Wt=B[8],It=Math.sin(f),Ct=Math.cos(f);return V[0]=Ct*yt+It*Qt,V[1]=Ct*St+It*zt,V[2]=Ct*Rt+It*$t,V[3]=Ct*Qt-It*yt,V[4]=Ct*zt-It*St,V[5]=Ct*$t-It*Rt,V[6]=ne,V[7]=ae,V[8]=Wt,V}function D(V,B,f){var yt=f[0],St=f[1];return V[0]=yt*B[0],V[1]=yt*B[1],V[2]=yt*B[2],V[3]=St*B[3],V[4]=St*B[4],V[5]=St*B[5],V[6]=B[6],V[7]=B[7],V[8]=B[8],V}function N(V,B){return V[0]=1,V[1]=0,V[2]=0,V[3]=0,V[4]=1,V[5]=0,V[6]=B[0],V[7]=B[1],V[8]=1,V}function z(V,B){var f=Math.sin(B),yt=Math.cos(B);return V[0]=yt,V[1]=f,V[2]=0,V[3]=-f,V[4]=yt,V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function W(V,B){return V[0]=B[0],V[1]=0,V[2]=0,V[3]=0,V[4]=B[1],V[5]=0,V[6]=0,V[7]=0,V[8]=1,V}function X(V,B){return V[0]=B[0],V[1]=B[1],V[2]=0,V[3]=B[2],V[4]=B[3],V[5]=0,V[6]=B[4],V[7]=B[5],V[8]=1,V}function j(V,B){var f=B[0],yt=B[1],St=B[2],Rt=B[3],Qt=f+f,zt=yt+yt,$t=St+St,ne=f*Qt,ae=yt*Qt,Wt=yt*zt,It=St*Qt,Ct=St*zt,ht=St*$t,Et=Rt*Qt,at=Rt*zt,Q=Rt*$t;return V[0]=1-Wt-ht,V[3]=ae-Q,V[6]=It+at,V[1]=ae+Q,V[4]=1-ne-ht,V[7]=Ct-Et,V[2]=It-at,V[5]=Ct+Et,V[8]=1-ne-Wt,V}function tt(V,B){var f=B[0],yt=B[1],St=B[2],Rt=B[3],Qt=B[4],zt=B[5],$t=B[6],ne=B[7],ae=B[8],Wt=B[9],It=B[10],Ct=B[11],ht=B[12],Et=B[13],at=B[14],Q=B[15],bt=f*zt-yt*Qt,Ot=f*$t-St*Qt,Vt=f*ne-Rt*Qt,ue=yt*$t-St*zt,Se=yt*ne-Rt*zt,Re=St*ne-Rt*$t,We=ae*Et-Wt*ht,mr=ae*at-It*ht,wr=ae*Q-Ct*ht,br=Wt*at-It*Et,zr=Wt*Q-Ct*Et,pr=It*Q-Ct*at,an=bt*pr-Ot*zr+Vt*br+ue*wr-Se*mr+Re*We;return an?(an=1/an,V[0]=(zt*pr-$t*zr+ne*br)*an,V[1]=($t*wr-Qt*pr-ne*mr)*an,V[2]=(Qt*zr-zt*wr+ne*We)*an,V[3]=(St*zr-yt*pr-Rt*br)*an,V[4]=(f*pr-St*wr+Rt*mr)*an,V[5]=(yt*wr-f*zr-Rt*We)*an,V[6]=(Et*Re-at*Se+Q*ue)*an,V[7]=(at*Vt-ht*Re-Q*Ot)*an,V[8]=(ht*Se-Et*Vt+Q*bt)*an,V):null}function K(V,B,f){return V[0]=2/B,V[1]=0,V[2]=0,V[3]=0,V[4]=-2/f,V[5]=0,V[6]=-1,V[7]=1,V[8]=1,V}function wt(V){return"mat3("+V[0]+", "+V[1]+", "+V[2]+", "+V[3]+", "+V[4]+", "+V[5]+", "+V[6]+", "+V[7]+", "+V[8]+")"}function ot(V){return Math.hypot(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8])}function vt(V,B,f){return V[0]=B[0]+f[0],V[1]=B[1]+f[1],V[2]=B[2]+f[2],V[3]=B[3]+f[3],V[4]=B[4]+f[4],V[5]=B[5]+f[5],V[6]=B[6]+f[6],V[7]=B[7]+f[7],V[8]=B[8]+f[8],V}function et(V,B,f){return V[0]=B[0]-f[0],V[1]=B[1]-f[1],V[2]=B[2]-f[2],V[3]=B[3]-f[3],V[4]=B[4]-f[4],V[5]=B[5]-f[5],V[6]=B[6]-f[6],V[7]=B[7]-f[7],V[8]=B[8]-f[8],V}function lt(V,B,f){return V[0]=B[0]*f,V[1]=B[1]*f,V[2]=B[2]*f,V[3]=B[3]*f,V[4]=B[4]*f,V[5]=B[5]*f,V[6]=B[6]*f,V[7]=B[7]*f,V[8]=B[8]*f,V}function dt(V,B,f,yt){return V[0]=B[0]+f[0]*yt,V[1]=B[1]+f[1]*yt,V[2]=B[2]+f[2]*yt,V[3]=B[3]+f[3]*yt,V[4]=B[4]+f[4]*yt,V[5]=B[5]+f[5]*yt,V[6]=B[6]+f[6]*yt,V[7]=B[7]+f[7]*yt,V[8]=B[8]+f[8]*yt,V}function it(V,B){return V[0]===B[0]&&V[1]===B[1]&&V[2]===B[2]&&V[3]===B[3]&&V[4]===B[4]&&V[5]===B[5]&&V[6]===B[6]&&V[7]===B[7]&&V[8]===B[8]}function At(V,B){var f=V[0],yt=V[1],St=V[2],Rt=V[3],Qt=V[4],zt=V[5],$t=V[6],ne=V[7],ae=V[8],Wt=B[0],It=B[1],Ct=B[2],ht=B[3],Et=B[4],at=B[5],Q=B[6],bt=B[7],Ot=B[8];return Math.abs(f-Wt)<=m.Ib*Math.max(1,Math.abs(f),Math.abs(Wt))&&Math.abs(yt-It)<=m.Ib*Math.max(1,Math.abs(yt),Math.abs(It))&&Math.abs(St-Ct)<=m.Ib*Math.max(1,Math.abs(St),Math.abs(Ct))&&Math.abs(Rt-ht)<=m.Ib*Math.max(1,Math.abs(Rt),Math.abs(ht))&&Math.abs(Qt-Et)<=m.Ib*Math.max(1,Math.abs(Qt),Math.abs(Et))&&Math.abs(zt-at)<=m.Ib*Math.max(1,Math.abs(zt),Math.abs(at))&&Math.abs($t-Q)<=m.Ib*Math.max(1,Math.abs($t),Math.abs(Q))&&Math.abs(ne-bt)<=m.Ib*Math.max(1,Math.abs(ne),Math.abs(bt))&&Math.abs(ae-Ot)<=m.Ib*Math.max(1,Math.abs(ae),Math.abs(Ot))}var mt=x,U=et},31437:function(ct,S,d){"use strict";d.r(S),d.d(S,{create:function(){return I},clone:function(){return k},fromValues:function(){return L},copy:function(){return P},set:function(){return T},add:function(){return M},subtract:function(){return A},multiply:function(){return p},divide:function(){return w},ceil:function(){return y},floor:function(){return b},min:function(){return x},max:function(){return E},round:function(){return O},scale:function(){return D},scaleAndAdd:function(){return N},distance:function(){return z},squaredDistance:function(){return W},length:function(){return X},squaredLength:function(){return j},negate:function(){return tt},inverse:function(){return K},normalize:function(){return wt},dot:function(){return ot},cross:function(){return vt},lerp:function(){return et},random:function(){return lt},transformMat2:function(){return dt},transformMat2d:function(){return it},transformMat3:function(){return At},transformMat4:function(){return mt},rotate:function(){return U},angle:function(){return V},zero:function(){return B},str:function(){return f},exactEquals:function(){return yt},equals:function(){return St},len:function(){return Rt},sub:function(){return Qt},mul:function(){return zt},div:function(){return $t},dist:function(){return ne},sqrDist:function(){return ae},sqrLen:function(){return Wt},forEach:function(){return It}});var m=d(49685);function I(){var Ct=new m.WT(2);return m.WT!=Float32Array&&(Ct[0]=0,Ct[1]=0),Ct}function k(Ct){var ht=new m.WT(2);return ht[0]=Ct[0],ht[1]=Ct[1],ht}function L(Ct,ht){var Et=new m.WT(2);return Et[0]=Ct,Et[1]=ht,Et}function P(Ct,ht){return Ct[0]=ht[0],Ct[1]=ht[1],Ct}function T(Ct,ht,Et){return Ct[0]=ht,Ct[1]=Et,Ct}function M(Ct,ht,Et){return Ct[0]=ht[0]+Et[0],Ct[1]=ht[1]+Et[1],Ct}function A(Ct,ht,Et){return Ct[0]=ht[0]-Et[0],Ct[1]=ht[1]-Et[1],Ct}function p(Ct,ht,Et){return Ct[0]=ht[0]*Et[0],Ct[1]=ht[1]*Et[1],Ct}function w(Ct,ht,Et){return Ct[0]=ht[0]/Et[0],Ct[1]=ht[1]/Et[1],Ct}function y(Ct,ht){return Ct[0]=Math.ceil(ht[0]),Ct[1]=Math.ceil(ht[1]),Ct}function b(Ct,ht){return Ct[0]=Math.floor(ht[0]),Ct[1]=Math.floor(ht[1]),Ct}function x(Ct,ht,Et){return Ct[0]=Math.min(ht[0],Et[0]),Ct[1]=Math.min(ht[1],Et[1]),Ct}function E(Ct,ht,Et){return Ct[0]=Math.max(ht[0],Et[0]),Ct[1]=Math.max(ht[1],Et[1]),Ct}function O(Ct,ht){return Ct[0]=Math.round(ht[0]),Ct[1]=Math.round(ht[1]),Ct}function D(Ct,ht,Et){return Ct[0]=ht[0]*Et,Ct[1]=ht[1]*Et,Ct}function N(Ct,ht,Et,at){return Ct[0]=ht[0]+Et[0]*at,Ct[1]=ht[1]+Et[1]*at,Ct}function z(Ct,ht){var Et=ht[0]-Ct[0],at=ht[1]-Ct[1];return Math.hypot(Et,at)}function W(Ct,ht){var Et=ht[0]-Ct[0],at=ht[1]-Ct[1];return Et*Et+at*at}function X(Ct){var ht=Ct[0],Et=Ct[1];return Math.hypot(ht,Et)}function j(Ct){var ht=Ct[0],Et=Ct[1];return ht*ht+Et*Et}function tt(Ct,ht){return Ct[0]=-ht[0],Ct[1]=-ht[1],Ct}function K(Ct,ht){return Ct[0]=1/ht[0],Ct[1]=1/ht[1],Ct}function wt(Ct,ht){var Et=ht[0],at=ht[1],Q=Et*Et+at*at;return Q>0&&(Q=1/Math.sqrt(Q)),Ct[0]=ht[0]*Q,Ct[1]=ht[1]*Q,Ct}function ot(Ct,ht){return Ct[0]*ht[0]+Ct[1]*ht[1]}function vt(Ct,ht,Et){var at=ht[0]*Et[1]-ht[1]*Et[0];return Ct[0]=Ct[1]=0,Ct[2]=at,Ct}function et(Ct,ht,Et,at){var Q=ht[0],bt=ht[1];return Ct[0]=Q+at*(Et[0]-Q),Ct[1]=bt+at*(Et[1]-bt),Ct}function lt(Ct,ht){ht=ht||1;var Et=m.FD()*2*Math.PI;return Ct[0]=Math.cos(Et)*ht,Ct[1]=Math.sin(Et)*ht,Ct}function dt(Ct,ht,Et){var at=ht[0],Q=ht[1];return Ct[0]=Et[0]*at+Et[2]*Q,Ct[1]=Et[1]*at+Et[3]*Q,Ct}function it(Ct,ht,Et){var at=ht[0],Q=ht[1];return Ct[0]=Et[0]*at+Et[2]*Q+Et[4],Ct[1]=Et[1]*at+Et[3]*Q+Et[5],Ct}function At(Ct,ht,Et){var at=ht[0],Q=ht[1];return Ct[0]=Et[0]*at+Et[3]*Q+Et[6],Ct[1]=Et[1]*at+Et[4]*Q+Et[7],Ct}function mt(Ct,ht,Et){var at=ht[0],Q=ht[1];return Ct[0]=Et[0]*at+Et[4]*Q+Et[12],Ct[1]=Et[1]*at+Et[5]*Q+Et[13],Ct}function U(Ct,ht,Et,at){var Q=ht[0]-Et[0],bt=ht[1]-Et[1],Ot=Math.sin(at),Vt=Math.cos(at);return Ct[0]=Q*Vt-bt*Ot+Et[0],Ct[1]=Q*Ot+bt*Vt+Et[1],Ct}function V(Ct,ht){var Et=Ct[0],at=Ct[1],Q=ht[0],bt=ht[1],Ot=Math.sqrt(Et*Et+at*at)*Math.sqrt(Q*Q+bt*bt),Vt=Ot&&(Et*Q+at*bt)/Ot;return Math.acos(Math.min(Math.max(Vt,-1),1))}function B(Ct){return Ct[0]=0,Ct[1]=0,Ct}function f(Ct){return"vec2("+Ct[0]+", "+Ct[1]+")"}function yt(Ct,ht){return Ct[0]===ht[0]&&Ct[1]===ht[1]}function St(Ct,ht){var Et=Ct[0],at=Ct[1],Q=ht[0],bt=ht[1];return Math.abs(Et-Q)<=m.Ib*Math.max(1,Math.abs(Et),Math.abs(Q))&&Math.abs(at-bt)<=m.Ib*Math.max(1,Math.abs(at),Math.abs(bt))}var Rt=X,Qt=A,zt=p,$t=w,ne=z,ae=W,Wt=j,It=function(){var Ct=I();return function(ht,Et,at,Q,bt,Ot){var Vt,ue;for(Et||(Et=2),at||(at=0),Q?ue=Math.min(Q*Et+at,ht.length):ue=ht.length,Vt=at;Vt<ue;Vt+=Et)Ct[0]=ht[Vt],Ct[1]=ht[Vt+1],bt(Ct,Ct,Ot),ht[Vt]=Ct[0],ht[Vt+1]=Ct[1];return ht}}()},77160:function(ct,S,d){"use strict";d.r(S),d.d(S,{create:function(){return I},clone:function(){return k},length:function(){return L},fromValues:function(){return P},copy:function(){return T},set:function(){return M},add:function(){return A},subtract:function(){return p},multiply:function(){return w},divide:function(){return y},ceil:function(){return b},floor:function(){return x},min:function(){return E},max:function(){return O},round:function(){return D},scale:function(){return N},scaleAndAdd:function(){return z},distance:function(){return W},squaredDistance:function(){return X},squaredLength:function(){return j},negate:function(){return tt},inverse:function(){return K},normalize:function(){return wt},dot:function(){return ot},cross:function(){return vt},lerp:function(){return et},hermite:function(){return lt},bezier:function(){return dt},random:function(){return it},transformMat4:function(){return At},transformMat3:function(){return mt},transformQuat:function(){return U},rotateX:function(){return V},rotateY:function(){return B},rotateZ:function(){return f},angle:function(){return yt},zero:function(){return St},str:function(){return Rt},exactEquals:function(){return Qt},equals:function(){return zt},sub:function(){return $t},mul:function(){return ne},div:function(){return ae},dist:function(){return Wt},sqrDist:function(){return It},len:function(){return Ct},sqrLen:function(){return ht},forEach:function(){return Et}});var m=d(49685);function I(){var at=new m.WT(3);return m.WT!=Float32Array&&(at[0]=0,at[1]=0,at[2]=0),at}function k(at){var Q=new m.WT(3);return Q[0]=at[0],Q[1]=at[1],Q[2]=at[2],Q}function L(at){var Q=at[0],bt=at[1],Ot=at[2];return Math.hypot(Q,bt,Ot)}function P(at,Q,bt){var Ot=new m.WT(3);return Ot[0]=at,Ot[1]=Q,Ot[2]=bt,Ot}function T(at,Q){return at[0]=Q[0],at[1]=Q[1],at[2]=Q[2],at}function M(at,Q,bt,Ot){return at[0]=Q,at[1]=bt,at[2]=Ot,at}function A(at,Q,bt){return at[0]=Q[0]+bt[0],at[1]=Q[1]+bt[1],at[2]=Q[2]+bt[2],at}function p(at,Q,bt){return at[0]=Q[0]-bt[0],at[1]=Q[1]-bt[1],at[2]=Q[2]-bt[2],at}function w(at,Q,bt){return at[0]=Q[0]*bt[0],at[1]=Q[1]*bt[1],at[2]=Q[2]*bt[2],at}function y(at,Q,bt){return at[0]=Q[0]/bt[0],at[1]=Q[1]/bt[1],at[2]=Q[2]/bt[2],at}function b(at,Q){return at[0]=Math.ceil(Q[0]),at[1]=Math.ceil(Q[1]),at[2]=Math.ceil(Q[2]),at}function x(at,Q){return at[0]=Math.floor(Q[0]),at[1]=Math.floor(Q[1]),at[2]=Math.floor(Q[2]),at}function E(at,Q,bt){return at[0]=Math.min(Q[0],bt[0]),at[1]=Math.min(Q[1],bt[1]),at[2]=Math.min(Q[2],bt[2]),at}function O(at,Q,bt){return at[0]=Math.max(Q[0],bt[0]),at[1]=Math.max(Q[1],bt[1]),at[2]=Math.max(Q[2],bt[2]),at}function D(at,Q){return at[0]=Math.round(Q[0]),at[1]=Math.round(Q[1]),at[2]=Math.round(Q[2]),at}function N(at,Q,bt){return at[0]=Q[0]*bt,at[1]=Q[1]*bt,at[2]=Q[2]*bt,at}function z(at,Q,bt,Ot){return at[0]=Q[0]+bt[0]*Ot,at[1]=Q[1]+bt[1]*Ot,at[2]=Q[2]+bt[2]*Ot,at}function W(at,Q){var bt=Q[0]-at[0],Ot=Q[1]-at[1],Vt=Q[2]-at[2];return Math.hypot(bt,Ot,Vt)}function X(at,Q){var bt=Q[0]-at[0],Ot=Q[1]-at[1],Vt=Q[2]-at[2];return bt*bt+Ot*Ot+Vt*Vt}function j(at){var Q=at[0],bt=at[1],Ot=at[2];return Q*Q+bt*bt+Ot*Ot}function tt(at,Q){return at[0]=-Q[0],at[1]=-Q[1],at[2]=-Q[2],at}function K(at,Q){return at[0]=1/Q[0],at[1]=1/Q[1],at[2]=1/Q[2],at}function wt(at,Q){var bt=Q[0],Ot=Q[1],Vt=Q[2],ue=bt*bt+Ot*Ot+Vt*Vt;return ue>0&&(ue=1/Math.sqrt(ue)),at[0]=Q[0]*ue,at[1]=Q[1]*ue,at[2]=Q[2]*ue,at}function ot(at,Q){return at[0]*Q[0]+at[1]*Q[1]+at[2]*Q[2]}function vt(at,Q,bt){var Ot=Q[0],Vt=Q[1],ue=Q[2],Se=bt[0],Re=bt[1],We=bt[2];return at[0]=Vt*We-ue*Re,at[1]=ue*Se-Ot*We,at[2]=Ot*Re-Vt*Se,at}function et(at,Q,bt,Ot){var Vt=Q[0],ue=Q[1],Se=Q[2];return at[0]=Vt+Ot*(bt[0]-Vt),at[1]=ue+Ot*(bt[1]-ue),at[2]=Se+Ot*(bt[2]-Se),at}function lt(at,Q,bt,Ot,Vt,ue){var Se=ue*ue,Re=Se*(2*ue-3)+1,We=Se*(ue-2)+ue,mr=Se*(ue-1),wr=Se*(3-2*ue);return at[0]=Q[0]*Re+bt[0]*We+Ot[0]*mr+Vt[0]*wr,at[1]=Q[1]*Re+bt[1]*We+Ot[1]*mr+Vt[1]*wr,at[2]=Q[2]*Re+bt[2]*We+Ot[2]*mr+Vt[2]*wr,at}function dt(at,Q,bt,Ot,Vt,ue){var Se=1-ue,Re=Se*Se,We=ue*ue,mr=Re*Se,wr=3*ue*Re,br=3*We*Se,zr=We*ue;return at[0]=Q[0]*mr+bt[0]*wr+Ot[0]*br+Vt[0]*zr,at[1]=Q[1]*mr+bt[1]*wr+Ot[1]*br+Vt[1]*zr,at[2]=Q[2]*mr+bt[2]*wr+Ot[2]*br+Vt[2]*zr,at}function it(at,Q){Q=Q||1;var bt=m.FD()*2*Math.PI,Ot=m.FD()*2-1,Vt=Math.sqrt(1-Ot*Ot)*Q;return at[0]=Math.cos(bt)*Vt,at[1]=Math.sin(bt)*Vt,at[2]=Ot*Q,at}function At(at,Q,bt){var Ot=Q[0],Vt=Q[1],ue=Q[2],Se=bt[3]*Ot+bt[7]*Vt+bt[11]*ue+bt[15];return Se=Se||1,at[0]=(bt[0]*Ot+bt[4]*Vt+bt[8]*ue+bt[12])/Se,at[1]=(bt[1]*Ot+bt[5]*Vt+bt[9]*ue+bt[13])/Se,at[2]=(bt[2]*Ot+bt[6]*Vt+bt[10]*ue+bt[14])/Se,at}function mt(at,Q,bt){var Ot=Q[0],Vt=Q[1],ue=Q[2];return at[0]=Ot*bt[0]+Vt*bt[3]+ue*bt[6],at[1]=Ot*bt[1]+Vt*bt[4]+ue*bt[7],at[2]=Ot*bt[2]+Vt*bt[5]+ue*bt[8],at}function U(at,Q,bt){var Ot=bt[0],Vt=bt[1],ue=bt[2],Se=bt[3],Re=Q[0],We=Q[1],mr=Q[2],wr=Vt*mr-ue*We,br=ue*Re-Ot*mr,zr=Ot*We-Vt*Re,pr=Vt*zr-ue*br,an=ue*wr-Ot*zr,Tn=Ot*br-Vt*wr,rn=Se*2;return wr*=rn,br*=rn,zr*=rn,pr*=2,an*=2,Tn*=2,at[0]=Re+wr+pr,at[1]=We+br+an,at[2]=mr+zr+Tn,at}function V(at,Q,bt,Ot){var Vt=[],ue=[];return Vt[0]=Q[0]-bt[0],Vt[1]=Q[1]-bt[1],Vt[2]=Q[2]-bt[2],ue[0]=Vt[0],ue[1]=Vt[1]*Math.cos(Ot)-Vt[2]*Math.sin(Ot),ue[2]=Vt[1]*Math.sin(Ot)+Vt[2]*Math.cos(Ot),at[0]=ue[0]+bt[0],at[1]=ue[1]+bt[1],at[2]=ue[2]+bt[2],at}function B(at,Q,bt,Ot){var Vt=[],ue=[];return Vt[0]=Q[0]-bt[0],Vt[1]=Q[1]-bt[1],Vt[2]=Q[2]-bt[2],ue[0]=Vt[2]*Math.sin(Ot)+Vt[0]*Math.cos(Ot),ue[1]=Vt[1],ue[2]=Vt[2]*Math.cos(Ot)-Vt[0]*Math.sin(Ot),at[0]=ue[0]+bt[0],at[1]=ue[1]+bt[1],at[2]=ue[2]+bt[2],at}function f(at,Q,bt,Ot){var Vt=[],ue=[];return Vt[0]=Q[0]-bt[0],Vt[1]=Q[1]-bt[1],Vt[2]=Q[2]-bt[2],ue[0]=Vt[0]*Math.cos(Ot)-Vt[1]*Math.sin(Ot),ue[1]=Vt[0]*Math.sin(Ot)+Vt[1]*Math.cos(Ot),ue[2]=Vt[2],at[0]=ue[0]+bt[0],at[1]=ue[1]+bt[1],at[2]=ue[2]+bt[2],at}function yt(at,Q){var bt=at[0],Ot=at[1],Vt=at[2],ue=Q[0],Se=Q[1],Re=Q[2],We=Math.sqrt(bt*bt+Ot*Ot+Vt*Vt),mr=Math.sqrt(ue*ue+Se*Se+Re*Re),wr=We*mr,br=wr&&ot(at,Q)/wr;return Math.acos(Math.min(Math.max(br,-1),1))}function St(at){return at[0]=0,at[1]=0,at[2]=0,at}function Rt(at){return"vec3("+at[0]+", "+at[1]+", "+at[2]+")"}function Qt(at,Q){return at[0]===Q[0]&&at[1]===Q[1]&&at[2]===Q[2]}function zt(at,Q){var bt=at[0],Ot=at[1],Vt=at[2],ue=Q[0],Se=Q[1],Re=Q[2];return Math.abs(bt-ue)<=m.Ib*Math.max(1,Math.abs(bt),Math.abs(ue))&&Math.abs(Ot-Se)<=m.Ib*Math.max(1,Math.abs(Ot),Math.abs(Se))&&Math.abs(Vt-Re)<=m.Ib*Math.max(1,Math.abs(Vt),Math.abs(Re))}var $t=p,ne=w,ae=y,Wt=W,It=X,Ct=L,ht=j,Et=function(){var at=I();return function(Q,bt,Ot,Vt,ue,Se){var Re,We;for(bt||(bt=3),Ot||(Ot=0),Vt?We=Math.min(Vt*bt+Ot,Q.length):We=Q.length,Re=Ot;Re<We;Re+=bt)at[0]=Q[Re],at[1]=Q[Re+1],at[2]=Q[Re+2],ue(at,at,Se),Q[Re]=at[0],Q[Re+1]=at[1],Q[Re+2]=at[2];return Q}}()},28282:function(ct,S,d){var m=d(82354);ct.exports={Graph:m.Graph,json:d(28974),alg:d(12440),version:m.version}},2842:function(ct,S,d){var m=d(89126);ct.exports=I;function I(k){var L={},P=[],T;function M(A){m.has(L,A)||(L[A]=!0,T.push(A),m.each(k.successors(A),M),m.each(k.predecessors(A),M))}return m.each(k.nodes(),function(A){T=[],M(A),T.length&&P.push(T)}),P}},53984:function(ct,S,d){var m=d(89126);ct.exports=I;function I(L,P,T){m.isArray(P)||(P=[P]);var M=(L.isDirected()?L.successors:L.neighbors).bind(L),A=[],p={};return m.each(P,function(w){if(!L.hasNode(w))throw new Error("Graph does not have node: "+w);k(L,w,T==="post",p,M,A)}),A}function k(L,P,T,M,A,p){m.has(M,P)||(M[P]=!0,T||p.push(P),m.each(A(P),function(w){k(L,w,T,M,A,p)}),T&&p.push(P))}},84847:function(ct,S,d){var m=d(63763),I=d(89126);ct.exports=k;function k(L,P,T){return I.transform(L.nodes(),function(M,A){M[A]=m(L,A,P,T)},{})}},63763:function(ct,S,d){var m=d(89126),I=d(75639);ct.exports=L;var k=m.constant(1);function L(T,M,A,p){return P(T,String(M),A||k,p||function(w){return T.outEdges(w)})}function P(T,M,A,p){var w={},y=new I,b,x,E=function(O){var D=O.v!==b?O.v:O.w,N=w[D],z=A(O),W=x.distance+z;if(z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+O+" Weight: "+z);W<N.distance&&(N.distance=W,N.predecessor=b,y.decrease(D,W))};for(T.nodes().forEach(function(O){var D=O===M?0:Number.POSITIVE_INFINITY;w[O]={distance:D},y.add(O,D)});y.size()>0&&(b=y.removeMin(),x=w[b],x.distance!==Number.POSITIVE_INFINITY);)p(b).forEach(E);return w}},9096:function(ct,S,d){var m=d(89126),I=d(5023);ct.exports=k;function k(L){return m.filter(I(L),function(P){return P.length>1||P.length===1&&L.hasEdge(P[0],P[0])})}},38924:function(ct,S,d){var m=d(89126);ct.exports=k;var I=m.constant(1);function k(P,T,M){return L(P,T||I,M||function(A){return P.outEdges(A)})}function L(P,T,M){var A={},p=P.nodes();return p.forEach(function(w){A[w]={},A[w][w]={distance:0},p.forEach(function(y){w!==y&&(A[w][y]={distance:Number.POSITIVE_INFINITY})}),M(w).forEach(function(y){var b=y.v===w?y.w:y.v,x=T(y);A[w][b]={distance:x,predecessor:w}})}),p.forEach(function(w){var y=A[w];p.forEach(function(b){var x=A[b];p.forEach(function(E){var O=x[w],D=y[E],N=x[E],z=O.distance+D.distance;z<N.distance&&(N.distance=z,N.predecessor=D.predecessor)})})}),A}},12440:function(ct,S,d){ct.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(ct,S,d){var m=d(2166);ct.exports=I;function I(k){try{m(k)}catch(L){if(L instanceof m.CycleException)return!1;throw L}return!0}},58828:function(ct,S,d){var m=d(53984);ct.exports=I;function I(k,L){return m(k,L,"post")}},92648:function(ct,S,d){var m=d(53984);ct.exports=I;function I(k,L){return m(k,L,"pre")}},80514:function(ct,S,d){var m=d(89126),I=d(30771),k=d(75639);ct.exports=L;function L(P,T){var M=new I,A={},p=new k,w;function y(x){var E=x.v===w?x.w:x.v,O=p.priority(E);if(O!==void 0){var D=T(x);D<O&&(A[E]=w,p.decrease(E,D))}}if(P.nodeCount()===0)return M;m.each(P.nodes(),function(x){p.add(x,Number.POSITIVE_INFINITY),M.setNode(x)}),p.decrease(P.nodes()[0],0);for(var b=!1;p.size()>0;){if(w=p.removeMin(),m.has(A,w))M.setEdge(w,A[w]);else{if(b)throw new Error("Input graph is not connected: "+P);b=!0}P.nodeEdges(w).forEach(y)}return M}},5023:function(ct,S,d){var m=d(89126);ct.exports=I;function I(k){var L=0,P=[],T={},M=[];function A(p){var w=T[p]={onStack:!0,lowlink:L,index:L++};if(P.push(p),k.successors(p).forEach(function(x){m.has(T,x)?T[x].onStack&&(w.lowlink=Math.min(w.lowlink,T[x].index)):(A(x),w.lowlink=Math.min(w.lowlink,T[x].lowlink))}),w.lowlink===w.index){var y=[],b;do b=P.pop(),T[b].onStack=!1,y.push(b);while(p!==b);M.push(y)}}return k.nodes().forEach(function(p){m.has(T,p)||A(p)}),M}},2166:function(ct,S,d){var m=d(89126);ct.exports=I,I.CycleException=k;function I(L){var P={},T={},M=[];function A(p){if(m.has(T,p))throw new k;m.has(P,p)||(T[p]=!0,P[p]=!0,m.each(L.predecessors(p),A),delete T[p],M.push(p))}if(m.each(L.sinks(),A),m.size(P)!==L.nodeCount())throw new k;return M}function k(){}k.prototype=new Error},75639:function(ct,S,d){var m=d(89126);ct.exports=I;function I(){this._arr=[],this._keyIndices={}}I.prototype.size=function(){return this._arr.length},I.prototype.keys=function(){return this._arr.map(function(k){return k.key})},I.prototype.has=function(k){return m.has(this._keyIndices,k)},I.prototype.priority=function(k){var L=this._keyIndices[k];if(L!==void 0)return this._arr[L].priority},I.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},I.prototype.add=function(k,L){var P=this._keyIndices;if(k=String(k),!m.has(P,k)){var T=this._arr,M=T.length;return P[k]=M,T.push({key:k,priority:L}),this._decrease(M),!0}return!1},I.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var k=this._arr.pop();return delete this._keyIndices[k.key],this._heapify(0),k.key},I.prototype.decrease=function(k,L){var P=this._keyIndices[k];if(L>this._arr[P].priority)throw new Error("New priority is greater than current priority. Key: "+k+" Old: "+this._arr[P].priority+" New: "+L);this._arr[P].priority=L,this._decrease(P)},I.prototype._heapify=function(k){var L=this._arr,P=2*k,T=P+1,M=k;P<L.length&&(M=L[P].priority<L[M].priority?P:M,T<L.length&&(M=L[T].priority<L[M].priority?T:M),M!==k&&(this._swap(k,M),this._heapify(M)))},I.prototype._decrease=function(k){for(var L=this._arr,P=L[k].priority,T;k!==0&&(T=k>>1,!(L[T].priority<P));)this._swap(k,T),k=T},I.prototype._swap=function(k,L){var P=this._arr,T=this._keyIndices,M=P[k],A=P[L];P[k]=A,P[L]=M,T[A.key]=k,T[M.key]=L}},30771:function(ct,S,d){"use strict";var m=d(89126);ct.exports=P;var I="\0",k="\0",L="";function P(y){this._isDirected=m.has(y,"directed")?y.directed:!0,this._isMultigraph=m.has(y,"multigraph")?y.multigraph:!1,this._isCompound=m.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m.constant(void 0),this._defaultEdgeLabelFn=m.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[k]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}P.prototype._nodeCount=0,P.prototype._edgeCount=0,P.prototype.isDirected=function(){return this._isDirected},P.prototype.isMultigraph=function(){return this._isMultigraph},P.prototype.isCompound=function(){return this._isCompound},P.prototype.setGraph=function(y){return this._label=y,this},P.prototype.graph=function(){return this._label},P.prototype.setDefaultNodeLabel=function(y){return m.isFunction(y)||(y=m.constant(y)),this._defaultNodeLabelFn=y,this},P.prototype.nodeCount=function(){return this._nodeCount},P.prototype.nodes=function(){return m.keys(this._nodes)},P.prototype.sources=function(){var y=this;return m.filter(this.nodes(),function(b){return m.isEmpty(y._in[b])})},P.prototype.sinks=function(){var y=this;return m.filter(this.nodes(),function(b){return m.isEmpty(y._out[b])})},P.prototype.setNodes=function(y,b){var x=arguments,E=this;return m.each(y,function(O){x.length>1?E.setNode(O,b):E.setNode(O)}),this},P.prototype.setNode=function(y,b){return m.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=b),this):(this._nodes[y]=arguments.length>1?b:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=k,this._children[y]={},this._children[k][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},P.prototype.node=function(y){return this._nodes[y]},P.prototype.hasNode=function(y){return m.has(this._nodes,y)},P.prototype.removeNode=function(y){var b=this;if(m.has(this._nodes,y)){var x=function(E){b.removeEdge(b._edgeObjs[E])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],m.each(this.children(y),function(E){b.setParent(E)}),delete this._children[y]),m.each(m.keys(this._in[y]),x),delete this._in[y],delete this._preds[y],m.each(m.keys(this._out[y]),x),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},P.prototype.setParent=function(y,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(m.isUndefined(b))b=k;else{b+="";for(var x=b;!m.isUndefined(x);x=this.parent(x))if(x===y)throw new Error("Setting "+b+" as parent of "+y+" would create a cycle");this.setNode(b)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=b,this._children[b][y]=!0,this},P.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},P.prototype.parent=function(y){if(this._isCompound){var b=this._parent[y];if(b!==k)return b}},P.prototype.children=function(y){if(m.isUndefined(y)&&(y=k),this._isCompound){var b=this._children[y];if(b)return m.keys(b)}else{if(y===k)return this.nodes();if(this.hasNode(y))return[]}},P.prototype.predecessors=function(y){var b=this._preds[y];if(b)return m.keys(b)},P.prototype.successors=function(y){var b=this._sucs[y];if(b)return m.keys(b)},P.prototype.neighbors=function(y){var b=this.predecessors(y);if(b)return m.union(b,this.successors(y))},P.prototype.isLeaf=function(y){var b;return this.isDirected()?b=this.successors(y):b=this.neighbors(y),b.length===0},P.prototype.filterNodes=function(y){var b=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});b.setGraph(this.graph());var x=this;m.each(this._nodes,function(D,N){y(N)&&b.setNode(N,D)}),m.each(this._edgeObjs,function(D){b.hasNode(D.v)&&b.hasNode(D.w)&&b.setEdge(D,x.edge(D))});var E={};function O(D){var N=x.parent(D);return N===void 0||b.hasNode(N)?(E[D]=N,N):N in E?E[N]:O(N)}return this._isCompound&&m.each(b.nodes(),function(D){b.setParent(D,O(D))}),b},P.prototype.setDefaultEdgeLabel=function(y){return m.isFunction(y)||(y=m.constant(y)),this._defaultEdgeLabelFn=y,this},P.prototype.edgeCount=function(){return this._edgeCount},P.prototype.edges=function(){return m.values(this._edgeObjs)},P.prototype.setPath=function(y,b){var x=this,E=arguments;return m.reduce(y,function(O,D){return E.length>1?x.setEdge(O,D,b):x.setEdge(O,D),D}),this},P.prototype.setEdge=function(){var y,b,x,E,O=!1,D=arguments[0];typeof D=="object"&&D!==null&&"v"in D?(y=D.v,b=D.w,x=D.name,arguments.length===2&&(E=arguments[1],O=!0)):(y=D,b=arguments[1],x=arguments[3],arguments.length>2&&(E=arguments[2],O=!0)),y=""+y,b=""+b,m.isUndefined(x)||(x=""+x);var N=A(this._isDirected,y,b,x);if(m.has(this._edgeLabels,N))return O&&(this._edgeLabels[N]=E),this;if(!m.isUndefined(x)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(b),this._edgeLabels[N]=O?E:this._defaultEdgeLabelFn(y,b,x);var z=p(this._isDirected,y,b,x);return y=z.v,b=z.w,Object.freeze(z),this._edgeObjs[N]=z,T(this._preds[b],y),T(this._sucs[y],b),this._in[b][N]=z,this._out[y][N]=z,this._edgeCount++,this},P.prototype.edge=function(y,b,x){var E=arguments.length===1?w(this._isDirected,arguments[0]):A(this._isDirected,y,b,x);return this._edgeLabels[E]},P.prototype.hasEdge=function(y,b,x){var E=arguments.length===1?w(this._isDirected,arguments[0]):A(this._isDirected,y,b,x);return m.has(this._edgeLabels,E)},P.prototype.removeEdge=function(y,b,x){var E=arguments.length===1?w(this._isDirected,arguments[0]):A(this._isDirected,y,b,x),O=this._edgeObjs[E];return O&&(y=O.v,b=O.w,delete this._edgeLabels[E],delete this._edgeObjs[E],M(this._preds[b],y),M(this._sucs[y],b),delete this._in[b][E],delete this._out[y][E],this._edgeCount--),this},P.prototype.inEdges=function(y,b){var x=this._in[y];if(x){var E=m.values(x);return b?m.filter(E,function(O){return O.v===b}):E}},P.prototype.outEdges=function(y,b){var x=this._out[y];if(x){var E=m.values(x);return b?m.filter(E,function(O){return O.w===b}):E}},P.prototype.nodeEdges=function(y,b){var x=this.inEdges(y,b);if(x)return x.concat(this.outEdges(y,b))};function T(y,b){y[b]?y[b]++:y[b]=1}function M(y,b){--y[b]||delete y[b]}function A(y,b,x,E){var O=""+b,D=""+x;if(!y&&O>D){var N=O;O=D,D=N}return O+L+D+L+(m.isUndefined(E)?I:E)}function p(y,b,x,E){var O=""+b,D=""+x;if(!y&&O>D){var N=O;O=D,D=N}var z={v:O,w:D};return E&&(z.name=E),z}function w(y,b){return A(y,b.v,b.w,b.name)}},82354:function(ct,S,d){ct.exports={Graph:d(30771),version:d(49631)}},28974:function(ct,S,d){var m=d(89126),I=d(30771);ct.exports={write:k,read:T};function k(M){var A={options:{directed:M.isDirected(),multigraph:M.isMultigraph(),compound:M.isCompound()},nodes:L(M),edges:P(M)};return m.isUndefined(M.graph())||(A.value=m.clone(M.graph())),A}function L(M){return m.map(M.nodes(),function(A){var p=M.node(A),w=M.parent(A),y={v:A};return m.isUndefined(p)||(y.value=p),m.isUndefined(w)||(y.parent=w),y})}function P(M){return m.map(M.edges(),function(A){var p=M.edge(A),w={v:A.v,w:A.w};return m.isUndefined(A.name)||(w.name=A.name),m.isUndefined(p)||(w.value=p),w})}function T(M){var A=new I(M.options).setGraph(M.value);return m.each(M.nodes,function(p){A.setNode(p.v,p.value),p.parent&&A.setParent(p.v,p.parent)}),m.each(M.edges,function(p){A.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),A}},89126:function(ct,S,d){var m;try{m={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(I){}m||(m=window._),ct.exports=m},49631:function(ct){ct.exports="2.1.8"},38186:function(ct){var S=[],d=[],m="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function I(L,P){if(P=P||{},L===void 0)throw new Error(m);var T=P.prepend===!0?"prepend":"append",M=P.container!==void 0?P.container:document.querySelector("head"),A=S.indexOf(M);A===-1&&(A=S.push(M)-1,d[A]={});var p;return d[A]!==void 0&&d[A][T]!==void 0?p=d[A][T]:(p=d[A][T]=k(),T==="prepend"?M.insertBefore(p,M.childNodes[0]):M.appendChild(p)),L.charCodeAt(0)===65279&&(L=L.substr(1,L.length)),p.styleSheet?p.styleSheet.cssText+=L:p.textContent+=L,p}function k(){var L=document.createElement("style");return L.setAttribute("type","text/css"),L}ct.exports=I,ct.exports.insertCss=I},47443:function(ct,S,d){var m=d(42118);function I(k,L){var P=k==null?0:k.length;return!!P&&m(k,L,0)>-1}ct.exports=I},1196:function(ct){function S(d,m,I){for(var k=-1,L=d==null?0:d.length;++k<L;)if(I(m,d[k]))return!0;return!1}ct.exports=S},62663:function(ct){function S(d,m,I,k){var L=-1,P=d==null?0:d.length;for(k&&P&&(I=d[++L]);++L<P;)I=m(I,d[L],L,d);return I}ct.exports=S},48983:function(ct,S,d){var m=d(40371),I=m("length");ct.exports=I},56029:function(ct,S,d){var m=d(33448);function I(k,L,P){for(var T=-1,M=k.length;++T<M;){var A=k[T],p=L(A);if(p!=null&&(w===void 0?p===p&&!m(p):P(p,w)))var w=p,y=A}return y}ct.exports=I},80760:function(ct,S,d){var m=d(89881);function I(k,L){var P=[];return m(k,function(T,M,A){L(T,M,A)&&P.push(T)}),P}ct.exports=I},41848:function(ct){function S(d,m,I,k){for(var L=d.length,P=I+(k?1:-1);k?P--:++P<L;)if(m(d[P],P,d))return P;return-1}ct.exports=S},21078:function(ct,S,d){var m=d(62488),I=d(37285);function k(L,P,T,M,A){var p=-1,w=L.length;for(T||(T=I),A||(A=[]);++p<w;){var y=L[p];P>0&&T(y)?P>1?k(y,P-1,T,M,A):m(A,y):M||(A[A.length]=y)}return A}ct.exports=k},53325:function(ct){function S(d,m){return d>m}ct.exports=S},78565:function(ct){var S=Object.prototype,d=S.hasOwnProperty;function m(I,k){return I!=null&&d.call(I,k)}ct.exports=m},42118:function(ct,S,d){var m=d(41848),I=d(62722),k=d(42351);function L(P,T,M){return T===T?k(P,T,M):m(P,I,M)}ct.exports=L},62722:function(ct){function S(d){return d!==d}ct.exports=S},70433:function(ct){function S(d,m){return d<m}ct.exports=S},82689:function(ct,S,d){var m=d(29932),I=d(97786),k=d(67206),L=d(69199),P=d(71131),T=d(7518),M=d(85022),A=d(6557),p=d(1469);function w(y,b,x){b.length?b=m(b,function(D){return p(D)?function(N){return I(N,D.length===1?D[0]:D)}:D}):b=[A];var E=-1;b=m(b,T(k));var O=L(y,function(D,N,z){var W=m(b,function(X){return X(D)});return{criteria:W,index:++E,value:D}});return P(O,function(D,N){return M(D,N,x)})}ct.exports=w},25970:function(ct,S,d){var m=d(13127),I=d(79095);function k(L,P){return m(L,P,function(T,M){return I(L,M)})}ct.exports=k},13127:function(ct,S,d){var m=d(97786),I=d(10611),k=d(71811);function L(P,T,M){for(var A=-1,p=T.length,w={};++A<p;){var y=T[A],b=m(P,y);M(b,y)&&I(w,k(y,P),b)}return w}ct.exports=L},40098:function(ct){var S=Math.ceil,d=Math.max;function m(I,k,L,P){for(var T=-1,M=d(S((k-I)/(L||1)),0),A=Array(M);M--;)A[P?M:++T]=I,I+=L;return A}ct.exports=m},10107:function(ct){function S(d,m,I,k,L){return L(d,function(P,T,M){I=k?(k=!1,P):m(I,P,T,M)}),I}ct.exports=S},10611:function(ct,S,d){var m=d(34865),I=d(71811),k=d(65776),L=d(13218),P=d(40327);function T(M,A,p,w){if(!L(M))return M;A=I(A,M);for(var y=-1,b=A.length,x=b-1,E=M;E!=null&&++y<b;){var O=P(A[y]),D=p;if(O==="__proto__"||O==="constructor"||O==="prototype")return M;if(y!=x){var N=E[O];D=w?w(N,O,E):void 0,D===void 0&&(D=L(N)?N:k(A[y+1])?[]:{})}m(E,O,D),E=E[O]}return M}ct.exports=T},71131:function(ct){function S(d,m){var I=d.length;for(d.sort(m);I--;)d[I]=d[I].value;return d}ct.exports=S},45652:function(ct,S,d){var m=d(88668),I=d(47443),k=d(1196),L=d(74757),P=d(23593),T=d(21814),M=200;function A(p,w,y){var b=-1,x=I,E=p.length,O=!0,D=[],N=D;if(y)O=!1,x=k;else if(E>=M){var z=w?null:P(p);if(z)return T(z);O=!1,x=L,N=new m}else N=w?[]:D;t:for(;++b<E;){var W=p[b],X=w?w(W):W;if(W=y||W!==0?W:0,O&&X===X){for(var j=N.length;j--;)if(N[j]===X)continue t;w&&N.push(X),D.push(W)}else x(N,X,y)||(N!==D&&N.push(X),D.push(W))}return D}ct.exports=A},47415:function(ct,S,d){var m=d(29932);function I(k,L){return m(L,function(P){return k[P]})}ct.exports=I},1757:function(ct){function S(d,m,I){for(var k=-1,L=d.length,P=m.length,T={};++k<L;){var M=k<P?m[k]:void 0;I(T,d[k],M)}return T}ct.exports=S},26393:function(ct,S,d){var m=d(33448);function I(k,L){if(k!==L){var P=k!==void 0,T=k===null,M=k===k,A=m(k),p=L!==void 0,w=L===null,y=L===L,b=m(L);if(!w&&!b&&!A&&k>L||A&&p&&y&&!w&&!b||T&&p&&y||!P&&y||!M)return 1;if(!T&&!A&&!b&&k<L||b&&P&&M&&!T&&!A||w&&P&&M||!p&&M||!y)return-1}return 0}ct.exports=I},85022:function(ct,S,d){var m=d(26393);function I(k,L,P){for(var T=-1,M=k.criteria,A=L.criteria,p=M.length,w=P.length;++T<p;){var y=m(M[T],A[T]);if(y){if(T>=w)return y;var b=P[T];return y*(b=="desc"?-1:1)}}return k.index-L.index}ct.exports=I},67740:function(ct,S,d){var m=d(67206),I=d(98612),k=d(3674);function L(P){return function(T,M,A){var p=Object(T);if(!I(T)){var w=m(M,3);T=k(T),M=function(b){return w(p[b],b,p)}}var y=P(T,M,A);return y>-1?p[w?T[y]:y]:void 0}}ct.exports=L},47445:function(ct,S,d){var m=d(40098),I=d(16612),k=d(18601);function L(P){return function(T,M,A){return A&&typeof A!="number"&&I(T,M,A)&&(M=A=void 0),T=k(T),M===void 0?(M=T,T=0):M=k(M),A=A===void 0?T<M?1:-1:k(A),m(T,M,A,P)}}ct.exports=L},23593:function(ct,S,d){var m=d(58525),I=d(50308),k=d(21814),L=1/0,P=m&&1/k(new m([,-0]))[1]==L?function(T){return new m(T)}:I;ct.exports=P},99021:function(ct,S,d){var m=d(85564),I=d(45357),k=d(30061);function L(P){return k(I(P,void 0,m),P+"")}ct.exports=L},62689:function(ct){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",m="\\ufe20-\\ufe2f",I="\\u20d0-\\u20ff",k=d+m+I,L="\\ufe0e\\ufe0f",P="\\u200d",T=RegExp("["+P+S+k+L+"]");function M(A){return T.test(A)}ct.exports=M},37285:function(ct,S,d){var m=d(62705),I=d(35694),k=d(1469),L=m?m.isConcatSpreadable:void 0;function P(T){return k(T)||I(T)||!!(L&&T&&T[L])}ct.exports=P},42351:function(ct){function S(d,m,I){for(var k=I-1,L=d.length;++k<L;)if(d[k]===m)return k;return-1}ct.exports=S},88016:function(ct,S,d){var m=d(48983),I=d(62689),k=d(21903);function L(P){return I(P)?k(P):m(P)}ct.exports=L},21903:function(ct){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",m="\\ufe20-\\ufe2f",I="\\u20d0-\\u20ff",k=d+m+I,L="\\ufe0e\\ufe0f",P="["+S+"]",T="["+k+"]",M="\\ud83c[\\udffb-\\udfff]",A="(?:"+T+"|"+M+")",p="[^"+S+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=A+"?",E="["+L+"]?",O="(?:"+b+"(?:"+[p,w,y].join("|")+")"+E+x+")*",D=E+x+O,N="(?:"+[p+T+"?",T,w,y,P].join("|")+")",z=RegExp(M+"(?="+M+")|"+N+D,"g");function W(X){for(var j=z.lastIndex=0;z.test(X);)++j;return j}ct.exports=W},66678:function(ct,S,d){var m=d(85990),I=4;function k(L){return m(L,I)}ct.exports=k},91747:function(ct,S,d){var m=d(5976),I=d(77813),k=d(16612),L=d(81704),P=Object.prototype,T=P.hasOwnProperty,M=m(function(A,p){A=Object(A);var w=-1,y=p.length,b=y>2?p[2]:void 0;for(b&&k(p[0],p[1],b)&&(y=1);++w<y;)for(var x=p[w],E=L(x),O=-1,D=E.length;++O<D;){var N=E[O],z=A[N];(z===void 0||I(z,P[N])&&!T.call(A,N))&&(A[N]=x[N])}return A});ct.exports=M},63105:function(ct,S,d){var m=d(34963),I=d(80760),k=d(67206),L=d(1469);function P(T,M){var A=L(T)?m:I;return A(T,k(M,3))}ct.exports=P},13311:function(ct,S,d){var m=d(67740),I=d(30998),k=m(I);ct.exports=k},30998:function(ct,S,d){var m=d(41848),I=d(67206),k=d(40554),L=Math.max;function P(T,M,A){var p=T==null?0:T.length;if(!p)return-1;var w=A==null?0:k(A);return w<0&&(w=L(p+w,0)),m(T,I(M,3),w)}ct.exports=P},85564:function(ct,S,d){var m=d(21078);function I(k){var L=k==null?0:k.length;return L?m(k,1):[]}ct.exports=I},62620:function(ct,S,d){var m=d(28483),I=d(54290),k=d(81704);function L(P,T){return P==null?P:m(P,I(T),k)}ct.exports=L},18721:function(ct,S,d){var m=d(78565),I=d(222);function k(L,P){return L!=null&&I(L,P,m)}ct.exports=k},41609:function(ct,S,d){var m=d(280),I=d(64160),k=d(35694),L=d(1469),P=d(98612),T=d(44144),M=d(25726),A=d(36719),p="[object Map]",w="[object Set]",y=Object.prototype,b=y.hasOwnProperty;function x(E){if(E==null)return!0;if(P(E)&&(L(E)||typeof E=="string"||typeof E.splice=="function"||T(E)||A(E)||k(E)))return!E.length;var O=I(E);if(O==p||O==w)return!E.size;if(M(E))return!m(E).length;for(var D in E)if(b.call(E,D))return!1;return!0}ct.exports=x},52353:function(ct){function S(d){return d===void 0}ct.exports=S},10928:function(ct){function S(d){var m=d==null?0:d.length;return m?d[m-1]:void 0}ct.exports=S},66604:function(ct,S,d){var m=d(89465),I=d(47816),k=d(67206);function L(P,T){var M={};return T=k(T,3),I(P,function(A,p,w){m(M,p,T(A,p,w))}),M}ct.exports=L},6162:function(ct,S,d){var m=d(56029),I=d(53325),k=d(6557);function L(P){return P&&P.length?m(P,k,I):void 0}ct.exports=L},53632:function(ct,S,d){var m=d(56029),I=d(70433),k=d(6557);function L(P){return P&&P.length?m(P,k,I):void 0}ct.exports=L},22762:function(ct,S,d){var m=d(56029),I=d(67206),k=d(70433);function L(P,T){return P&&P.length?m(P,I(T,2),k):void 0}ct.exports=L},50308:function(ct){function S(){}ct.exports=S},78718:function(ct,S,d){var m=d(25970),I=d(99021),k=I(function(L,P){return L==null?{}:m(L,P)});ct.exports=k},96026:function(ct,S,d){var m=d(47445),I=m();ct.exports=I},54061:function(ct,S,d){var m=d(62663),I=d(89881),k=d(67206),L=d(10107),P=d(1469);function T(M,A,p){var w=P(M)?m:L,y=arguments.length<3;return w(M,k(A,4),p,y,I)}ct.exports=T},84238:function(ct,S,d){var m=d(280),I=d(64160),k=d(98612),L=d(47037),P=d(88016),T="[object Map]",M="[object Set]";function A(p){if(p==null)return 0;if(k(p))return L(p)?P(p):p.length;var w=I(p);return w==T||w==M?p.size:m(p).length}ct.exports=A},89734:function(ct,S,d){var m=d(21078),I=d(82689),k=d(5976),L=d(16612),P=k(function(T,M){if(T==null)return[];var A=M.length;return A>1&&L(T,M[0],M[1])?M=[]:A>2&&L(M[0],M[1],M[2])&&(M=[M[0]]),I(T,m(M,1),[])});ct.exports=P},18601:function(ct,S,d){var m=d(14841),I=1/0,k=17976931348623157e292;function L(P){if(!P)return P===0?P:0;if(P=m(P),P===I||P===-I){var T=P<0?-1:1;return T*k}return P===P?P:0}ct.exports=L},40554:function(ct,S,d){var m=d(18601);function I(k){var L=m(k),P=L%1;return L===L?P?L-P:L:0}ct.exports=I},68718:function(ct,S,d){var m=d(77412),I=d(3118),k=d(47816),L=d(67206),P=d(85924),T=d(1469),M=d(44144),A=d(23560),p=d(13218),w=d(36719);function y(b,x,E){var O=T(b),D=O||M(b)||w(b);if(x=L(x,4),E==null){var N=b&&b.constructor;D?E=O?new N:[]:p(b)?E=A(N)?I(P(b)):{}:E={}}return(D?m:k)(b,function(z,W,X){return x(E,z,W,X)}),E}ct.exports=y},93386:function(ct,S,d){var m=d(21078),I=d(5976),k=d(45652),L=d(29246),P=I(function(T){return k(m(T,1,L,!0))});ct.exports=P},73955:function(ct,S,d){var m=d(79833),I=0;function k(L){var P=++I;return m(L)+P}ct.exports=k},52628:function(ct,S,d){var m=d(47415),I=d(3674);function k(L){return L==null?[]:m(L,I(L))}ct.exports=k},7287:function(ct,S,d){var m=d(34865),I=d(1757);function k(L,P){return I(L||[],P||[],m)}ct.exports=k},86851:function(ct,S,d){"use strict";var m=d(89594),I=Array.prototype.concat,k=Array.prototype.slice,L=ct.exports=function(T){for(var M=[],A=0,p=T.length;A<p;A++){var w=T[A];m(w)?M=I.call(M,k.call(w)):M.push(w)}return M};L.wrap=function(P){return function(){return P(L(arguments))}}},89594:function(ct){ct.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},70655:function(ct,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return I},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return T},__metadata:function(){return M},__awaiter:function(){return A},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return b},__read:function(){return x},__spread:function(){return E},__spreadArrays:function(){return O},__spreadArray:function(){return D},__await:function(){return N},__asyncGenerator:function(){return z},__asyncDelegator:function(){return W},__asyncValues:function(){return X},__makeTemplateObject:function(){return j},__importStar:function(){return K},__importDefault:function(){return wt},__classPrivateFieldGet:function(){return ot},__classPrivateFieldSet:function(){return vt},__classPrivateFieldIn:function(){return et}});var m=function(lt,dt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(it,At){it.__proto__=At}||function(it,At){for(var mt in At)Object.prototype.hasOwnProperty.call(At,mt)&&(it[mt]=At[mt])},m(lt,dt)};function I(lt,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Class extends value "+String(dt)+" is not a constructor or null");m(lt,dt);function it(){this.constructor=lt}lt.prototype=dt===null?Object.create(dt):(it.prototype=dt.prototype,new it)}var k=function(){return k=Object.assign||function(dt){for(var it,At=1,mt=arguments.length;At<mt;At++){it=arguments[At];for(var U in it)Object.prototype.hasOwnProperty.call(it,U)&&(dt[U]=it[U])}return dt},k.apply(this,arguments)};function L(lt,dt){var it={};for(var At in lt)Object.prototype.hasOwnProperty.call(lt,At)&&dt.indexOf(At)<0&&(it[At]=lt[At]);if(lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,At=Object.getOwnPropertySymbols(lt);mt<At.length;mt++)dt.indexOf(At[mt])<0&&Object.prototype.propertyIsEnumerable.call(lt,At[mt])&&(it[At[mt]]=lt[At[mt]]);return it}function P(lt,dt,it,At){var mt=arguments.length,U=mt<3?dt:At===null?At=Object.getOwnPropertyDescriptor(dt,it):At,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(lt,dt,it,At);else for(var B=lt.length-1;B>=0;B--)(V=lt[B])&&(U=(mt<3?V(U):mt>3?V(dt,it,U):V(dt,it))||U);return mt>3&&U&&Object.defineProperty(dt,it,U),U}function T(lt,dt){return function(it,At){dt(it,At,lt)}}function M(lt,dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(lt,dt)}function A(lt,dt,it,At){function mt(U){return U instanceof it?U:new it(function(V){V(U)})}return new(it||(it=Promise))(function(U,V){function B(St){try{yt(At.next(St))}catch(Rt){V(Rt)}}function f(St){try{yt(At.throw(St))}catch(Rt){V(Rt)}}function yt(St){St.done?U(St.value):mt(St.value).then(B,f)}yt((At=At.apply(lt,dt||[])).next())})}function p(lt,dt){var it={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},At,mt,U,V;return V={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function B(yt){return function(St){return f([yt,St])}}function f(yt){if(At)throw new TypeError("Generator is already executing.");for(;it;)try{if(At=1,mt&&(U=yt[0]&2?mt.return:yt[0]?mt.throw||((U=mt.return)&&U.call(mt),0):mt.next)&&!(U=U.call(mt,yt[1])).done)return U;switch(mt=0,U&&(yt=[yt[0]&2,U.value]),yt[0]){case 0:case 1:U=yt;break;case 4:return it.label++,{value:yt[1],done:!1};case 5:it.label++,mt=yt[1],yt=[0];continue;case 7:yt=it.ops.pop(),it.trys.pop();continue;default:if(U=it.trys,!(U=U.length>0&&U[U.length-1])&&(yt[0]===6||yt[0]===2)){it=0;continue}if(yt[0]===3&&(!U||yt[1]>U[0]&&yt[1]<U[3])){it.label=yt[1];break}if(yt[0]===6&&it.label<U[1]){it.label=U[1],U=yt;break}if(U&&it.label<U[2]){it.label=U[2],it.ops.push(yt);break}U[2]&&it.ops.pop(),it.trys.pop();continue}yt=dt.call(lt,it)}catch(St){yt=[6,St],mt=0}finally{At=U=0}if(yt[0]&5)throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}}var w=Object.create?function(lt,dt,it,At){At===void 0&&(At=it);var mt=Object.getOwnPropertyDescriptor(dt,it);(!mt||("get"in mt?!dt.__esModule:mt.writable||mt.configurable))&&(mt={enumerable:!0,get:function(){return dt[it]}}),Object.defineProperty(lt,At,mt)}:function(lt,dt,it,At){At===void 0&&(At=it),lt[At]=dt[it]};function y(lt,dt){for(var it in lt)it!=="default"&&!Object.prototype.hasOwnProperty.call(dt,it)&&w(dt,lt,it)}function b(lt){var dt=typeof Symbol=="function"&&Symbol.iterator,it=dt&&lt[dt],At=0;if(it)return it.call(lt);if(lt&&typeof lt.length=="number")return{next:function(){return lt&&At>=lt.length&&(lt=void 0),{value:lt&&lt[At++],done:!lt}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(lt,dt){var it=typeof Symbol=="function"&&lt[Symbol.iterator];if(!it)return lt;var At=it.call(lt),mt,U=[],V;try{for(;(dt===void 0||dt-- >0)&&!(mt=At.next()).done;)U.push(mt.value)}catch(B){V={error:B}}finally{try{mt&&!mt.done&&(it=At.return)&&it.call(At)}finally{if(V)throw V.error}}return U}function E(){for(var lt=[],dt=0;dt<arguments.length;dt++)lt=lt.concat(x(arguments[dt]));return lt}function O(){for(var lt=0,dt=0,it=arguments.length;dt<it;dt++)lt+=arguments[dt].length;for(var At=Array(lt),mt=0,dt=0;dt<it;dt++)for(var U=arguments[dt],V=0,B=U.length;V<B;V++,mt++)At[mt]=U[V];return At}function D(lt,dt,it){if(it||arguments.length===2)for(var At=0,mt=dt.length,U;At<mt;At++)(U||!(At in dt))&&(U||(U=Array.prototype.slice.call(dt,0,At)),U[At]=dt[At]);return lt.concat(U||Array.prototype.slice.call(dt))}function N(lt){return this instanceof N?(this.v=lt,this):new N(lt)}function z(lt,dt,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=it.apply(lt,dt||[]),mt,U=[];return mt={},V("next"),V("throw"),V("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function V(Qt){At[Qt]&&(mt[Qt]=function(zt){return new Promise(function($t,ne){U.push([Qt,zt,$t,ne])>1||B(Qt,zt)})})}function B(Qt,zt){try{f(At[Qt](zt))}catch($t){Rt(U[0][3],$t)}}function f(Qt){Qt.value instanceof N?Promise.resolve(Qt.value.v).then(yt,St):Rt(U[0][2],Qt)}function yt(Qt){B("next",Qt)}function St(Qt){B("throw",Qt)}function Rt(Qt,zt){Qt(zt),U.shift(),U.length&&B(U[0][0],U[0][1])}}function W(lt){var dt,it;return dt={},At("next"),At("throw",function(mt){throw mt}),At("return"),dt[Symbol.iterator]=function(){return this},dt;function At(mt,U){dt[mt]=lt[mt]?function(V){return(it=!it)?{value:N(lt[mt](V)),done:mt==="return"}:U?U(V):V}:U}}function X(lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt=lt[Symbol.asyncIterator],it;return dt?dt.call(lt):(lt=typeof b=="function"?b(lt):lt[Symbol.iterator](),it={},At("next"),At("throw"),At("return"),it[Symbol.asyncIterator]=function(){return this},it);function At(U){it[U]=lt[U]&&function(V){return new Promise(function(B,f){V=lt[U](V),mt(B,f,V.done,V.value)})}}function mt(U,V,B,f){Promise.resolve(f).then(function(yt){U({value:yt,done:B})},V)}}function j(lt,dt){return Object.defineProperty?Object.defineProperty(lt,"raw",{value:dt}):lt.raw=dt,lt}var tt=Object.create?function(lt,dt){Object.defineProperty(lt,"default",{enumerable:!0,value:dt})}:function(lt,dt){lt.default=dt};function K(lt){if(lt&&lt.__esModule)return lt;var dt={};if(lt!=null)for(var it in lt)it!=="default"&&Object.prototype.hasOwnProperty.call(lt,it)&&w(dt,lt,it);return tt(dt,lt),dt}function wt(lt){return lt&&lt.__esModule?lt:{default:lt}}function ot(lt,dt,it,At){if(it==="a"&&!At)throw new TypeError("Private accessor was defined without a getter");if(typeof dt=="function"?lt!==dt||!At:!dt.has(lt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return it==="m"?At:it==="a"?At.call(lt):At?At.value:dt.get(lt)}function vt(lt,dt,it,At,mt){if(At==="m")throw new TypeError("Private method is not writable");if(At==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof dt=="function"?lt!==dt||!mt:!dt.has(lt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return At==="a"?mt.call(lt,it):mt?mt.value=it:dt.set(lt,it),it}function et(lt,dt){if(dt===null||typeof dt!="object"&&typeof dt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof lt=="function"?dt===lt:lt.has(dt)}},91496:function(ct){typeof Object.create=="function"?ct.exports=function(d,m){d.super_=m,d.prototype=Object.create(m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:ct.exports=function(d,m){d.super_=m;var I=function(){};I.prototype=m.prototype,d.prototype=new I,d.prototype.constructor=d}},20384:function(ct){ct.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(ct,S,d){var m=d(34155),I=Object.getOwnPropertyDescriptors||function(Rt){for(var Qt=Object.keys(Rt),zt={},$t=0;$t<Qt.length;$t++)zt[Qt[$t]]=Object.getOwnPropertyDescriptor(Rt,Qt[$t]);return zt},k=/%[sdj%]/g;S.format=function(St){if(!j(St)){for(var Rt=[],Qt=0;Qt<arguments.length;Qt++)Rt.push(T(arguments[Qt]));return Rt.join(" ")}for(var Qt=1,zt=arguments,$t=zt.length,ne=String(St).replace(k,function(Wt){if(Wt==="%%")return"%";if(Qt>=$t)return Wt;switch(Wt){case"%s":return String(zt[Qt++]);case"%d":return Number(zt[Qt++]);case"%j":try{return JSON.stringify(zt[Qt++])}catch(It){return"[Circular]"}default:return Wt}}),ae=zt[Qt];Qt<$t;ae=zt[++Qt])z(ae)||!ot(ae)?ne+=" "+ae:ne+=" "+T(ae);return ne},S.deprecate=function(St,Rt){if(typeof m!="undefined"&&m.noDeprecation===!0)return St;if(typeof m=="undefined")return function(){return S.deprecate(St,Rt).apply(this,arguments)};var Qt=!1;function zt(){if(!Qt){if(m.throwDeprecation)throw new Error(Rt);m.traceDeprecation?console.trace(Rt):console.error(Rt),Qt=!0}return St.apply(this,arguments)}return zt};var L={},P;S.debuglog=function(St){if(K(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),St=St.toUpperCase(),!L[St])if(new RegExp("\\b"+St+"\\b","i").test(P)){var Rt=m.pid;L[St]=function(){var Qt=S.format.apply(S,arguments);console.error("%s %d: %s",St,Rt,Qt)}}else L[St]=function(){};return L[St]};function T(St,Rt){var Qt={seen:[],stylize:A};return arguments.length>=3&&(Qt.depth=arguments[2]),arguments.length>=4&&(Qt.colors=arguments[3]),N(Rt)?Qt.showHidden=Rt:Rt&&S._extend(Qt,Rt),K(Qt.showHidden)&&(Qt.showHidden=!1),K(Qt.depth)&&(Qt.depth=2),K(Qt.colors)&&(Qt.colors=!1),K(Qt.customInspect)&&(Qt.customInspect=!0),Qt.colors&&(Qt.stylize=M),w(Qt,St,Qt.depth)}S.inspect=T,T.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},T.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function M(St,Rt){var Qt=T.styles[Rt];return Qt?"["+T.colors[Qt][0]+"m"+St+"["+T.colors[Qt][1]+"m":St}function A(St,Rt){return St}function p(St){var Rt={};return St.forEach(function(Qt,zt){Rt[Qt]=!0}),Rt}function w(St,Rt,Qt){if(St.customInspect&&Rt&&lt(Rt.inspect)&&Rt.inspect!==S.inspect&&!(Rt.constructor&&Rt.constructor.prototype===Rt)){var zt=Rt.inspect(Qt,St);return j(zt)||(zt=w(St,zt,Qt)),zt}var $t=y(St,Rt);if($t)return $t;var ne=Object.keys(Rt),ae=p(ne);if(St.showHidden&&(ne=Object.getOwnPropertyNames(Rt)),et(Rt)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return b(Rt);if(ne.length===0){if(lt(Rt)){var Wt=Rt.name?": "+Rt.name:"";return St.stylize("[Function"+Wt+"]","special")}if(wt(Rt))return St.stylize(RegExp.prototype.toString.call(Rt),"regexp");if(vt(Rt))return St.stylize(Date.prototype.toString.call(Rt),"date");if(et(Rt))return b(Rt)}var It="",Ct=!1,ht=["{","}"];if(D(Rt)&&(Ct=!0,ht=["[","]"]),lt(Rt)){var Et=Rt.name?": "+Rt.name:"";It=" [Function"+Et+"]"}if(wt(Rt)&&(It=" "+RegExp.prototype.toString.call(Rt)),vt(Rt)&&(It=" "+Date.prototype.toUTCString.call(Rt)),et(Rt)&&(It=" "+b(Rt)),ne.length===0&&(!Ct||Rt.length==0))return ht[0]+It+ht[1];if(Qt<0)return wt(Rt)?St.stylize(RegExp.prototype.toString.call(Rt),"regexp"):St.stylize("[Object]","special");St.seen.push(Rt);var at;return Ct?at=x(St,Rt,Qt,ae,ne):at=ne.map(function(Q){return E(St,Rt,Qt,ae,Q,Ct)}),St.seen.pop(),O(at,It,ht)}function y(St,Rt){if(K(Rt))return St.stylize("undefined","undefined");if(j(Rt)){var Qt="'"+JSON.stringify(Rt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return St.stylize(Qt,"string")}if(X(Rt))return St.stylize(""+Rt,"number");if(N(Rt))return St.stylize(""+Rt,"boolean");if(z(Rt))return St.stylize("null","null")}function b(St){return"["+Error.prototype.toString.call(St)+"]"}function x(St,Rt,Qt,zt,$t){for(var ne=[],ae=0,Wt=Rt.length;ae<Wt;++ae)V(Rt,String(ae))?ne.push(E(St,Rt,Qt,zt,String(ae),!0)):ne.push("");return $t.forEach(function(It){It.match(/^\d+$/)||ne.push(E(St,Rt,Qt,zt,It,!0))}),ne}function E(St,Rt,Qt,zt,$t,ne){var ae,Wt,It;if(It=Object.getOwnPropertyDescriptor(Rt,$t)||{value:Rt[$t]},It.get?It.set?Wt=St.stylize("[Getter/Setter]","special"):Wt=St.stylize("[Getter]","special"):It.set&&(Wt=St.stylize("[Setter]","special")),V(zt,$t)||(ae="["+$t+"]"),Wt||(St.seen.indexOf(It.value)<0?(z(Qt)?Wt=w(St,It.value,null):Wt=w(St,It.value,Qt-1),Wt.indexOf(`
`)>-1&&(ne?Wt=Wt.split(`
`).map(function(Ct){return"  "+Ct}).join(`
`).substr(2):Wt=`
`+Wt.split(`
`).map(function(Ct){return"   "+Ct}).join(`
`))):Wt=St.stylize("[Circular]","special")),K(ae)){if(ne&&$t.match(/^\d+$/))return Wt;ae=JSON.stringify(""+$t),ae.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ae=ae.substr(1,ae.length-2),ae=St.stylize(ae,"name")):(ae=ae.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ae=St.stylize(ae,"string"))}return ae+": "+Wt}function O(St,Rt,Qt){var zt=0,$t=St.reduce(function(ne,ae){return zt++,ae.indexOf(`
`)>=0&&zt++,ne+ae.replace(/\u001b\[\d\d?m/g,"").length+1},0);return $t>60?Qt[0]+(Rt===""?"":Rt+`
 `)+" "+St.join(`,
  `)+" "+Qt[1]:Qt[0]+Rt+" "+St.join(", ")+" "+Qt[1]}function D(St){return Array.isArray(St)}S.isArray=D;function N(St){return typeof St=="boolean"}S.isBoolean=N;function z(St){return St===null}S.isNull=z;function W(St){return St==null}S.isNullOrUndefined=W;function X(St){return typeof St=="number"}S.isNumber=X;function j(St){return typeof St=="string"}S.isString=j;function tt(St){return typeof St=="symbol"}S.isSymbol=tt;function K(St){return St===void 0}S.isUndefined=K;function wt(St){return ot(St)&&it(St)==="[object RegExp]"}S.isRegExp=wt;function ot(St){return typeof St=="object"&&St!==null}S.isObject=ot;function vt(St){return ot(St)&&it(St)==="[object Date]"}S.isDate=vt;function et(St){return ot(St)&&(it(St)==="[object Error]"||St instanceof Error)}S.isError=et;function lt(St){return typeof St=="function"}S.isFunction=lt;function dt(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||typeof St=="undefined"}S.isPrimitive=dt,S.isBuffer=d(20384);function it(St){return Object.prototype.toString.call(St)}function At(St){return St<10?"0"+St.toString(10):St.toString(10)}var mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var St=new Date,Rt=[At(St.getHours()),At(St.getMinutes()),At(St.getSeconds())].join(":");return[St.getDate(),mt[St.getMonth()],Rt].join(" ")}S.log=function(){console.log("%s - %s",U(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(St,Rt){if(!Rt||!ot(Rt))return St;for(var Qt=Object.keys(Rt),zt=Qt.length;zt--;)St[Qt[zt]]=Rt[Qt[zt]];return St};function V(St,Rt){return Object.prototype.hasOwnProperty.call(St,Rt)}var B=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(Rt){if(typeof Rt!="function")throw new TypeError('The "original" argument must be of type Function');if(B&&Rt[B]){var Qt=Rt[B];if(typeof Qt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Qt,B,{value:Qt,enumerable:!1,writable:!1,configurable:!0}),Qt}function Qt(){for(var zt,$t,ne=new Promise(function(It,Ct){zt=It,$t=Ct}),ae=[],Wt=0;Wt<arguments.length;Wt++)ae.push(arguments[Wt]);ae.push(function(It,Ct){It?$t(It):zt(Ct)});try{Rt.apply(this,ae)}catch(It){$t(It)}return ne}return Object.setPrototypeOf(Qt,Object.getPrototypeOf(Rt)),B&&Object.defineProperty(Qt,B,{value:Qt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Qt,I(Rt))},S.promisify.custom=B;function f(St,Rt){if(!St){var Qt=new Error("Promise was rejected with a falsy value");Qt.reason=St,St=Qt}return Rt(St)}function yt(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');function Rt(){for(var Qt=[],zt=0;zt<arguments.length;zt++)Qt.push(arguments[zt]);var $t=Qt.pop();if(typeof $t!="function")throw new TypeError("The last argument must be of type Function");var ne=this,ae=function(){return $t.apply(ne,arguments)};St.apply(this,Qt).then(function(Wt){m.nextTick(ae,null,Wt)},function(Wt){m.nextTick(f,Wt,ae)})}return Object.setPrototypeOf(Rt,Object.getPrototypeOf(St)),Object.defineProperties(Rt,I(St)),Rt}S.callbackify=yt}}]);

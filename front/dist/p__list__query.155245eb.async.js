(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2741],{34785:function(Ot){Ot.exports={main:"main___31kpQ",headerList:"headerList___2mK7o",stepDescription:"stepDescription___15qRg",pageHeader:"pageHeader___3Ha2b",moreInfo:"moreInfo___2mXTE"}},14615:function(Ot,Rt,l){"use strict";l.r(Rt),l.d(Rt,{default:function(){return Dr}});var An=l(58024),ka=l(39144),Hn=l(66456),nt=l(24030),$n=l(59250),Ea=l(13013),zn=l(30887),lt=l(28682),Vn=l(22385),Fa=l(94199),Gn=l(57663),he=l(71577),Ln=l(62350),Pt=l(75443),Qn=l(74379),re=l(38648),ee=l(3182),Un=l(34792),Oa=l(48086),Wn=l(77883),It=l(47519),m=l(11849),Yn=l(48736),_=l(27049),Bn=l(9715),Se=l(86835),Ra=l(32059),x=l(2824),Kn=l(43358),it=l(34041),Pa=l(94043),E=l.n(Pa),Ia=l(3682),Da=l(95357),Na=l(1977),Dt=l(73218),Nt=l(92104),At=l(47760),Ht=l(29934),Aa=l(1870),Ha=l(44545),$a=l(20924),za=l(65233),Va=l(64335),Ga=l(75362),La=l(21349),v=l(67294),ae=l(21010);function Jn(){return st.apply(this,arguments)}function st(){return st=_asyncToGenerator(_regeneratorRuntime.mark(function s(){return _regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/profile/advanced"));case 1:case"end":return r.stop()}},s)})),st.apply(this,arguments)}var Pe=l(91896);function Xn(s,t){return ut.apply(this,arguments)}function ut(){return ut=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/all",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),ut.apply(this,arguments)}function $t(s,t){return ot.apply(this,arguments)}function ot(){return ot=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/all",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),ot.apply(this,arguments)}function _n(s,t){return ct.apply(this,arguments)}function ct(){return ct=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/deleteThenReturnAll",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),ct.apply(this,arguments)}function Qa(s,t){return dt.apply(this,arguments)}function dt(){return dt=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/deleteThenReturnAll",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),dt.apply(this,arguments)}function el(s,t){return mt.apply(this,arguments)}function mt(){return mt=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/exportCsv",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),mt.apply(this,arguments)}function tl(s,t){return ft.apply(this,arguments)}function ft(){return ft=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/exportCsv",_objectSpread({method:"POST",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),ft.apply(this,arguments)}function al(s,t,r,i){return vt.apply(this,arguments)}function vt(){return vt=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r,i,y){var n,F;return _regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n=_extends({},t),F=new FormData,i&&F.append("Filedata",i[0]||""),Object.keys(r).forEach(function(T){var h=r[T];h!=null&&F.append(T,typeof h=="object"?JSON.stringify(h):h)}),p.abrupt("return",request("/api/query/importCsv",_objectSpread({method:"POST",headers:{"Content-Type":"multipart/form-data"},params:_objectSpread({},n),data:F},y||{})));case 5:case"end":return p.stop()}},s)})),vt.apply(this,arguments)}function rl(s,t){return pt.apply(this,arguments)}function pt(){return pt=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/querySql",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),pt.apply(this,arguments)}function Ua(s,t){return ht.apply(this,arguments)}function ht(){return ht=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/querySql",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),ht.apply(this,arguments)}function nl(s,t){return yt.apply(this,arguments)}function yt(){return yt=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/querySqlAppend",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),yt.apply(this,arguments)}function Wa(s,t){return gt.apply(this,arguments)}function gt(){return gt=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/querySqlAppend",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),gt.apply(this,arguments)}function ll(s,t){return xt.apply(this,arguments)}function xt(){return xt=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/save",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),xt.apply(this,arguments)}function Ya(s,t){return bt.apply(this,arguments)}function bt(){return bt=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/save",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),bt.apply(this,arguments)}function il(s,t){return St.apply(this,arguments)}function St(){return St=_asyncToGenerator(_regeneratorRuntime.mark(function s(t,r){var i;return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=_extends({},t),n.abrupt("return",request("/api/query/updatePoint",_objectSpread({method:"GET",params:_objectSpread({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),St.apply(this,arguments)}function Ba(s,t){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,ee.Z)(E().mark(function s(t,r){var i;return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,Pe.Z)({},t),n.abrupt("return",(0,ae.WY)("/api/query/updatePoint",(0,m.Z)({method:"POST",params:(0,m.Z)({},i)},r||{})));case 2:case"end":return n.stop()}},s)})),Zt.apply(this,arguments)}var Ka=l(34785),Ze=l.n(Ka);function Ja(s,t,r){r!=null&&(s==null||s.code!="0")?r.error({message:s.message}):t(s)}function Xa(s,t){var r=URL.createObjectURL(new Blob([s])),i=document.createElement("a");i.style.display="none",i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}function _a(s){var t=document.createElement("a");t.style.display="none",t.href=s,document.body.appendChild(t),t.click(),document.body.removeChild(t)}var ze={dealCallback:Ja,download:Xa,download2:_a},ke=l(86582),sl=l(49111),er=l(19650),ul=l(47673),ve=l(4107),Ve=l(37476),tr=l(59879),zt=l(43061),ar=l(30381),Tt=l.n(ar),e=l(85893),rr=ve.Z.Search,ol=ve.Z.TextArea,nr=function(t){var r=(0,ae.YB)(),i=t.done,y=t.visible,n=t.content,F=t.setContent,M=t.querySql,p=t.activeQueryTabkey,T=t.setQuerySql,h=t.setVisible,a=(0,ae.tT)("@@initialState"),C=a.initialState,O=a.setInitialState,L=(0,v.useState)(void 0),k=(0,x.Z)(L,2),b=k[0],N=k[1],I=it.Z.Option,D=Se.Z.useForm(),W=(0,x.Z)(D,1),z=W[0],K=(0,ae.QT)((0,ee.Z)(E().mark(function f(){return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:case"end":return g.stop()}},f)}))),te=K.data,ne=K.loading,R=K.mutate,u=function(){var f=(0,ee.Z)(E().mark(function o(g,w,G){var Y;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,$t({pageSize:10,pageNum:g,nameLike:G,umi_locale:localStorage.getItem("umi_locale")});case 2:Y=U.sent,ze.dealCallback(Y,function(A){var X=0;A.data.pageItems.map(function(le){le.key=X++}),F(A.data)},re.default);case 4:case"end":return U.stop()}},o)}));return function(g,w,G){return f.apply(this,arguments)}}(),Z=function(){var f=(0,ee.Z)(E().mark(function o(g){var w;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Qa({queryId:g.id,pageSize:10,pageNum:1,nameLike:b,umi_locale:localStorage.getItem("umi_locale")});case 2:w=Y.sent,ze.dealCallback(w,function(Q){var U=0;Q.data.pageItems.map(function(A){A.key=U++}),F(Q.data)},re.default);case 4:case"end":return Y.stop()}},o)}));return function(g){return f.apply(this,arguments)}}(),c=[{title:r.formatMessage({id:"query.sql.script.name"}),dataIndex:"name",key:"name",width:"20%",render:function(o){return(0,e.jsx)("div",{children:o})}},{title:"SQL",dataIndex:"sqls",key:"sqls",width:"45%",render:function(o){return(0,e.jsx)("div",{style:{width:400},children:o})}},{title:r.formatMessage({id:"query.sql.script.createTime"}),dataIndex:"createTime",key:"createTime",width:"20%",render:function(o){return(0,e.jsx)(e.Fragment,{children:Tt()(parseInt(o)).format("YYYY-MM-DD HH:mm")})}},{title:r.formatMessage({id:"pages.operation.text"}),key:"action",render:function(o,g){return(0,e.jsxs)(er.Z,{size:"middle",children:[(0,e.jsx)("a",{onClick:function(G){M[p]=g.sqls,T((0,m.Z)({},M)),h(!1)},children:r.formatMessage({id:"pages.use.text"})}),(0,e.jsx)(Pt.Z,{placement:"left",title:g.name+" -- "+r.formatMessage({id:"pages.delete.confirm"}),onConfirm:function(G){return Z(g,G)},children:(0,e.jsx)("a",{children:r.formatMessage({id:"pages.delete.text"})})})]})}}];return y?(0,e.jsx)(Ve.Y,{visible:y,width:1e3,form:z,title:r.formatMessage({id:"query.sql.script.view"}),className:Ze().standardListForm,initialValues:n.pageItems,submitter:{submitButtonProps:{style:{display:"none"}},render:function(o,g){return(0,ke.Z)(g)}},modalProps:{onCancel:function(){return h(!1)},destroyOnClose:!0,bodyStyle:i?{padding:"72px 0"}:{}},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{textAlign:"right",marginBottom:"10px",marginTop:"-10px"},children:(0,e.jsxs)(he.Z.Group,{children:[(0,e.jsxs)(he.Z,{value:"all",onClick:function(){N(null),u(1,10)},children:[(0,e.jsx)(tr.Z,{}),r.formatMessage({id:"pages.refresh.text"})]}),(0,e.jsx)(rr,{style:{width:"190px"},placeholder:r.formatMessage({id:"pages.refresh.placeholder"}),onSearch:function(o){u(1,10,o)},onChange:function(o){N(o.target.value)},value:b,suffix:b==null||b==""?(0,e.jsx)(zt.Z,{style:{display:"none"}}):(0,e.jsx)(zt.Z,{style:{color:"rgba(0,0,0,.45)"},onClick:function(){N(null)}})})]})}),(0,e.jsx)(nt.Z,{columns:c,dataSource:n.pageItems,pagination:{showSizeChanger:!1,showQuickJumper:!0,pageSize:10,current:n==null?1:n.pageNo,total:n==null?1:n.totalCount,onChange:function(o,g){u(o,g,b)}}})]})}):null},lr=nr,Te=l(5966),cl=ve.Z.Search,dl=ve.Z.TextArea,ir=function(t){var r=(0,ae.YB)(),i=t.done,y=t.visible,n=t.setVisible,F=t.querySql,M=t.activeQueryTabkey,p=Se.Z.useForm(),T=(0,x.Z)(p,1),h=T[0],a=(0,ae.QT)((0,ee.Z)(E().mark(function b(){return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:case"end":return I.stop()}},b)}))),C=a.data,O=a.loading,L=a.mutate,k=function(){var b=(0,ee.Z)(E().mark(function N(I){var D;return E().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,Ya({sqls:F[M],name:I,umi_locale:localStorage.getItem("umi_locale")});case 2:D=z.sent,ze.dealCallback(D,function(K){re.default.success({message:r.formatMessage({id:"query.sql.script.save.success"})+" "+I}),n(!1)},re.default);case 4:case"end":return z.stop()}},N)}));return function(I){return b.apply(this,arguments)}}();return y?(0,e.jsx)(Ve.Y,{visible:y,form:h,title:r.formatMessage({id:"query.sql.script.create"}),className:Ze().standardListForm,submitter:{render:function(N,I){return(0,ke.Z)(I)}},onFinish:function(N){k(N.name)},modalProps:{onCancel:function(){return n(!1)},destroyOnClose:!0,bodyStyle:i?{padding:"72px 0"}:{}},children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.sql.script.name"}),rules:[{required:!0}]})}):null},sr=ir,ml=l(13062),Ie=l(71230),fl=l(89032),ue=l(15746),vl=ve.Z.Search,pl=ve.Z.TextArea,ur=function(t){var r=(0,ae.YB)(),i=t.done,y=t.visible,n=t.setVisible,F=t.columnName,M=t.setColumnName,p=t.quantity,T=t.average,h=t.max,a=t.min,C=t.variance,O=t.standardDeviation,L=Se.Z.useForm(),k=(0,x.Z)(L,1),b=k[0];return y?(0,e.jsxs)(Ve.Y,{visible:y,form:b,title:r.formatMessage({id:"query.result.dataExplore"})+" -- "+F,className:Ze().standardListForm,column:2,submitter:{submitButtonProps:{style:{display:"none"}},render:function(I,D){return(0,ke.Z)(D)}},modalProps:{onCancel:function(){n(!1)},destroyOnClose:!0,bodyStyle:i?{padding:"72px 0"}:{}},children:[(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.quantity"}),value:p,placeholder:"",fieldProps:{readOnly:"readOnly"}})}),(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.average"}),value:T,disabled:!!window.isNaN(T),placeholder:"",fieldProps:{readOnly:"readOnly"}})})]}),(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.max"})+(window.isNaN(h.value)?"":" -- "+r.formatMessage({id:"query.result.dataExplore.firstAppearedIn"})+" Time = "+h.time),value:h.value,disabled:!!window.isNaN(h.value),placeholder:"",fieldProps:{readOnly:"readOnly"}})}),(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.min"})+(window.isNaN(a.value)?"":" -- "+r.formatMessage({id:"query.result.dataExplore.firstAppearedIn"})+" Time = "+a.time),value:a.value,disabled:!!window.isNaN(a.value),placeholder:"",fieldProps:{readOnly:"readOnly"}})})]}),(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.variance"}),value:C,disabled:!!window.isNaN(C),placeholder:"",fieldProps:{readOnly:"readOnly"}})}),(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.result.dataExplore.standardDeviation"}),value:O,disabled:!!window.isNaN(O),placeholder:"",fieldProps:{readOnly:"readOnly"}})})]})]}):null},or=ur,jt=l(86615),Vt=l(64317),Gt=l(29656),cr=l(4631),dr=l.n(cr);(function(s){typeof exports=="object"?s(l(4631)):typeof define=="function"&&l.amdO?define(["../../../node_modules/codemirror/lib/codemirror"],s):s(dr())})(function(s){"use strict";s.defineMode("iotdb-sql",function(p,T){var h=T.client||{},a=T.atoms||{false:!0,true:!0,null:!0},C=T.builtin||F(M),O=T.keywords||F(n),L=T.operatorChars||/^[*+\-%<>!=&|~^\/]/,k=T.support||{},b=T.hooks||{},N=T.dateSQL||{date:!0,time:!0,timestamp:!0},I=T.backslashStringEscapes!==!1,D=T.brackets||/^[\{}\(\)\[\]]/,W=T.punctuation||/^[;.,:]/;function z(u,Z){var c=u.next();if(b[c]){var f=b[c](u,Z);if(f!==!1)return f}if(k.hexNumber&&(c=="0"&&u.match(/^[xX][0-9a-fA-F]+/)||(c=="x"||c=="X")&&u.match(/^'[0-9a-fA-F]+'/)))return"number";if(k.binaryNumber&&((c=="b"||c=="B")&&u.match(/^'[01]+'/)||c=="0"&&u.match(/^b[01]+/)))return"number";if(c.charCodeAt(0)>47&&c.charCodeAt(0)<58)return u.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),k.decimallessFloat&&u.match(/^\.(?!\.)/),"number";if(c=="?"&&(u.eatSpace()||u.eol()||u.eat(";")))return"variable-3";if(c=="'"||c=='"'&&k.doubleQuote)return Z.tokenize=K(c),Z.tokenize(u,Z);if((k.nCharCast&&(c=="n"||c=="N")||k.charsetCast&&c=="_"&&u.match(/[a-z][a-z0-9]*/i))&&(u.peek()=="'"||u.peek()=='"'))return"keyword";if(k.escapeConstant&&(c=="e"||c=="E")&&(u.peek()=="'"||u.peek()=='"'&&k.doubleQuote))return Z.tokenize=function(g,w){return(w.tokenize=K(g.next(),!0))(g,w)},"keyword";if(k.commentSlashSlash&&c=="/"&&u.eat("/"))return u.skipToEnd(),"comment";if(k.commentHash&&c=="#"||c=="-"&&u.eat("-")&&(!k.commentSpaceRequired||u.eat(" ")))return u.skipToEnd(),"comment";if(c=="/"&&u.eat("*"))return Z.tokenize=te(1),Z.tokenize(u,Z);if(c=="."){if(k.zerolessFloat&&u.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(u.match(/^\.+/))return null;if(k.ODBCdotTable&&u.match(/^[\w\d_$#]+/))return"variable-2"}else{if(L.test(c))return u.eatWhile(L),"operator";if(D.test(c))return"bracket";if(W.test(c))return u.eatWhile(W),"punctuation";if(c=="{"&&(u.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||u.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";u.eatWhile(/^[_\w\d]/);var o=u.current().toLowerCase();return N.hasOwnProperty(o)&&(u.match(/^( )+'[^']*'/)||u.match(/^( )+"[^"]*"/))?"number":a.hasOwnProperty(o)?"atom":C.hasOwnProperty(o)?"builtin":O.hasOwnProperty(o)?"keyword":h.hasOwnProperty(o)?"string-2":null}}function K(u,Z){return function(c,f){for(var o=!1,g;(g=c.next())!=null;){if(g==u&&!o){f.tokenize=z;break}o=(I||Z)&&!o&&g=="\\"}return"string"}}function te(u){return function(Z,c){var f=Z.match(/^.*?(\/\*|\*\/)/);return f?f[1]=="/*"?c.tokenize=te(u+1):u>1?c.tokenize=te(u-1):c.tokenize=z:Z.skipToEnd(),"comment"}}function ne(u,Z,c){Z.context={prev:Z.context,indent:u.indentation(),col:u.column(),type:c}}function R(u){u.indent=u.context.indent,u.context=u.context.prev}return{startState:function(){return{tokenize:z,context:null}},token:function(Z,c){if(Z.sol()&&c.context&&c.context.align==null&&(c.context.align=!1),c.tokenize==z&&Z.eatSpace())return null;var f=c.tokenize(Z,c);if(f=="comment")return f;c.context&&c.context.align==null&&(c.context.align=!0);var o=Z.current();return o=="("?ne(Z,c,")"):o=="["?ne(Z,c,"]"):c.context&&c.context.type==o&&R(c),f},indent:function(Z,c){var f=Z.context;if(!f)return s.Pass;var o=c.charAt(0)==f.type;return f.align?f.col+(o?0:1):f.indent+(o?0:p.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:k.commentSlashSlash?"//":k.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});function t(p){for(var T;(T=p.next())!=null;)if(T=="`"&&!p.eat("`"))return"variable-2";return p.backUp(p.current().length-1),p.eatWhile(/\w/)?"variable-2":null}function r(p){for(var T;(T=p.next())!=null;)if(T=='"'&&!p.eat('"'))return"variable-2";return p.backUp(p.current().length-1),p.eatWhile(/\w/)?"variable-2":null}function i(p){return p.eat("@")&&(p.match("session."),p.match("local."),p.match("global.")),p.eat("'")?(p.match(/^.*'/),"variable-2"):p.eat('"')?(p.match(/^.*"/),"variable-2"):p.eat("`")?(p.match(/^.*`/),"variable-2"):p.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function y(p){return p.eat("N")?"atom":p.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var n="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function F(p){for(var T={},h=p.split(" "),a=0;a<h.length;++a)T[h[a]]=!0;return T}var M="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";s.defineMIME("text/iotdb-sql",{name:"sql",keywords:F("non_negative_derivative derivative non_negative_difference difference time_difference bottom_k top_k string_matches string_contains abs sqrt log10 ln exp round floor ceil sign radians degrees atan acos asin tan cos sin int32 int64 float double boolean text false true null time timestamp lock any without debug explain tolerance like concat contain top asc desc stop start after before triggers trigger as functions function temporary schema for snapshot partition latest cache clear full global rename tags attributes compression align disable last last_value sum first_value avg max_value min_value max_time min_time level nodes count devices paths child move remove version info task flush ttl unset watermark_embedding load revoke password alter of all role privileges user list merge drop off on tracing using index link now values alias upsert add bitmap encoding insert create update delete select show query kill processlist grant into set where from to order by device configuration describe slimit limit unlink offset soffset fill linear previous previousuntillast metadata timeseries property with datatype compressor storage group label and or not comtains nan aligned append autoregister plain dictionary rle diff ts_2diff gorilla regular zigzag freq gzip lz4 snappy uncompressed begin boundary continuous cq cqs end every explain pipe pipes pipeserver pipesink pipesinks pipesinktype prune queries readonly regexp resample resource settle sglevel system template templates unload verify writable"),builtin:F("root now non_negative_derivative derivative non_negative_difference difference time_difference bottom_k top_k string_matches string_contains max_time min_time max_value min_value last_value first_value sum avg count abs sqrt log10 ln exp round floor ceil sign radians degrees atan acos asin tan cos sin false true null time timestamp int32 int64 float double boolean text"),atoms:F("dictionary diff gorilla plain regular rle ts_2diff zigzag freq gzip lz4 snappy uncompressed nan"),dateSQL:F(""),support:F("commentHash ODBCdotTable doubleQuote binaryNumber hexNumber")})});var hl=l(71707),yl=l(3585),gl=l(14504),xl=ve.Z.Search,bl=ve.Z.TextArea,mr=function(t){var r=(0,ae.YB)(),i=t.done,y=t.visible,n=t.setVisible,F=t.exportCsv,M=(0,ae.tT)("@@initialState"),p=M.initialState,T=M.setInitialState,h=v.useState(void 0),a=(0,x.Z)(h,2),C=a[0],O=a[1],L=(0,v.useState)({query1:"select * from root"}),k=(0,x.Z)(L,1),b=k[0],N=v.useState("number"),I=(0,x.Z)(N,2),D=I[0],W=I[1],z=v.useState("+08:00"),K=(0,x.Z)(z,2),te=K[0],ne=K[1],R=v.useState(!0),u=(0,x.Z)(R,2),Z=u[0],c=u[1],f=v.useState("plain"),o=(0,x.Z)(f,2),g=o[0],w=o[1],G=Se.Z.useForm(),Y=(0,x.Z)(G,1),Q=Y[0],U=(0,e.jsx)(Gt.Rt,{value:b.query1,options:{mode:"text/iotdb-sql",theme:"juejin",autofocus:!1,lineNumbers:!0,tabindex:1,extraKeys:{"Alt-/":"autocomplete","Ctrl-/":"toggleComment"},matchBrackets:!0,indentWithTabs:!0,smartIndent:!0,hintOptions:{completeSingle:!1}},onChange:function(X,le,be){le.origin!=null&&(le.removed[0].trim()!=""||le.text[0].match(/^[a-zA-Z0-9_]+$/))&&X.showHint(),b.query1=be}});return y?(0,e.jsxs)(Ve.Y,{visible:y,form:Q,title:r.formatMessage({id:"query.sql.export"}),className:Ze().standardListForm,column:2,submitter:{submitButtonProps:{style:{display:"none"}},render:function(X,le){return[].concat((0,ke.Z)(le),[(0,e.jsx)(he.Z,{type:"primary",onClick:function(){F({queryCommand:b.query1,targetFile:C,timeformat:D,timeZone:te,compress:g})},children:r.formatMessage({id:"query.sql.export"})},"export")])}},modalProps:{onCancel:function(){return n(!1)},destroyOnClose:!0,bodyStyle:i?{padding:"72px 0"}:{}},children:[(0,e.jsx)("div",{style:{marginBottom:10},children:r.formatMessage({id:"query.sql.export.sqlWithRequired"})}),(0,e.jsx)("div",{style:{marginBottom:20},children:U}),(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(Te.Z,{name:"name",label:r.formatMessage({id:"query.sql.export.backupNameWithOptional"}),placeholder:"dump",fieldProps:{value:C,onChange:function(X){O(X.target.value)}}})}),(0,e.jsx)(ue.Z,{lg:10,md:20,sm:40,children:(0,e.jsx)(jt.Z.Group,{name:"compress",label:r.formatMessage({id:"query.sql.export.compressionMode"}),radioType:"button",size:"small",options:[{label:r.formatMessage({id:"query.sql.export.compression.no"}),value:"plain"},{label:"GZIP",value:"gzip"},{label:"SNAPPY",value:"snappy"}],initialValue:g,fieldProps:{buttonStyle:"solid",onChange:function(X){w(X.target.value)}}})})]}),(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(jt.Z.Group,{name:"tf",label:r.formatMessage({id:"query.sql.export.timeFormat"}),radioType:"button",size:"small",options:[{label:r.formatMessage({id:"query.sql.export.timeFormat.number"}),value:"number"},{label:r.formatMessage({id:"query.sql.export.timeFormat.default"}),value:"default"},{label:r.formatMessage({id:"query.sql.export.timeFormat.timestamp"}),value:"yyyy-MM-dd HH:mm:ss.SSS"}],initialValue:D,fieldProps:{buttonStyle:"solid",onChange:function(X){X.target.value=="number"?c(!0):c(!1),W(X.target.value)}}})}),(0,e.jsx)(ue.Z,{lg:10,md:20,sm:40,children:(0,e.jsx)(Vt.Z,{label:r.formatMessage({id:"query.sql.export.timeZone"}),name:"zone",disabled:Z,options:[{label:"-12:00",value:"-12:00"},{label:"-11:00",value:"-11:00"},{label:"-10:00",value:"-10:00"},{label:"-09:00",value:"-09:00"},{label:"-08:00",value:"-08:00"},{label:"-07:00",value:"-07:00"},{label:"-06:00",value:"-06:00"},{label:"-05:00",value:"-05:00"},{label:"-04:00",value:"-04:00"},{label:"-03:00",value:"-03:00"},{label:"-02:00",value:"-02:00"},{label:"-01:00",value:"-01:00"},{label:"+00:00",value:"+00:00"},{label:"+01:00",value:"+01:00"},{label:"+02:00",value:"+02:00"},{label:"+03:00",value:"+03:00"},{label:"+04:00",value:"+04:00"},{label:"+05:00",value:"+05:00"},{label:"+06:00",value:"+06:00"},{label:"+07:00",value:"+07:00"},{label:"+08:00",value:"+08:00"},{label:"+09:00",value:"+09:00"},{label:"+10:00",value:"+10:00"},{label:"+11:00",value:"+11:00"},{label:"+12:00",value:"+12:00"}],initialValue:"+08:00",fieldProps:{allowClear:!1,onChange:function(X){ne(X)}}})})]})]}):null},fr=mr,Sl=l(43185),vr=l(78661),Zl=ve.Z.Search,Tl=ve.Z.TextArea,pr=function(t){var r=(0,ae.YB)(),i=t.done,y=t.visible,n=t.setVisible,F=v.useState(void 0),M=(0,x.Z)(F,2),p=M[0],T=M[1],h=v.useState("+08:00"),a=(0,x.Z)(h,2),C=a[0],O=a[1],L=v.useState("plain"),k=(0,x.Z)(L,2),b=k[0],N=k[1],I=Se.Z.useForm(),D=(0,x.Z)(I,1),W=D[0];return y?(0,e.jsx)(Ve.Y,{visible:y,form:W,title:r.formatMessage({id:"query.sql.import"}),className:Ze().standardListForm,column:2,submitter:{submitButtonProps:{style:{display:"none"}},render:function(K,te){return[].concat((0,ke.Z)(te),[(0,e.jsx)(vr.Z,{action:"/api/query/importCsv",name:"Filedata",showUploadList:!1,data:{compress:b,timeZone:C},beforeUpload:function(R){var u=R.name,Z=u.substring(u.lastIndexOf(".")),c=R.size,f=3,o=Math.ceil(c/1024/1024),g=Math.ceil(o*10);return b=="plain"&&Z!=".csv"?(re.default.error({message:r.formatMessage({id:"query.sql.import.compression.no.rule"})}),!1):b=="snappy"&&Z!=".snappy"?(re.default.error({message:r.formatMessage({id:"query.sql.import.compression.snappy.rule"})}),!1):b=="gzip"&&Z!=".gz"?(re.default.error({message:r.formatMessage({id:"query.sql.import.compression.gzip.rule"})}),!1):o>f?(re.default.error({message:r.formatMessage({id:"query.sql.import.size.rule"})+" "+f+" MB"}),!1):!0},onChange:function(R){R.file.response!=null&&(R.file.response.code!="0"||R.file.status=="error")&&re.default.error({message:R.file.response.message})},withCredentials:!0,children:(0,e.jsx)(he.Z,{type:"primary",children:r.formatMessage({id:"query.sql.import.selectFile"})},"import")},"upload")])}},modalProps:{onCancel:function(){n(!1)},destroyOnClose:!0,bodyStyle:i?{padding:"72px 0"}:{}},children:(0,e.jsxs)(Ie.Z,{gutter:16,children:[(0,e.jsx)(ue.Z,{lg:12,md:24,sm:48,children:(0,e.jsx)(jt.Z.Group,{name:"compress",label:r.formatMessage({id:"query.sql.export.compressionMode"}),radioType:"button",size:"small",options:[{label:r.formatMessage({id:"query.sql.export.compression.no"}),value:"plain"},{label:"GZIP",value:"gzip"},{label:"SNAPPY",value:"snappy"}],initialValue:b,fieldProps:{buttonStyle:"solid",onChange:function(K){N(K.target.value)}}})}),(0,e.jsx)(ue.Z,{lg:10,md:20,sm:40,children:(0,e.jsx)(Vt.Z,{label:r.formatMessage({id:"query.sql.export.timeZone"}),tooltip:r.formatMessage({id:"query.sql.export.timeZone.description"}),name:"zone",options:[{label:"-12:00",value:"-12:00"},{label:"-11:00",value:"-11:00"},{label:"-10:00",value:"-10:00"},{label:"-09:00",value:"-09:00"},{label:"-08:00",value:"-08:00"},{label:"-07:00",value:"-07:00"},{label:"-06:00",value:"-06:00"},{label:"-05:00",value:"-05:00"},{label:"-04:00",value:"-04:00"},{label:"-03:00",value:"-03:00"},{label:"-02:00",value:"-02:00"},{label:"-01:00",value:"-01:00"},{label:"+00:00",value:"+00:00"},{label:"+01:00",value:"+01:00"},{label:"+02:00",value:"+02:00"},{label:"+03:00",value:"+03:00"},{label:"+04:00",value:"+04:00"},{label:"+05:00",value:"+05:00"},{label:"+06:00",value:"+06:00"},{label:"+07:00",value:"+07:00"},{label:"+08:00",value:"+08:00"},{label:"+09:00",value:"+09:00"},{label:"+10:00",value:"+10:00"},{label:"+11:00",value:"+11:00"},{label:"+12:00",value:"+12:00"}],initialValue:"+08:00",fieldProps:{value:C,allowClear:!1,onChange:function(K){O(K)}}})})]})}):null},hr=pr,yr=l(44008),Ct=l(44586),jl=l(402),Lt=l(97272),Be=l(93224),gr=l(54549),xr=l(79508),br=l(2603),Sr=l(81296),Zr=l(19737),je;(function(s){s.INITHEIGHT="INITHEIGHT",s.RENDERTR="RENDERTR",s.RESET="RESET"})(je||(je={}));var Qt={rowHeight:0,curScrollTop:0,scrollHeight:0,tableScrollY:0};function Tr(s,t){var r=t.curScrollTop,i=t.scrollHeight,y=t.tableScrollY,n=t.rowHeight;switch(t.type){case je.RENDERTR:return i<0&&(i=0),s.scrollHeight&&y===s.tableScrollY&&(i=s.scrollHeight),s.scrollHeight&&r>s.scrollHeight&&(r=s.scrollHeight),(0,m.Z)((0,m.Z)({},s),{},{curScrollTop:r,scrollHeight:i,tableScrollY:y});case je.INITHEIGHT:return(0,m.Z)((0,m.Z)({},s),{},{rowHeight:n});case je.RESET:return(0,m.Z)((0,m.Z)({},s),{},{curScrollTop:0,scrollHeight:0});default:throw new Error}}var qt=(0,v.createContext)({dispatch:Function,renderLen:1,start:0,offsetStart:0,rowHeight:Qt.rowHeight,totalLen:0}),Mt=0,Ge=null,Cl=function(t){var r=t.children,i=_objectWithoutProperties(t,["children"]);return _jsx("td",_objectSpread(_objectSpread({},i),{},{children:_jsx("div",{children:"zxc"})}))},jr=function(t){var r=(0,v.useContext)(qt),i=r.dispatch,y=r.rowHeight,n=r.totalLen,F=t.children,M=(0,Be.Z)(t,["children"]),p=(0,v.useRef)(null);return(0,v.useEffect)(function(){var T=function(a){var C;if(a!=null&&(C=a.current)!==null&&C!==void 0&&C.offsetHeight&&!y&&n){var O,L,k=(O=a==null||(L=a.current)===null||L===void 0?void 0:L.offsetHeight)!==null&&O!==void 0?O:0;i({type:je.INITHEIGHT,rowHeight:k})}};T(p)},[p,y,n,i]),(0,e.jsx)("tr",(0,m.Z)((0,m.Z)({},M),{},{ref:p,style:{height:y||"auto",boxSizing:"border-box"},children:F}))},Cr=function(t){var r=t.children,i=(0,Be.Z)(t,["children"]),y=(0,v.useContext)(qt),n=y.renderLen,F=y.start,M=y.offsetStart,p=r[1],T=null;return Array.isArray(p)&&p.length?T=[r[0],p.slice(F,F+n).map(function(h){return Array.isArray(h)?h[0]:h})]:T=r,(0,e.jsx)("tbody",(0,m.Z)((0,m.Z)({},i),{},{style:{transform:"translateY(-".concat(M,"px)")},children:T}))},De=null,qr=function(t){var r,i,y,n,F=t.style,M=t.children,p=(0,Be.Z)(t,["style","children"]),T=(0,v.useReducer)(Tr,Qt),h=(0,x.Z)(T,2),a=h[0],C=h[1],O=(0,v.useRef)(null),L=(0,v.useState)((r=(i=M[1])===null||i===void 0||(y=i.props)===null||y===void 0||(n=y.data)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0),k=(0,x.Z)(L,2),b=k[0],N=k[1];(0,v.useEffect)(function(){var R,u,Z;if((R=M[1])!==null&&R!==void 0&&(u=R.props)!==null&&u!==void 0&&(Z=u.data)!==null&&Z!==void 0&&Z.length){var c,f,o;N((c=M[1])===null||c===void 0||(f=c.props)===null||f===void 0||(o=f.data)===null||o===void 0?void 0:o.length)}},[M]);var I=(0,v.useMemo)(function(){var R="auto";return a.rowHeight&&b&&(R=a.rowHeight*b+10),R},[a.rowHeight,b]),D=0;if(typeof Mt=="string"){var W,z;D=(W=De.current)===null||W===void 0||(z=W.parentNode)===null||z===void 0?void 0:z.offsetHeight}else D=Mt;(0,Sr.Z)(I)&&I<D&&(D=I),D<=0&&(D=0);var K=(0,v.useMemo)(function(){var R=1;if(a.rowHeight&&b&&D)if(D<=0)R=0;else{var u=(D/a.rowHeight|0)+1+2;R=u>b?b:u}return R},[a.rowHeight,b,D]),te=a.rowHeight?a.curScrollTop/a.rowHeight|0:0,ne=a.rowHeight?a.curScrollTop%a.rowHeight:0;return a.curScrollTop&&a.rowHeight&&a.curScrollTop>a.rowHeight?te>b-K?ne=0:te>1&&(te=te-1,ne+=a.rowHeight):te=0,(0,v.useEffect)(function(){var R,u,Z=(R=De)===null||R===void 0||(u=R.current)===null||u===void 0?void 0:u.parentNode;Z&&(Z.scrollTop=0),C({type:je.RESET})},[b]),(0,v.useEffect)(function(){var R,u,Z=(0,Zr.Z)(function(f){var o,g,w,G,Y,Q,U=(o=f==null||(g=f.target)===null||g===void 0?void 0:g.scrollTop)!==null&&o!==void 0?o:0,A=(w=f==null||(G=f.target)===null||G===void 0?void 0:G.scrollHeight)!==null&&w!==void 0?w:0,X=(Y=f==null||(Q=f.target)===null||Q===void 0?void 0:Q.clientHeight)!==null&&Y!==void 0?Y:0;if(U===A?Ge&&Ge():U+X===A&&Ge&&Ge(),U!==a.curScrollTop){var le=f.target.scrollHeight-D;C({type:je.RENDERTR,curScrollTop:U,scrollHeight:le,tableScrollY:D})}},60),c=(R=De)===null||R===void 0||(u=R.current)===null||u===void 0?void 0:u.parentNode;return c&&c.addEventListener("scroll",Z),function(){c==null||c.removeEventListener("scroll",Z)}},[De,a.curScrollTop,D,a.scrollHeight]),(0,e.jsx)("div",{ref:De,style:{width:"100%",position:"relative",height:I,boxSizing:"border-box",paddingTop:a.curScrollTop},children:(0,e.jsx)(qt.Provider,{value:{dispatch:C,start:te,offsetStart:ne,renderLen:K,totalLen:b,rowHeight:a.rowHeight},children:(0,e.jsx)("table",(0,m.Z)((0,m.Z)({},p),{},{ref:O,style:(0,m.Z)({width:"100%",position:"relative"},F),children:M}))})})},Mr=function(t){var r=t.columns,i=t.scroll,y=t.sticky,n=t.pagination,F=t.editingKey,M=t.setEditingKey,p=t.form,T=t.updatePoint,h=t.data,a=t.setData,C=t.active,O=t.rowKey,L=t.clearEditable,k=t.wrapTableRef,b=t.timeDisplayForm,N=function(o){return o[O]===F},I=(0,v.useState)({}),D=(0,x.Z)(I,2),W=D[0],z=D[1],K=v.useRef(null),te={ref:K},ne=function(o){var g=o.editing,w=o.dataIndex,G=o.title,Y=o.inputType,Q=o.record,U=o.index,A=o.children,X=(0,Be.Z)(o,["editing","dataIndex","title","inputType","record","index","children"]),le=Y==="number"?(0,e.jsx)(It.Z,{}):(0,e.jsx)(ve.Z,{readOnly:W[w]!=!0,addonAfter:w!=null&&w.indexOf(".")<0?null:W[w]==!0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{title:"unsave",children:(0,e.jsx)(gr.Z,{style:{color:"#fc4c2f"},onClick:function(){var be=(0,ee.Z)(E().mark(function Ce(wt){var se;return E().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:se={},se[w]=Q[w],p.setFieldsValue((0,m.Z)({},se)),W[w]=!1,z((0,m.Z)({},W));case 5:case"end":return ce.stop()}},Ce)}));return function(Ce){return be.apply(this,arguments)}}()})}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsx)("a",{title:"save",onClick:function(){var be=(0,ee.Z)(E().mark(function Ce(wt){var se,oe,ce,Ee,Le,Fe;return E().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,T(Q.Time,w,p.getFieldsValue()[w]);case 2:if(se=de.sent,W[w]=!1,z((0,m.Z)({},W)),!(se!=null&&se.message!=null)){de.next=22;break}if(se.code!="0"){de.next=18;break}return de.next=9,p.validateFields();case 9:oe=de.sent,oe[w]=se.data,p.setFieldsValue((0,m.Z)({},oe)),ce=(0,ke.Z)(h[C]),h[C]=ce,Ee=ce.findIndex(function(Ke){return Q[O]===Ke[O]}),Ee>-1&&(Le=ce[Ee],Le[w]=oe[w],h[C]=ce,a([]),a((0,m.Z)({},h))),de.next=22;break;case 18:re.default.error({message:se.message}),Fe={},Fe[w]=Q[w],p.setFieldsValue((0,m.Z)({},Fe));case 22:case"end":return de.stop()}},Ce)}));return function(Ce){return be.apply(this,arguments)}}(),children:(0,e.jsx)(xr.Z,{style:{color:"#1890ff"}})})]}):(0,e.jsx)("a",{title:"click to unlock",onClick:function(){W[w]=!0,z((0,m.Z)({},W))},children:(0,e.jsx)(br.Z,{})})});return(0,e.jsx)("td",(0,m.Z)((0,m.Z)({},X),{},{children:g?(0,e.jsx)(Se.Z.Item,{name:w,style:{margin:0},rules:[],children:le}):A}))};r.length>1&&(r[0].render=function(f,o){return(0,e.jsxs)("span",{children:[h[C][o.index-1][r[0].key],(0,e.jsx)("div",{children:"\xA0"})]})},r[1].render=function(f,o){if(r[1].key=="Time"){var g=N(o);return g?(0,e.jsxs)("span",{children:[h[C][o.index-1].Time,(0,e.jsx)("div",{children:(0,e.jsx)(Lt.Z.Link,{onClick:u,children:"finish"})})]}):(0,e.jsxs)("span",{children:[b[C]=="utc+8"?Tt()(parseInt(h[C][o.index-1].Time)).utcOffset(8).format("YYYY-MM-DD HH:mm:ss.SSS"):h[C][o.index-1].Time,(0,e.jsx)("div",{children:(0,e.jsx)(Lt.Z.Link,{onClick:function(){return R(o)},children:"edit"})})]})}else return h[C][o.index-1][r[1].key]});var R=function(){var f=(0,ee.Z)(E().mark(function o(g){var w,G;return E().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return z({}),Q.next=3,p.validateFields();case 3:w=Q.sent,G={},Object.keys(g).map(function(U,A){U!=O&&(G[U]=g[U])}),Object.keys(r).map(function(U,A){g[U]==null&&(G[U]=null)}),p.setFieldsValue((0,m.Z)({},G)),M(g[O]);case 9:case"end":return Q.stop()}},o)}));return function(g){return f.apply(this,arguments)}}(),u=function(){L()},Z=function(){var f=(0,ee.Z)(E().mark(function o(g){var w,G,Y,Q;return E().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,p.validateFields();case 3:w=A.sent,G=(0,ke.Z)(h[C]),Y=G.findIndex(function(X){return g[O]===X[O]}),Y>-1?(Q=G[Y],G.splice(Y,1,(0,m.Z)((0,m.Z)({},Q),w)),h[C]=G,a((0,m.Z)({},h))):(G.push(w),h[C]=G,a((0,m.Z)({},h))),A.next=12;break;case 9:A.prev=9,A.t0=A.catch(0),console.log("Validate Failed:",A.t0);case 12:L();case 13:case"end":return A.stop()}},o,null,[[0,9]])}));return function(g){return f.apply(this,arguments)}}(),c=r.map(function(f){return f.editable?(0,m.Z)((0,m.Z)({},f),{},{onCell:function(g){return{record:g,inputType:"text",dataIndex:f.dataIndex,title:f.title,editing:N(g)}}}):f});return(0,e.jsx)(Se.Z,{form:p,component:!1,children:(0,e.jsx)(nt.Z,{components:Ut({height:450,cell:ne,wrapTableRef:k}),bordered:!0,rowKey:O,dataSource:h[C],columns:c,rowClassName:"editable-row",scroll:i,sticky:y,pagination:n})})},Ut=function(t){return Mt=t.height,Ge=t.onReachEnd,De=t.wrapTableRef,{table:qr,body:{wrapper:Cr,row:jr,cell:t.cell}}},wr=function(t){return Mr(t)},ql=l(14855),kr=l(8010),Er=l(64338),Fr=l.n(Er),Ml=function(t){},Or=function(t){var r=t.names,i=t.data,y=t.line,n=t.resultGraphicalColumn,F=t.setResultGraphicalColumn,M=t.activeQueryTabkey,p=[],T=new Date().getTime(),h=1e3;if(i!=null&&i.length>0&&r!=null&&r.length>0){for(var a=h/i.length,C=0,O=function(N){C+=a,C>=1&&(C-=1,Object.keys(i[N]).map(function(I,D){r.indexOf(I)>=0&&p.push({date:parseInt(i[N].Time),value:parseFloat(i[N][I]),type:I})}))},L=0;L<i.length;L++)O(L);var k={data:p,padding:"auto",forceFit:!0,xField:"date",yField:"value",xAxis:{label:{formatter:function(N){return Tt()(parseInt(N)).utcOffset(8).format("YYYY-MM-DD HH:mm:ss.SSS")}}},legend:{position:"bottom"},seriesField:"type",responsive:!0,style:{height:200}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fr(),{subTitle:(0,e.jsxs)(e.Fragment,{children:[r.map(function(b){return(0,e.jsxs)("span",{children:[(0,e.jsxs)("span",{children:[" ",b," "]}),(0,e.jsxs)("span",{children:[(0,e.jsx)(Dt.Z,{style:{cursor:"pointer"},title:"remove '".concat(b,"' from graph"),onClick:function(){var I=n[M].indexOf(b);I>=0&&(n[M].splice(I,1),F((0,m.Z)({},n)))}})," "]}),(0,e.jsx)(_.Z,{type:"vertical"})]},b)}),(0,e.jsx)("br",{}),"total : ",i.length,(0,e.jsx)(_.Z,{type:"vertical"}),"sampling : ",Math.min(i.length,1e3)]})}),(0,e.jsx)(kr.x1,(0,m.Z)({},k))]})}else return null},wl=function(t){var r=t.data,i=t.line;return _jsx(MiniBar,{line:!0,data:r})},Rr=l(53667),Pr=l.n(Rr),Wt=it.Z.Option,Ir=function(){var t=(0,ae.YB)(),r=(0,ae.tT)("@@initialState"),i=r.initialState,y=r.setInitialState,n=(0,v.useState)({query1:"SHOW STORAGE GROUP"}),F=(0,x.Z)(n,2),M=F[0],p=F[1],T=(0,v.useState)("query1"),h=(0,x.Z)(T,2),a=h[0],C=h[1],O=(0,v.useRef)("query1");(0,v.useEffect)(function(){O.current=a},[a]);var L=(0,v.useState)(!1),k=(0,x.Z)(L,2),b=k[0],N=k[1],I=(0,v.useState)(!1),D=(0,x.Z)(I,2),W=D[0],z=D[1],K=(0,v.useState)(void 0),te=(0,x.Z)(K,2),ne=te[0],R=te[1],u=(0,v.useState)(!1),Z=(0,x.Z)(u,2),c=Z[0],f=Z[1],o=(0,v.useState)(!1),g=(0,x.Z)(o,2),w=g[0],G=g[1],Y=(0,v.useState)(!1),Q=(0,x.Z)(Y,2),U=Q[0],A=Q[1],X=(0,v.useState)(!1),le=(0,x.Z)(X,2),be=le[0],Ce=le[1],wt=(0,v.useState)({}),se=(0,x.Z)(wt,2),oe=se[0],ce=se[1],Ee=(0,v.useRef)([]);(0,v.useEffect)(function(){Ee.current=oe},[oe]);var Le=(0,v.useRef)(null),Fe=null,Yt=(0,e.jsx)(Gt.Rt,{value:M[a],options:(0,Ra.Z)({mode:"text/iotdb-sql",theme:"juejin",autofocus:!0,lineNumbers:!0,tabindex:1,extraKeys:{"Alt-/":"autocomplete","Cmd-/":"toggleComment","Ctrl-/":"toggleComment","Shift-Cmd-F":function(){qa()},"Shift-Ctrl-F":function(){qa()},F8:function(){Ft()}},matchBrackets:!0,readOnly:b,indentWithTabs:!0,smartIndent:!0,hintOptions:{completeSingle:!1}},"autofocus",!1),onChange:function(d,S,q){S.origin!=null&&(S.removed[0].trim()!=""||S.text[0].match(/^[a-zA-Z0-9_]+$/))&&d.showHint(),M[a]=q}}),de=(0,v.useState)({tabActiveKey:"tab1",operationKey:"query1"}),Ke=(0,x.Z)(de,2),Nr=Ke[0],Ar=Ke[1],Hr=(0,v.useState)({}),Bt=(0,x.Z)(Hr,2),ye=Bt[0],Qe=Bt[1],Oe=(0,v.useRef)([]);(0,v.useEffect)(function(){Oe.current=ye},[ye]);var $r=(0,v.useState)([]),Kt=(0,x.Z)($r,2),pe=Kt[0],Je=Kt[1],qe=(0,v.useRef)([]);(0,v.useEffect)(function(){qe.current=pe},[pe]);var zr=(0,v.useState)([]),Jt=(0,x.Z)(zr,2),ge=Jt[0],Ue=Jt[1],me=(0,v.useRef)([]);(0,v.useEffect)(function(){me.current=ge},[ge]);var Vr=(0,v.useState)([]),Xt=(0,x.Z)(Vr,2),xe=Xt[0],_t=Xt[1],Gr=(0,v.useState)([]),ea=(0,x.Z)(Gr,2),Me=ea[0],Lr=ea[1],Qr=(0,v.useState)([]),ta=(0,x.Z)(Qr,2),kt=ta[0],Ur=ta[1],Wr=(0,v.useState)([]),aa=(0,x.Z)(Wr,2),We=aa[0],Yr=aa[1],Br=(0,v.useState)([{}]),ra=(0,x.Z)(Br,2),kl=ra[0],El=ra[1],Kr=(0,v.useState)(""),na=(0,x.Z)(Kr,2),Jr=na[0],la=na[1],Xr=(0,v.useState)({}),ia=(0,x.Z)(Xr,2),Ne=ia[0],sa=ia[1],_r=(0,v.useState)([]),ua=(0,x.Z)(_r,2),Xe=ua[0],en=ua[1],tn=(0,v.useState)([]),oa=(0,x.Z)(tn,2),Ae=oa[0],_e=oa[1],Re=(0,v.useRef)([]);(0,v.useEffect)(function(){Re.current=Ae},[Ae]);var an=(0,v.useState)(void 0),ca=(0,x.Z)(an,2),rn=ca[0],da=ca[1],nn=(0,v.useState)(void 0),ma=(0,x.Z)(nn,2),ln=ma[0],sn=ma[1],un=(0,v.useState)(void 0),fa=(0,x.Z)(un,2),on=fa[0],cn=fa[1],dn=(0,v.useState)({}),va=(0,x.Z)(dn,2),mn=va[0],fn=va[1],vn=(0,v.useState)({}),pa=(0,x.Z)(vn,2),pn=pa[0],hn=pa[1],yn=(0,v.useState)(void 0),ha=(0,x.Z)(yn,2),gn=ha[0],xn=ha[1],bn=(0,v.useState)(void 0),ya=(0,x.Z)(bn,2),Sn=ya[0],Zn=ya[1],Tn=Se.Z.useForm(),jn=(0,x.Z)(Tn,1),Et=jn[0],He=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsxs)("span",{children:[t.formatMessage({id:"query.result.locate.text"})," "]}),(0,e.jsx)(It.Z,{style:{size:"small"},placeholder:"index or Time..",min:0,max:9223372036854776e3,onChange:function(d){Xe[a]=d,en((0,m.Z)({},Xe))},onPressEnter:function(){xa()},addonAfter:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:function(){xa()},children:"index "}),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.locate.or"}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){kn()},children:"Time "})]})}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsxs)(it.Z,{placeholder:t.formatMessage({id:"query.result.time.displayAs"}),style:{width:140},onChange:function(d){wn(d)},children:[(0,e.jsx)(Wt,{value:"number",children:"Number"}),(0,e.jsx)(Wt,{value:"utc+8",children:"UTC+8"})]}),(0,e.jsx)(_.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){var d=qe.current[a].map(function(S,q){if(S.rawTitle!=null)return S.rawTitle}).filter(function(S){return S!=null&&S!="index"});Cn(a,d,me.current[a])},children:t.formatMessage({id:"query.result.download"})})]}),Cn=function(d,S,q){var j={};j.fileName=d;var H=S.map(function($,$e){return 10});j.datas=[{sheetData:q,sheetName:d,sheetFilter:S,sheetHeader:S,columnWidths:H}];var J=new(Pr())(j);J.saveExcel()},qn=function(d){var S=d,q=Re.current[a].indexOf(S);q<0?Re.current[a].length>=5?Oa.default.warn(t.formatMessage({id:"query.result.visual.numberReachesLimit"})):(Re.current[a].push(S),_e((0,m.Z)({},Re.current))):(Re.current[a].splice(q,1),_e((0,m.Z)({},Re.current)))},ga=function(d){return d=="Time"||d=="Device"?d:(0,e.jsxs)(e.Fragment,{children:[d," ",(0,e.jsx)("span",{title:"Click to visualize '".concat(d,"'"),children:(0,e.jsx)(Ia.Z,{onClick:function(){qn(d)}})}),(0,e.jsx)("span",{children:" "}),(0,e.jsx)("span",{title:"Click to explore data in '".concat(d,"' "),children:(0,e.jsx)(Da.Z,{onClick:function(){Mn(d)}})})]})},Mn=function(d){Ce(!0),da(d);var S=0,q=0,j={time:null,value:null},H={time:null,value:null},J=NaN,$=NaN;me.current[a].map(function(V){if(V!=null&&V[d]!=null){S++;var fe=parseFloat(V[d]);q+=fe,(j.value==null||j.value<fe)&&(j.time=V.Time,j.value=fe),(H.value==null||H.value>fe)&&(H.time=V.Time,H.value=fe)}});var $e=(q/S).toFixed(3);if($e!=NaN){var B=0;me.current[a].map(function(V){V!=null&&V[d]!=null&&(B+=Math.pow(V[d]-$e,2))}),J=(B/S).toFixed(3),$=Math.sqrt(J).toFixed(3)}sn(S),cn($e),fn(j),hn(H),xn(J),Zn($)},wn=function(d){kt[a]=d,Ur((0,m.Z)({},kt))},xa=function(){Ne[a]=Xe[a],sa((0,m.Z)({},Ne)),ba()},kn=function(){if(qe.current[a][1].title=="Time"){var d=me.current[a].find(function(S){return S.Time>=Xe[a]});d=d==null?me.current[a][me.current[a].length-1]:d,Ne[a]=d.index,sa((0,m.Z)({},Ne)),ba()}},ba=function(){var d=Ne[a]==null?0:Ne[a];d=d<1?1:d;var S=77*(d-1);Le.current.parentNode.scrollTop=S},Sa=function(){var P=(0,ee.Z)(E().mark(function d(){var S,q,j,H,J,$;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return Oe.current[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.load.ing"})]}),He]}),S=(0,Ct.Z)().replaceAll("-",""),oe[O.current]=S,ce((0,m.Z)({},oe)),B.next=6,Wa({queryToken:We[a],tabKey:O.current,tabToken:S,umi_locale:localStorage.getItem("umi_locale")});case 6:if(q=B.sent,q.code!="0"){B.next=25;break}if(pe[a]=[],j=JSON.parse(q.message||"{}"),j.tabToken==Ee.current[j.tabKey]){B.next=13;break}return re.default.error({message:t.formatMessage({id:"query.result.expired"})}),B.abrupt("return");case 13:for(H=q.data==null?[]:q.data,J=me.current[a].length,xe[a]=J+H.length,_t((0,m.Z)({},xe)),j.hasMore?Oe.current[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"})]}),(0,e.jsx)("a",{onClick:function(){Sa()},children:t.formatMessage({id:"query.result.load.next"})}),He]}):Oe.current[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.load.done"})]}),He]}),Qe((0,m.Z)({},Oe.current)),$=0;$<H.length;$++)Object.keys(H[$]).map(function(V,fe){if(qe.current[a][V]==null){var ie={rawTitle:V,title:ga(V),editable:!0,dataIndex:V,width:200,key:V,render:function(Nn){return Nn}};qe.current[a][V]=ie,qe.current[a][qe.current[a].length]=ie}}),H[$].index=J+$+1,me.current[a][J+$]=H[$];me.current[a]=me.current[a].slice(),Je((0,m.Z)({},qe.current)),Ue((0,m.Z)({},me.current)),B.next=26;break;case 25:q.message!=null&&(Oe.current[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"}),"".concat(q.message)]}),He]}),Qe((0,m.Z)({},Oe.current)));case 26:case"end":return B.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),En=function(d,S){d.preventDefault();for(var q=tt,j=0;j<q.length;j++)if(q[j]!=null&&q[j].key=="query"+S){q[j]=null;break}q=q.filter(function(H){return H!=null}),Ta(q),Ye(),C("queryPlus"),rt("Plus"),N(!0)},et=1,Fn=(0,v.useState)([{key:"query1",tab:(0,e.jsx)("span",{onClick:function(){C("query1"),rt(1),Ye()},children:t.formatMessage({id:"query.query.text"})+"1"})},{key:"queryPlus",tab:(0,e.jsx)(Na.Z,{onClick:function(d,S){if(et==100){alert(t.formatMessage({id:"query.query.rule"}));return}et+=1;var q=tt,j=tt.length;q[j]=q[j-1],q[j-1]={key:"query"+et,tab:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{onClick:function(){C("query"+j),rt(j),Ye()},children:[t.formatMessage({id:"query.query.text"})+et," "]}),(0,e.jsx)(Pt.Z,{title:"Sure to delete?",onConfirm:function(J){En(J,j)},children:(0,e.jsx)(Dt.Z,{style:{cursor:"default"},title:"delete"})})]})},q=q.filter(function(H){return H!=null}),Ta(q),C("query"+j),rt(j)}})}]),Za=(0,x.Z)(Fn,2),tt=Za[0],Ta=Za[1],ja=he.Z.Group,at=function(){return a=="queryPlus"||b?(alert(t.formatMessage({id:"query.query.description"})),!0):!1},Ye=function(){var d={};Object.keys(Et.getFieldsValue()).map(function(S,q){d[S]=null}),Et.setFieldsValue((0,m.Z)({},d)),la("")},Ft=function(){var P=(0,ee.Z)(E().mark(function d(){var S,q,j,H,J,$;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(Ye(),!at()){B.next=3;break}return B.abrupt("return");case 3:return Ae[a]=[],_e((0,m.Z)({},Ae)),ye[a]=null,Qe((0,m.Z)({},ye)),pe[a]=[],Je((0,m.Z)({},pe)),ge[a]=[],Ue((0,m.Z)({},ge)),We[a]==null&&(S=(0,Ct.Z)().replaceAll("-",""),We[a]=S,Yr((0,m.Z)({},We))),q=M[O.current],M[O.current]=M[O.current],j=(0,Ct.Z)().replaceAll("-",""),oe[O.current]=j,ce((0,m.Z)({},oe)),B.next=20,Ua({sqls:q,queryToken:We[a],tabKey:O.current,tabToken:j,umi_locale:localStorage.getItem("umi_locale")});case 20:if(H=B.sent,H.code!="0"){B.next=36;break}if(J=JSON.parse(H.message||"{}"),J.tabToken==Ee.current[J.tabKey]){B.next=26;break}return re.default.error({message:t.formatMessage({id:"query.result.expired"})}),B.abrupt("return");case 26:$=H.data==null?[]:H.data,Me[a]=J.costMilliSecond==null?0:J.costMilliSecond,Lr((0,m.Z)({},Me)),xe[a]=$.length,_t(xe),J.hasMore?ye[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"})]}),(0,e.jsx)("a",{onClick:function(){Sa()},children:t.formatMessage({id:"query.result.load.next"})}),He]}):ye[a]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{children:["".concat(a," ")+t.formatMessage({id:"query.result.cost.text"})+" ".concat(Me[a]," ms"),(0,e.jsx)(_.Z,{type:"vertical"}),t.formatMessage({id:"query.result.return.text"})+" ".concat(xe[a]," ")+t.formatMessage({id:"query.result.return.rows"}),(0,e.jsx)(_.Z,{type:"vertical"}),"".concat($.length==0?t.formatMessage({id:"query.result.execute.done"}):t.formatMessage({id:"query.result.load.done"}))]}),(0,e.jsx)("span",{children:He})]}),Qe((0,m.Z)({},ye)),$.length==0?(pe[a]=[],Je((0,m.Z)({},pe)),ge[a]=[],Ue((0,m.Z)({},ge))):function(){for(var V=[],fe=0;fe<$.length;fe++)V.index==null&&(V.index={title:"index",editable:!1,dataIndex:"index",width:70,key:"index",fixed:"left"},V[V.length]=V.index),Object.keys($[fe]).map(function(ie,Dn){V[ie]==null&&(V[ie]={rawTitle:ie,title:ga(ie),editable:!(ie=="Time"||ie=="Device"),dataIndex:ie,width:190,key:ie,fixed:ie=="Time"||ie=="Device"?"left":!1},V[V.length]=V[ie])}),$[fe].index=fe+1;pe[a]=V,Je((0,m.Z)({},pe)),ge[a]=$.slice(),Ue((0,m.Z)({},ge))}(),B.next=39;break;case 36:ye[a]=a+" "+t.formatMessage({id:"query.result.execute.failed"}),Qe((0,m.Z)({},ye)),re.default.error({message:H.message});case 39:case"end":return B.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),Ca=function(){at()||f(!0)},qa=function(){var d=(0,yr.WU)(M[a]);M[a]="",p((0,m.Z)({},M)),M[a]=d,p((0,m.Z)({},M))},On=function(){var P=(0,ee.Z)(E().mark(function d(S,q,j){var H;return E().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!at()){$.next=2;break}return $.abrupt("return");case 2:return $.next=5,Ba({point:q,value:j,timestamp:S,umi_locale:localStorage.getItem("umi_locale")});case 5:return H=$.sent,$.abrupt("return",H);case 7:case"end":return $.stop()}},d)}));return function(S,q,j){return P.apply(this,arguments)}}(),Ma=function(){var P=(0,ee.Z)(E().mark(function d(){var S;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!at()){j.next=2;break}return j.abrupt("return");case 2:return j.next=5,$t({pageSize:10,pageNum:1,umi_locale:localStorage.getItem("umi_locale")});case 5:S=j.sent,ze.dealCallback(S,function(H){var J=0;H.data.pageItems.map(function($){$.key=J++}),R(H.data),z(!0)},re.default);case 7:case"end":return j.stop()}},d)}));return function(){return P.apply(this,arguments)}}(),Rn=function(d){if(d.queryCommand==null||d.queryCommand.trim()==""){re.default.error({message:t.formatMessage({id:"query.sql.export.required"})});return}var S="/api/query/exportCsv?sqls="+d.queryCommand+"&timeformat="+d.timeformat+"&timeZone="+d.timeZone+"&compress="+d.compress+"&targetFile="+(d.targetFile==null?"dump":d.targetFile)+"&umi_locale="+localStorage.getItem("umi_locale");ze.download2(S)},Pn=(0,e.jsx)(Va.Z.Consumer,{children:function(d){var S=d.isMobile;return S?(0,e.jsx)(v.Fragment,{children:(0,e.jsxs)(ja,{children:[(0,e.jsxs)(he.Z,{onClick:Ca,children:[(0,e.jsx)(Nt.Z,{}),t.formatMessage({id:"query.sql.script.save"})]}),(0,e.jsxs)(he.Z,{onClick:Ma,children:[(0,e.jsx)(At.Z,{}),t.formatMessage({id:"query.sql.script.view"})]}),(0,e.jsxs)(he.Z,{onClick:Ft,type:"primary",children:[(0,e.jsx)(Ht.Z,{}),t.formatMessage({id:"query.sql.execute"})]})]})}):(0,e.jsxs)(v.Fragment,{children:[(0,e.jsx)(Fa.Z,{title:(0,e.jsxs)("span",{children:[t.formatMessage({id:"query.sql.tooltip1"}),(0,e.jsx)("br",{}),t.formatMessage({id:"query.sql.tooltip2"}),(0,e.jsx)("br",{}),t.formatMessage({id:"query.sql.tooltip3"}),(0,e.jsx)("br",{}),t.formatMessage({id:"query.sql.tooltip4"})]}),children:(0,e.jsx)(Aa.Z,{})}),(0,e.jsx)("span",{children:" "}),(0,e.jsxs)(ja,{children:[(0,e.jsxs)(he.Z,{onClick:Ft,type:"primary",children:[(0,e.jsx)(Ht.Z,{}),t.formatMessage({id:"query.sql.execute"})]}),(0,e.jsxs)(he.Z,{onClick:Ca,children:[(0,e.jsx)(At.Z,{}),t.formatMessage({id:"query.sql.script.save"})]}),(0,e.jsxs)(Ea.Z.Button,{trigger:["hover"],onClick:Ma,icon:(0,e.jsx)(Ha.Z,{}),overlay:(0,e.jsxs)(lt.Z,{children:[(0,e.jsxs)(lt.Z.Item,{onClick:function(){G(!0)},children:[(0,e.jsx)($a.Z,{})," ",t.formatMessage({id:"query.sql.export"})]},"exportCsv"),(0,e.jsxs)(lt.Z.Item,{onClick:function(){A(!0)},children:[(0,e.jsx)(za.Z,{})," ",t.formatMessage({id:"query.sql.import"})]},"importCsv")]}),placement:"bottomRight",children:[(0,e.jsx)(Nt.Z,{}),t.formatMessage({id:"query.sql.script.view"})]})]})]})}}),In={},wa=In.loading;Fe={queryPlus:(0,e.jsx)(nt.Z,{pagination:!1,loading:wa,dataSource:[],columns:[],scroll:{y:450,scrollToFirstRowOnChange:!1},sticky:!1,components:Ut({height:450})})};for(var we=1;we<100;we++)Fe["query"+we]=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Or,{line:!0,data:ge["query"+we],names:Ae["query"+we],activeQueryTabkey:a,resultGraphicalColumn:Ae,setResultGraphicalColumn:_e}),(0,e.jsx)(wr,{rowKey:"index",loading:wa,columns:pe["query"+we]==null?[]:pe["query"+we],scroll:{y:450,scrollToFirstRowOnChange:!1},sticky:!1,pagination:!1,data:ge,setData:Ue,active:"query"+we,editingKey:Jr,setEditingKey:la,form:Et,clearEditable:Ye,updatePoint:On,wrapTableRef:Le,timeDisplayForm:kt})]});var rt=function(d){N(!1),Ar({tabActiveKey:"tab"+d,operationKey:"query"+d})};return(0,e.jsxs)(Ga.ZP,{title:i.activeConnectionDesc,extra:Pn,className:Ze().pageHeader,content:Yt,tabList:tt,tabActiveKey:a,children:[(0,e.jsx)("div",{className:Ze().main,children:(0,e.jsx)(La.Z,{children:(0,e.jsx)(ka.Z,{className:Ze().tabsCard,title:ye[a],bordered:!1,children:Fe[Nr.operationKey]})})}),(0,e.jsx)(lr,{visible:W,setVisible:z,content:ne,setContent:R,querySql:M,setQuerySql:p,activeQueryTabkey:a}),(0,e.jsx)(sr,{visible:c,setVisible:f,querySql:M,activeQueryTabkey:a}),(0,e.jsx)(fr,{visible:w,setVisible:G,exportCsv:Rn}),(0,e.jsx)(hr,{destroyOnClose:!0,visible:U,setVisible:A}),(0,e.jsx)(or,{destroyOnClose:!0,visible:be,setVisible:Ce,columnName:rn,setColumnName:da,quantity:ln,average:on,max:mn,min:pn,variance:gn,standardDeviation:Sn})]})},Dr=Ir}}]);
